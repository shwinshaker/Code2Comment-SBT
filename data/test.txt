<QUE>
Get current line in Sublime Text 3 plugin
<ANS>
view.substr(view.line(view.sel()[0]))
<END>
<QUE>
Checking compatible total orders given by a Python list
<ANS>
def compat5(L1, L2):
    z = zip(L1, L2)
    return not any(j1<k1 and j2>k2 for j1,j2 in z for k1,k2 in z)
<END>
<QUE>
Sort Django query result by number of matches
<ANS>
BlogPost.objects.filter(q1 | q2).annotate(blog_times=Count('id')).order_by('blog_times')
<END>
<QUE>
Parse entries that is within specified date using feedparser
<ANS>
import feedparser
d = feedparser.parse('http://www.reddit.com/r/Python/.rss')
for entry in d.entries:
  date = entry.published_parsed
  if date.tm_year == 2015 and date.tm_mon == 4 and date.tm_mday >= 15 and date.tm_mday <= 16:
    print entry.title
<END>
<QUE>
django-cms placeholder outside cms - how to get related model using the placeholder from the one model that is connected?
<ANS>
placeholders = []
for plugin in project.projectplugin_set.all():
    placeholders.append(plugin.placeholder_id)
NewsEntry.objects.filter(content__in=placeholders).distinct()
<END>
<QUE>
Getting repository information using pygithub3 for Python
<ANS>
from pygithub3 import Github

username = raw_input("Please enter a Github username: ")
password = raw_input("Please enter the account password: ")

gh = Github(login=username, password = password)

get_user = gh.users.get()

user_repos = gh.repos.list().all()

for repo in user_repos:
    print repo.language
<END>
<QUE>
Creating two lists and compare the matching
<ANS>
from random import sample

set_a = set(sample(range(0, 50), 10))
set_b = set(sample(range(0, 50), 10))

print set_a.intersection(set_b) # [3, 4]
print set_a & set_b # sugar for the same thing
<END>
<QUE>
Point in convex polygon
<ANS>
import turtle as t
polygon = [(0,0), (0,100), (100,0), (100,100)]
t.goto(0,0)
fp = None
for p in polygon:
  t.goto(p)
  if not fp: fp=p
t.goto(fp)
t.up()
t.goto(90,90)
t.write("90,90")
t.dot(10)
t.goto(50,80)
t.write("50,80")
t.dot(10)
t.done()
<END>
<QUE>
Python Matplotlib - Show Tick Marks associated to Plotted Points
<ANS>
import matplotlib.pyplot as plt
d=[2,5,10,20,30,40,50,70,100,200]
t0=[0.04,0.08,0.15,0.4,0.6,0.8,1.0,1.4,2.1,5.5]
fig, ax = plt.subplots()
plt.plot(d,t0,marker='o')
ax.set_xticks(d)
ax.set_yticks(t0)
plt.show()
<END>
<QUE>
Pythonic way to combine FOR loop and IF statement
<ANS>
gen = (x for x in xyz if x not in a)

for x in gen:
    print x
<END>
<QUE>
Trouble With Lists of Lists in Python
<ANS>
class Obj1(object):
    def __init__(self):
        self.list_of_obj2 = []
<END>
<QUE>
Showing bits of a string in python with a timer
<ANS>
sys.stdout.flush()
<END>
<QUE>
How to extend a numpy.ndarray
<ANS>
a = np.array([1,2,3])
b = np.array([4])
c = np.hstack([a,b])
<END>
<QUE>
Modifying a Django ModelForms fields
<ANS>
def make_form(exclude_user=True):
    class Form(forms.ModelForm):
        class Meta:
            model = Folder         
            exclude = ['user'] if exclude_user else None
    return Form

form_cls = make_form(request.user != folder.owner)
<END>
<QUE>
Loading c dll in python
<ANS>
PySys_SetPath("."); 
mymod = PyImport_ImportModule("your_DLL_name or Py_module_name");
<END>
<QUE>
How to execute a path in Windows from Python program?
<ANS>
import subprocess
subprocess.Popen(['C:\\Users\\Me\Desktop\\externalfileIwanttorun.exe'])
<END>
<QUE>
How to update a document using elasticsearch-py?
<ANS>
coll = Elasticsearch()
coll.update(index='stories-test',doc_type='news',id=hit.meta.id,
                body={"doc": {"stanford": 1, "parsed_sents": parsed }})
<END>
<QUE>
Extract emoticons from a text
<ANS>
import re, ahocorasick,random,time

# search N words from dict
N=3

#file from http://norvig.com/big.txt
with open("big.txt","r") as f:
    text = f.read()

words = set(re.findall('[a-z]+', text.lower())) 
search_words = random.sample([w for w in words],N)

A = ahocorasick.Automaton()
for i,w in enumerate(search_words):
    A.add_word(w, (i, w))

A.make_automaton()
#test time for ahocorasic
start = time.time()
print("ah matches",sum(1 for i in A.iter(text))) 
print("aho done in ", time.time() - start)


exp = re.compile('|'.join(search_words))
#test time for re
start = time.time()
m = exp.findall(text)
print("re matches",sum(1 for _ in m))
print("re done in ",time.time()-start)
<END>
<QUE>
Automatic loading of templates in django is not working for my app
<ANS>
INSTALLED_APPS = (
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    # 'django.contrib.sites',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'purchaseapp', #this is my app
    # Uncomment the next line to enable the admin:
    'django.contrib.admin',
    # Uncomment the next line to enable admin documentation:
    'django.contrib.admindocs',
    # Use email as username https://github.com/dabapps/django-email-as-username
     'emailusernames',
)
<END>
<QUE>
Add rows to a csvfile without creating an intermediate copy
<ANS>
import csv

def append_record_to_csv(dic, csvfile):
    with open(csvfile, 'rb') as f:
        # discover order of field names in header row
        fieldnames = next(csv.reader(f))   
    with open(csvfile, 'ab') as f:
        # assumes that dic contains only fieldnames in csv file
        dwriter = csv.DictWriter(f, fieldnames=fieldnames) 
        dwriter.writerow(dic)
<END>
<QUE>
How do I rename a filename in python
<ANS>
os.rename(os.path.join(mypath, f), os.path.join(mypath, frenamed))
<END>
<QUE>
How can I move a word within a string?
<ANS>
def reorder(s, word, delta):
  words = s.split()
  oldpos = words.index(word)
  words.insert(oldpos+delta, words.pop(oldpos))
  return ' '.join(words)

print reorder('The quick brown fox jumps over the lazy dog', 'quick', 2)
<END>
<QUE>
Creating a Dialpad Using Tkinter
<ANS>
from Tkinter import Tk, Button, RAISED
from functools import partial
root = Tk()
buttons = [['1','2','3'],
          ['4','5','6'],
          ['7','8','9'],
          ['*','0','#']]

def buttonClicked(buttonVal):
    print(buttonVal)

for r in range(4):
    for c in range(3):
        button = Button(root,
                        relief = RAISED,
                        padx = 10,
                        text = buttons[r][c],
                        command = partial(buttonClicked, buttons[r][c]))
        button.grid(row = r, column = c)

root.mainloop()
<END>
<QUE>
Extracting numpy array slice from numpy.argmax results
<ANS>
# You might need to do this to get X as an ndarray (for example if X is a list)
X = numpy.asarray(X)

# Then you can simply do
X[s, [0, 1, 2]]

# Or more generally
X_argmax = X[s, numpy.arange(X.shape[1])]
<END>
<QUE>
PyGTK set icon of window with stock image
<ANS>
windowicon = window.render_icon(gtk.STOCK_DIALOG_AUTHENTICATION, gtk.ICON_SIZE_MENU)
window.set_icon(windowicon)
<END>
<QUE>
Checking user input via raw_input method
<ANS>
def get_int_input(prompt):
    while True:
        s = raw_input(prompt)
        try:
            i = int(s)
        except ValueError:
            print "Please enter an integer."
        else:
            return i

def get_non_int_input(prompt):
    while True:
        s = raw_input(prompt)
        try:
            i = int(s)
        except ValueError:
            return s
        else:
            print "Please don't enter an integer."
<END>
<QUE>
Boto: Dynamically get aws_access_key_id and aws_secret_access_key in Python code from config?
<ANS>
import boto
access_key = boto.config.get_value('Credentials', 'aws_access_key_id')
secret_key = boto.config.get_value('Credentials', 'aws_secret_access_key')
<END>
<QUE>
Python format tabular output
<ANS>
def print_table(table):
    col_width = [max(len(x) for x in col) for col in zip(*table)]
    for line in table:
        print "| " + " | ".join("{:{}}".format(x, col_width[i])
                                for i, x in enumerate(line)) + " |"

table = [(str(x), str(f(x))) for x in mylist]
print_table(table)
<END>
<QUE>
python convert RSA key (in PEM format) to hex string
<ANS>
new_key.publickey().exportKey("DER")
<END>
<QUE>
Python regex to match string
<ANS>
def splitAppId(self, url):
        idMatch = re.search(r'/id([^/]+)\?[^/]*$', url)
        return idMatch.group(1)
<END>
<QUE>
Extract x and y values from a list
<ANS>
xs = [p[0] for p in pp]
ys = [p[1] for p in pp]
<END>
<QUE>
Subclass of ConfigParser has no attribute _sections
<ANS>
import ConfigParser

class acc(ConfigParser.RawConfigParser, object):
    def __init__(self, acc_file):
        super(acc, self).__init__()
        self.lol = 1
        print self.has_section(self.lol)

a=acc(1)
<END>
<QUE>
Python compile a script within a GUI
<ANS>
import imp
hest  = imp.load_source("Name", Path)
<END>
<QUE>
Updating a Haystack search index with Django + Celery
<ANS>
from haystack.management.commands import update_index
update_index.Command().handle()
<END>
<QUE>
How to merge and split numpy array along the axis?
<ANS>
b = a.reshape(10,48)
a = b.reshape(10,4,4,3)
<END>
<QUE>
Connector/python slow insertion with tripled quotes
<ANS>
def f():
    s = ('123'
         '456')
    return s
<END>
<QUE>
How to grab text from each xml tag when the tags have multiple duplications
<ANS>
if elem1.tag == 'Components':
    temp = 0
    for elem2 in list(elem1):
        if elem2.tag == 'Component':
            for elem3 in list(elem2):
                if elem3.tag == 'ComponentID':
                    asset['CompID'+str(temp)] = elem3.text
                if elem3.tag == 'ComponentName':
                    asset['CompName'+str(temp)] = elem3.text
                if elem3.tag == 'Description':
                    asset['Description'+str(temp)] = elem3.text
            temp+=1
<END>
<QUE>
pandas efficient way to get first filtered row for each DatetimeIndex entry
<ANS>
result = df[df.pct_change < -0.015].reindex(filtered_dates, method='bfill')
<END>
<QUE>
Get Line Number of certain phrase in file Python
<ANS>
lookup = 'the dog barked'

with open(filename) as myFile:
    for num, line in enumerate(myFile, 1):
        if lookup in line:
            print 'found at line:', num
<END>
<QUE>
django filter : can filter with tuple?
<ANS>
theModel.objects.filter(theString__in=[1,4,7])
<END>
<QUE>
Python -Switch state of turtle pen using single keypress
<ANS>
pen.isdown()
<END>
<QUE>
filter json data from Django model
<ANS>
positions = [
  tcu.position_set.order_by('-id').values('latitude','longitude')[0]   
  for tcu in request.user.tcu_set.prefetch_related('position_set')
  ]
<END>
<QUE>
Generate a table of contents from HTML with Python
<ANS>
lxml.html
<END>
<QUE>
How to resample / downsample an irregular timestamp list?
<ANS>
all_events = [
    200.0, 420.0, 560.0, 1100.0, 1900.0, 2700.0, 3400.0, 3900.0, 4234.2, 4800.0]

def get_events_by_hour(all_events):
    return [
        len([x for x in all_events if int(x/3600.0) == hour]) 
        for hour in xrange(24)
    ]

print get_events_by_hour(all_events)
<END>
<QUE>
Arrange line in front of bars in Matplotlib plot with double y axes
<ANS>
ax2 = ax1.twinx()
p1 = ax2.plot(ind, total_facilities, '--bo')
p2 = ax1.bar(ind, pdb_facilities, width, color='gray',edgecolor = "none")
plt.xlim([-1,len(total_facilities)])
ax2.set_yscale('symlog')
ax1.yaxis.tick_right()
ax2.yaxis.tick_left()
plt.show()
<END>
<QUE>
python check for duplicates by reversing strings
<ANS>
d = { k:None for k in  ('a:b','c:d','e:f','d:c','b:a','f:e') }
for k in d.keys():
    if '{}:{}'.format(k[2],k[0]) in d:
        d.pop(k)
<END>
<QUE>
Does generating a list with multiplication produce references
<ANS>
cand = [[0, 0] for _ in range(4)]
<END>
<QUE>
Create x lists in python dynamically
<ANS>
num_evens = {} 
for combination in itertools.product(*li):
    even_counter = len([ y for y in combination if y & 1 == 0 ])
    num_evens.setdefault(even_counter,[]).append(combination)

import pprint
pprint.pprint(num_evens)
<END>
<QUE>
Exposing reusable functions to deal with HTTP POST methods
<ANS>
def checkuser(request):
    if request.method == "POST":
        conn = Connection('localhost', 27017)
        db = conn['user-data']
        userTable = db["logins"]

        userToCheck = request.form['usertocheck']

        #search for user to check if it already exists
        doesExist = str(userTable.find_one({"username": userToCheck}))
        conn.close()

        if doesExist == "None":
            return "Username is available"
        elif doesExist.find("ObjectId") != -1:
            return "Username already taken."
        else:
            return "Error"


@app.route('/register/checkuser', methods=['POST'])
def func():
    return checkUser(request)
<END>
<QUE>
Django with lettuce and splinter, opens the browser but doesn't show anything
<ANS>
world.browser.find_by_id(field).fill(value)
<END>
<QUE>
Help with an if else loop in python
<ANS>
with open("c:/achip.txt", "rU") as f:
  columns = f.readline().strip().split()
  sums = [0.0] * len(columns)
  row_counts = [0] * len(columns)

  for line in f:
    line = line.strip()
    if not line:
      continue

    for col, v in enumerate(line.split()):
      if v != "NA":
        sums[col] += int(v)
        row_counts[col] += 1

with open("c:/chipdone.txt", "w") as out:
  for name, sum, rows in zip(columns, sums, row_counts):
    print >>out, name,
    if rows == 0:
      print >>out, "NA"
    else:
      print >>out, sum / rows
<END>
<QUE>
Python method arguments with spaces
<ANS>
AllocationSet(
    Alloc( name="some name", value=1.23 ),
    Alloc( name="another name", value=2.34 ),
    Alloc( name="yet another name", value=4.56 ),
)
<END>
<QUE>
Plotting values in matrix corresponding to the index in an array with Matplotlib in Python
<ANS>
import numpy as np
import matplotlib.pyplot as plt

delta_Array = np.array([0.01,0.02,0.03, 0.04, 0.05,
                        0.06,0.07, 0.08, 0.09, 0.10])
#Initialized to 0s. Actual values will be appended to matrix by function
theta_Matrix = np.random.random() * np.random.rand(delta_Array.size, 8) 

fig = plt.figure()
p1 = plt.plot(delta_Array, theta_Matrix)
# make a legend for both plots
leg = plt.legend(p1, '', loc=1)

plt.show()
<END>
<QUE>
Searching a many to many database using google datastore
<ANS>
class Gif(ndb.Model):
    author = ndb.UserProperty()
    link = ndb.StringProperty(indexed=False)
    # you store array of tag keys here you can also just make this
    # StringProperty(repeated=True)
    tag = ndb.KeyProperty(repeated=True)

    @classmethod
    def get_by_tag(cls, tag_name):
        # a query to a repeated property works the same as if it was a single value
        return cls.query(cls.tag == ndb.Key(Tag, tag_name)).fetch()

# we will put the tag_name as its key.id()
# you only really need this if you wanna keep records of your tags
# you can simply keep the tags as string too
class Tag(ndb.Model):
    gif_count = ndb.IntegerProperty(indexed=False)
<END>
<QUE>
Making simple game of Battleship
<ANS>
def main():
    intro()

    my_board = placeMyShips(emptyBoard())
    my_hit_board = emptyBoard()
    comp_board = placeCompShips(emptyBoard())
    comp_hit_board = emptyBoard()

    myMoves(comp_board, my_hit_board)
<END>
<QUE>
saving data in Bulk using Django
<ANS>
import sys, os

sys.path.append('/Path/To/Django/Projects/')
os.environ['DJANGO_SETTINGS_MODULE'] = 'myproject.settings'

from django.core.serializers import serialize
from myproject.myapp import models

model_names = [] # a list of the names of the models you want to export

for model_name in model_names:
    cls = getattr(models, model_name)
    filename = model_name.lower() + ".json"
    file = open(filename, "w")
    file.write(serialize("json", cls.objects.all()))
<END>
<QUE>
Using split by tab in Python adds a character to text which raises error in MySQL
<ANS>
query = """
    INSERT INTO user_profiles 
        (user_id, json_source, user_timestamp) 
    VALUES 
        (%s, %s, %s)
"""
cur.execute(query, (data[0], data[1].encode('utf-8'), data[2]))
<END>
<QUE>
Factorial function in Python
<ANS>
# beginner

def fac(n):
    f = 1
    i = 1
    while i <= n:
        f *= i
        i += 1
    return f

# advanced beginner

def fac(n):
    return n * fac(n - 1) if n > 1 else 1

# intermediate

def fac(n):
    return reduce(lambda x, y: x * y, range(1, n + 1))

# advanced intermediate

import operator
def fac(n):
    return reduce(operator.mul, xrange(1, n + 1))

# professional

import math
print math.factorial(5)

# guru

import scipy.misc as sc
print sc.factorial(5, exact=True)
<END>
<QUE>
How to set a timeout for gurobi using python
<ANS>
m = gurobipy.model()
m.setParam('TimeLimit', 5*60)
<END>
<QUE>
In python, how do you import all classes from another module without keeping the imported module's namespace?
<ANS>
from legacy_module import *
<END>
<QUE>
Remove number of bytes from beginning of file
<ANS>
f = open('filename.ext', 'rb')
f.seek(255) # skip the first 255 bytes
rest = f.read() # read rest
<END>
<QUE>
Spark two RDD join issue
<ANS>
(moviesRDD
    .join(ratingsRDD) # Join by key
    .values() # Extract values
    .map(lambda x: (x[1][0], x[0], x[1][1]))) # Reshape
<END>
<QUE>
Accessing Data from .mat (version 8.1) structure in Python
<ANS>
alldata = impdat.root.data
datastruct = {}
for names in impdat.rood.data.__members___:
    datastruct[names] = eval('alldata.' + names + '[0][:]')
<END>
<QUE>
showing progress while spawning and running subprocess
<ANS>
import threading
import subprocess

class RepeatingTimer(threading._Timer):
    def run(self):
        while True:
            self.finished.wait(self.interval)
            if self.finished.is_set():
                return
            else:
                self.function(*self.args, **self.kwargs)


def status():
    print "I'm alive"
timer = RepeatingTimer(1.0, status)
timer.daemon = True # Allows program to exit if only the thread is alive
timer.start()

proc = subprocess.Popen([ '/bin/sleep', "5" ])
proc.wait()

timer.cancel()
<END>
<QUE>
Extract image links from the webpage using Python
<ANS>
import urllib, re

source = urllib.urlopen('http://www.cbssports.com/nba/draft/mock-draft').read()

## every image name is an abbreviation composed by capital letters, so...
for link in re.findall('http://sports.cbsimg.net/images/nba/logos/30x30/[A-Z]*.png', source):
    print link


    ## the code above just prints the link;
    ## if you want to actually download, set the flag below to True

    actually_download = False
    if actually_download:
        filename = link.split('/')[-1]
        urllib.urlretrieve(link, filename)
<END>
<QUE>
can I make X-server to notify me only when cursor exactly where I need?
<ANS>
notify-osd
<END>
<QUE>
Python: counting specific words in file of corpus
<ANS>
for file, n in num.iteritems():
    print file, n
<END>
<QUE>
Python several variables/functions resutl same line
<ANS>
now  = time.strftime("%X")
peer = socket.getpeername()
print("{} - {}".format(now, peer))
<END>
<QUE>
Sending bytes via UDP packets without further conversion
<ANS>
sendPacket('\x5f\x00\x00\x00\x01\x00\x07\x01\xcc\x00\x00\x00\x1f\x8b')
<END>
<QUE>
How to check if a template exists in Django?
<ANS>
django.template.loader.get_template(template_name)
<END>
<QUE>
Using python with selenium to scrape dynamic web pages
<ANS>
#!/usr/bin/env python
from contextlib import closing
from selenium.webdriver import Firefox # pip install selenium

url = "http://example.com"

# use firefox to get page with javascript generated content
with closing(Firefox()) as browser:
    n = 1
    while n < 10:
        browser.get(url) # load page
        link = browser.find_element_by_link_text(str(n))
        while link:
           browser.get(link.get_attribute("href")) # get individual 1,2,3,4 pages
           #### save(browser.page_source)
           browser.back() # return to page that has 1,2,3,next -like links
           n += 1
           link = browser.find_element_by_link_text(str(n))

        link = browser.find_element_by_link_text("next")
        if not link: break
        url = link.get_attribute("href")
<END>
<QUE>
Return a list of dictionaries that match the corresponding list of values in python
<ANS>
data = [
    {'name':'John', 'color':'red'},
    {'name':'Bob', 'color':'green'},
    {'name':'Tom', 'color':'blue'}
]
colors = ['blue', 'red', 'green']
result = []

for c in colors:
    result.extend([d for d in data if d['color'] == c])

print result
<END>
<QUE>
How to make PyQt window state to maximised in pyqt
<ANS>
self.showMaximized()
<END>
<QUE>
How to delete rects/sprites with python and pygame
<ANS>
if self.ammo and player_rect.colliderect(self.ammo.rect):
        self.ammo_amount += 50
        self.all_sprites_list.remove(self.ammo)
        self.ammo = None
<END>
<QUE>
Count frequence, how to take two word each time?
<ANS>
bigrams = [word_list[i] + " " + wordlist[i+1] for i in range(len(wordlist)-1)]
<END>
<QUE>
Python POST data using mod_wsgi
<ANS>
from pprint import pformat

def application(environ, start_response):
    # show the environment:
    output = ['<pre>']
    output.append(pformat(environ))
    output.append('</pre>')

    #create a simple form:
    output.append('<form method="post">')
    output.append('<input type="text" name="test">')
    output.append('<input type="submit">')
    output.append('</form>')

    if environ['REQUEST_METHOD'] == 'POST':
        # show form data as received by POST:
        output.append('<h1>FORM DATA</h1>')
        output.append(pformat(environ['wsgi.input'].read()))

    # send results
    output_len = sum(len(line) for line in output)
    start_response('200 OK', [('Content-type', 'text/html'),
                              ('Content-Length', str(output_len))])
    return output
<END>
<QUE>
find all the linked IDs in a text file with each row has two IDs that are linked
<ANS>
ld = {} # basic dictionary
# now open & read file
with open('linked_id.txt') as fin:
    for ln in fin: # process each line in the file
        k, v = ln.split() # split each line eg. k = 'ID1', v = 'ID2'
        # make a dictionary entry - setdefault puts the k(ey) in and
        # in this case set the value to a list, append then adds to 
        # the list by k(ey)
        ld.setdefault(k, []).append(v) 

unq = [] # start an empty list
for k, v in ld.items(): # process the dictionary elements
    v.append(k)  # make the value list include the key
    ll = sorted(v)  # sort the new list
    if not ll in unq: # see if its in the unq (unique) list
        unq.append(ll) # if not add it

print(unq)  # show the unique sets
<END>
<QUE>
assign names to elements of unknown size list in python
<ANS>
from operator import itemgetter
from string import ascii_uppercase

data = [19, 14, 36]

labelled = zip(data, ascii_uppercase) # [(19, 'A'), (14, 'B'), (36, 'C')]

sorted_data = sorted(labelled, 
                     key=itemgetter(0)) # [(14, 'B'), (19, 'A'), (36, 'C')]

labels = [pair[1] for pair in sorted_data] # ['B', 'A', 'C']
<END>
<QUE>
How can I get dict from sqlite query?
<ANS>
import sqlite3

def dict_factory(cursor, row):
    d = {}
    for idx, col in enumerate(cursor.description):
        d[col[0]] = row[idx]
    return d

con = sqlite3.connect(":memory:")
con.row_factory = dict_factory
cur = con.cursor()
cur.execute("select 1 as a")
print cur.fetchone()["a"]
<END>
<QUE>
i want to open n number of integer in one row in Python
<ANS>
count = input("How many numbers do you want to input?")
numbers = [float(num) for num in raw_input("Input numbers, please...").split()]
if count != len(numbers):
  raise SystemExit("You lied to me!")
<END>
<QUE>
KML parsing child elements using django
<ANS>
for pm in root.Document.Placemark:
    point = [p for p in pm.getchildren() if p.tag.endswith('Point')]
    if point:
        coords = point[0].coordinates.text
    else:
        poly = [p for p in pm.getchildren() if p.tag.endswith('Polygon')]
        if poly:
            coords = poly[0].outerBoundaryIs.LinearRing.coordinates.text
    print pm.name, coords
<END>
<QUE>
Print latex-formula with python
<ANS>
import matplotlib.pyplot as plt
a = '\\frac{a}{b}'  #notice escaped slash
plt.plot()
plt.text(0.5, 0.5,'$%s$'%a)
plt.show()
<END>
<QUE>
What do I need to import to gain access to my models?
<ANS>
import os
os.environ["DJANGO_SETTINGS_MODULE"] = "mysite.settings"

from mysite.polls.models import Poll, Choice
<END>
<QUE>
Send Email to multiple recipients from .txt file with Python smtplib
<ANS>
urlFile = open("mailList.txt", "r+")
mailList = [i.strip() for i in urlFile.readlines()]
<END>
<QUE>
Python: Sort a list according to two attributes
<ANS>
def custom_sort(population):
    pop_dict = { ind.ID: ind for ind in population }

    start = []
    nones = []
    end = []
    for ind in population:
        if ind.mate is None:
            nones.append(ind)
        elif pop_dict[ind.mate] not in start:
            start.insert(0, ind)
            end.append(pop_dict[ind.mate])
    return start + nones + end
<END>
<QUE>
labeling, numbering loop elements + summing them up
<ANS>
import math
from decimal import Decimal

def s(x):
    return (Decimal(0.298**k))/ Decimal(math.factorial(k))

prevSK = 0
sum=0
valueList = {}
for k in (range(0,501)):

    try:
        a = (round(s(k),5))
        r = (round(s(k)/prevSK,5))
        print "a{n}: {a}".format(n=k, a=a)
        print "r{n}: {r}".format(n=k, r=r)
        valueList[k] = {"a{n}".format(n=k) : a, "r{n}".format(n=k) : r}
        prevSK = s(k)
        summa = sum=sum+a
    except Exception, e:
        print e
        prevSK = (Decimal(s(k),))

    continue

print "The sum is:", summa
<END>
<QUE>
Format a string with a space between every two digits
<ANS>
s = "534349511"
print ' '.join([s[i:i+2] for i in range(0,len(s),2)])
<END>
<QUE>
django-admin-bootstrapped messing with DateField, TimeField and PointField
<ANS>
DAB_FIELD_RENDERER = 'django_admin_bootstrapped.renderers.BootstrapFieldRenderer'
<END>
<QUE>
Python sorting a file by frequency
<ANS>
sortedfreqlist = sorted(freqlist, key=lambda item: int(item[1]), reverse=True)
<END>
<QUE>
add content to existing docx with python-docx
<ANS>
python-docx
<END>
<QUE>
Check if a string is a possible abbrevation for a name
<ANS>
tests=(
    ('fck','fc kopenhavn',True),
    ('fco','fc kopenhavn',False),
    ('irl','in real life',True),
    ('irnl','in real life',False),    
    ('ifk','ifk gotebork',True),   
    ('ifko','ifk gotebork',False),    
    ('aik','allmanna idrottskluben',True),
    ('aid','allmanna idrottskluben',True),
    ('manu','manchester united',True), 
    ('fz','faz zoo',True), 
    ('fzz','faz zoo',True),
    ('fzzz','faz zoo',False),    
    )

def is_abbrev(abbrev, text):
    abbrev=abbrev.lower()
    text=text.lower()
    words=text.split()
    if not abbrev:
        return True
    if abbrev and not text:
        return False
    if abbrev[0]!=text[0]:
        return False
    else:
        return (is_abbrev(abbrev[1:],' '.join(words[1:])) or
                any(is_abbrev(abbrev[1:],text[i+1:])
                    for i in range(len(words[0]))))

for abbrev,text,answer in tests:
    result=is_abbrev(abbrev,text)
    print(abbrev,text,result,answer)
    assert result==answer
<END>
<QUE>
String formatting named parameters?
<ANS>
print '<a href="%(url)s">%(url)s</a>' % {'url': my_url}
<END>
<QUE>
Routing Cherrypy web apps(fail to road resource)
<ANS>
mapper.connect('st','/st/submit_data',controller=storm, action='submit_data')
<END>
<QUE>
A trailing zero appears inconsistently on my DecimalField
<ANS>
class NonscientificDecimalField(DecimalField):
    """ Prevents values from being displayed with E notation, with trailing 0's
        after the decimal place  truncated. (This causes precision to be lost in
        many cases, but is more user friendly and consistent for non-scientist
        users)
    """
    def value_from_object(self, obj):
        def remove_exponent(val):
            """Remove exponent and trailing zeros.
               >>> remove_exponent(Decimal('5E+3'))
               Decimal('5000')
            """
            context = decimal.Context(prec=self.max_digits)
            return val.quantize(decimal.Decimal(1), context=context) if val == val.to_integral() else val.normalize(context)

        val = super(NonscientificDecimalField, self).value_from_object(obj)
        if isinstance(val, decimal.Decimal):
            return remove_exponent(val)
<END>
<QUE>
upload files using a number associated with each file instead of the name of the file
<ANS>
import os

def upload(file_name_number,files_dict): 

    filename = int(raw_input(file_name_number))
    #as the key to dictionary is integer
    if filename in files_dict:
        # upload code here
        print "dummy"
    else:
        print "The selected number does not exist in current directory."
        upload(file_name_number,files_dict)#why are you calling this again
    return filename

def create():
    files_dict = showListAndSaveDict()
    firstFile  = upload("Select the number of first file:",files_dict)
    secondFile = upload("Select the number of second file:",files_dict)
    thirdFile  = upload("Select the number of third file:",files_dict)

def showListAndSaveDict():
    files = [f for f in os.listdir('.') if os.path.isfile(f)]
    files_dict = {}
    i=0
    for f in files:
        i = i+1
        print (str(i) + " - " + f)  
        files_dict[i] = f
    return files_dict

create()
<END>
<QUE>
Unable to put a variable in Python's print
<ANS>
year=['51-52', '53', '55' , '56' , '58', '59', '60', '61']
photo=[[70,72,73], [64,65,68],[79,80,81,82],[74,77,78],[60,61,62],[84,85,87],[57,58,59],[53,54,55,56]]

for i in range(len(year)):
   for j in range(len(photo[i])):
       print '<img src=\"http://files.getdropbox.com/u/100000/Akuja/%s/P10104%s.JPG>' % (year[i], photo[i][j])
<END>
<QUE>
Get amplitude range from input device using PortAudio / PyAudio
<ANS>
pyaudio.paInt16
<END>
<QUE>
Stop New Relic / Celery From Polluting Logs on Heroku
<ANS>
import logging
class RequestsConnectionFilter(logging.Filter):
    def filter(self, record):
        return False
logging.getLogger('newrelic.lib.requests.packages.urllib3.connectionpool').addFilter(RequestsConnectionFilter())
<END>
<QUE>
Turn off a warning in sqlalchemy
<ANS>
import warnings
from sqlalchemy import exc as sa_exc

with warnings.catch_warnings():
    warnings.simplefilter("ignore", category=sa_exc.SAWarning)
    # code here...
<END>
<QUE>
How I can make same results on cx_Oracle and Sql * Plus?
<ANS>
import cx_Oracle

dsn_tns = cx_Oracle.makedsn('my_ip_address_server_next_port', 0000, 'sid')
db = cx_Oracle.connect('user', 'password', dsn_tns)
curs = db.cursor()
curs.callproc("dbms_output.enable")

curs.callproc('where.my_package.ger_result', ['something',])

statusVar = curs.var(cx_Oracle.NUMBER)
lineVar = curs.var(cx_Oracle.STRING)
while True:
  curs.callproc("dbms_output.get_line", (lineVar, statusVar))
  if statusVar.getvalue() != 0:
    break
  print lineVar.getvalue()
<END>
<QUE>
Pygame set window on top without changing it's position
<ANS>
#!/usr/bin/python
# -*- coding: utf-8 -*-


from ctypes import windll, Structure, c_long, byref #windows only


class RECT(Structure):
    _fields_ = [
    ('left',    c_long),
    ('top',     c_long),
    ('right',   c_long),
    ('bottom',  c_long),
    ]
    def width(self):  return self.right  - self.left
    def height(self): return self.bottom - self.top


def onTop(window):
    SetWindowPos = windll.user32.SetWindowPos
    GetWindowRect = windll.user32.GetWindowRect
    rc = RECT()
    GetWindowRect(window, byref(rc))
    SetWindowPos(window, -1, rc.left, rc.top, 0, 0, 0x0001)
<END>
<QUE>
Django: Passing a queryset to another view with HttpResponseRedirect
<ANS>
def export(modeladmin, request, queryset):
    """
    not sure if this will work
    """
    request.session['export_querset'] = queryset

    """
    if above does not work then just set this and check for it in view and u can make the queryset again if this is set 
    """
    request.session['export_querset'] = 1
    return HttpResponseRedirect("/export/")
<END>
<QUE>
Python Django rest framework Post Get Serializer
<ANS>
chargeTypeName = models.CharField(max_length=6, blank=True)
<END>
<QUE>
How to I disable and re-enable console logging in Python?
<ANS>
logger = logging.getLogger('my-logger')
logger.propagate = False
# now if you use logger it will not log to console.
<END>
<QUE>
create background process with Python's Popen
<ANS>
subprocess.Popen(['ping www.google.com > /dev/null &'], shell=True, preexec_fn=os.setsid)
<END>
<QUE>
Parse GET requests in Apache log by arguments
<ANS>
re_str = r"\?engine=(?P<eng>[\w-]*?)&query=(?P<query>[=\d\+\w-]*?)&subegine=(?P<sub>\w*)\s"
reg = re.compile(re_str)
for line in file:
  m = reg.search(line)
  print "Engine", m.group("eng")
  print "Query", m.group("query")
  print "Sub", m.group("sub")
<END>
<QUE>
Print Successive Numbers That Appear Twice?
<ANS>
items = ['Item'] * 6
for i, item in enumerate(items, start=1):
    number = (i + 1) / 2
    print('{} {}'.format(number, item))
<END>
<QUE>
Run server and client in the same file - python
<ANS>
service.start()
worker_1.start()
worker_1.join()
service.terminate()
<END>
<QUE>
How can I filter objects by how many objects reference them?
<ANS>
from django.db.models import Count
Article.objects.annotate(num_comments=Count('comment')).filter(num_comments__gt=10)
<END>
<QUE>
Getting error from mailsnake when trying to set groupings
<ANS>
ms.listSubscribe(
    id=settings.MAILCHIMP_NEWSLETTER_LIST_ID,
    email_address=self.user.email,
    merge_vars={'FNAME': self.user.first_name,
        'LNAME': self.user.last_name,
        'GROUPINGS': [
            {'id': 9917,
            'groups': 'food service operator',},]},
    double_optin=False,
    update_existing=True,
)
<END>
<QUE>
Extract external contour or silhouette of image in Python
<ANS>
contour(im, levels=[245], colors='black', origin='image')
<END>
<QUE>
How to scrape a web-site filling out forms and 'clicking' on links with R?
<ANS>
import sys
import selenium
from selenium import webdriver
from selenium.webdriver.common.keys import Keys   

driver = webdriver.Firefox()
driver.get("http://website.aspx")    

elem = driver.find_element_by_id("ctl00_ctl00")
elem.send_keys( '15' )
elem.send_keys( Keys.RETURN )
<END>
<QUE>
how to switch from posix to windows with cygwin
<ANS>
cygpath -w
<END>
<QUE>
Tuple with missing value
<ANS>
class StringError(Exception):
    NO_E = 0
    HAS_Z = 1

def string_checker(string):
    if 'e' not in string:
        raise StringError('e not found in string', StringError.NO_E)
    if 'z' in string:
        raise StringError('z not allowed in string', StringError.HAS_Z)
    return string.upper()

s = 'testing'
try:
    ret = string_checker(s)
    print 'String was okay:', ret
except StringError as e:
    print 'String not okay with an error code of', e.args[1]
<END>
<QUE>
Python- Remove all words that contain other words in a list
<ANS>
#Important assumption here... wordlist is sorted

base=wordlist[0]                      #consider the first word in the list
for word in wordlist:                 #loop through the entire list checking if
    if not word.startswith(base):     # the word we're considering starts with the base
        print base                    #If not... we have a new base, print the current
        base=word                     #  one and move to this new one
    #else word starts with base
        #don't output word, and go on to the next item in the list
print base                            #finish by printing the last base
<END>
<QUE>
how to unique large text file content
<ANS>
with open('text.txt') as text:
    with open('unique.txt', 'w') as output:
        seen = set()
        for line in text:
            line_hash = hash(line)
            if line_hash not in seen:
                output.write(line)
                seen.add(line_hash)
<END>
<QUE>
Screen Capture with OpenCV and Python-2.7
<ANS>
import numpy as np
import ImageGrab
import cv2

while(True):
    printscreen_pil =  ImageGrab.grab()
    printscreen_numpy =   np.array(printscreen_pil.getdata(),dtype=uint8)\
    .reshape((printscreen_pil.size[1],printscreen_pil.size[0],3)) 
    cv2.imshow('window',printscreen_numpy)
    if cv2.waitKey(25) & 0xFF == ord('q'):
        cv2.destroyAllWindows()
        break
<END>
<QUE>
App Engine Dev Server datastore not updating fast enough?
<ANS>
import webapp2
from google.appengine.ext import ndb

def parent_key():
    return ndb.Key('My','Entities')

class SmallModel(ndb.Model):
    n = ndb.IntegerProperty(required=True)
    stamp = ndb.DateTimeProperty(auto_now_add=True)

class MainHandler(webapp2.RequestHandler):
    def get(self):
        self.response.write('Hello world. Simple form. <form method="post"><input name="n" type="number"><input type="submit"></form>')
    def post(self):
        entity = SmallModel(parent=parent_key(),n=int(self.request.get('n')))
        entity.put()
        self.redirect('/list')

class List(webapp2.RequestHandler):
    def get(self):
        self.response.out.write("here's a list:")
        entities = SmallModel.query(ancestor=parent_key())
        for entity in entities.iter():
            self.response.out.write(" %s " % entity.n)
        self.response.out.write("...end list.")

app = webapp2.WSGIApplication([
    ('/', MainHandler),
    ('/list',List)
], debug=True)
<END>
<QUE>
Need to read from long running os command with Python 2.4
<ANS>
import subprocess
p = subprocess.Popen("some_long_command",stdout=subprocess.PIPE)
for line in iter(p.stdout.readline, ""):
    print line
<END>
<QUE>
Python subprocess issue on Windows
<ANS>
shell=True
<END>
<QUE>
Using fileinput (Python) for a search-and-replace while also sending messages to console
<ANS>
import sys

for line in fileinput.input(file_full_path, inplace=True):
    newline, count = re.subn(search_str, replace_str, line.rstrip())
    sys.stderr.write("your message here")
    print newline
<END>
<QUE>
Join a group of python processes with a timeout
<ANS>
time_waited = 0
then = time.time()
for p in processes:
    if time_waited >= DURATION:
        p.join(0)
        p.terminate()
    p.join(DURATION - time_waited)
    time_waited = time.time() - then
<END>
<QUE>
Python tkinter change 'open' in the title bar
<ANS>
import tkFileDialog

old_file = tkFileDialog.askopenfilename(filetypes=[('.csvfiles', '.csv')],
                                        title='Old file selected first')
<END>
<QUE>
finding edges in networkx that meet a certain criteria
<ANS>
import networkx as nx

G = nx.Graph()
G.add_node(1,color='red')
G.add_node(2,color='red')
G.add_node(3,color='blue')
G.add_node(4,color='blue')

G.add_edges_from([(1,2),(1,3),(3,4)])

for (u,v) in G.edges_iter():
    if G.node[u]['color'] != G.node[v]['color']:
        print u,v
<END>
<QUE>
Creating a numbered menu list from a database fetch - Python
<ANS>
for k, i in enumerate(row):
    print(str(k+1) + "." + "".join(i))
<END>
<QUE>
Add new "plugin" to Flask app in runtime
<ANS>
app.register_blueprint(imported_plugin.plugin_handler, url_prefix=imported_config.FOO)
<END>
<QUE>
how to get the list of dirs from a path that is provided as input, in Python using os.walk
<ANS>
os.walk("path").next()[1]
<END>
<QUE>
How to add a string (title) at the end of the url with Django?
<ANS>
url(r'^guideline/(?P<id>\d+)/(?P<slug>[-\w]+)/$', perma_post, name="cv_perma")
<END>
<QUE>
Standard method for returning all elements generated by a generator or iterator
<ANS>
list(the_iterator)
<END>
<QUE>
xml parsing in python using ElementTree
<ANS>
import BeautifulSoup
from BeautifulSoup import BeautifulSoup

soup = BeautifulSoup(totstring)

body = soup.find("body")

bodytext = body.text
<END>
<QUE>
Plot a 3d surface from a 'list of lists' using matplotlib
<ANS>
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D


data = np.array(data)
length = data.shape[0]
width = data.shape[1]
x, y = np.meshgrid(np.arange(length), np.arange(width))

fig = plt.figure()
ax = fig.add_subplot(1,1,1, projection='3d')
ax.plot_surface(x, y, data)
plt.show()
<END>
<QUE>
How to authenticate if a user "owns" a model instance
<ANS>
team_member = Team.objects.get(id=team_member_id)
if team_member.site.id == request.user.site_set.all().first().id:
   print "same site"
else:
   print "different site"
<END>
<QUE>
How can I keep an object selected in the outliner after physically deselecting it in the 3d view?
<ANS>
import maya.cmds as mc

Xsl = (mc.ls (sl=1, sn=1))[0]

def toastFUNC (arg=0):
    mc.animCurveEditor (curveEditor, e=1, lck=1)

mc.window(w=500)
mc.paneLayout( configuration='vertical2', swp=1, ps=[2, 70, 0] )    
mc.frameLayout(w=150, h=100, lv=0)

mc.outlinerEditor(mlc='modelList', slc='modelList', showReferenceNodes=0, showReferenceMembers=0,    showAttributes=1, showSelected=0, highlightActive=1, showAnimCurvesOnly=0, autoExpand=1,
showConnected=1, showDagOnly=0, ignoreDagHierarchy=1, expandConnections=0, showCompounds=0,   showNumericAttrsOnly=0,
autoSelectNewObjects=0, doNotSelectNewObjects=1, transmitFilters=0, showSetMembers=1,    setFilter='defaultSetFilter', lck=1, sec=toastFUNC)

mc.setParent('..')

mc.frameLayout(w=1, h=100, lv=0)
curveEditor = mc.animCurveEditor(mlc='modelList', slc='modelList', dak=1, di=0, dat='off', lck=1)
mc.setParent('..')
mc.showWindow()
<END>
<QUE>
How to Parsing JSON With Python in relationship
<ANS>
d = {
    "data": {
        "id": 2,
        "name": "My TEST",
        "image": "1.jpg",
        "article": [
            {
                "id": 1,
                "name": "TEST"
            }
        ]
    }
}


myitems=[{
    'title': d["data"]['name'],
    'image': d["data"]['image'],
    'article_id': d["data"]['article'][0]['id']
}]
print myitems
[{'image': '1.jpg', 'article_id': 1, 'title': 'My TEST'}]
<END>
<QUE>
white spaces in url
<ANS>
import urllib.parse, urllib.request

params = { "SendXML": "<company><User><Username>username</Username><Password>passweord</Password></User><Content Type=sms>.." }
url_string = "http://api.company.com/SendMessageXml.ashx?%s" % (urllib.parse.urlencode(params))
s = ""
with urllib.request.urlopen(url_string) as url:
    s = url.read()

print s
<END>
<QUE>
Django Queryset for date
<ANS>
from datetime import datetime, timedelta
Example.objects.filter(date_created__lte=datetime.utcnow() - 
                          timedelta(days=6*30)).delete()
<END>
<QUE>
How to create zip of a specific folder using shutil
<ANS>
import os, shutil

#Get the list of all folders present within the particular directory
folder_list = os.walk('.').next()[1]

#Start zipping the folders
for each_folder in folder_list:
    shutil.make_archive(each_folder, 'zip', os.getcwd() + "\\" + each_folder)
<END>
<QUE>
Python 3.4 help - using slicing to replace characters in a string
<ANS>
def f(s):
    for x in range(len(s)):
        if s[x] == 'o':
            s = s[:x]+'e'+s[x+1:]
    return s
<END>
<QUE>
How do I dynamically import a module in App Engine?
<ANS>
__import__('cmds.' + command_name)
<END>
<QUE>
tkinter: How do I fix my window so that the window doesn't resize when my content resizes?
<ANS>
root.geometry('200x200')
root.mainloop()
<END>
<QUE>
How to split a string on whitespace and retain offsets and lengths of words
<ANS>
def using_split2(line, _len=len):
    words = line.split()
    index = line.index
    offsets = []
    append = offsets.append
    running_offset = 0
    for word in words:
        word_offset = index(word, running_offset)
        word_len = _len(word)
        running_offset = word_offset + word_len
        append((word, word_offset, running_offset - 1))
    return offsets
<END>
<QUE>
Get request object in a db model?
<ANS>
req = google.appengine.ext.webapp.Request(dict(os.environ))
<END>
<QUE>
Similarity score of two lists with strings
<ANS>
#!/usr/bin/env python
query = ["football", "basketball", "martial arts", "baseball"]
lists = [["apple", "football", "basketball court"], ["ball"], ["martial-arts", "baseball", "banana", "food", "doctor"]]
from random import random

def fake_levenshtein(word1, word2):
    return random()

def avg_list(l):
        return reduce(lambda x, y: x + y, l) / len(l)

for l in lists:
    score = []
    for w1 in l:
        for w2 in query:
            score.append(fake_levenshtein(w1, w2))
    print avg_list(score)
<END>
<QUE>
Return all possible combinations when selecting a single item from multiple bins, with an IF condition
<ANS>
import itertools

bin1 = [1,2]
bin2 = [3,4]
bin3 = [5,6]

print [[bin1[0],y] for y in bin3] + [[bin1[1],y] for y in bin2]
<END>
<QUE>
Storing a list of data from multiple files in array
<ANS>
import glob
import os

filelog_ext=".log" #log extension
array = []

for filename in glob.iglob(os.path.join(path, filelog_ext)):
    with open(filename) as f:
        array.extend(f)
<END>
<QUE>
How can I loop and change the elements of a list with the elements of another list that has a diferent range?
<ANS>
QOUT=[1.0, 3.0, 1.0, 2.0]
QIN=[2.0, 3.0, 5.0, 2.0]
TIN=[10.0,12.0,13.0, 12.0]

V=[2.0, 4.0, 5.0]

T=[10.0, 11.0, 12.0]

for q_in, q_out in zip(QIN, QOUT):
    C = [v + q_in - q_out for v in V]    
    print C

    lineNum=0         
    for t1 in range(len(TIN)):
        Tx=[]
        for c in range(len(C)): 
            for i in range(len(T)):   
                Tx.append((T[i]*C[c]+TIN[t1]*QIN[lineNum])/(C[c]+QIN[lineNum]))
        lineNum +=1
        print Tx
<END>
<QUE>
Numpy advanced indexing on a matrix given a condition
<ANS>
n[n[:,0] > 0, :]
<END>
<QUE>
How To Deal With Un-Format Json Data In Python?
<ANS>
import re

a_pattern = re.compile("query\:(.+?)\,")
re.findall(a_pattern, 'query:text_you_want_to_extract,')
<END>
<QUE>
Is there a way to concatenate separated string values in a .txt file using Python?
<ANS>
with open(filename) as f:
   lines=f.readlines()

d=dict()
for line in lines:
  line=line.strip()
  if line:
     (k,v)=line.split(":", 1)
     d[k]=v

print("%s: %s" % (d['Package'], d['Version']))
<END>
<QUE>
Plotting date in Pandas independent of year
<ANS>
import numpy as np
import pandas as pd

### create sample data
date = pd.date_range("2010-01-01", periods=365*3)
date = pd.Index(np.random.choice(date, 30000))
order_id = np.random.randint(10, 1000, size=30000)

df = pd.DataFrame({"date":date, "order_id":order_id})

### group by year and date
date = pd.Index(df["date"])
df2 = df["order_id"].groupby([date.year, date]).count()

### shift all year to 2000
date = df2.index.get_level_values(1)
new_date = pd.Index(pd.io.date_converters.parse_date_fields(np.ones(len(date))*2000, date.month, date.day))
year = df2.index.get_level_values(0)
df2.index = pd.MultiIndex.from_arrays([year, new_date])

### plot
p = df2.unstack(0).plot()
p.xaxis.set_ticklabels(range(1, 13));
<END>
<QUE>
Unique items in python list
<ANS>
date = "2010-11-22"
timestamps = set(['2011-02-22', '2011-02-05', '2011-02-04', '2010-12-14', '2010-12-13', '2010-12-12', '2010-12-11', '2010-12-07', '2010-12-02', '2010-11-30', '2010-11-26', '2010-11-23', '2010-11-22', '2010-11-16'])
#then you can just update it like so
timestamps.update(['2010-11-16']) #if its in there it does nothing
timestamps.update(['2010-12-30']) # it does add it
<END>
<QUE>
Sentence processing in Python
<ANS>
with open('topon.txt') as infile:
  for line in infile:
    print line.split('.', 1)[0]
<END>
<QUE>
Python - value in list of dictionaries
<ANS>
for r in result:
  for d in dict:
    if d['value'] == r:
       print "ok"
<END>
<QUE>
How to create a list from filenames in a user specified directory in python
<ANS>
import os
import glob

files = list(glob.glob(os.path.join(directory,'*.*')))
<END>
<QUE>
Append list to list, overwrite values
<ANS>
from copy import deepcopy
list1.append(deepcopy(list2))
<END>
<QUE>
how to run multiple functions at same time
<ANS>
from multiprocessing import Process
p = Process(target=myfunc1)
p.start()
p2 = Process(target=myfunc2)
p2.start()
# and so on
p.join()
p2.join()
# the join means wait untill it finished
<END>
<QUE>
How to use nice command in python?
<ANS>
import os
import shutil

os.nice(9)
shutil.copy('/var/tmp/1', '/var/tmp/2')
<END>
<QUE>
How to solve a pair of nonlinear equations using Python?
<ANS>
from scipy.optimize import fsolve
import math

def equations(p):
    x, y = p
    return (x+y**2-4, math.exp(x) + x*y - 3)

x, y =  fsolve(equations, (1, 1))

print equations((x, y))
<END>
<QUE>
How to check the state of a robot button using python?
<ANS>
from time import time
prevState = (False,time())
while not self.done():
    current = time()
    if self._io_left_nav.button0 and (current-prevState[1])*1000>2: #For example, 2 ms
        if self._io_left_nav.button0 != prevState[0]:
            print("repeats")
        prevState = (self._io_left_nav.button0,time())
<END>
<QUE>
Python time data does not match format
<ANS>
print datetime.datetime.strptime(fecha2, '%m/%d/%y %H:%M')
<END>
<QUE>
Applying a function to various keys in a dictionary at a time
<ANS>
for student, student_data in student_quiz_scores.iteritems():
    for i, average in enumerate(the_averages):
        print "
The average for quiz",i+1,"is:",average
        if student_data[i]>average:
            print student, "got a",student_data[i],"which is",(str(student_data[i]-average))+"%", "higher than the average. :)"
        else:
            print student, "got a", student_data[i], "which is", (str(-student_data[i]+average))+"%", "lower than the average. :("
<END>
<QUE>
Combing through several large data structures of different classes in Python; How can I combine and store data I need while reducing memory usage?
<ANS>
last_host = None
hosts = []                # the list of hosts
host_responses = []       # the list of responses for each host
responses = []
for output in expandresults:
    if output.val is not None:
        if output.hostname != last_host:    # new host
            if last_host:    # only append host_responses after a new host
                host_responses.append(responses)
            hosts.append(output.hostname)
            responses = [output.val]        # start the new list of responses
            last_host = output.hostname
        else:                               # same host, append the response
            responses.append(output.val)
host_responses.append(responses)

for host, responses in zip(hosts, host_responses):
    self.WriteOut(host, ','.join(responses))
<END>
<QUE>
programatically add cells to an ipython notebook for report generation
<ANS>
from IPython.nbformat import current as nbf

nb = nbf.new_notebook()

cells = []

for var in my_list:
    # Assume make_image() saves an image to file and returns the filename
    image_file = make_image(var)
    text = "Variable: %s
![image](%s)" % (var, image_file)
    cell = nbf.new_text_cell('markdown', text)
    cells.append(cell)

nb['worksheets'].append(nbf.new_worksheet(cells=cells))

with open('my_notebook.ipynb', 'w') as f:
        nbf.write(nb, f, 'ipynb')
<END>
<QUE>
How do I embed an AppleScript in in a Python script?
<ANS>
from subprocess import Popen, PIPE

scpt = '''
    on run {x, y}
        return x + y
    end run'''
args = ['2', '2']

p = Popen(['osascript', '-'] + args, stdin=PIPE, stdout=PIPE, stderr=PIPE)
stdout, stderr = p.communicate(scpt)
print (p.returncode, stdout, stderr)
<END>
<QUE>
append item in for loop
<ANS>
info = XXX.objects.filter(a = 111) #return the list of QuerySet (objects)
for item in info:
    item.b = 111   # Object
    item.save()
<END>
<QUE>
append content of one csv file to another using python
<ANS>
import csv
reader = csv.reader(open('output.csv', 'rb'))
reader1 = csv.reader(open('output1.csv', 'rb'))
writer = csv.writer(open('appended_output.csv', 'wb'))
for row in reader:
    row1 = reader1.next()
    writer.writerow(row + row1)
<END>
<QUE>
Python : addition of lambda defined functions
<ANS>
h = lambda x: f(x)+g(x)
<END>
<QUE>
How to manage wx.StatusBar text in interactions with menus
<ANS>
self.CreateStatusBar(2)
self.SetStatusText("A Custom StatusBar...", 1)
wx.CallLater(10000, self.SetStatusText, "", 1)
<END>
<QUE>
How to get the dictionary name for each key with the highest value across multiple dictionaries
<ANS>
import numpy as np
from collections import Counter

a=['John', 'John', 'John', 'Mark', 'Mark', 'Mark', 'Joe']
b= ['John', 'Mark', 'Joe', 'Joe', 'Joe', 'Jack']
c= ['Mark', 'Joe', 'Jack', 'Jack', 'Tony']

ac = Counter(a)
bc = Counter(b)
cc = Counter(c)


allLists = [list(), list(), list()]

allNames = set(ac.keys() + bc.keys() + cc.keys());

for name in allNames:

    aCount = ac[name];
    bCount = bc[name];
    cCount = cc[name];

    allCounts = np.array([aCount, bCount, cCount]);

    maxIndex = allCounts.argsort()[::-1][0];

    allLists[maxIndex] += [name];


alist, blist, clist = allLists[:]

print alist, blist, clist
<END>
<QUE>
Use Python re to get rid of links
<ANS>
re.sub('<a[^>]+>(.*?)</a>', '\\1', text)
<END>
<QUE>
How to use jenkins plugin in python script?
<ANS>
import os
print os.environ['BUILD_NUMBER']
<END>
<QUE>
Python/Matplotlib - Contour Plot with Bilinear Interpolation
<ANS>
import matplotlib
import numpy as np
import matplotlib.cm as cm
import matplotlib.pyplot as plt
from scipy.interpolate import interp2d

# http://en.wikipedia.org/wiki/File:Bilininterp.png
xi = np.array([0.0, 1.0])
yi = np.array([0.0, 1.0])
zi = np.array([[0.0, 1.0], [1.0, 0.5]])

# Another example
xi = np.array([0.0, 0.25, 1.0])
yi = np.array([0.0, 0.75, 1.0])
zi = np.array([[0.0, 0.5, 1.0], [0.5, 0.7, 0.5], [1.0, 1.0, 1.0]])

# I want 20 "levels" to be shown
contour_breaks = 20
ticks = np.linspace(zi.min(), zi.max(), contour_breaks, endpoint=True)

# Attempt 4 (interp2d does to correct bilinear interpolation)
fig = plt.figure()
axes = fig.add_subplot(111, aspect='equal')
f = interp2d(xi, yi, zi, kind='linear')
xi2 = np.linspace(0., 1., 100)
yi2 = np.linspace(0., 1., 100)
zi2 = f(xi2, yi2)
axes.contour(xi2, yi2, zi2, ticks[1:-1], colors='k')
fill = axes.contourf(xi2, yi2, zi2, ticks, cmap=cm.jet)
fig.colorbar(fill, ticks=ticks)

# Show the plots
plt.show()
<END>
<QUE>
Paramiko SFTPClient - Setting missing host key policy?
<ANS>
ssh = paramiko.SSHClient()
ssh.set_missing_host_key_policy(
            paramiko.AutoAddPolicy())

ftp = ssh.open_sftp() 
ftp.get('remotefile', 'localfile')
<END>
<QUE>
Using two databases with Pyramid SqlAlchemy
<ANS>
users = Table('users', metadata, autoload=True)
<END>
<QUE>
pendant to inline formsets for many-to-many relations
<ANS>
RoleFormSet = inlineformset_factory(UserRole, User.role.though)
<END>
<QUE>
Update and delete, with value typed, in MySQL using Python
<ANS>
cursor.execute("DELETE FROM test WHERE name=%s", (Value,));
<END>
<QUE>
Working with ancestors in GAE
<ANS>
page_key = ndb.Key(Book, bookId, Chapter, chapterId, Page, pageId)
page = page_key.get()
<END>
<QUE>
How to serve a generated QR Image using python's qrcode on Flask
<ANS>
#!/usr/bin/env python2.7
# -*- coding: utf-8 -*-
"""Example of Flask and qrcode.

NOTE: by requirements image in memory!
"""

__author__ = 'Daniel Leybovich <setarckos@gmail.com>'
__version__ = (0, 0, 1)


import os
import sys
import flask
import qrcode
import cStringIO


app = flask.Flask(__name__)


def random_qr(url='www.google.com'):
    qr = qrcode.QRCode(version=1,
                       error_correction=qrcode.constants.ERROR_CORRECT_L,
                       box_size=10,
                       border=4)

    qr.add_data(url)
    qr.make(fit=True)
    img = qr.make_image()
    return img


@app.route('/get_qrimg')
def get_qrimg():
    img_buf = cStringIO.StringIO()
    img = random_qr(url='www.python.org')
    img.save(img_buf)
    img_buf.seek(0)
    return flask.send_file(img_buf, mimetype='image/png')


if __name__ == '__main__':
    app.run(host='0.0.0.0', debug=True)
<END>
<QUE>
Reading first non-list value from the arbitrary nested list
<ANS>
value = my_list[0]
if isinstance(value, list):
    value = value[0]

# use the value
<END>
<QUE>
Regex to find N numbers after some token in python
<ANS>
blar = re.search("Blar=(-?\d+\.\d+)((?:,-?\d+\.\d+)+)", x)
blar.groups()
<END>
<QUE>
Filter items newer than 1 hour with RethinkDB and Python
<ANS>
cursor = r.table('timetests').filter(
    lambda t: t['time'].during(r.now() - 3600, r.now())
    ).run(conn)
<END>
<QUE>
How can I find out where an object has been instantiated?
<ANS>
import traceback

class MyClass(object):
   def __init__(self):
       self.traceback = traceback.extract_stack()[-2]

obj = MyClass()

print 'Instantiated in {0}:{1}'.format(*obj.traceback)
<END>
<QUE>
Trouble Converting Apostrophes in JSON response
<ANS>
import HTMLParser
parser = HTMLParser.HTMLParser()
unescaped_string = parser.unescape(html_escaped_string)
<END>
<QUE>
Converting jpeg string to PIL image object
<ANS>
from PIL import Image
import StringIO
tempBuff = StringIO.StringIO()
tempBuff.write(curimg)
tempBuff.seek(0) #need to jump back to the beginning before handing it off to PIL
Image.open(tempBuff)
<END>
<QUE>
Tuple unpacking: dummy variable vs index
<ANS>
value = func_returning_a_tuple()[0]
<END>
<QUE>
Matplotlib/Pyplot shared axis for odd number of subplots
<ANS>
import matplotlib.pyplot as plt

fig = plt.figure()

# Add subplots
nRows = 4
nCols = 2
nPlots = 7
ax1 = fig.add_subplot(nRows,nCols,1)
ax1.set_yscale('log')
ax1.set_xscale('log')

for n in range(1, nPlots+1):
    plt.subplot(nRows,nCols,n, sharex=ax1, sharey=ax1)

# Turn off tick lables where needed. 
index = 0
for r in range(1, nRows +1):
     for c in range(1, nCols + 1):
         index += 1
         # Turn off y tick labels for all but the first column.
         if ((c != 1) and (index <= nPlots)):  
             ax = plt.subplot(nRows, nCols, index, sharex=ax1, sharey=ax1)
             plt.setp(ax.get_yticklabels(), visible=False)
          # Turn off x tick lables for all but the bottom plot in each 
          # column. 
         if ((nPlots - index) >= nCols):
             ax = plt.subplot(nRows, nCols, index, sharex=ax1, sharey=ax1) 
             plt.setp(ax.get_xticklabels(), visible=False)

plt.subplots_adjust(wspace=0, hspace=0)

plt.show()
<END>
<QUE>
How do I convert a string back to frozenset?
<ANS>
import pickle  

d = {'key1':'value1'}
dd = {frozenset(d.items()):'my_value'}

# Save to dumpfile
pickle.dump(dd, open('dumpfile', 'wb'))

# Load again from dumpfile
dd = pickle.load(open('dumpfile', 'rb'))
<END>
<QUE>
Get a list of object properties from list of objects in python
<ANS>
from apscheduler.scheduler import Scheduler

schedule = Scheduler()
jobs = schedule.get_jobs() #jobs is a list of apscheduler jobs
jobs_kwargs = map(lambda k: k.kwargs, jobs)
<END>
<QUE>
Simplest method of asking user for password using graphical dialog in Python?
<ANS>
from Tkinter import *

def getpwd():
    password = ''
    root = Tk()
    pwdbox = Entry(root, show = '*')
    def onpwdentry(evt):
         password = pwdbox.get()
         root.destroy()
    def onokclick():
         password = pwdbox.get()
         root.destroy()
    Label(root, text = 'Password').pack(side = 'top')

    pwdbox.pack(side = 'top')
    pwdbox.bind('<Return>', onpwdentry)
    Button(root, command=onokclick, text = 'OK').pack(side = 'top')

    root.mainloop()
    return password
<END>
<QUE>
What is the proper way to write to the Google App Engine blobstore as a file in Python 2.5
<ANS>
import gc
gc.collect()
<END>
<QUE>
How to unquote URL quoted UTF-8 strings in Python
<ANS>
backtonormal = urllib.unquote(thestring)
<END>
<QUE>
Getting HTTP GET variables using Tipfy
<ANS>
request.args.get('variable')
<END>
<QUE>
How to get usb serial number python
<ANS>
import pprint
import subprocess

df = subprocess.check_output('lsusb', shell=True)
device_ids = []
for line in filter(lambda s: s.startswith('Bus'), df.split('
')):
    businfo, id, _ = line.split(':')
    id = id.split()[1]
    device_ids.append(id)

pprint.pprint(device_ids)
<END>
<QUE>
Creating a directory based on function parameters, Python
<ANS>
os.mkdir
<END>
<QUE>
reading data from a file and storing them in a list of lists Python
<ANS>
data = file.readlines()
<END>
<QUE>
How to test for absence of an element without waiting for a 30 second timeout
<ANS>
# Success
def is_element_present(self, id_type, id_locator):
    driver = self.driver
    element_found = True
    driver.implicitly_wait(1)
    try:
        element = WebDriverWait(driver, 0).until(
            EC.presence_of_element_located((id_type, id_locator))
        )
    except:
        element_found = False
    driver.implicitly_wait(30)
    return element_found
<END>
<QUE>
How to print specific strings in python?
<ANS>
import re

string = """736.199070736:  LOG_MOD_L0_RECEIVE_TXBRP_CONTROL(0, 
 0x0075007f, 
 0x005500dd,  
 0x000a00f5)"""

result = re.search(r'\(.*\)', string) # matches anything between parenthesis

result.group()

'(0, 0x0075007f, 0x005500dd,  0x000a00f5)'
<END>
<QUE>
How to Iterate a dictionary of references to matplotlib figures
<ANS>
figure(self.figures[fig].number)
<END>
<QUE>
Python module changes aren't being imported
<ANS>
print main1.__file__
<END>
<QUE>
Python string of numbers to date
<ANS>
datetime.strptime(x,"%Y%m%d%H%M%S%f")
<END>
<QUE>
Retrieving an image from mongoengine and display it on a page as http reponse in python
<ANS>
marmot = Animal.objects(genus='Marmota').first()
photo = marmot.photo.read()
content_type = marmot.photo.content_type
<END>
<QUE>
Why does a private attribute of python class allow me to assign a value?
<ANS>
print DoGood._DoGood__prv # access a private attribute.
<END>
<QUE>
Comparison operator in a for-loop
<ANS>
for line in lines:
    x, y = line.split()
    if int(x) > int(y): return True
return False
<END>
<QUE>
Use a list comprehension to select all three letter words from a list
<ANS>
three_letters = [word for word in words if len(word) == 3]
<END>
<QUE>
Multiplying a tuple by a scalar
<ANS>
tuple([10*x for x in img.size])
<END>
<QUE>
More pythonic way to pick multiple element types from tagged data
<ANS>
for i in range(1, 4):
    type_dict['type_%d' % i] = myTree.cssselect('element_type_%d' % i)
<END>
<QUE>
Working with words, and need to translate ABC to Alpha, Bravo, Charlie
<ANS>
from win32com.client import constants
import win32com.client
speaker = win32com.client.Dispatch("SAPI.SpVoice")

d = {'a':'alfa', 'b':'bravo', 'c':'charlie', 'd':'delta', 'e':'echo', 'f':'foxtrot',
 'g':'golf', 'h':'hotel', 'i':'india', 'j':'juliett', 'k':'kilo', 'l':'lima',
 'm':'mike', 'n':'november', 'o':'oscar', 'p':'papa', 'q':'quebec', 'r':'romeo',
 's':'sierra', 't':'tango', 'u':'uniform', 'v':'victor', 'w':'whiskey', 
 'x':'x-ray', 'y':'yankee', 'z':'zulu'}
speaker.speak("Hello.. Please write a line you want me to say")
print ("Type your text now:")
inp = input()
print ("Outputting...")
result = ' '.join(d[c.lower()] for c in inp)
speaker.speak(result)
<END>
<QUE>
using a "temporary files" folder in python
<ANS>
tempfile.mkdtemp()
<END>
<QUE>
how to specify a directory and a function with upload_to in django
<ANS>
def naming(instance, file_name):                                                 
    model_name = instance.__class__.__name__
    return os.path.join(model_name, file_name)
<END>
<QUE>
Crawling a site recursively using scrapy
<ANS>
def start_requests(self):
    for i in range(1000):
        yield Request("http://www.example.com/bla-bla-bla/" + str(i), self.parse_tv)
<END>
<QUE>
escape % character in Python
<ANS>
link_string = '<a href="/search/?q=%%23%s"> %s </a>'
<END>
<QUE>
how to access request.user in django modelform in admin
<ANS>
class CategoryForm(forms.ModelForm):
    class Meta:
        model = models.Category
        exclude = ()
        form = CategoryForm

class CategoryAdmin(admin.ModelAdmin):
    list_display = ['department','name']
    list_filter = ['department','name']

    def get_form(self, request, obj=None, **kwargs):
        form = super(CategoryAdmin, self).get_form(request, obj=None, **kwargs)
        form.base_fields['department'].queryset = Department.objects.filter(
            name = request.user.customuser.department.name)
        return form
<END>
<QUE>
How to get figure for web traffic + how to append column to numpy array?
<ANS>
import numpy as np

def some_function(x):
    return 3*x

input = np.ones([10,26])
input = np.hstack([input,np.empty([input.shape[0],1])])
for row in input:
    row[-1] = some_function(row[0])

output = input
<END>
<QUE>
How to list all the groups that a user does not belong to in django?
<ANS>
Group.objects.exclude(id__in=request.user.groups.all().values_list('id', flat=True))
<END>
<QUE>
How to make np.loadtxt return multidimensional arrays even the file has only one dimensional?
<ANS>
arr = np.loadtxt('test.txt', ndmin=2)
<END>
<QUE>
Python - Access a class from a list using a key
<ANS>
class ClassDict(object):
  def __init__(self):
    self.classes = {}

  def add(self, cls):
    self.classes[cls.__name__] = cls

  def remove(self, cls):
    if self.classes[cls.__name__] == cls:
      del self.classes[cls.__name__]
    else:
      raise KeyError('%r' % cls)

  def __getitem__(self, key):
    return self.classes[key]

  def __repr__(self):
    return 'ClassDict(%s)' % (', '.join(self.classes),)

class C(object):
  pass

class D(object):
  pass

cd = ClassDict()
cd.add(C)
cd.add(D)

print cd

print cd['C']
<END>
<QUE>
How to write two sheets in a single workbook at the same time using openpyxl
<ANS>
ws1 = wb.active
ws2 = wb.create_sheet()
<END>
<QUE>
How can i use Jinja2 template inside python program
<ANS>
# copied directly from the docs
from jinja2 import Environment, PackageLoader

env = Environment(loader=PackageLoader('yourapplication', 'templates'))
template = env.get_template('mytemplate.html')
print template.render(the='variables', go='here')
<END>
<QUE>
How to limit choices of ForeignKey choices for Django raw_id_field
<ANS>
from django.contrib import admin
from django.contrib.admin import widgets
from django.contrib.admin.sites import site
from django import forms

class BlogRawIdWidget(widgets.ForeignKeyRawIdWidget):
    def url_parameters(self):
        res = super().url_parameters()
        res['type__exact'] = 'PROJ'
        return res

class ProjectAdminForm(forms.ModelForm):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.fields['blog'].queryset = Blog.objects.filter(type='PROJ')
        self.fields['blog'].widget = BlogRawIdWidget(rel=Project._meta.get_field('blog').rel, admin_site=site)

    class Meta:
        # Django 1.8 convenience:
        fields = '__all__'
        model = Project

class ProjectAdmin(admin.ModelAdmin):
    form = ProjectAdminForm
    raw_id_fields = ('blog',)
<END>
<QUE>
read the http links from a file and append it to a list
<ANS>
with open("filename_here") as f:
    content = f.readlines()
print content
<END>
<QUE>
Creating partial unique index with sqlalchemy on Postgres
<ANS>
class ScheduledPayment(Base):
    id = Column(Integer, primary_key=True)
    invoice_id = Column(Integer)
    is_canceled = Column(Boolean, default=False)

    __table_args__ = (
        Index('only_one_active_invoice', invoice_id, is_canceled,
              unique=True,
              postgresql_where=(~is_canceled)),
    )
<END>
<QUE>
Embedding PyQtGraph in Qt without generating new Window
<ANS>
my_plot = pg.PlotWidget()
my_layout.addWidget(my_plot)
my_plot.plot(x, y)
<END>
<QUE>
Pandas: remove trailing zeros from series
<ANS>
import pandas
import numpy
my_series = pandas.Series([0,0,1,2,0,3,4,0,0])
numpy.trim_zeros(my_series)
<END>
<QUE>
Copying files from Remote machine using sftp in python
<ANS>
password = "pass"
username = "user"
transport.connect(username = username, password = password)
<END>
<QUE>
Taking punctuation out of a a python list
<ANS>
import re

with open("Tyger.txt") as f:
    words = re.findall("\w+", f.read())
<END>
<QUE>
Creating a list comprehension to find orthogonal neighbours in 2D list
<ANS>
[(i,j) for i,j in ((a-1,b), (a+1,b), (a,b-1), (a,b+1)) if 0<=i<MAXX and 0<=j<MAXy and X[i][j] is not None ]
<END>
<QUE>
Python: Handle Missing Files from a Sequence
<ANS>
import json
for l in xrange(100):
    try:
        with open('C:/Twitter/json/user_%d.json' % l, 'r') as f:
            data = json.load(f)
            #do stuff with obj
    except IOError:
        pass
<END>
<QUE>
Insert a tzinfo into datetime
<ANS>
def transform_date(date_string, tzinfo):
    fmt = '%Y-%m-%d'
    date = datetime.strptime(date_string, fmt).replace(tzinfo=tzinfo)
    return date
<END>
<QUE>
adding task to non-default queue in google app engine
<ANS>
q = taskqueue.Queue('slowQueue') 
task = taskqueue.Task(url='/worker/slow', params={'name': name})
q.add(task)
<END>
<QUE>
sum of elements from different tuples
<ANS>
tuples = [(2,5),(8,9),(11,19),(22,43),(47,50)]
#tuples = [(2,7),(9,14),(17,20)]

def result(tuple, value):
    start = tuples[0][0] - 1
    for idx in range(len(tuples) - 1):
        if tuples[idx][1] >= value + start:
            break
        start = start + (tuples[idx+1][0] - tuples[idx][1] - 1)  
    return value + start  

for i in range(1, 16):
    print str(i) + ' ' + str(result(tuples, i))
<END>
<QUE>
How to import __init__'s method in inner module?
<ANS>
from . import abc
<END>
<QUE>
Fastest way to uniqify a list in Python
<ANS>
set([a, b, c, a])
<END>
<QUE>
Capture jpgs produced in subprocess in main script
<ANS>
import subprocess
params = ['convert', 'pdf_file', 'jpg:-']
image_data = subprocess.check_output(params)
<END>
<QUE>
Slice pandas dataframe in groups of consecutive values
<ANS>
for k,g in df.groupby(df['A'] - np.arange(df.shape[0])):
    print g
<END>
<QUE>
Detecting when a python script is being run interactively in ipython
<ANS>
def in_ipython():
    try:
        __IPYTHON__
    except NameError:
        return False
    else:
        return True
<END>
<QUE>
capturing stdout from python in an upstart job
<ANS>
while 1:
    print "hello from stdout"
    sys.stdout.flush()
    print >> sys.stderr, "Hello from stderr"
    sleep(1)
<END>
<QUE>
Using Python, how do I get an array of file info objects, based on a search of a file system?
<ANS>
import os, time

allfiles = []
now = time.time()

# walk will return triples (current dir, list of subdirs, list of regular files)
# file names are relative to dir at first
for dir, subdirs, files in os.walk("/storage/disk-1/Media/Video/TV"):
    for f in files:
        if not f.endswith(".avi"):
            continue
        # compute full path name
        f = os.path.join(dir, f)
        st = os.stat(f)
        if st.st_mtime < now - 3600*24*7:
            # too old
            continue
        allfiles.append((f, st))
<END>
<QUE>
Adding XML data from a XML file to an existing XML file
<ANS>
#! /usr/bin/python2

import sys
from lxml import etree

result = etree.Element('root')
parser = etree.XMLParser(remove_blank_text=True)

# Add each file to the tree
for xmlfile in sys.argv[1:]:
  with open(xmlfile) as xmlfile:
    btree = etree.parse(xmlfile, parser)
  # Ensure that the resulting tree has the right root
  result.tag = btree.getroot().tag
  # Consider each 2nd-level item
  for bchild in btree.xpath("/*/*"):
    tags = result.xpath("./%s"%bchild.tag)
    if len(tags) == 0:
      # Add <dog-list>, for example
      #print "adding %s to %s"%(bchild.tag, result.tag)
      result.append(bchild)
    else:
      for bgrandchild in bchild:
        # add <dog>, for example
        #print "adding %s to %s"%(bgrandchild.tag, tags[0].tag)
        tags[0].append(bgrandchild)

with open("output.xml", "w") as output:
  output.write(etree.tostring(result, pretty_print = True))
<END>
<QUE>
Serializing NotificationQuerySet from django-notifications-hq not working
<ANS>
many=True
<END>
<QUE>
How to get function attributes inside a html?
<ANS>
import re
s = r'''<html>
 <head>
  <script type="text/javascript">
  function redirecttoauth(sessionid, test) {
   function body ...
  }
  </script>
 </head>
 <body>
 </body>
</html>
'''

start = r'function redirecttoauth\(sessionid'
end = r'}'
result = re.search(r'%s(.*)%s' % (start, end), s, re.DOTALL).group(1)
print(result)
<END>
<QUE>
Convert list of byte strings to bytearray (byte stream)
<ANS>
hexstrings = ["DE", "AD", "BE", "EF"]   # big-endian 0xDEADBEEF

bytes = bytearray(int(x, 16) for x in hexstrings)
bytes = bytearray.fromhex("".join(hexstrings))     # Python 2.6 may need u""
<END>
<QUE>
Can you make a python subprocess output stdout and stderr as usual, but also capture the output as a string?
<ANS>
# -*- Mode: Python -*-
# vi:si:et:sw=4:sts=4:ts=4

import subprocess
import sys
import select

p = subprocess.Popen(["find", "/proc"],
    stdout=subprocess.PIPE, stderr=subprocess.PIPE)

stdout = []
stderr = []

while True:
    reads = [p.stdout.fileno(), p.stderr.fileno()]
    ret = select.select(reads, [], [])

    for fd in ret[0]:
        if fd == p.stdout.fileno():
            read = p.stdout.readline()
            sys.stdout.write('stdout: ' + read)
            stdout.append(read)
        if fd == p.stderr.fileno():
            read = p.stderr.readline()
            sys.stderr.write('stderr: ' + read)
            stderr.append(read)

    if p.poll() != None:
        break

print 'program ended'

print 'stdout:', "".join(stdout)
print 'stderr:', "".join(stderr)
<END>
<QUE>
Storing averages of values in a dictionary in a separate dictionary - Python
<ANS>
averages = {}    # Create a new empty dictionary to hold the averages
for key, values in scores.items(): 
  averages[key] = float(sum([int(i) for i in values])) / len(values)  
  # Rather than store the averages in a local variable, store them in under the appropriate key in your new dictionary.
<END>
<QUE>
Non top-level opengl widget in tkinter
<ANS>
from Tkinter import *
from OpenGL.Tk import *

b=Opengl(height=100,width=100)
root = b.master
f = Frame(root, width=100, bg='blue')
f.pack(side='left', fill='y')
b.pack(side='right', expand=1, fill='both')

root.mainloop()
<END>
<QUE>
Python: Only extract lines in a file where values are continuously getting bigger
<ANS>
data_file = raw_input("Please type name of input data! ")
data = open(data_file)

new_list = list()

for line in data:
    line = line.rstrip()
    first_empty = line.find(" ")
    items_whole = line[first_empty + 1:]
    items_list = items_whole.split()
    # Use a 'list comprehension' to convert the items list into a list of floats
    floats_list = [float(i) for i in items_list]

    # Use the built in 'sorted' method to sort the floats
    # If the sorted float list is the same as the original float list, then all the items are ascending
    if floats_list == sorted(floats_list):
        print items_list
        # Add the list of floats into the 'new_list' for any post processing
        new_list += [floats_list]
<END>
<QUE>
How to iterate the cartesian product so top items combine first?
<ANS>
def cartprod(x,y):
    nx = len(x)
    ny = len(y)
    for i in range(nx+ny):
        for j in range(max(0,i-ny+1), min(i+1,nx)):
            yield (x[j],y[i-j])
<END>
<QUE>
convert a list of booleans to string
<ANS>
bools = [True, True, False, True, True, False, True]

print ''.join(chr(ord('A') + i) if b else ' ' for i, b in enumerate(bools))
<END>
<QUE>
Python: Read tree like data from text file and store in dictionary
<ANS>
data = """
1 A 3 B 2 C 0 
        D 0
    E 1 F 0
    G 2 H 0
      I 0"""

def construct_nodes(data):
    return dict((next(data), construct_nodes(data))
                for _ in xrange(int(next(data))))

print construct_nodes(iter(data.split()))
<END>
<QUE>
Adding lines after specific line
<ANS>
with open("file.txt", "r") as in_file:
    buf = in_file.readlines()

with open("file.txt", "w") as out_file:
    for line in buf:
        if line == "; Include this text
":
            line = line + "Include below
"
        out_file.write(line)
<END>
<QUE>
how can I get the ip address of the request in a regested function of python xmlrpc server
<ANS>
class MyXMLRPCServer(SimpleXMLRPCServer.SimpleXMLRPCServer):
    def process_request(self, request, client_address):
        self.client_address = client_address
        return SimpleXMLRPCServer.SimpleXMLRPCServer.process_request(
            self, request, client_address)

server=SimpleXMLRPCServer.MyXMLRPCServer((host, port))
<END>
<QUE>
NZEC in python on spoj for AP2
<ANS>
import sys;   # Why use ';'? It's so non-pythonic.

inp = sys.stdin.read().split()    # Take whitespaces as delimiter
t = int(inp[0])
readAt = 1
for i in range (0,t):
    x,y,z = map(int,inp[readAt:readAt+3])    # Read the next three elements
    n = (2*z)/(x+y)
    d = (y-x)/(n-5)
    a = x-(2*d)
    print n
    #for j in range(0,n):
    #    sys.stdout.write(a+j*d)
    #    sys.stdout.write(' ')
    #print ' '
    print ' '.join([str(a+ti*d) for ti in xrange(n)]) # More compact and faster
    readAt += 3   # Increment the index from which to start the next read
<END>
<QUE>
Plot a stacked bar graph from two pandas groupby objects?
<ANS>
cgs = cg.sum()
cgs.columns = ['number2']
d = pd.concat([bg.sum(), cgs], axis=1)
d.plot(kind='bar', stacked=True)
<END>
<QUE>
Return double array through FORTRAN (DLL) to process further in python
<ANS>
import ctypes as cs
import numpy as np

#import dll library handle:
tdll = cs.WinDLL(pathToDLL)
#specify result and argument types
tdll.TST.restype = None
tdll.TST.argtypes = [cs.POINTER(cs.POINTER(cs.c_double*3)), cs.POINTER(cs.c_long)]

#call the dll function 'TST':
Ar = (cs.c_double*3)()
_A = cs.pointer(Ar)
tdll.TST(cs.byref(_A), cs.byref(cs.c_long(3)))
result = Ar[:]
<END>
<QUE>
How to Calculate the number of days in the year(s) between 2 dates in python
<ANS>
import datetime, calendar
date1 = datetime.date(year1, month1, day1) # month and day are 1-base
date2 = datetime.date(year2, month2, day2)
days_in_first_year = (datetime.date(year1,12,31)-date1).days
days_in_last_year = (date2 - datetime.date(year2, 1, 1)).days
if year1 != year2:
    n_days_list = [days_in_first_year]
    for year in range(year1+1, year2): n_days_list.append(365 + (1*calendar.isleap(year)))
    n_days_list.append(days_in_last_year)
else: n_days_list = [days_in_first_year + days_in_last_year]
<END>
<QUE>
How to reimplement triggered() signal in pyqt for a QAction?
<ANS>
QObject.sender
<END>
<QUE>
how can I add text to these rectangles?
<ANS>
self.font = pygame.font.SysFont('Arial', 25)

def addText(self):
    self.screen.blit(self.font.render('Hello!', True, (255,0,0)), (200, 100))
    pygame.display.update()
<END>
<QUE>
Check the type of a property in neomodel
<ANS>
if isinstance(MyNodeModel.your_property, StringProperty):
    print("a string")
<END>
<QUE>
How to include the first few items of a numpy array with python
<ANS>
m = np.array([x[:5] for x in d], dtype=object)
<END>
<QUE>
How to prevent images from appearing on the screen in Matplolib? Python
<ANS>
matplotlib.pyplot.switch_backend('Agg')
<END>
<QUE>
Save dendrogram to newick format
<ANS>
from scipy.cluster import hierarchy
def getNewick(node, newick, parentdist, leaf_names):
    if node.is_leaf():
        return "%s:%.2f%s" % (leaf_names[node.id], parentdist - node.dist, newick)
    else:
        if len(newick) > 0:
            newick = "):%.2f%s" % (parentdist - node.dist, newick)
        else:
            newick = ");"
        newick = getNewick(node.get_left(), newick, node.dist, leaf_names)
        newick = getNewick(node.get_right(), ",%s" % (newick), node.dist, leaf_names)
        newick = "(%s" % (newick)
        return newick

tree = hierarchy.to_tree(Z,False)
getNewick(tree, "", tree.dist, leaf_names)
<END>
<QUE>
How to Dump, Load and Read info from pickle
<ANS>
with open('filename.pickle', 'rb') as infile:
    loaded_people = pickle.load(infile)
    loaded_user = pickle.load(infile)
#have them input their username
#have them input their password
if username_password.get(username) == password:
    print 'OK, loaded'
    like_people = loaded_data
    username_password = loaded_user
else:
    raise Exception('nice try but no cigar')
<END>
<QUE>
Tracing keypresses in python
<ANS>
from Tkinter import * # Python 3.x: from tkinter import *

def hello(e=None):
    print('Hello')

root = Tk()
Button(root, text='say hello', command=hello).pack()
root.bind('<Escape>', lambda e: root.quit())
root.bind('h', hello)
root.mainloop()
<END>
<QUE>
Python: Get download link from javascript button
<ANS>
from selenium import webdriver
browser = webdriver.Firefox()
browser.get('http://subscene.com/english/How-I-Met-Your-Mother-Seventh-Season/subtitle-482407.aspx')        
browser.execute_script('WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions("s$lc$bcr$downloadLink", "", true, "", "/english/How-I-Met-Your-Mother-Seventh-Season/subtitle-482407-dlpath-90698/zip.zipx", false, true))')
raw_input()
<END>
<QUE>
Efficient method to determine location on a grid(array)
<ANS>
def location(x,y,dim_x,dim_y):
    index = 1*(y==0) + 2*(y==dim_y-1) + 3*(x==0) + 6*(x==dim_x-1)
    return ["interior","top","bottom","left","top-left",
            "bottom-left","right","top-right","bottom-right"][index]
<END>
<QUE>
How to mock a base class's method when it was overridden?
<ANS>
with mock.patch.object(Parent, 'test_method') as mock_method:
    child = Child()
    mock_param = mock.Mock()
    child.test_method(mock_param)
    mock_method.assert_called_with(mock_param)
<END>
<QUE>
Rank an array of tuples
<ANS>
array = [('item1',90),('item2',76),('item3',83),('item4',90)]
srt = sorted(array,key=lambda x: x[1], reverse=True)
rankings = []
rank = 0
from itertools import groupby
for k,v in groupby(srt,lambda x: x[1]): # group by score
    grp = [(rank,tup[0]) for tup in v] # get item tup[0] and put it in a tuple with the rank
    rankings += grp
    rank += len(grp) # increase rank for next grouping
print(rankings)
[(0, 'item1'), (0, 'item4'), (2, 'item3'), (3, 'item2')]
<END>
<QUE>
Sorting a nested OrderedDict by key, recursively
<ANS>
def sortOD(od):
    res = OrderedDict()
    for k, v in sorted(od.items()):
        if isinstance(v, dict):
            res[k] = sortOD(v)
        else:
            res[k] = v
    return res
<END>
<QUE>
Using 2 sets of brackets to slice
<ANS>
a + b + c
<END>
<QUE>
Using Django-Storages with amazon S3 and https
<ANS>
AWS_S3_SECURE_URLS = True
<END>
<QUE>
Ordering of Django models
<ANS>
__lt__()
<END>
<QUE>
Python: argparse taking a list of variable size
<ANS>
nargs='+'
<END>
<QUE>
Function with arguments from other function
<ANS>
def test(a):
    return a

def invoker(*args):
    print sum(args) # Prints 25
    print args # Prints (10, 15)

invoker(test(10), test(15))
<END>
<QUE>
Add element to a json in python
<ANS>
data[0]['f'] = var
<END>
<QUE>
How to check for palindrome using while loop python
<ANS>
def palindrome(s):
    i = 0
    while i <= len(s) / 2:
        if s[i] != s[-i - 1]:
            return False
        i += 1
    return True
<END>
<QUE>
How to replace __str__ for a function
<ANS>
class NamedFunction:
    def __init__(self, name, f):
        self.f = f
        self.name = name

    def __call__(self, *args, **kwargs):
        return self.f(*args, **kwargs)

    def __str__(self):
        return self.name


f = NamedFunction("lambda: 'blah'", lambda: 'blah')
print(f())
print(f)
<END>
<QUE>
How can I unwrap a module with SocksiPy?
<ANS>
import socks, urllib2
from sockshandler import SocksiPyHandler
proxy_opener = urllib2.build_opener(SocksiPyHandler(socks.PROXY_TYPE_SOCKS5, "IP", 9050))
print proxy_opener.open("http://whatismyip.org/").read()
<END>
<QUE>
Change string to lowercase except for first character and copy to clipboard
<ANS>
import pyperclip
pyperclip.copy('The text to be copied to the clipboard.')
<END>
<QUE>
how bounding static method in python?
<ANS>
class B():
    def hello(self):
        print "hello"

class A():
   @staticmethod
   def newHello(self):
       A.oldHello(self) # Here the error
       print ' world'

   def inject(self):
       A.oldHello = B.hello
       B.hello = A.newHello

A().inject()
B().hello()
<END>
<QUE>
Histogram from data which is already binned, I have bins and frequency values
<ANS>
import matplotlib.pyplot as plt

a= [1,2,3,4,5,6,7,8,9]
b= [5,3,4,5,3,2,1,2,3]
plt.hist(a,9, weights=b)
plt.show()
<END>
<QUE>
Href extraction by Web crawler using Python
<ANS>
from selenium import webdriver
from bs4 import BeautifulSoup

driver = webdriver.Firefox()
driver.get(url)
driver.set_window_position(0, 0)
driver.set_window_size(100000, 200000)
driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")
time.sleep(5) # wait to load

# at this point, if you see the Firefox window that opened you will see the message

# Anyway, if you manage to get pass trough that blocking, you could load BeautifulSoup this way: 
soup = BeautifulSoup(driver.page_source)
<END>
<QUE>
Geographical data plot/map with lines in python and matplotlib
<ANS>
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import numpy as np
import itertools

#read in data from csv organised in columns labelled 'lat','lon','elevation'
data = np.recfromcsv('elevation-sample.csv', delimiter=',')

# create a 3d axis on a figure
fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

# Find unique (i.e. constant) latitude points
id_list = np.unique(data['lat'])

# stride is how many lines to miss.  set to 1 to get every line
# higher to miss more
stride = 5

# Extract each line from the dataset and plot it on the axes
for id in id_list[::stride]:
    this_line_data = data[np.where(data['lat'] == id)]
    lat,lon,ele = zip(*this_line_data)
    ax.plot(lon,lat,ele, color='black')

# set the viewpoint so we're looking straight at the longitude (x) axis
ax.view_init(elev=45., azim=90)

ax.set_xlabel('Longitude')
ax.set_ylabel('Latitude')
ax.set_zlabel('Elevation')
ax.set_zlim([0,1500])

plt.show()
<END>
<QUE>
How can I use python finding particular json value by key?
<ANS>
from xml.dom.minidom import parseString
import json        
def bar(somejson, key):
    def val(node):
        # Searches for the next Element Node containing Value
        e = node.nextSibling
        while e and e.nodeType != e.ELEMENT_NODE:
            e = e.nextSibling
        return (e.getElementsByTagName('string')[0].firstChild.nodeValue if e 
                else None)
    # parse the JSON as XML
    foo_dom = parseString(xmlrpclib.dumps((json.loads(somejson),)))
    # and then search all the name tags which are P1's
    # and use the val user function to get the value
    return [val(node) for node in foo_dom.getElementsByTagName('name') 
            if node.firstChild.nodeValue in key]

bar(foo, 'P1')
[u'cccc', u'aaa', u'ss']
bar(foo, ('P1','P2'))
[u'cccc', u'cccc', u'aaa', u'ss']
<END>
<QUE>
Create a Subclass from a String
<ANS>
class OneFruit(object):
    def add_color(self, color):
        self.color = color
    def add_taste(self, taste):
        self.taste = taste

class Fruit(object):
    def add_item(self, name):
        setattr(self, name, OneFruit())
<END>
<QUE>
how to add column name present in the list object into table
<ANS>
cursor.execute("create table " + config.table + " (" + ", ".join(config.cols) + ")")
<END>
<QUE>
403 FORBIDDEN use ajax to send post DJANGO
<ANS>
X-CSRFToken
<END>
<QUE>
templategs "not a valid tag library", fails to load models
<ANS>
__init__.py
<END>
<QUE>
Get page generated with Javascript in Python
<ANS>
#!/usr/bin/env python
from contextlib import closing
from selenium.webdriver import Firefox # pip install selenium
from selenium.webdriver.support.ui import WebDriverWait

# use firefox to get page with javascript generated content
with closing(Firefox()) as browser:
     browser.get(url)
     button = browser.find_element_by_name('button')
     button.click()
     # wait for the page to load
     WebDriverWait(browser, timeout=10).until(
         lambda x: x.find_element_by_id('someId_that_must_be_on_new_page'))
     # store it to string variable
     page_source = browser.page_source
print(page_source)
<END>
<QUE>
Best / most pythonic way to get an ordered list of unique items
<ANS>
sorted(set(itertools.chain.from_iterable(sequences)))
<END>
<QUE>
Strip spaces from Django form
<ANS>
class StrippedCharField(CharField):
     """Newforms CharField that strips trailing and leading spaces."""
     def clean(self, value):
         if value is not None:
             value = value.strip()
         return super(StrippedCharField, self).clean(value)
<END>
<QUE>
How to search for a word in a tree represented as a dictionary of dictionaries in python?
<ANS>
trie = {"a": {"b": {"e": {},
                    "f": {},
                    "g": {"l": {},
                          "m": {},
                          "n": {}}},
              "c": {"h": {},
                    "i": {}},
              "d": {"j": {},
                    "k": {}}}}

target = 'achqr'
sub_trie = trie
longest_sequence = []
for c in target:
    sub_trie = sub_trie.get(c)
    if sub_trie is None:  # the letter being looked for doesn't exist after this sequence
        break
    longest_sequence.append(c)  # track the sequence since the trie is not reverse linked
print(longest_sequence)
<END>
<QUE>
numpy Stacking 1D arrays into structured array
<ANS>
wtype=np.dtype([('x',x.dtype),('y',y.dtype),('z',z.dtype)])
w=np.empty(len(x),dtype=wtype)
w['x']=x
w['y']=y
w['z']=z
<END>
<QUE>
Generating a MD5 checksum of a file?
<ANS>
def md5(fname):
    hash = hashlib.md5()
    with open(fname, "rb") as f:
        for chunk in iter(lambda: f.read(4096), b""):
            hash.update(chunk)
    return hash.hexdigest()
<END>
<QUE>
Running a Python Script to read info. from a new .txt file being generated at a known location every 1 sec
<ANS>
import MySQLdb
import os
import time
from stat import ST_MTIME

TIME_TO_SLEEP = 1          # to avoid CPU burning

mydb = MySQLdb.connect(host="IP_add", user="uname", passwd="pass", db="DB_name")
cursor = mydb.cursor()
last_date = 0
while True:                        # or what you want as stop condition
    time.sleep(TIME_TO_SLEEP)
    stat = os.stat(filename)
    if stat[ST_MTIME] > last_date: # check the last modification date
        last_date = stat[ST_MTIME] # if more recent, store the last date
        with open(filename) as f:   # open the file
            sql = f.read()         # put the content in the sql data base
            if sql:
                cursor.execute(sql)
                mydb.commit()

mydb.close()
<END>
<QUE>
Api key for dashing dashboard
<ANS>
data = {
    'name'       : 'thomas',
    'id'         : 'bonjour',
    'city'       : 'cerfontaine',
    'auth_token' : YOUR_AUTH_TOKEN_HERE
}
<END>
<QUE>
How to match two text files, find matches and replace with original content?
<ANS>
with open('file_a','r') as fa:  # open file a --> read the files into lists
    list_a = fa.read().splitlines()
with open('file_b','r') as fb:  # open file b --> read the files into lists
    list_b = fb.read().splitlines()

# get element in list_b if list_a contain the element(only first 24 characters)
match_list = [n for n in list_b if n[:24] in list_a]

with open('file_c','w+') as fc:  # write the matching list to the new file
    fc.write('
'.join(match_list))
<END>
<QUE>
matrix divided by rows of another matrix, without a loop in theano
<ANS>
import numpy as np
import theano
import theano.tensor as tt


def numpy_v1(a, b):
    ainvb = np.zeros((3, 2, 4))
    for i in range(4):
        ainvb[:, :, i] = a / b[:, i].T
    return ainvb


def numpy_v2(a, b):
    return a[:, :, None] / b


def compile_theano_v1():
    a, b = tt.matrices('a', 'b')
    return theano.function([a, b], a[:, :, None] / b)


def main():
    dt = np.dtype(np.float32)

    a = [[12, 3],
         [2, 4],
         [2, 4], ]

    b = [[12, 3, 2, 3],
         [2, 4, 4, 5]]

    a = np.asarray(a, dtype=dt)
    b = np.asarray(b, dtype=dt)
    print(a.shape)
    print(b.shape)

    theano_v1 = compile_theano_v1()

    numpy_v1_ainvb = numpy_v1(a, b)
    numpy_v2_ainvb = numpy_v2(a, b)
    theano_v1_ainvb = theano_v1(a, b)

    assert np.allclose(numpy_v1_ainvb, numpy_v2_ainvb)
    assert np.allclose(numpy_v2_ainvb, theano_v1_ainvb)


main()
<END>
<QUE>
How to disable button until check box is checked in pyqt?
<ANS>
connect(checkbox, SIGNAL(stateChanged(int)), button, SLOT(buttonStateChanged(int)));
<END>
<QUE>
Finding nearest set of numbers given a position
<ANS>
if name in exons:
    y = exons[name]
    minDist = 99999 # large number
    minIdx = None
    minNum = None
    for i, (low,high) in enumerate(y):
        dlow = abs(low - ppos1)
        dhigh = abs(high - ppos1)
        dist = min(dlow, dhigh)
        if dist < minDist:
            minDist = dist
            minIdx = i
            minNum = 0 if dlow < dhigh else 1
    print(y[minIdx])
    print(y[minIdx][minNum])
<END>
<QUE>
Having trouble matching dict key with value
<ANS>
if stateid in states:
    print(states[stateid])
<END>
<QUE>
Finding averages from strings in a list in Python 3
<ANS>
import re
scores = ["Bob Foo - 10 / 10
",
          "John Smith - 5 / 10
",
          "Bob Foo - 7 / 10
",
          "Jack T - 6 / 10
",
          "Jack T - 4 / 10
",
          "Bob Foo - 9 / 10
"]

# First, split the names and scores up
scores = [re.match('(\S+ \S+) - (\d+)', score).groups() for score in scores]
#print (scores)

# Convert the number string into an integer
scores = [[score[0], int(score[1])] for score in scores]
#print (scores)

# Create a dictionary, keyed by the name
names = set(score[0] for score in scores)
scores = {
    name: [score[1] for score in scores if name == score[0]]
    for name in names
}
# print (scores)

# Compute the average for each name
scores = {
    name: sum(score)/len(score)
    for name, score in scores.items()
}
print (scores)
<END>
<QUE>
Parsing JSON array in Python to create a delimited string
<ANS>
import json    

j = """[
  {"Event":"start","EventDateTime":"2015-09-15T03:45:16.681428Z"},
  {"Event":"process","EventDateTime":"2015-09-15T03:45:16.681428Z"},
  {"Event":"end","EventDateTime":"2015-09-15T03:45:16.681428Z"}
]"""

j = json.loads(j)
for item in j:
    print '%s\t%s' % (item['Event'], item['EventDateTime'])
<END>
<QUE>
How to set background of matplotlib with two rearranged axes?
<ANS>
ax2.patch.set_visible(True)
<END>
<QUE>
How to append one csv file to another with python
<ANS>
from itertools import izip_longest
with open("filea.csv") as source1,open("fileb.csv")as source2,open("filec.csv","a") as dest2:
    zipped = izip_longest(source1,source2) # use izip_longest which will add None as a fillvalue where we have uneven length files
    for line in zipped:
        if line[1]: # if we have two lines to join
            dest2.write("{},{}
".format(line[0][:-1],line[1][:-1]))
        else: # else we are into the longest file, just treat line as a single item tuple
             dest2.write("{}".format(line[0]))
<END>
<QUE>
Replacing all occurrences of words from a given set, but only if the word is not contained within another word
<ANS>
for word in commonWords :
    text = text.replace(' '+word+' ', ' ')
<END>
<QUE>
Picking out items from a python list which have specific indexes
<ANS>
[main_list[x] for x in indexes]
<END>
<QUE>
How to save an Image using URL in python/django
<ANS>
import urllib
import string
import random
import os

filename_charset = string.ascii_letters + string.digits
filename_length = 10
file_save_dir = '/home/user/download/'

filename = ''.join(random.choice(filename_charset)
                   for s in range(filename_length))

urllib.urlretrieve ("http://www.example.com/image.png", 
                    os.path.join(file_save_dir, filename + '.png'))
<END>
<QUE>
generating slugfield from User
<ANS>
def save(self, **kwargs):
    from django.utils.text import slugify

    self.slug = slugify(self.user.username)
    super(UserProfile, self).save()
<END>
<QUE>
Convert pseudo Json string into a Python object
<ANS>
import json
import re

def parse(v):
    # Remove newlines and replace "=" with ":"
    v1 =  v.replace('=', ':').replace("
", "")
    # Enclose strings in double quotes
    v2 = re.sub(r'(\d*[a-zA-Z][a-zA-Z0-9]*)', r'"\g<1>"', v1)
    # If you want booleans
    v3 = re.sub(r'"(true|false)"', r'\g<1>', v2)
    # Create lists
    return json.loads(re.sub(r"{([^:]+)}", r'[\g<1>]', v3))
<END>
<QUE>
how to define a list with predefined length in Python
<ANS>
values = [None]*1000
<END>
<QUE>
nginx and uWSGI obtain authentication data in Python
<ANS>
def application(env, start_response):
    start_response('200 OK', [('Content-Type','text/html')])
    return "Hello World"
<END>
<QUE>
searching all fields in a table in django
<ANS>
from django.db.models import CharField
from django.db.models import  Q

fields = [f for f in table._meta.fields if isinstance(f, CharField)]
queries = [Q(**{f.name: SEARCH_TERM}) for f in fields]

qs = Q()
for query in queries:
    qs = qs | query

table.objects.filter(qs)
<END>
<QUE>
Django / Python, Make database save function re-usable (so that it takes modelname and appname from strings), using contenttypes or some other method?
<ANS>
instancemodelname = ContentType.objects.get(app_label="myappname", model="mymodelname")
b = instancemodelname.model_class()(account_username='testtestest')
b.save()
<END>
<QUE>
Another way to count occurrence in a list
<ANS>
count = 0
for item in items:
    if item == 'Boston Americans':
        count += 1
print count
<END>
<QUE>
Using Django Admin search engine in my own views
<ANS>
from django.db.models import Q
from django.db.models.query import QuerySet
import operator

def django_admin_keyword_search(model, keywords, search_fields):
    """Search according to fields defined in Admin's search_fields"""
    all_queries = None

    for keyword in keywords.split(' '):  #breaks query_string into 'Foo' and 'Bar'
        keyword_query = None

        for field in search_fields:
            each_query = Q(**{field+'__icontains':keyword})

            if not keyword_query:
                keyword_query = each_query
            else:
                keyword_query = keyword_query | each_query

        if not all_queries:
            all_queries = keyword_query
        else:
            all_queries = all_queries & keyword_query

    result_set = model.objects.filter(all_queries).distinct()

    return result_set
<END>
<QUE>
Python - Overwriting Folder If It Already Exists
<ANS>
dir = 'C:\Users\Shankar\Documents\Other'
if os.path.exists(dir):
    shutil.rmtree(dir)
os.makedirs(dir)
<END>
<QUE>
Prepend line number to string in python
<ANS>
f = open('workfile', 'r')
for num,line in enumerate(f):
    print(num+" "+line)
<END>
<QUE>
Client Not Receiving Data in Python
<ANS>
nreceive = True#nreceive = Not Received
ticks = 0
f = None
while nreceive and ticks < 101:#try to get the info 100 times or until it's received
    ticks+=1
    try:
        f = mysocket.makefile('rb')
        if not f == None:
            nreceive = False
    except:
        pass
data = f.read(1024)
<END>
<QUE>
Pyramid login user
<ANS>
session['user_id']
<END>
<QUE>
Bulk update in SQLAlchemy Core using WHERE
<ANS>
from sqlalchemy.sql.expression import bindparam
stmt = addresses.update().\
    where(addresses.c.id == bindparam('_id')).\
    values({
        'user_id': bindparam('user_id'),
        'email_address': bindparam('email_address'),
    })

conn.execute(stmt, [
    {'user_id': 1, 'email_address' : 'jack@yahoo.com', '_id':1},
    {'user_id': 1, 'email_address' : 'jack@msn.com', '_id':2},
    {'user_id': 2, 'email_address' : 'www@www.org', '_id':3},
    {'user_id': 2, 'email_address' : 'wendy@aol.com', '_id':4},
])
<END>
<QUE>
Python: Get rid of u's from the keys list generated from json
<ANS>
keys_list = map(str, keys_list)
# or keys_list = [str(key) for key in keys_list]
<END>
<QUE>
How do you select a sprite image from a sprite sheet in python?
<ANS>
import pygame, sys
from pygame.locals import *

SCREEN_X=400
SCREEN_Y=400
#Screen size

SPRT_RECT_X=0  
SPRT_RECT_Y=0
#This is where the sprite is found on the sheet

LEN_SPRT_X=100
LEN_SPRT_Y=100
#This is the length of the sprite

screen = pygame.display.set_mode((SCREEN_X, SCREEN_Y)) #Create the screen
sheet = pygame.image.load('C:\YOURFILE') #Load the sheet

sheet.set_clip(pygame.Rect(SPRT_RECT_X, SPRT_RECT_Y, LEN_SPRT_X, LEN_SPRT_Y)) #Locate the sprite you want
draw_me = sheet.subsurface(sheet.get_clip()) #Extract the sprite you want

backdrop = pygame.Rect(0, 0, SCREEN_X, SCREEN_Y) #Create the whole screen so you can draw on it

screen.blit(draw_me,backdrop) #'Blit' on the backdrop
pygame.display.flip()
#Draw the sprite on the screen
<END>
<QUE>
Create counter for triples of subsequent letters
<ANS>
def pairwise(iterable):
    it = iter(iterable)
    last = next(it)+next(it)
    for curr in it:
        yield last, curr
        last = last[1]+curr


def valid_pair((last, curr)):
    return last[0] in valid and last[1] in valid and curr in valid
<END>
<QUE>
How to access DateAxisItem from a branch
<ANS>
# -*- coding: utf-8 -*-
"""
Description of example
"""

import pyqtgraph as pg
from pyqtgraph.Qt import QtCore, QtGui
import numpy as np

pg.mkQApp()

axis = pg.DateAxisItem(orientation='bottom')
pw = pg.PlotWidget(axisItems={'bottom': axis})
pw.setWindowTitle('pyqtgraph example: DateTimeAxis')
pw.show()
pw.setXRange(1383960000, 1384020000) 

## Start Qt event loop unless running in interactive mode or using pyside.
if __name__ == '__main__':
    import sys
    if (sys.flags.interactive != 1) or not hasattr(QtCore, 'PYQT_VERSION'):
        QtGui.QApplication.instance().exe
<END>
<QUE>
Skipping over values in a generator function
<ANS>
def gen_alphaLabels(donotInclude):
    for i in range(65,91):
        char = chr(i)
        if char not in donotInclude:
            yield char
<END>
<QUE>
How to get a list of character positions in Python?
<ANS>
text = 'abcdefa'
pattern = re.compile('a|c')
[(m.group(), m.start()) for m in pattern.finditer(text)]
<END>
<QUE>
how to have a directory dialog in Pyqt
<ANS>
file = str(QFileDialog.getExistingDirectory(self, "Select Directory"))
<END>
<QUE>
Delete leaves in a tree with regex (Python)
<ANS>
re.sub("\((\w*) (\w*)\)", r"\1", t)
<END>
<QUE>
How do I find out eigenvectors corresponding to a particular eigenvalue of a matrix?
<ANS>
values, vectors = scipy.sparse.linalg.eigs(P, k=1, sigma=1)
<END>
<QUE>
item frequency count in python
<ANS>
from collections import defaultdict

words = "apple banana apple strawberry banana lemon"

d = defaultdict(int)
for word in words.split():
    d[word] += 1
<END>
<QUE>
group a bunch of files by day
<ANS>
from netCDF4 import Dataset

# a dictionary of lists that hold all the datasets from a given day
grouped_datasets = {}

for f in listdir(path):
    if isfile(join(path,f)):
        full_path = join(path,f)
        f = Dataset(full_path, 'r')
        basetime = f.variables['base_time'][:]
        altitude = f.variables['alt'][:]
        temp = f.variables['tdry'][:]
        actual_date =  strftime("%Y-%m-%d %H:%M:%S", gmtime(basetime))
        measurement_day =  strftime("%Y-%m-%d", gmtime(basetime))

        # if we haven't encountered any datasets from this day yet...
        if measurement_day not in grouped_datasets:
            # add that day to our dict
            grouped_datasets[measurement_day] = []

        # now append our dataset to the correct day (list)
        grouped_datasets[measurement_day].append(f)
<END>
<QUE>
(Python) How to limit an entry box to 2 characters max
<ANS>
def limitSizeDay(*args):
    value = dayValue.get();
    if len(value) > 2: dayValue.set(value[:2]);

dayValue = StringVar();
dayValue.trace('w', limitSizeDay);

day_entry1=Entry(List1, bg="#282B2B", fg="white", width=2, textvariable=dayValue);
day_entry1.place(x=77, y=58);
<END>
<QUE>
Is it possible to inject shell/python commands from a configuration file?
<ANS>
__import__(attackerControlledString)
<END>
<QUE>
How to create a new repository with PyGithub
<ANS>
g = Github(token)
user = g.get_user()
repo = user.create_repo(full_name)
<END>
<QUE>
Turning a list of string values into a list of integers for the length of those strings
<ANS>
for i in range(len(table_data)):
  for j in range(len(table_data[i])):
    table_data[i][j] = len(table_data[i][j])
<END>
<QUE>
A Python walker that can ignore directories
<ANS>
import os
from os.path import join, isdir, islink, isfile

def mywalk(top, topdown=True, onerror=None, ignore_list=('.ignore',)):
    try:
        # Note that listdir and error are globals in this module due
        # to earlier import-*.
        names = os.listdir(top)
    except Exception, err:
        if onerror is not None:
            onerror(err)
        return
    if len([1 for x in names if x in ignore_list]):
        return 
    dirs, nondirs = [], []
    for name in names:
        if isdir(join(top, name)):
            dirs.append(name)
        else:
            nondirs.append(name)

    if topdown:
        yield top, dirs, nondirs
    for name in dirs:
        path = join(top, name)
        if not islink(path): 
            for x in mywalk(path, topdown, onerror, ignore_list):
                yield x
    if not topdown:
        yield top, dirs, nondirs
<END>
<QUE>
Python Pandas groupby assignment of object dtypes
<ANS>
g = df.groupby("ID")
s = g["Based on"].apply(lambda group: group.values)
s.to_frame()
<END>
<QUE>
Defining a class using objects and strings with python
<ANS>
class Track:
    def __init__(self, artist, title, album=None):
        self._artist = str(artist)
        self._title = str(title)
        self._album = album

    def __str__(self):
        return self.artist + " " + self.title + " " + self.album
    #example for artist
    @property
    def artist(self):
        return self._artist
    @artist.setter
    def artist(self, artist):
        if artist != type("string"):#ensure that value is of string type.
            raise ValueError
        else:
            self._artist = artist
    #this way you could properly make setters and getter for your attributes
    #same ofr the other stuff

Track = Track("Andy", "Me", "Self named")
<END>
<QUE>
Print the following pattern in Python language
<ANS>
n=int(raw_input('n='))
for i in range(1,n+1):
    for j in range(1,n+1):
        if j==1 or j==n or j==i:
            print'#',
        else:
            print' ',

    print
<END>
<QUE>
Fastest algorithm for finding overlap between two very large lists?
<ANS>
small_list_set = set(small_list)
for line in big_list:
    for item in line:
        if item in small_list_set:
            bucket.append(line)
<END>
<QUE>
How to get value for each string index matching key in dictionary in Python
<ANS>
string = 'strings'

new_D = {'r': 1, 's': 1, 't': 1, 'r' : 3, 'i' : 4 }

sum_of_chars = 0
for character in string:
    if character in new_D:
        sum_of_chars += new_D[character]
    else:
        sum_of_chars += 1 # Default?

print(sum_of_chars)
<END>
<QUE>
Interactively Display graphs in matplotlib in python
<ANS>
pylab.get_backend()
<END>
<QUE>
Find if dates are overlapping in a list of N pairs
<ANS>
def test_overlap(dt1_st, dt1_end, dt2_st, dt2_end):
    return not (dt1_st < dt2_end and dt1_end >dt2_st)
<END>
<QUE>
How to convert from Python date to Excel date using xlrd (attribute xlrd.xldate_from_date_tuple does not exist)
<ANS>
xlrd.xldate.xldate_from_date_tuple
<END>
<QUE>
Remove words that appear in other column, Pandas
<ANS>
x['C'] = x['B'].replace(to_replace=r'\b'+x['A']+r'\b', value='',regex=True)
<END>
<QUE>
Ignore certificate validation with urllib3
<ANS>
import urllib3
c = urllib3.HTTPSConnectionPool('10.0.3.168', port=9001, cert_reqs='CERT_NONE',
                                assert_hostname=False)
c.request('GET', '/')
<END>
<QUE>
Bottle mishandling JSON data in Python3, but not Python2
<ANS>
Content-Type
<END>
<QUE>
How to split string at regular intervals in Python 3
<ANS>
def puzzle(s,a,b):
    if a*b != len(s):
       print "Not possible"
       return
    start =0
    end = b+1
    output =""
    for i in range(0,a):
        output= output+s[start: end]+"
"
        start = end+1
        end = end+b
    print output
<END>
<QUE>
Help with passing variables w/ csrfContext
<ANS>
return render_to_response('base_index.html', locals(), csrfContext)
<END>
<QUE>
Delete a specific string from a list of strings in a file python
<ANS>
name = input("Insert the name you want to delete: ")
# let's strip excessive whitespace and change to lower case:
name = name.strip().lower()
book = "data.txt"

# use 'with' construct to ensure that file is closed after use:
with open(book, 'r') as f: 
    lines = f.read().splitlines()

filtered = []
for line in lines:
    try: # guard against incorrect record, e.g. 'Guido, 1956'
        name_, sex, year = line.split(',')
    except ValueError:
        print("cannot unpack this line:", line)
        continue
    if name == name_.strip().lower():
        continue # we don't want this line, so we skip it
    filtered.append(line) # line is ok, we keep it

# join list of lines into one string and write to the file:
with open(book, 'w') as f:
    f.write('
'.join(filtered))
<END>
<QUE>
re.sub (python) substitute part of the matched string
<ANS>
re.sub(r'<p>(?=[A-Z]{2,})','<i>',MyText)
<END>
<QUE>
wxPython: how to implement paste in a grid cell?
<ANS>
if self.isCellEditControlShown:
    # _active_row and _active_col are set in the event handler...
    cellEditor = self.GetCellEditor(self._active_row, self._active_col)
    textControl = cellEditor.GetControl()
    textControl.Paste()
<END>
<QUE>
Downloading the first frame of a twitch.tv stream
<ANS>
import time, Image

import cv2
from livestreamer import Livestreamer

# change to a stream that is actually online
livestreamer = Livestreamer()
plugin = livestreamer.resolve_url("http://twitch.tv/flosd")
streams = plugin.get_streams()
stream = streams['mobile_High']

# download enough data to make sure the first frame is there
fd = stream.open()
data = ''
while len(data) < 3e5:
    data += fd.read()
    time.sleep(0.1)
fd.close()

fname = 'stream.bin'
open(fname, 'wb').write(data)
capture = cv2.VideoCapture(fname)
imgdata = capture.read()[1]
imgdata = imgdata[...,::-1] # BGR -> RGB
img = Image.fromarray(imgdata)
img.save('frame.png')
# img.show()
<END>
<QUE>
How to cipher a string with info from a txt file?
<ANS>
cipher = {}
for f in open('mapping.txt'):
  org, cip = f.split()
  cipher[ord(org)] = cip


inpt = input('Enter string: ')

inpt = inpt.translate(cipher)
print('Message: ' + inpt)
<END>
<QUE>
Django: FormView: How to add initial logic?
<ANS>
if condition:
    return redirect('/dashboard/')
else:
    return super(UserFormView, self).get(request)
<END>
<QUE>
How to scale values in the heamap in row direction using Matplotlib's "imshow"?
<ANS>
import numpy as np
import matplotlib.pyplot as plt


shifts = np.linspace(1, 50, 25)[:, np.newaxis]
x = np.arange(50)[np.newaxis, :]
data = np.exp(-(x - shifts)**2 / 50) * shifts

fig, (ax1, ax2) = plt.subplots(2, 1)

im1 = ax1.imshow(data, interpolation='none', cmap='viridis')
fig.colorbar(im1, ax=ax1, label='raw values')

norm_data = (data - np.min(data, axis=1)[:, np.newaxis]) / np.ptp(data, axis=1)[:, np.newaxis]
im2 = ax2.imshow(norm_data, interpolation='none', cmap='viridis')
fig.colorbar(im2, ax=ax2, label='normalized by row')
<END>
<QUE>
alligment of objects in wxpython
<ANS>
#!/usr/bin/env python
import wx
class MyFrame(wx.Frame):
    def __init__(self, parent, ID, title):
        wx.Frame.__init__(self, parent, ID, title, wx.DefaultPosition)
        Buttons = []
        Buttons.append(wx.Button(self,-1, "Approve Location"))
        Buttons.append(wx.Button(self,-1, "Approve Item"))
        Buttons.append(wx.Button(self,-1, "Change Qty"))
        Buttons.append(wx.Button(self,-1, "Approve"))
        sizer = wx.GridBagSizer(5,3)
        sizer.Add(Buttons[0], (0, 5), (1,1), wx.EXPAND)
        sizer.Add(Buttons[1], (1, 4), (1,1), wx.EXPAND)
        sizer.Add(Buttons[2], (1, 5), (1,1), wx.EXPAND)
        sizer.Add(Buttons[3], (2, 5), (1,1), wx.EXPAND)
        self.SetSizerAndFit(sizer)
        self.Centre()
class MyApp(wx.App):
    def OnInit(self):
        frame = MyFrame(None, -1, "Gridbagsizer")
        frame.Show(True)
        self.SetTopWindow(frame)
        return True
if __name__ == "__main__":
    app = MyApp(0)
    app.MainLoop()
<END>
<QUE>
PyQt5: Center align a label
<ANS>
import sys
from PyQt5.QtGui import *
from PyQt5.QtWidgets import *
from PyQt5.QtCore import *

class Window(QWidget):
    def __init__(self, *args, **kwargs):
        QWidget.__init__(self, *args, **kwargs)

        self.label = QLabel("Test", self)
        self.label.setSizePolicy(QSizePolicy.Expanding, QSizePolicy.Expanding)
        self.label.setAlignment(Qt.AlignCenter)
        self.label.setStyleSheet("QLabel {background-color: red;}")

        self.button = QPushButton("Test", self)

        self.layout = QGridLayout()
        self.layout.addWidget(self.label, 0, 0)
        self.layout.addWidget(self.button, 0, 1)

        self.setLayout(self.layout)
        self.show()

app = QApplication(sys.argv)
win = Window()
sys.exit(app.exec_())
<END>
<QUE>
running a script with an input file in python
<ANS>
input_file="input_{0}.in".format(case)

os.system=("./a.out {0}".format(input_file))
<END>
<QUE>
reading sparse csv file into pandas
<ANS>
input = open("sparse.csv").read().split() # split by newlines and spaces
i = iter(input)
for date in i:
    if date != "nan":
        value = i.next()
        # process pairs
<END>
<QUE>
Merge picture with video
<ANS>
import cv
resim = cv.LoadImage('image.jpg')
capture = cv.CaptureFromFile('video.avi')
while(1):
    frame = cv.QueryFrame(capture)
    cv.SetImageROI(frame,(100,100,resim.width,resim.height))
    cv.Add(frame,resim,frame)
    cv.ResetImageROI(frame)
    cv.ShowImage('frame',frame)
    if cv.WaitKey(33)==27:
        break
<END>
<QUE>
How to find a name Entity in a text in java
<ANS>
en-ner-person.bin
<END>
<QUE>
Save classifier to disk in scikit-learn
<ANS>
import cPickle
# save the classifier
with open('my_dumped_classifier.pkl', 'wb') as fid:
    cPickle.dump(gnb, fid)    

# load it again
with open('my_dumped_classifier.pkl', 'rb') as fid:
    gnb_loaded = cPickle.load(fid)
<END>
<QUE>
Windows 7 MARGINS structure in Python
<ANS>
class MARGINS(ctypes.Structure):
  _fields_ = [("cxLeftWidth", c_int),
              ("cxRightWidth", c_int),
              ("cyTopHeight", c_int),
              ("cyBottomHeight", c_int)
             ]
margins = MARGINS(1, 2, 1, 1)

dwm.DwmExtendFrameIntoClientArea(handel, ctypes.byref(margins))
<END>
<QUE>
How to find a custom tag within another tag using Selenium
<ANS>
find_elements_by_xpath('//div[@class="myclass"]/a').get_attribute("content")
<END>
<QUE>
How do I draw a polygon in python?
<ANS>
pygame.draw.polygon(screen, black, [[300,400],[150,100],[450,300]],6)
<END>
<QUE>
Python replace only part of a re.sub match
<ANS>
re.sub("(?<=[^a-zA-Z])pi(?=[^a-zA-Z])", "(math.pi)", "2pi3 + supirse")
<END>
<QUE>
pythonic way of selecing a random value that satisfies a certain predicate
<ANS>
intlist = range(1,10)
randomeven = random.choice([i for i in intlist if i % 2 == 0])
<END>
<QUE>
How can I extract a zip archive that contains a forbidden file name on Windows using Python?
<ANS>
toolzip = zipfile.ZipFile(myzipfile,  'r')
names = toolzip.namelist()
for n in names:
    data = toolzip.read(n)
    # do something with data
<END>
<QUE>
Set python object to variable
<ANS>
class Test(object):
    def __new__(*args):
        return False
<END>
<QUE>
Python: Create a polyhedron and get its section
<ANS>
BMesh.calc_volume
<END>
<QUE>
Networkx : Convert multigraph into simple graph with weighted edges
<ANS>
import networkx as nx
# weighted MultiGraph
M = nx.MultiGraph()
M.add_edge(1,2,weight=7)
M.add_edge(1,2,weight=19)
M.add_edge(2,3,weight=42)

# create weighted graph from M
G = nx.Graph()
for u,v,data in M.edges_iter(data=True):
    w = data['weight']
    if G.has_edge(u,v):
        G[u][v]['weight'] += w
    else:
        G.add_edge(u, v, weight=w)

print G.edges(data=True)
# [(1, 2, {'weight': 26}), (2, 3, {'weight': 42})]
<END>
<QUE>
Python3 - parsing jpeg dimension info
<ANS>
jpeg.read(2)
b = jpeg.read(1)
try:
    while (b and ord(b) != 0xDA):
        while (ord(b) != 0xFF): b = jpeg.read(1)
        while (ord(b) == 0xFF): b = jpeg.read(1)
        if (ord(b) >= 0xC0 and ord(b) <= 0xC3):
            jpeg.read(3)
            h, w = struct.unpack(">HH", jpeg.read(4))
            break
        else:
            jpeg.read(int(struct.unpack(">H", jpeg.read(2))[0])-2)
        b = jpeg.read(1)
    width = int(w)
    height = int(h)
except struct.error:
    pass
except ValueError:
    pass
<END>
<QUE>
sorting and summing up a dictionary in python
<ANS>
# calcuate normalization factor
factor = 1.0 / sum(in_degree_dist.itervalues())

# sort the dictionary
sorted_in_degree_dist = OrderedDict((key, in_degree_dist[key] * factor)
    for key in sorted(in_degree_dist))

# or 
sorted_in_degree_dist = OrderedDict((key, value * factor)
    for key, value in sorted(in_degree_dist.iteritems()))
<END>
<QUE>
Does UWSGI influence LDAPS Requests from an underlying Django app?
<ANS>
l.set_option(ldap.OPT_HOST_NAME, settings.AD_DNS_NAME)
<END>
<QUE>
Read data from file into different arrays in python
<ANS>
names = []
values = []
data = []
with open('yourfile') as lines:
    for line in lines:
        first, rest = line.split(' ', 1)

        if first == 'name':
            names.append(rest)

        elif first == 'values':
            floats = map(float, rest.split())
            values.append(tuple(floats))

        elif first == 'data':
            int_str, floats_str = rest.split(' ', 1)
            floats = map(float, floats_str.split())
            data.append( (int(int_str),) + tuple(floats) )
<END>
<QUE>
Strip path from filename
<ANS>
# List files in directory and upload them to bucket
for filename in all_files:
    #skip all directory entries which are not a file
    if not os.path.isfile(filename):
          continue    
    k = Key(bucket)
    k.key = os.path.basename(filename)
    k.set_contents_from_filename(filename, cb=percent_cb, num_cb=10)
<END>
<QUE>
Passing list of arguments of varying length
<ANS>
x = [[a, b, c], [d, e, f], [g, h, i]]
itertools.product(*x)
<END>
<QUE>
Raw Input on for loops
<ANS>
for x in doclist:
    if x == '[':
        count=count+1
    elif count == 1:
        response=raw_input("Please enter %s" % x)
        count=count-1
    else:
        pass
<END>
<QUE>
Is there a way to get all the directories but not files in a directory in Python?
<ANS>
def listfiles(directory):
    return [f for f in os.listdir(directory) 
              if os.path.isdir(os.path.join(directory, f))]
<END>
<QUE>
How to append data to an existing database, without affecting the data already present?
<ANS>
d1 = mysql.connect(database1)
d2 = mysql.connect(database2)

with d2 as c2: # new transaction
    c2.execute("SELECT f1, f2, f3 FROM table")
    with d1 as c1:
        c1.executemany("INSERT INTO table (f1, f2, f3) VALUES (%s, %s, %s)", c2)
<END>
<QUE>
Python conversion from list to tuple
<ANS>
before = ['JACKIE:34', 'MATT:444', 'CEN:12', 'PETE:12', 'RANDY:92', 'MITCH:2', 'JAN:2']
after = [(name, int(value)) for name, value in (x.split(':') for x in before)]
print after
<END>
<QUE>
program to generate palindromic number
<ANS>
# Using extended slice notation to reverse the string
if str(n) == str(n)[::-1]:
    print "Palindrome!"
<END>
<QUE>
Scrapy: parse a div from a list of divs
<ANS>
response.xpath('//li[@class=listclass"]/div[not(contains(@class,"divclass"))]/text()').extract()
<END>
<QUE>
How to factorise python test cases with nosetests
<ANS>
class AlgoMixin(object):
  # Does not end in "Test"; not a subclass of unittest.TestCase.
  # You may prefer "AbstractBase" or something else.

  def test_empty(self):
    result = self.function(make_empty_graph())
    self.assertTrue(result)

class TestF(AlgoMixin, unittest.TestCase):
  function = staticmethod(f)
  # Doesn't need to be in setup, nor be an instance attribute.
  # But doesn't take either self or class parameter, so use staticmethod.

  def test_random(self):
    pass  # Specific test for algorithm 'f'.
<END>
<QUE>
A simple Script to extracting a zip file
<ANS>
import zipfile

fh = open(targetzip, 'rb')
z = zipfile.ZipFile(fh)
for name in z.namelist():
    z.extract(name, extractto)
fh.close()
<END>
<QUE>
Check which branches contain a specific git commit sha using Python dulwich?
<ANS>
branches = [ref for ref in repo.refs.keys("refs/heads/") if
            any((True for commit in repo.get_walker(include=[repo.refs[ref]])
                 if commit.id == YOURSHA))]
<END>
<QUE>
Python ETREE parsing of a windows XML output
<ANS>
test = props.find('S/[@N="SamAccountName"]')
<END>
<QUE>
Find anagrams for a list of words
<ANS>
def isAnagram(str1, str2):
    str1_list = list(str1)
    str1_list.sort()
    str2_list = list(str2)
    str2_list.sort()

    return (str1_list == str2_list)
<END>
<QUE>
Checking text files for certain strings in python
<ANS>
if (
    ("this phrase" in textfile or "that phrase" in textfile) and not (
    "not this phrase" in textfile or "not that phrase" in textfile)
):
    return True
<END>
<QUE>
Python: How to index the elements of a numpy array?
<ANS>
import collections
import itertools

d = collections.defaultdict(list)
for indices in itertools.product(*map(range, a.shape)):
    d[a[indices]].append(indices)
<END>
<QUE>
FFT coefficients using python
<ANS>
from scipy.signal import argrelmax
f = xf[scipy.signal.argrelmax(yf[0:N/2])]
Af = np.abs(yf[argrelmax(yf[0:N/2])])
<END>
<QUE>
Use prefetch related many to many table without many to many field
<ANS>
A.objects.filter(name='abc').prefetch_related('ab_set')
<END>
<QUE>
Getting Python to round Timestamp with NS versus Truncate
<ANS>
date_str = '2014-06-18 13:06:00.349565827'

# split off the seconds & microseconds
beginning, sec = date_str.rsplit(':', 1) 

# Use string formatting to recreate a rounded timestamp
date = dateutil.parser.parse('{}:{:02.6f}'.format(beginning, float(sec)))
<END>
<QUE>
Comparing two CSV and writing the missing values(in different rows) to a file python
<ANS>
import csv

f1 = file('C:\File1.csv', 'rb')
f2 = file('C:File2.csv', 'rb')
f3 = file('C:\output_file.csv', 'wb')
c1 = csv.reader(f1)
c2 = csv.reader(f2)
c3 = csv.writer(f3)
masterlist = [row[0] for row in c2]

for hosts_row in c1:
    if hosts_row[0] not in masterlist:
        print hosts_row
        c3.writerow(hosts_row)
<END>
<QUE>
Export a table in CSV file
<ANS>
import math
import csv

x = 2.0
with open('out.csv', 'wb') as f:
    writer = csv.writer(f, delimiter=',')
    while x < 100.0:
        print x, '\t', math.log(x)/math.log(2)
        writer.writerow([x, math.log(x)/math.log(2)])
        x = x + x
<END>
<QUE>
How to close the program by pressing button?
<ANS>
from Tkinter import *
import ttk
import time
import threading

def start():
    start_stop.config(text="QUIT", command=stop)
    thread = threading.Thread(target=progBar, args=())
    thread.daemon = True
    thread.start()

def progBar():
    for i in xrange(5):
        pbar_det.step(19.99)
        master.update()
        # Busy-wait
        time.sleep(1)
    master.quit()

def stop():
    master.quit()

master = Tk()

start_stop = Button(master, text='START', command=start)
start_stop.grid(row=0, column=1, pady=2, padx=2, sticky=E+W+N+S)

pbar_det = ttk.Progressbar(master, orient="horizontal", length=600, mode="determinate")
pbar_det.grid(row=0, column=0, pady=2, padx=2, sticky=E+W+N+S)

master.mainloop()
<END>
<QUE>
Numpy arrays with compound keys; find subset in both
<ANS>
drop=False, inplace=True
<END>
<QUE>
Algorithm for generating list of unique tuples with specific properties
<ANS>
def generateTuples(N, M):
  done = 0
  counters = {}
  for C in range(3, N + 3):
    for B in range(2, C):
      for A in range(1, B):
        if (counters.get('A%i' % A, 0) < M and
            counters.get('B%i' % B, 0) < M and
            counters.get('C%i' % C, 0) < M):
          yield (A, B, C)
          counters['A%i' % A] = counters.get('A%i' % A, 0) + 1
          counters['B%i' % B] = counters.get('B%i' % B, 0) + 1
          counters['C%i' % C] = counters.get('C%i' % C, 0) + 1
          done += 1
          if done >= N:
            return

for (A, B, C) in generateTuples(8, 3):
  print (A, B, C)
<END>
<QUE>
How can I do the summatory of elements in a list of lists in python?
<ANS>
# a is some list
b2 = [0]*len(a[0])
for x in a:
    for y in range(len(x)):
         b2[y] += x[y]
print(b2)
<END>
<QUE>
How can I extract a list of TestCases from a TestSuite?
<ANS>
for test in suite:
    print test._tests
<END>
<QUE>
PySide - QSvgWidget renders embedded SVG files incorrectly
<ANS>
import sys
from PySide.QtGui import QApplication, QGraphicsScene, QGraphicsView
from PySide.QtWebKit import QGraphicsWebView

if __name__ == '__main__':
    app = QApplication(sys.argv)

    item = QGraphicsWebView()
    item.load('front.svg')
    view = QGraphicsView()
    scene = QGraphicsScene()
    scene.addItem(item)
    view.setScene(scene)
    view.show()
    sys.exit(app.exec_())
<END>
<QUE>
How To Read and Write to a INI file in Python
<ANS>
def read_or_write_file(self, file, section, passed_option = None,
                      value = None, read = True):

    config = ConfigParser.RawConfigParser()
    with open(file) as configfile:
        config.readfp(configfile)    

    if read:
        options = config.options(section)

        for option in options:
            file_settings[option] = config.get(section, option)

    else:
        config.set(section, passed_option, value)

        with open(file, 'w') as configfile:
            config.write(configfile)
<END>
<QUE>
Python: Get data between html tags if an attribute matches and put it into a list
<ANS>
pattern = '<td.*?bgcolor="#ff9900".*?>(.*?)</th>'
re.findall(pattern, html)
<END>
<QUE>
Python read certain text from a single line
<ANS>
with open('test.txt') as input_data:
    for line in input_data:
       match = re.search(r' is (.*) test ', line)
       if match:
          print(line)
          print(match.group(1))
<END>
<QUE>
What's the most efficient way to filter values out of a list based on the values in another list
<ANS>
res = [word for word in simpleTokenize(string) if word not in stopwords]
<END>
<QUE>
How to use fabric to create a folder/directory on arbitrary host, multiple platforms, Linux and Windows?
<ANS>
run('''python -c "import os;os.mkdir('some dir')" ''')
<END>
<QUE>
Download a file using Python
<ANS>
import urllib2
def download(url, file):
    dataset = urllib2.urlopen(url)
    CHUNK = 16 * 1024
    with open(file, 'wb') as dl:
        while True:
            peice = dataset.read(CHUNK)
            if not peice: break
            dl.write(peice)

download(r'http://dds.cr.usgs.gov/emodis/Africa/historical/TERRA/2012/comp_056/AF_eMTH_NDVI.2012.047-056.QKM.COMPRES.005.2012059143841.zip',r'AF_eMTH_NDVI.2012.047-056.QKM.COMPRES.005.2012059143841.zip')
<END>
<QUE>
Parsing dictionary-like URL parameters in Python
<ANS>
from collections import defaultdict
import re
params = {
    'a': 'b',
    'c': 'd',
    'foo[bar]': 'element1',
    'foo[baz]': 'element2',
    'foo[qis]': 'element3',
    'foo[borfarglan][bofgl]': 'element4',
    'foo[borfarglan][bafgl]': 'element5',
}

def split(string, brackets_on_first_result = False):
    matches = re.split("[\[\]]+", string)
    matches.remove('')
    return matches

def mr_parse(params):
    results = {}
    for key in params:
        if '[' in key:
            key_list = split(key)
            d = results
            for partial_key in key_list[:-1]:
                if partial_key not in d:
                    d[partial_key] = dict()
                d = d[partial_key]
            d[key_list[-1]] = params[key]
        else:
            results[key] = params[key]
    return results
print mr_parse(params)
<END>
<QUE>
How to search for an item in a list of lists?
<ANS>
if any(test5 in subindex for subindex in index):
    print True
<END>
<QUE>
how to find the excel value from row, col names in python?
<ANS>
d = ws.cell(row = 4, column = 2)
print d.value
<END>
<QUE>
Is there a way to write formatted text from Python?
<ANS>
test = 'tester.rtf'
out_file = open(test,'w')
out_file.write("""{\\rtf1
This is \\b Bold  \\b0\line\
}""")
out_file.close() #thanks to the comment below
<END>
<QUE>
How to import a file by its full path using C api?
<ANS>
s.sprintf( 
  "import imp
" 
  "imp.load_source('%s', r'%s')", modname, script_path); 
PyRun_SimpleString(s.c_str());
<END>
<QUE>
How to count number of lines after a certain line
<ANS>
def file_len(fname):
    with open(fname) as f:
        for line in f:
            if line.strip() == "{A   B}":
                break
        return sum(1 for line in f)
<END>
<QUE>
.get() taking two arguments in python
<ANS>
new_line = (T1.get("1.0",'end-1c'))
<END>
<QUE>
How can I create inline comments (without using backslash to continue on another line)?
<ANS>
my_var = (#some_variable +
         some_other_var)
<END>
<QUE>
Parsing uploaded files without passing key
<ANS>
request.FILES
<END>
<QUE>
get all of the immediate subdirectories in python
<ANS>
import os
def get_immediate_subdirectories(a_dir):
    return [name for name in os.listdir(a_dir)
            if os.path.isdir(os.path.join(a_dir, name))]
<END>
<QUE>
Remove duplicates from list of tuples based on value at certain index
<ANS>
from collections import Counter

def selectUnique(x):
    count = Counter((i[1], i[2]) for i in x)
    out = [i for i in x if count[(i[1], i[2])] == 1]
    return out
<END>
<QUE>
Validate reachability of each state in a FSM from a 'start' state and to an 'end' state
<ANS>
import networkx as nx

G = nx.DiGraph()
G.add_nodes_from(["Start", "a", "b", "c", "End"])
G.add_edges_from([("Start", "a"), ("Start", "c"), ("a", "b"), ("b", "a"), ("c", "End")])

total_num_nodes = G.number_of_nodes()

if len(nx.shortest_path(G, source="Start")) < total_num_nodes:
    print "
This FSM has inaccessible states"
else:
    print "
All nodes reachable from 'Start'"

H = G.reverse()
if len(nx.shortest_path(H, source="End")) < total_num_nodes:
    print "
This FSM has dead-end states"
else:
    print "
All nodes have a path to reach the 'End' state"
<END>
<QUE>
How to find the name of the folder given to selenium webdriver object?
<ANS>
browser.profile.path
<END>
<QUE>
Create a table from a function's return values
<ANS>
def create_table():
    curname = None
    for amount in xrange(2500):
        name = best(amount)
        if name != curname:
            if curname is not None:
                print "%d-%d %s" % (minamt, amount-1, curname)
            curname = name
            minamt = amount
    print "%d-%d %s" % (minamt, amount-1, curname)
<END>
<QUE>
Stream large binary files with urllib2 to file
<ANS>
response = urllib2.urlopen(url)
CHUNK = 16 * 1024
with open(file, 'wb') as f:
   while True:
      chunk = response.read(CHUNK)
      if not chunk: break
      f.write(chunk)
<END>
<QUE>
Providing arguments to transactions in Datastore Plus (NDB)
<ANS>
yield context.transaction(lambda: increment_counter(acc.key(), 5))
<END>
<QUE>
Reading file from a directory in Python
<ANS>
path = 'C:\Users\Kenny\Desktop\TTUM'
listing = os.listdir(path)

for infile in listing:
    dir_item_path = os.path.join(path, infile)
    fh = open(dir_item_path,'r')
    Fname = infile 
    Lname = Fname.split('.')[0]
    name = Lname + ".csv"
    process_file = open(name,"wb")
    newfile = csv.writer(process_file)
    for line in fh.readlines():
         space_remove = re.sub(r"\s+",",",line.rstrip())
         split_Line = space_remove.split(" ")
         newfile.writerow(split_Line)
    process_file.close()
<END>
<QUE>
Data miss in socket transfer
<ANS>
Input.readLines()
<END>
<QUE>
Reading a specific row & columns of data in a text file
<ANS>
#updated
L = []
for index, line in enumerate(open('data.txt')):
    if index <= 4: #skip first 5 lines
        continue
    else:
         L.append(line.split()[2]) #split on whitespace and append value from third columns to list.
print(L)
#[6.0, 5.0, 7.0]
<END>
<QUE>
Trouble with a Python Countdown Program
<ANS>
from datetime import timedelta
from time import sleep

while True:
    try:
        hours, minutes, seconds = input('Enter hours, minutes, seconds (with a comma in between): ')
    except (ValueError, TypeError):    # other errors
        print("Error 1, please ...")
        continue
    except NameError:
        print("Error 2")
        continue
    else:
        print("All good")
        break

total = timedelta(hours=hours, minutes=minutes, seconds=seconds)
for passed_seconds in range(int(total.total_seconds())):
    print total - timedelta(seconds=passed_seconds)
    sleep(1)
<END>
<QUE>
Autoscale with margin in matplotlib
<ANS>
axes.set_autoscale_on(True)
axes.autoscale_view(True,True,True)
axes.set_ylim(0, 11) # 11 -> max(yvalues) + 1
<END>
<QUE>
Delete None values from Python dict
<ANS>
result = default.copy()
result.update((k, v) for k, v in user.iteritems() if v is not None)
<END>
<QUE>
How to check test run results in nose2?
<ANS>
import nose2

test_run = nose2.discover(argv = ['-s', 'path-to-tests'], exit = False)
if test_run.result.wasSuccessful():
    do_something()
else:
    do_something_else()
<END>
<QUE>
Python Changing module variables in another module
<ANS>
import foo
foo.arbit = 'new value'
<END>
<QUE>
Extract values from H mn s format time in python
<ANS>
import re

mult = {'h': 60*60, 'mn': 60}
res = sum(int(num) * mult.get(val, 1) for num, val in re.findall('(\d+)(\w+)', '1h 34mn 2s'))
# 5642
<END>
<QUE>
Finding a file with a particular string as part of its name in a directory
<ANS>
from os import listdir
from os.path import isfile, join
subString = "xyz"
mypath = "/tmp"
onlyGoodfiles = [f for f in listdir(mypath) if isfile(join(mypath, f)) and subString in f]
<END>
<QUE>
Flask and Angular Web Application Routing
<ANS>
controllers.py
<END>
<QUE>
Odoo 7 Webkit Report printing for Invoice
<ANS>
context = {'lang': 'fr_FR'}
id_report = printsock.report(dbname, uid, pwd, model, ids, {'model': model, 'report_type':'webkit', 'id':id_of_report, 'webkit_header':[id_of_webkit_header,"name_of_webkit_header"], 'report_name':'webkit.account.invoice', 'lang':'fr_FR','tz':'Europe/Paris'}, context)
<END>
<QUE>
How to remove the items from list in python based on other list
<ANS>
list(set(list1)-set(list2))
<END>
<QUE>
Need help understanding XPATH in a specific XML example
<ANS>
nsmap = {'xmlns': 'urn:tva:metadata:2010'}

for info in root.xpath('//xmlns:ProgramInformation', namespaces=nsmap):
    print info.get('programId') # retrieve crid
    print info.find('.//xmlns:Title', namespaces=nsmap).text # retrieve title
    print info.find('.//xmlns:Genre/xmlns:Name', namespaces=nsmap).text # retrieve genre
<END>
<QUE>
How to change radial ticks in julia PyPlot polar plot?
<ANS>
ax1[:set_yticks]([0.2,0.4,0.6,0.8,1.0])
ax1[:set_yticklabels](["-40dB","-30dB","-20dB","-10dB","0dB"])
<END>
<QUE>
Convert SqlAlchemy orm result to dict
<ANS>
def object_to_dict(obj, found=None):
    if found is None:
        found = set()
    mapper = class_mapper(obj.__class__)
    columns = [column.key for column in mapper.columns]
    get_key_value = lambda c: (c, getattr(obj, c).isoformat()) if isinstance(getattr(obj, c), datetime) else (c, getattr(obj, c))
    out = dict(map(get_key_value, columns))
    for name, relation in mapper.relationships.items():
        if relation not in found:
            found.add(relation)
            related_obj = getattr(obj, name)
            if related_obj is not None:
                if relation.uselist:
                    out[name] = [object_to_dict(child, found) for child in related_obj]
                else:
                    out[name] = object_to_dict(related_obj, found)
    return out
<END>
<QUE>
Replacing missing values with random in a numpy array
<ANS>
nan_mask = np.isnan(matrix)
matrix[nan_mask] = np.random.randint(0, 2, size=np.count_nonzero(nan_mask))
<END>
<QUE>
How to turn variable length bytes(less than 8) to long long int faster in python3?
<ANS>
def func(rawData):
    sum = 0
    for i in rawData[::-1]:
        sum += i
        sum <<= 8

    sum >>= 8
    return sum
<END>
<QUE>
how to set the exact height of an element in Tkinter?
<ANS>
button = tkinter.Button(row6, text = 'Send', height = 2, width = 20, relief = 'raised', cursor = 'hand1', font = ('times', 14, 'bold'))
<END>
<QUE>
How to filter records from a model within view?
<ANS>
polls_list = Event.objects.filter(inserttime__gt=timezone.now()).order_by('-inserttime')
<END>
<QUE>
How to query many-to-many based on some constraints in flask sqlalchemy?
<ANS>
Item.query.join(Item.users).filter(User.name == 'bob')
Item.query.join(Item.users).filter(User.name == 'bob', Item.name == 'shark')
<END>
<QUE>
Optimizing removing duplicates in large files in Python
<ANS>
def sortedfilter(in_fname, filter_fname, out_fname):
    with open(in_fname) as inf, open(filter_fname) as fil, open(out_fname, 'w') as outf:
        ins = inf.next()
        try:
            for fs in fil:
                while ins < fs:
                    outf.write(ins)
                    ins = inf.next()
                while ins == fs:
                    ins = inf.next()
        except StopIteration:
            # reached end of inf before end of fil
            pass
        else:
            # reached end of fil first, pass rest of inf through
            file_output.writelines(file_input.readlines())
<END>
<QUE>
How to manipulate pandas DataFrame to plot ggplot histogram
<ANS>
plot = ggplot.ggplot(new_df, ggplot.aes(x='weekday', y='ENTRIESn_hourly')) +\
ggplot.geom_bar(stat='identity') +\
ggplot.ggtitle('NYC Subway ridership by day of week') +\
ggplot.xlab('Week day (0=Sunday)') +\
ggplot.ylab('Entries')
<END>
<QUE>
Spline Interpolation with Python
<ANS>
import numpy as np
import scipy as sp
from scipy.interpolate import interp1d

x1 = sorted([1., 0.88, 0.67, 0.50, 0.35, 0.27, 0.18, 0.11, 0.08, 0.04, 0.04, 0.02])
y1 = [0., 13.99, 27.99, 41.98, 55.98, 69.97, 83.97, 97.97, 111.96, 125.96, 139.95, 153.95]

new_length = 25
new_x = np.linspace(x.min(), x.max(), new_length)
new_y = sp.interpolate.interp1d(x, y, kind='cubic')(new_x)
<END>
<QUE>
TypeError: data() missing 4 required positional arguments: 'n', 'p', 'gn', and 's'
<ANS>
def data():
   name = input("Please enter the customer's name.")
   temp_phone = int(input("Please enter the customer's Phone Number."))
   while len.str(temp_phone) != 11:
        temp_phone = int(input("Please enter the customer's Phone Number."))
   phone = temp_phone
   temp_groupno = int(input("Please enter the number of diners in the group (maximum 20 diners)"))
   while  not (1 <= groupno <=20):
        temp_groupno = int(input("Please enter the number of diners in the group (maximum 20)"))
   group = temp_groupno

   temp_score = int(input("Please enter the rating of the meal (between 1 and 10)"))
   while not (1 <= temp_score <= 3):
        temp_score = int(input("Please enter the rating of the meal - between 1 & 10."))
   score = temp_score
   return {'name': name, 'phone': phone, 'group': group, 'score': score}

customers = []
customers.append(data())
customers.append(data())
print(customers)
<END>
<QUE>
Using DBus in python program
<ANS>
#!/usr/bin/env python

import sys
import dbus
from PyQt4.QtGui import QApplication
from dbus.mainloop.qt import DBusQtMainLoop

class DBus_Answer():
    def __init__(self, text):
        self.answer = text
        bus_loop = DBusQtMainLoop(set_as_default=True)
        self.bus = dbus.SessionBus()
        self.bus.add_signal_receiver(self.my_func,
                                     dbus_interface="im.pidgin.purple.PurpleInterface",
                                     signal_name="ReceivedImMsg")

    def my_func(self, account, sender, message, conversation, flags):
        obj = self.bus.get_object("im.pidgin.purple.PurpleService", "/im/pidgin/purple/PurpleObject")
        purple = dbus.Interface(obj, "im.pidgin.purple.PurpleInterface")
        purple.PurpleConvImSend(purple.PurpleConvIm(conversation), self.answer)

app = QApplication(sys.argv)
run = DBus_Answer("Slam")
app.exec_()
<END>
<QUE>
python selenium save value of textfileld
<ANS>
driver.find_element_by_id("txtfld").get_attribute("value")
<END>
<QUE>
Parse a string to floats with different separators
<ANS>
import re
import locale

# Remove anything not a digit, comma or period
no_cruft = re.sub(r'[^\d,.-]', '', st)

# Split the result into parts consisting purely of digits
parts = re.split(r'[,.]', no_cruft)

# ...and sew them back together
if len(parts) == 1:
    # No delimeters found
    float_str = parts[0]
elif len(parts[-1]) != 2:
    # >= 1 delimeters found. If the length of last part is not equal to 2, assume it is not a decimal part
    float_str = ''.join(parts)
else:
    float_str = '%s%s%s' % (''.join(parts[0:-1]),
                            locale.localeconv()['decimal_point'],
                            parts[-1])

# Convert to float
my_float = float(float_str)
<END>
<QUE>
How many bytes per element are there in a Python list (tuple)?
<ANS>
import asizeof

N = 1000000
print asizeof.asizeof(range(N)) / N
# -> 20 (python 2.5, WinXP, 32-bit Linux)
# -> 33 (64-bit Linux)
<END>
<QUE>
Can't truncate a number with Python
<ANS>
for row in reader:
    print("Time Stamp: %s - Temperature ?C: %.2f - Humidity: %%: %.2f" % (row[0], float(row[1]), float(row[2])))
<END>
<QUE>
using SWIG with C++
<ANS>
-lpython24
<END>
<QUE>
How to find the average of multiple columns in a file using python
<ANS>
with open("filename", "rtU") as f:
    columns = f.readline().strip().split(" ")
    numRows = 0
    sums = [0] * len(columns)

    for line in f:
        # Skip empty lines
        if not line.strip():
            continue

        values = line.split(" ")
        for i in xrange(len(values)):
            sums[i] += int(values[i])
        numRows += 1

    for index, summedRowValue in enumerate(sums):
        print columns[index], 1.0 * summedRowValue / numRows
<END>
<QUE>
How to write a only integers numpy 2D array on a txt file
<ANS>
savetxt(fname='newPicksData.txt', X=new_picks.astype(int), fmt ='%.0f
')
<END>
<QUE>
How to invoke a .Net method with unsigned integer argument from IronPython
<ANS>
import clr
clr.AddReference('ClassLibrary1')
from ClassLibrary1 import MmsValue
from System import UInt32    

uint32_mmsValue = MmsValue.__new__.Overloads[UInt32](MmsValue, 1)
<END>
<QUE>
How to construct a TarFile object in memory from byte buffer in Python 3?
<ANS>
import tarfile, io
byte_array = client.read_bytes()
file_like_object = io.BytesIO(byte_array)
tar = tarfile.open(fileobj=file_like_object)
# use "tar" as a regular TarFile object
for member in tar.getmembers():
    f = tar.extractfile(member)
    print(f)
<END>
<QUE>
Getting Pypy to recognize third party modules
<ANS>
sys.path.insert(0, '/usr/local/lib')
sys.path.insert(0, os.path.expanduser('~/lib'))
<END>
<QUE>
Python write to file in list format
<ANS>
s = ','.join(info)
f.write(s + '
')
<END>
<QUE>
Check if a filename is valid
<ANS>
try:
    open(filename, 'w').close()
    os.unlink(filePath)
    print('Filename is valid.')
except OSError:
    print('Filename is not valid.')
<END>
<QUE>
read string backwards and terminate at first '/'
<ANS>
#!/usr/bin/python
import os.path
path = '/dir1/dir2/dir3/file.exe'
name = os.path.basename(path)
print name
<END>
<QUE>
Finding RGB values
<ANS>
def findColor():
    pic=takePicture()
    for pix in getPixels(pic):
        r = getRed(pix)
        g = getGreen(pix)
        b = getBlue(pix)
        print(r,g,b)
<END>
<QUE>
Tracking how many elements we process in generator
<ANS>
class RecordProcessor(object):
    def __init__(self, recs):
        self.recs = recs
        self.processed_rec_count = 0
    def __call__(self):
        for r in self.recs:
            if r.sender('sender_of_interest'):
               self.processed_rec_count += 1
               # process record r...
               yield r  # processed record

def process_all_records(files):
    for f in files:
        fd = open(f,'r')
        recs_p = RecordProcessor(read_records(fd))
        write_records(recs_p)
        print 'records processed:', recs_p.processed_rec_count
<END>
<QUE>
SyntaxError: invalid syntax for a beginner
<ANS>
x = 0
while x < len(days):
    print ("{0:20} \t {1:20}".format(days[x], str(gals[x])))
    x += 1
<END>
<QUE>
How do I make a BasicAuth REST query over SSL with python3
<ANS>
import requests
username = "SomeUser"
password = "SomePass"
r = requests.get("https://a.b.c:7895/resource/path?param1=foo",auth=(username,password),verify=False)
<END>
<QUE>
breaking a list in to lists in python?
<ANS>
your_list = [[int(j) for j in i.split()] for i in ' '.join(data).split('<>')]
<END>
<QUE>
Python Matplotlib FuncAnimation only draws one frame
<ANS>
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.animation as animation

x = np.linspace(0,2*np.pi,100)

fig = plt.figure()  
sub = fig.add_subplot(111, xlim=(x[0], x[-1]), ylim=(-1, 1))
PLOT, = sub.plot([],[])

def animate(i):
    PLOT.set_data(x[:i], np.sin(x[:i]))
    # print("test")
    return PLOT,

ani = animation.FuncAnimation(fig, animate, frames=len(x), interval=10, blit=True)
plt.show()
<END>
<QUE>
Query Wikipedia data page
<ANS>
import urllib
import urllib2
import simplejson

url = 'http://en.wikipedia.org/w/api.php'
values = {'action' : 'query',
          'prop' : 'revisions',
          'titles' : 'Jennifer_Aniston',
          'rvprop' : 'content',
          'format' : 'json'}

data = urllib.urlencode(values)
req = urllib2.Request(url, data)
response = urllib2.urlopen(req)
json = response.read()
<END>
<QUE>
Setting the position on a button in Python?
<ANS>
MyButton1 = Button(master, text="BUTTON1", width=10, command=callback)
MyButton1.grid(row=0, column=0)

MyButton2 = Button(master, text="BUTTON2", width=10, command=callback)
MyButton2.grid(row=1, column=0)

MyButton3 = Button(master, text="BUTTON3", width=10, command=callback)
MyButton3.grid(row=2, column=0)
<END>
<QUE>
Django: How to upload file without UnicodeEncodeError on save()?
<ANS>
import locale
import sys

def my_views(request):
    # before 
    reload(sys)
    sys.setdefaultencoding("utf-8")
<END>
<QUE>
Json File Handling in Python: Writing input to file
<ANS>
keyPass = input("Create Admin Password > ")

with open(pathName, 'w') as db_file:
    db_file.write(json.dumps({"Admin": keyPass}))

with open(pathName, 'w') as db_file:
    json.dump({"Admin": keyPass}, db_file)
<END>
<QUE>
How to programatically pause spotify when a call comes in on skype
<ANS>
import Skype4Py
import time
from pytify import Spotify

# Create Skype object
skype = Skype4Py.Skype()
skype.Attach()

# Create Spotify object
spotify = Spotify()
spotifyPlaying = spotify.isPlaying()

# Create handler for when Skype call status changes
def on_call_status(call, status):
  if status == Skype4Py.clsInProgress:
    # Save current spotify state
    global spotifyPlaying
    spotifyPlaying = spotify.isPlaying()

    if spotify.isPlaying():
      print "Call started, pausing spotify"
      # Call started, pause Spotify
      spotify.stop()

  elif status == Skype4Py.clsFinished:
    # Call finished, resume Spotify if it was playing
    if spotifyPlaying and not spotify.isPlaying():
      print "Call finished, resuming spotify"
      spotify.playpause()  

skype.OnCallStatus = on_call_status

while True:
  time.sleep(10)
<END>
<QUE>
Plone: reacting to object removal
<ANS>
import transaction

def redirect_to_trial(trans, obj=None, parent=None):
    if obj.id not in parent:
        request = getattr(obj, 'REQUEST', None)
        if request:
            trial_url = obj.__parent__.__parent__.absolute_url()
            request.response.redirect(trial_url)

@grok.subscribe(ISite, IObjectRemovedEvent)
def on_site_delete(obj, event):
    kwargs = dict(
        obj = obj,
        parent = event.oldParent,
    )
    transaction.get().addAfterCommitHook(redirect_to_trial, kws=kwargs)
<END>
<QUE>
Operation by indexing only last axis
<ANS>
R = numpy.arctan2(A[...,1],A[...,0])
<END>
<QUE>
Formatting Pascal's triangle
<ANS>
h = int(raw_input("Please enter the height of the triangle: "))
for i in mytri(h):
    print " " * (h * 2), i
    h -= 1
<END>
<QUE>
How to check the values in a instance with Python?
<ANS>
class Hello(object):
    def __init__(self):
        self.x = None
        self.y = None
        self.z = None
    def is_all_set(self):
        return all(getattr(self, attr) is not None for attr in self.__dict__)
<END>
<QUE>
How to plot in a specific axis with DataFrame.hist(by=) in pandas
<ANS>
import pandas as pd
import matplotlib.pyplot as plt

df = pd.DataFrame({'color': ['blue','blue','yellow','blue','yellow'], 'area': [2,2,3,4,4]})
fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(2,2)
#Hide upper left corner plot and create two new subplots
ax1.axis('off')
ax = fig.add_subplot(2,4,1)
ax0 = fig.add_subplot(2,4,2)
#Plot
ax3.plot([[2,2], [3,6]])
ax4.plot([[3,6], [2,2]])
df.area.hist(by=df.color, ax=(ax,ax0)) #Pass both new subplots
<END>
<QUE>
Integer to byte conversion
<ANS>
def int_to_rgb(n):
    b = (n & 0xff0000) >> 16
    g = (n & 0x00ff00) >> 8
    r = (n & 0x0000ff)
    return (r, g, b)
<END>
<QUE>
how to detect if a point lies in a non-rectangular region in a 2D numpy array?
<ANS>
areas = array([[1, 1, 2, 2],\
        [0, 1, 0, 1],\
        [3, 0, 1, 4],\
        [0, 3, 1, 1]])

def is_in_area(x,y, area_num):
    return areas[round(x), round(y)] == area_num
<END>
<QUE>
Python SocketServer - Get own IP
<ANS>
import urllib.request
external_ip = urllib.request.urlopen('http://ifconfig.me/ip').read()
<END>
<QUE>
working with ? in python
<ANS>
word = u'F??NF'
<END>
<QUE>
How to make a function that applies different formulas to any length of tuple?
<ANS>
def tup321(tup):
    return (tup[0] + 3, tup[1] * 2, tup[2] / 2)
<END>
<QUE>
sort a list of percentages
<ANS>
b =['52.5%', '62.4%', '91.8%', '21.5%']
b.sort(key = lambda a: float(a[:-1]))
<END>
<QUE>
how to do a git diff of current commit with last commit using gitpython?
<ANS>
import git
repo = git.Repo("path/of/repo/")

# the below gives us all commits
repo.commits()

# take the first and last commit

a_commit = repo.commits()[0]
b_commit = repo.commits()[1]

# now get the diff
repo.diff(a_commit,b_commit)
<END>
<QUE>
How to return in-memory PIL image from WSGI application
<ANS>
output = StringIO.StringIO()
base.save(output, format='PNG')
return [output.getvalue()]
<END>
<QUE>
Remove Cancel button from PyQt4 Progress Dialog
<ANS>
self.prog.setCancelButton(None)
<END>
<QUE>
python string formatting in javascript
<ANS>
vsprintf('The first 4 letters of the english alphabet are: %s, %s, %s and %s', ['a', 'b', 'c', 'd']);
<END>
<QUE>
Convert Point Geometry to list
<ANS>
[point_geom.x, point_geom.y]
<END>
<QUE>
how to browse to a external url from turbogears/cherrypy application?
<ANS>
raise cherrypy.HTTPRedirect("http://www.yahoo.com")
<END>
<QUE>
How to compare a google datastore datetime to python datetime?
<ANS>
for kitten in kittens:
    then = kitten.date
    now = datetime.datetime.now()
    tdelta = now - then

if tdelta.total_seconds() > 300:
    kitten.delete()
<END>
<QUE>
Processing output from cmdline via a Python script
<ANS>
import subprocess

s = """/usr/local/sbin/kamctl fifo profile_get_size myprofile | awk -F ':: ' '{print $2}'"""

p = subprocess.Popen(s, shell=True, stdout=subprocess.PIPE)

out, err = p.communicate()

print 'out: %r' % out
print 'err: %r' % err
print 'status: %r' % p.returncode
<END>
<QUE>
How to efficiently search in the following json dict in python and store into list or another dict?
<ANS>
[artist for artist in myJson['Artists'] if artist['profile']['age'] == 7]
<END>
<QUE>
How do I change the figure size for a seaborn.violin_plot?
<ANS>
import matploltib.pyplot as plt
import seaborn

import mylib

a4_dims = (11.7, 8.27)
df = mylib.load_data()
fig, ax = plt.subplots(figsize=a4_dims)
seaborn.voilinplot(ax=ax, data=df, **violin_options)
<END>
<QUE>
How can you print cipher text as a hex string?
<ANS>
a.encrypt(m).encode('hex')
<END>
<QUE>
Method logging in Python
<ANS>
import sys
import trace

# create a Trace object, telling it what to ignore, and whether to
# do tracing or line-counting or both.
tracer = trace.Trace(
    ignoredirs=[sys.prefix, sys.exec_prefix],
    trace=0,
    count=1)

# run the new command using the given tracer
tracer.run('main()')

# make a report, placing output in /tmp
r = tracer.results()
r.write_results(show_missing=True, coverdir="/tmp")
<END>
<QUE>
matplotlib grouping values of x axis
<ANS>
0.22321428571428600000;0.44642857142857100000;0.66964285714285700000;0.89285714285714300000;1.11607142857143000000;1.33928571428571000000;1.56250000000000000000;1.78571428571429000000;2.00892857142857000000;2.23214285714286000000;2.45535714285714000000;2.67857142857143000000;2.90178571428571000000;3.12500000000000000000;3.34821428571428000000;3.57142857142857000000;3.79464285714286000000;4.01785714285714000000;4.24107142857143000000;4.46428571428571000000;4.68750000000000000000;4.91071428571428000000;5.13392857142857000000;5.35714285714286000000;5.58035714285714000000;5.80357142857143000000;6.02678571428571000000;6.25000000000000000000;6.47321428571428000000;6.69642857142857000000;6.91964285714285000000;7.14285714285714000000
<END>
<QUE>
Communicating with a windows executables commandline gui via python
<ANS>
import os
from subprocess import Popen, PIPE

p = Popen("some_program.exe", stdin=PIPE)
p.communicate(os.linesep.join(["name", "age"]))
<END>
<QUE>
Checking a Dictionary using a dot notation string
<ANS>
def put(d, keys, item):
    if "." in keys:
        key, rest = keys.split(".", 1)
        if key not in d:
            d[key] = {}
        put(d[key], rest, item)
    else:
        d[keys] = item

def get(d, keys):
    if "." in keys:
        key, rest = keys.split(".", 1)
        return get(d[key], rest)
    else:
        return d[keys]
<END>
<QUE>
How can I change a list of strings into CSV in Python?
<ANS>
import csv
import sys

writer = csv.csvwriter(sys.stdout)
writer.writerow(iterable_containing_my_strings)
<END>
<QUE>
Saving file uploaded via ajax to Django model ImageField
<ANS>
filename = request.GET[ 'yourfilename' ]

from django.core.files.uploadedfile import SimpleUploadedFile
file_contents = SimpleUploadedFile("%s" %(filename), request.raw_post_data)

modelinstance.picture.save(filename, file_contents, True)
<END>
<QUE>
How can i stop my python program from crashing
<ANS>
def main():
    # take input from the user
    num = float(input("Enter a number: "))
    if (num%1 != 0):
        print("Bad entry, only integers are accepted.")
        return 

    num = int(num)
    factorial = 1
    if num > 100:
        print("Bad entry. It should be an integer less than or equal to 100!")
        print("Please try again: ")
    elif num == 0:
        print("The factorial of 0 is 1")
    elif num < 0:
        print("Bad entry. It should be an integer superior than or equal to 0!")
        print("Please try again: ")  
    else:
        for i in range(1,num + 1):
            factorial = factorial*i
        print("The factorial of",num,"is",factorial)

main()
<END>
<QUE>
Updating a plot in python in real time
<ANS>
from pylab import *

import time

ion()

tstart = time.time()               # for profiling
x = arange(0,2*pi,0.01)            # x-array
line, = plot(x,sin(x))

for i in arange(1,200):
    line.set_ydata(sin(x+i/10.0))  # update the data
    draw()                         # redraw the canvas


print 'FPS:' , 200/(time.time()-tstart)
<END>
<QUE>
How to pass multiple variables as SUDS data in python?
<ANS>
args = [id, nya]
Check2('SoapMethodName', *args)
<END>
<QUE>
How to integrate sendgrid templates with python app?`
<ANS>
message = sendgrid.Mail()
message.add_filter('templates', 'enable', '1')
message.add_filter('templates', 'template_id', 'TEMPLATE-ALPHA-NUMERIC-ID')
<END>
<QUE>
How do you run the Tornado web server locally?
<ANS>
application = tornado.web.Application([
    (r'/blah', BlahHandler),
    ], **settings)

# Create an HTTP server listening on localhost, port 8080.
http_server = tornado.httpserver.HTTPServer(application)
http_server.listen(8080, address='127.0.0.1')
<END>
<QUE>
How do I parse Xml in a textarea using python and return json?
<ANS>
import xmltodict
import json

json.dumps(xmltodict.parase(txt))
<END>
<QUE>
Numpy object array of numerical arrays
<ANS>
import numpy as np

a = np.array([1,2,3])
b = np.array([None, a, a, a])[1:]

print b.dtype, b[0].dtype, b[1].dtype
# object int32 int32
<END>
<QUE>
Creating a dimension with a range
<ANS>
times = ncfile.createDimension('time', len(timerange))
<END>
<QUE>
Renaming files in folder from a text file
<ANS>
import os

with open('file.txt') as f:
    for line in f:
        newname, file, checksum = line.split()
        if os.path.exists(file):
            try:
                os.rename(file, os.sep.join([os.path.dirname(file), newname]))
            except OSError:
                print "Got a problem with file {}. Failed to rename it to {}.".format(file, newname)
<END>
<QUE>
Python: reference and dereference of global variables in functions
<ANS>
def addWordHistory(words):
    current = [wordhistory, 0]
    for word in words:
        if current[0] is None:
            current[0] = dict()
        children = current[0]
        if word in children:
            children[word][1] += 1
        else:
            children[word] = [None, 1]
        current = children[word]
<END>
<QUE>
Continuous check for VPN Connectivity - Python
<ANS>
import os
import time

PING_HOST='10.10.10.10' # some host on the other side of the VPN

while True:
    retcode = os.system('ping -c 1 %s' % PING_HOST)

    if retcode:  
       # perform action for lost connection
       logging.warn("Lost visibility with %s" % PING_HOST)

    time.sleep(10) # sleep 10 seconds
<END>
<QUE>
Python django: filtering a table based on a criteria on another table
<ANS>
student_queryset = Students.objects.filter(Teacher__TeacherName__contains = 'Sara')
<END>
<QUE>
How can I check to see if a variable exists?
<ANS>
Components = ['SAVE_DOCUMENT', 'GET_DOCUMENT', 'DVK_SEND', 'DVK_RECEIVE', 'GET_USER_INFO', 'NOTIFICATIONS', 'ERROR_LOG', 'SUMMARY_STATUS']
missed = [x for x in Components if x + "_STATUS" not in locals() or x + "_DESC" not in locals()]
if missed:
    print "Missing components: {0:}".format(missed)
    sys.exit(StateUnknown)
<END>
<QUE>
How to get the client IP address after got connection lost in twisted
<ANS>
class YourProtocol(protocol.Protocol):

    def connectionMade(self):
        self._peer = self.transport.getPeer()

    def connectionLost(self):
        print 'Lost connection from', self._peer
<END>
<QUE>
python implementation of 'readAsDataURL
<ANS>
def __parse64(self, path_file):
    file_data = open(path_file, 'rb').read(-1) 
    #This slurps the whole file as binary.
    self.encoded_string_file = b64.b64encode(file_data)
<END>
<QUE>
How to use make_transient() to duplicate an SQLAlchemy mapped object?
<ANS>
if __name__ == '__main__':
    obj = GetOneMachineDataFromDatabase()

    make_transient(obj)
    obj._oid = None
    _session.add(obj)
    # this include a flush() and create a new primary key
    _session.commit()
<END>
<QUE>
Relation extraction via chunking using NLTK
<ANS>
patterns = """NP: {<DT|PP\$>?<JJ>*<NN>}
    {<NNP>+}
    {<NN>+}
"""
<END>
<QUE>
How to efficiently alter the color in an animation of patches circles in matplotlib?
<ANS>
import numpy as np
from matplotlib.patches import Circle
from matplotlib.collections import PatchCollection
import matplotlib.pyplot as plt
from matplotlib import cm
from matplotlib import animation

fig, ax = plt.subplots()

patches = []
# create circles with random sizes and locations
N = 10 # number of circles
x = np.random.rand(N)
y = np.random.rand(N)
radii  = 0.1*np.random.rand(N)
for x1,y1,r in zip(x, y, radii):
    circle = Circle((x1,y1), r)
    patches.append(circle)

# add these circles to a collection
p = PatchCollection(patches, cmap=cm.prism, alpha=0.4)
ax.add_collection(p)

def animate(i):
    colors = 100*np.random.rand(len(patches)) # random index to color map
    p.set_array(np.array(colors)) # set new color colors
    return p,

ani = animation.FuncAnimation(fig, animate, frames=50, interval=50)

plt.show()
<END>
<QUE>
How to create a circle?
<ANS>
from math import sin, cos, pi
import matplotlib.pyplot as plt

x,y = [cos((i*pi)/500) for i in range(1000)], [sin((i*pi)/500) for i in range(1000)]
plt.plot(x,y)
plt.show()
<END>
<QUE>
How to find maximum interval in a graph?
<ANS>
def getMaxSubArrays(x):
    y=x-np.mean(x)
    z=y/y.max()
    maxSubArrays=[]
    subFound=False
    begin=0
    for i in range(len(z)):
        if z[i]>0.75 and subFound==False:
            subFound=True
            begin=i
        elif z[i]<=0.75 and subFound==True:
            subFound=False
            maxSubArrays.append((begin,i))
    for subarray in maxSubArrays:
        print "subarray found: index ",subarray[0]," to ",subarray[1], x[subarray[0]:subarray[1]]
    return maxSubArrays
<END>
<QUE>
payload of an email in string format, python
<ANS>
if isinstance(payload, list):
    for m in payload:
        print str(m).split()

else:
    print str(m).split()
<END>
<QUE>
How do I incorporate a raw_input as an argument in a function
<ANS>
call(["command", "argument", raw_input("enter file name:  ")])
<END>
<QUE>
How write a for loop with ttk combobox
<ANS>
how_many = len(combobox.cget('values'))
<END>
<QUE>
how to filter json array in python
<ANS>
import json

input_json = """
[
    {
        "type": "1",
        "name": "name 1"
    },
    {
        "type": "2",
        "name": "name 2"
    },
    {
        "type": "1",
        "name": "name 3"
    }
]"""

# Transform json input to python objects
input_dict = json.loads(input_json)

# Filter python objects with list comprehensions
output_dict = [x for x in input_dict if x['type'] == '1']

# Transform python object back into json
output_json = json.dumps(output_dict)

# Show json
print output_json
<END>
<QUE>
Django list all authors by most recent rating
<ANS>
from collections import defaultdict
from datetime import datetime, timedelta

week_ago = datetime.now() - timedelta(days=7)

author_recent_ratings = dict(Entry.objects.filter(pub_date__gt=week_ago)
                                          .order_by('pub_date')
                                          .select_related()
                                          .values_list('author', 'rating'))

recent_by_rating = defaultdict(list)
for author, rating in author_recent_ratings.iteritems():
    recent_by_rating[rating].append(author)
<END>
<QUE>
Convolve an RGB image with a custon neighbout kernel using Python and Numpy
<ANS>
import numpy as np
import matplotlib.pyplot as plt

rows, cols = 480, 640
rgb_img = np.zeros((rows, cols, 3), dtype=np.uint8)

rgb_img[:rows//2, :cols//2] = 255

center_slice = rgb_img[1:-1, 1:-1]
left_slice = rgb_img[1:-1, :-2]
right_slice = rgb_img[1:-1, 2:]
up_slice = rgb_img[:-2, 1:-1]
down_slice = rgb_img[2:, 1:-1]

all_equal = (np.all(center_slice == left_slice, axis=-1) &
             np.all(center_slice == right_slice, axis=-1) &
             np.all(center_slice == up_slice, axis=-1) &
             np.all(center_slice == down_slice, axis=-1))

plt.subplot(211)
plt.imshow(rgb_img, interpolation='nearest')
plt.subplot(212)
plt.imshow(all_equal, interpolation='nearest')
plt.show()
<END>
<QUE>
How to add math formulas in odt document using odfpy?
<ANS>
#!/usr/bin/env python
# -*- coding: utf-8 -*-

import odf
from odf.opendocument import OpenDocumentText
from odf.element import Element
from odf.text import P
from odf.math import Math
from namespaces import MATHNS


def main():
    doc = OpenDocumentText()
    p = P(text=u'text')
    df = odf.draw.Frame( zindex=0, anchortype='as-char')
    p.addElement(df)
    doc.text.addElement(p)

    formula =u'c=sqrt(a^2+b^2)'
    math = Math()
    annot = Element(qname = (MATHNS,u'annotation'))
    annot.addText(formula, check_grammar=False)
    annot.setAttribute((MATHNS,'encoding'), 'StarMath 5.0', check_grammar=False)
    math.addElement(annot)
    do = odf.draw.Object()
    do.addElement(math)
    df.addElement(do)

    outputfile = u'result'
    doc.save(outputfile, True)

if __name__ == '__main__':
    main()
<END>
<QUE>
How to Force File Download on Twisted HTTP Server?
<ANS>
request.responseHeaders.setRawHeaders(
    'Content-Disposition', ['attachment; filename="foo"'])
<END>
<QUE>
How can I use Beautiful soup in combination with lxml Parser to find a keyword in a website?
<ANS>
soup = BeautifulSoup(content, 'lxml')
<END>
<QUE>
Python implementation of set relations
<ANS>
S = [1,2,3,4,5,6]
result = [ (x,y) for x in S for y in S if y%x==0]
<END>
<QUE>
In Python, how to format string while saving in a file
<ANS>
with open('test.txt', 'w') as f:
    f.write('{0:10} {1:10}'.format('one', 'two'))
<END>
<QUE>
Drawing a region of interest in a scatter plot and printing the points contained in matplotlib
<ANS>
from pylab import *
from matplotlib.path import Path
import matplotlib.patches as patches

data = np.random.rand(100,4)

verts = [(0.3, 0.7), (0.3, 0.3), (0.7, 0.3), (0.7, 0.7)]

path1 = Path(verts)
index = path1.contains_points(data[:,:2])

print data[index, :2]

plot(data[:,0],data[:,1], 'b.')
patch = patches.PathPatch(path1, facecolor='orange', lw=2)
gca().add_patch(patch)
plot(data[index,0], data[index,1], 'r.')
show()
<END>
<QUE>
How to take an exponential of a quantum object in Python's QuTiP
<ANS>
import numpy as np
import qutip as qt

N = 2
M = 2

Jp = qt.tensor(qt.qeye(M), qt.jmat(J, '+'))   # J+
Jm = qt.tensor(qt.qeye(M), qt.jmat(J, '-'))   # J-

# angular momentum
Jx = (Jp + Jm) / 2.0

# initial state
rho0 = qt.tensor(qt.basis(M,0), qt.basis(N+1,N))

R = (1j*0.5*np.pi*Jx).expm()  # rotation transform
rho = R * rho0
<END>
<QUE>
wxPython - wx.MessageDialog disappears without click
<ANS>
import wx

class MyApp(wx.App):

  def __init__(self):
    wx.App.__init__(self, redirect=False)

  def OnInit(self):
    self.rootView = wx.Frame(parent=None, id=-1, title="Wire Frame",
      pos=(150, 150), size=(350, 250))
    self.rootView.Show()
    self.SetTopWindow(self.rootView)
    dlg = wx.MessageDialog(self.rootView, "Hi", "title", wx.OK|wx.ICON_ERROR)
    #dlg.ShowModal()
    if dlg.ShowModal() != wx.ID_OK:
        dlg.Destroy()
    return True

if __name__ == "__main__":
  app = MyApp()
  app.MainLoop()
<END>
<QUE>
Issue with HTTP GET Parameters in Python CGI
<ANS>
import cgi

data = cgi.FieldStorage()

make = data.getvalue('make')
model = data.getvalue('model')

print ( 'Content-type:text/html\r
\r
' )
print ( '''<!DOCTYPE HTML><html lang = "en">
        <head>
            <meta charset="UTF-8">
            <title>Python Response</title>
        </head>
        <body>
            <h1>, ''' + make + ', ' + model + ''',</h1>
            <a href = "get.html">Back</a>
        </body>
        </html>''' )
<END>
<QUE>
Python string/list reversal without using any library module or Dummy variable
<ANS>
my_str = "".join(reversed(my_str))
<END>
<QUE>
Using re.match() to find Substring
<ANS>
stringToQueryLevel1 = ['why this', 'why this code', 'why this code is complex']
for item in stringToQueryLevel1:
    print ' ' in item
<END>
<QUE>
Bit-operations on large number of bytes
<ANS>
[Python]
<END>
<QUE>
python-rrdtool, how to create graphs in UTC time zone
<ANS>
import time, os
os.environ['TZ'] = "Asia/Kolkata"   # timezone you want to display graphs in
time.tzset()
<END>
<QUE>
How to set TTL index for collection in MongoKit?
<ANS>
db.User.collection.ensure_index("name", 300)
<END>
<QUE>
Does anyone have any examples of using OpenCV with python for descriptor extraction?
<ANS>
im2 = cv2.imread(imgPath)
im = cv2.cvtColor(im2, cv2.COLOR_BGR2GRAY)
surfDetector = cv2.FeatureDetector_create("SURF")
surfDescriptorExtractor = cv2.DescriptorExtractor_create("SURF")
keypoints = surfDetector.detect(im)
(keypoints, descriptors) = surfDescriptorExtractor.compute(im,keypoints)
<END>
<QUE>
Alternate configuration file for starpy, asterisk interface library
<ANS>
class Application(UtilApplication):

    def __init__(self):
        self.configFiles = ['/usr/local/etc/foo/bar.conf']
        UtilApplication.__init__(self)
<END>
<QUE>
How do i store data from my program and be able to reaccess and see/edit it when i reopen it? Python
<ANS>
whatname = ""
list_of_names = []

def regc():
    global whatname
    whatname = raw_input("Please introduce your clients first and last name.")
    list_of_names.append(whatname)
    contactsav()
<END>
<QUE>
changing default x range in histogram matplotlib
<ANS>
hist(hmag, 30, range=[6.5, 12.5], facecolor='gray', align='mid')
<END>
<QUE>
Different outputs in removing characters from a list - Python
<ANS>
for t in w:
    l.append(t.replace(".",""))
<END>
<QUE>
How to do sub-sorting in python?
<ANS>
import operator
primers_unsorted.sort(key=operator.itemgetter(' Construct Number', ' Part Number'))

for row in primers_unsorted:
    print(row)
<END>
<QUE>
How to process multiple ajax from client in cherrypy simultaneously
<ANS>
cherrypy.tools.sessions
<END>
<QUE>
How to send a POST request using django?
<ANS>
post_data = [('name','Gladys'),]     # a sequence of two element tuples
result = urllib2.urlopen('http://example.com', urllib.urlencode(post_data))
content = result.read()
<END>
<QUE>
Subsetting data in pandas with complex operations
<ANS>
criterion = df['year_week'].map(lambda x: len(x)< 6)
df[criterion].index.values
<END>
<QUE>
Expat parsing in python 3
<ANS>
parser.ParseFile(open('sample.xml', 'rb'))
<END>
<QUE>
Text file not openable in custom module
<ANS>
from os.path import dirname, join
myfile = open(join(dirname(__file__), "mydatafile.txt"))
<END>
<QUE>
Passing argument to constantly running Python application
<ANS>
sys.stdin
<END>
<QUE>
marking columns in sqlalchemy tables
<ANS>
class ModelFoo(Base):
    __tablename__ = 'foo'
    id = Column("id", Integer, primary_key=True, autoincrement=True)
    os = Column(String, nullable=False)
    platform = Column(String)
    search_cols = ["os", "value"]

for k, v in list(Base._decl_class_registry.items()):
    if (hasattr(v, "search_cols")):
        cols = [getattr(v, val) for val in v.search_cols]
        query = sess.query(*cols)
        solr.add(query.all())
<END>
<QUE>
matplotlib: is a changing background color possible?
<ANS>
plt.axvspan(x, x2, facecolor='g', alpha=0.5)
<END>
<QUE>
Python SQLite3 How to extract specific tables only
<ANS>
for tablename in cur.execute('SELECT name FROM sqlite_master WHERE type="table";'):
    if tablename[0].startswith('conn_'):
        execute_some_query_using_this_table()
<END>
<QUE>
How to used a previously generated tuple to generate a new tuple
<ANS>
k=0
yterms = []
while k<=SEG:
    yterm = H + aa*m.cosh(xterms[k]/aa) -aa*m.cosh(DIS/aa)
    yterms.append(yterm)
    k+=1
print yterms
<END>
<QUE>
How to select only certain Substrings
<ANS>
re.findall('ATA((...)*?)AGA', mydna)
<END>
<QUE>
Is it possible to change a whole word into multiple letter variables?
<ANS>
word = "because"
print(word[0])  # Prints "b"
print(word[1])  # Prints "e"
print(word[2])  # Prints "c"
print(word[3])  # Prints "a"
print(word[4])  # Prints "u"
print(word[5])  # Prints "s"
print(word[6])  # Prints "e"
<END>
<QUE>
How can i plot line chart in python?
<ANS>
import matplotlib.pyplot as plt
import pandas as pd

df = pd.read_csv('t.txt', delim_whitespace=True, header=None, parse_dates={'Dates': [1, 2]})

plt.figure()
l_h = []
for identifier in df[0].unique():
    h, = plt.plot(df[df[0]==identifier]['Dates'], df[df[0]==identifier][3], label=identifier)
    l_h.append(h)
plt.legend(handles=l_h)
plt.show()
<END>
<QUE>
how to calculate the local time from gmtoffset
<ANS>
import datetime

#parse json to get offset(import json; json.load(resonse); etc.)
#offset is gmtoffset + dstoffset
datetime.datetime.utcnow() + datetime.timedelta(seconds = offset)
<END>
<QUE>
How to pass items as args lists in map?
<ANS>
adds = map((lambda (j, f, a):
  j.join([f.format(i) for i in parse.options[a]]) if parse.options[a] else ''),
  ((' ', ' -not -path "{0}" ', 'exclude'),
  (' -or ', '-path "{0}"', 'include')))
<END>
<QUE>
authGSSServerInit looks for wrong entry from keytab
<ANS>
def authGSSServerInit(service):
    """
    Initializes a context for GSSAPI server-side authentication with the given service principal.
    authGSSServerClean must be called after this function returns an OK result to dispose of
    the context once all GSSAPI operations are complete.

    @param service: a string containing the service principal in the form 'type@fqdn'
        (e.g. 'imap@mail.apple.com').
    @return: a tuple of (result, context) where result is the result code (see above) and
        context is an opaque value that will need to be passed to subsequent functions.
    """
<END>
<QUE>
Python: Using Pandas to plot more than one series in each subplot
<ANS>
from matplotlib import pylab as pl

pl.subplot(211)
pl.plot(date, series1, color='black')
pl.plot(date, series2, color='blue')
pl.subplot(212)
pl.plot(date, series3, color='red')
pl.show()
<END>
<QUE>
Python regex match escaped char
<ANS>
p = re.compile(r':((\\:|[^:])+):')
print p.match(":abc'e12\:3\:text:").group(0)
<END>
<QUE>
Django admin dropdowns based on a boolean
<ANS>
class UserProfileadmin(admin.ModelAdmin):
    def formfield_for_foreignkey(self, db_field, request, **kwargs):
        if db_field.name == 'hub':
            kwargs['queryset'] = Airports.objects.filter(hub=True)
        return super(UserProfileadmin, self).formfield_for_foreignkey(db_field, request, **kwargs)
<END>
<QUE>
Making API from Python docstrings written in PEP8
<ANS>
def func(arg1, arg2):
    """Summary line.

    Extended description of function.

    Parameters
    ----------
    arg1 : int
        Description of arg1
    arg2 : str
        Description of arg2

    Returns
    -------
    bool
        Description of return value

    """
    return True
<END>
<QUE>
Convert a tuple to a numpy array corrupts the data
<ANS>
test3 =((154L, u'SG'), (15L, u'SG3'), (1564L, u'SG'))

print(numpy.asarray(test3, dtype='<U4'))

[[u'154' u'SG']
 [u'15' u'SG3']
 [u'1564' u'SG']]
<END>
<QUE>
Find the count of the words in the text file using python
<ANS>
from collections import Counter
from string import punctuation

counter = Counter()
with open('/tmp/content_data') as f:
  for line in f:
    counter.update(word.strip(punctuation) for word in line.split())

result = dict(counter)

# note: because we have
#   isinstance(counter, dict)
# you may as well leave the result as a Counter object

print result
<END>
<QUE>
How do I limit an input in python so it will only allow 0 or 1's?
<ANS>
query = raw_input("enter binary number ")

try:
    is_bin = int(query,2)
    is_bin = True
    print "correct number"
except ValueError:
    is_bin = False
    print "not a binary number"
<END>
<QUE>
Trouble understanding how to use findNextSiblings
<ANS>
paraText = soup.find( text = re.compile ('Running Time:') )
print paraText.findNext('dd')
<END>
<QUE>
Python pattern matching with regex, findall and groups 
<ANS>
for match in matches:
    first_names.append(match[0])
    last_names.append(match[1])
<END>
<QUE>
gevent block redis' socket request
<ANS>
def crawler():
    while True:
        x = tasks.get()
        try:
            print "Crawler: ",x
        finally:
            tasks.task_done()
<END>
<QUE>
Colouring edges by weight in networkx
<ANS>
import matplotlib.pyplot as plt
import networkx as nx
import random

G = nx.gnp_random_graph(10,0.3)
for u,v,d in G.edges(data=True):
    d['weight'] = random.random()

edges,weights = zip(*nx.get_edge_attributes(G,'weight').items())

pos = nx.spring_layout(G)
nx.draw(G, pos, node_color='b', edgelist=edges, edge_color=weights, width=10.0, edge_cmap=plt.cm.Blues)
plt.savefig('edges.png')
<END>
<QUE>
Using colorbar with secondary y axis
<ANS>
cbaxes = fig.add_axes([1, 0.15, 0.03, 0.7])
plt.colorbar(img, label=r"Height (cm)",format='%1.1f', ax=ax1, cax=cbaxes)
<END>
<QUE>
Comparing more than 2 files in python3
<ANS>
def find_difference(list_of_files, block_size=1000):
    fs=[open(f,'rb') for f in list_of_files]
    while True:
        first=True
        for f in fs:
            if first:
                first=False
                s1=f.read(block_size)
                end=(s1==b'')
                continue
            s2=f.read(block_size)
            if s1!=s2:
                return True
            if end and (s2!=b''):
                end=False
        if end:
            return False
<END>
<QUE>
How to merge notifications with a common title in pynotify?
<ANS>
set_hint_string('append', '')
<END>
<QUE>
Switching scenes with pyglet
<ANS>
# Do everything needed to start the game
# For dramatic pacing, any of these might be scheduled to be
# called in a second or so, using pyglet.clock.schedule_once
world.add(player)
camera.to_follow(player)
world.add(scoredisplay)

# Finally, remove the main menu from the world
# This will stop showing it on screen
# and it will remove its keyboard event handler
world.remove_item(self)
<END>
<QUE>
How to pass python variable to html variable?
<ANS>
class Server(object):
    _cp_config = {
        'tools.sessions.on': True,
        'tools.auth.on': True
    }   
    auth = AuthController()      
    @cherrypy.expose
    @require()
    def index(self):
        f = open ("file.txt","r")
        link = f.read()
        f.close()
        myText = "Hello World" 
        html = """
        <html>
            <body>
                <p>%s</p>          
                <a href="%s" ><img src="images/go_online.png"></a>
            </body>
        </html>
        """ %(myText, link)        
        return html
    index.exposed = True
<END>
<QUE>
In Python, how do I make a datetime that is 15 minutes from now? 1 hour from now?
<ANS>
d1 = datetime.datetime.now() + datetime.timedelta(minutes=15)
d2 = datetime.datetime.now() + datetime.timedelta(hours=1)
<END>
<QUE>
How do I show a statement repeatedly on the command line using curses?
<ANS>
import curses
import time

scr = curses.initscr()
while True:
    try:
        scr.addstr(0, 0, str(time.time()))
        scr.refresh()
    except KeyboardInterrupt: break
curses.endwin()
<END>
<QUE>
drawing a point on the screen every 17ms in Python?
<ANS>
import pygame,sys
from pygame import *

WIDTH = 480
HEIGHT = 480
WHITE = (255,255,255) #RGB
BLACK = (0,0,0) #RGB

pygame.init()
screen = display.set_mode((WIDTH,HEIGHT),0,32)
display.set_caption("Name of Application")
screen.fill(WHITE)
timer = pygame.time.Clock()
pos_on_screen, radius = (50, 50), 20    
while True:
    for event in pygame.event.get():
        if event.type == QUIT:
            pygame.quit()
            sys.exit()
    timer.tick(60) #60 times per second you can do the math for 17 ms
    draw.circle(screen, BLACK, pos_on_screen, radius)
    display.update()
<END>
<QUE>
How can I instantiate a comment element programatically using lxml?
<ANS>
lxml.etree.Comment()
<END>
<QUE>
Django how to customize table name and foreign key field
<ANS>
class Category(models.Model):
    name = models.CharField('Name', max_length=255)

    class Meta:
        db_table = 'tbl_category'

class Entry(models.Model):
    category = models.ForeignKey(Category, db_column='id_tbl_category')
    contents = models.TextField('Contents')

    class Meta:
        db_table = 'tbl_entry'
<END>
<QUE>
Using Python decorators to add a method to a method
<ANS>
class single_return_format(object):

    def __init__(self, func):
        self._func = func

    def __get__(self, instance, owner):
        return SimpleFormMethod(instance, self._func)


class SimpleFormMethod(object):

    def __init__(self, instance, func):
        self._instance = instance
        self._func = func

    def __call__(self, *args, **kwargs):
        return self._func(self._instance, *args, **kwargs)

    @property
    def standard_format(self):
        return lambda *args, **kwargs: (self._func(self._instance, *args, **kwargs), )


class _SomeClass(object):

    def __init__(self):
        self._amount_to_add = 1

    @single_return_format
    def add_one(self, x):
        return x+self._amount_to_add


obj = _SomeClass()
assert obj.add_one(3) == 4
assert obj.add_one.standard_format(3) == (4, )
<END>
<QUE>
In Python how to call subprocesses under a different user?
<ANS>
from multiprocessing import Process
import os

def info(title):
    print title
    print 'module name:', __name__
    print 'parent process:', os.getppid()
    print 'process id:', os.getpid()

def f(name):
    os.setuid(1000)
    info('function f')
    print 'hello', name
    os.system('id')

if __name__ == '__main__':
    info('main line')
    p = Process(target=f, args=('bob',))
    p.start()
    p.join()
<END>
<QUE>
Connecting to Oracle database using cx_Oracle on Python
<ANS>
cx_Oracle.connect(u'hr/XXXXX@local_xe')
<END>
<QUE>
Return a requests.Response object from Flask
<ANS>
return (resp.text, resp.status_code, resp.headers.items())
<END>
<QUE>
convert hex ascii mixed string like r'\x74op' to 'top' in python
<ANS>
s.decode('string_escape')
<END>
<QUE>
Getting contents of title tags with Python script
<ANS>
import urllib2
import BeautifulSoup
import MySQLdb

f = urllib2.urlopen('http://www.python.org/')
soup=BeautifulSoup.BeautifulSoup(f.read())
title=soup.find('title')
print(title.string)

connection=MySQLdb.connect(
    host='HOST',user='USER',
    passwd='PASS',db='MYDB')
cursor=connection.cursor()

sql='''CREATE TABLE IF NOT EXISTS foo (
           fooid int(11) NOT NULL AUTO_INCREMENT,
           title varchar(100) NOT NULL,
           PRIMARY KEY (fooid)
       )'''
cursor.execute(sql)

sql='INSERT INTO foo (title) VALUES (%s)'
args=[title.string]
cursor.execute(sql,args)
cursor.close()
connection.close()
<END>
<QUE>
How do I clear a pygame alpha layer efficiently?
<ANS>
for s in self.level.sprites:
  spritelayer.fill((0), s.rect)
<END>
<QUE>
How to implement a FIFO queue that supports namespaces
<ANS>
from google.appengine.api import users
from google.appengine.api.namespace_manager import set_namespace

class ClientClass(webapp.RequestHandler):
  def get(self):
    # For this example let's assume the user_id is your unique id.
    # You could just as easily use a parameter you are passed.
    user = users.get_current_user()
    if user:
       # If there is a user, use their queue.  Otherwise the global queue.
       set_namespace(user.user_id())

    item = QueueItem.pop()
    self.response.out.write(str(item))

    QueueItem.push('The next task.')
<END>
<QUE>
Aggregation with django-eztables
<ANS>
def get_queryset(self):
    qs = super(SomeObjectDataTableView, self).get_queryset()
    return qs.select_related().annotate(items_count=Count('items'))
<END>
<QUE>
Importing PNG files into Numpy?
<ANS>
from scipy import misc
import glob

for image_path in glob.glob("/home/adam/*.png"):
    image = misc.imread(image_path)
    print image.shape
    print image.dtype
<END>
<QUE>
How to crop an image in OpenCV using Python
<ANS>
import cv2
img = cv2.imread("lenna.png")
crop_img = img[200:400, 100:300] # Crop from x, y, w, h -> 100, 200, 300, 400
# NOTE: its img[y: y + h, x: x + w] and *not* img[x: x + w, y: y + h]
cv2.imshow("cropped", crop_img)
cv2.waitKey(0)
<END>
<QUE>
Python get micro time from certain date
<ANS>
def microtime(dt):
    time.mktime(dt.timetuple()) + dt.microsecond / 1000000.0
<END>
<QUE>
How do you make an access a hash in python?
<ANS>
__getattribute__()
<END>
<QUE>
How to store an input(raw_input) in a variable to use it later in Python 2.7.9?
<ANS>
test = raw_input("Put in a word")
<END>
<QUE>
How do I return this as a list
<ANS>
def get_items(cheapness):
    """ Return a list of (item, (price, count)) tuples that are the given
    cheapness. Note that the second element of the tuple is another tuple. """

    if cheapness == 'CHEAP':
        return [(item, (price,count)) for (item, (price,count)) in inventory.items() if price < 20]
    elif cheapness == 'MODERATE':
        return [(item, (price,count)) for (item, (price,count)) in inventory.items() if price > 20 and price < 100]
    elif cheapness == 'EXPENSIVE':
        return [(item, (price,count)) for (item, (price,count)) in inventory.items() if price > 100]
<END>
<QUE>
Python GTK adding signal to a combo box
<ANS>
#!/usr/bin/env python

import pygtk
pygtk.require('2.0')
import gtk

class ComboBoxExample:
    def __init__(self):
        window = gtk.Window()
        window.connect('destroy', lambda w: gtk.main_quit())
        combobox = gtk.combo_box_new_text()
        window.add(combobox)
        combobox.append_text('Select a pie:')
        combobox.append_text('Apple')
        combobox.append_text('Cherry')
        combobox.append_text('Blueberry')
        combobox.append_text('Grape')
        combobox.append_text('Peach')
        combobox.append_text('Raisin')
        combobox.connect('changed', self.changed_cb)
        combobox.set_active(0)
        window.show_all()
        return

    def changed_cb(self, combobox):
        model = combobox.get_model()
        index = combobox.get_active()
        if index:
            print 'I like', model[index][0], 'pie'
        return

def main():
    gtk.main()
    return

if __name__ == "__main__":
    bcb = ComboBoxExample()
    main()
<END>
<QUE>
How to cleanly loop over two files in parallel in Python
<ANS>
lines = open('wordprob.txt','r').readlines()
words = open('StdWord.txt','r').readlines()
for i,line in enumerate(lines):
        v = [eval(s) for s in line.split()]
        if v[0] > v[1]:
                print words[i].strip()
<END>
<QUE>
Using Pandas to create a day/ night flag
<ANS>
bikes['dayflag'] = (bikes.ts.dt.hour > 5) & (bikes.ts.dt.hour <18)
<END>
<QUE>
Printing one character at a time from a string, using the while loop
<ANS>
i=0

while i < len(text):
    print text[i]
    i += 1
<END>
<QUE>
How to import package modules from in-package "main" module
<ANS>
import os
os.sys.path.append(os.path.dirname(os.path.realpath(__file__))+ '/../../')
<END>
<QUE>
Python send data to an executable passed as parameter in terminal
<ANS>
from subprocess import Popen, PIPE, STDOUT

#do some stuff 
data = do_some_computation_from_file

#prepare your executable using subprocess.Popen
exe = Popen(['your_executable'], stdout=PIPE, stdin=PIPE, stderr=STDOUT)

#pass in the computed data to the executable and grap the result
result = exe.communicate(input=data)[0]
<END>
<QUE>
animation plot in matplotlib with double for loop
<ANS>
for i_t in range(0, np.shape(t)[1]):
    ax.clear()
    plt.hold(True)
    #    plot limits
    ax.set_xlim(-(max(q0) + bodies[-1].L), +(max(q0) + bodies[-1].L))
    ax.set_ylim(-(max(q0) + bodies[-1].L), +(max(q0) + bodies[-1].L))
    for i in range(0, N):
        ax.plot(x_matrix[i_t, i], y_matrix[i_t, i], 's', color=colors[0, i])

    plt.pause(0.0001)
<END>
<QUE>
Creating either 2 dictionaries from CSV or creating dictionary from 3 rows
<ANS>
import csv
foo_in = open('bar.csv', 'rU')
readfoo = csv.reader(foo_in)

for row in readfoo:
    spam = row[0]
    eggs = row[1]
    foobar = row[2]
    new_data = dict()
    new_data.setdefault(spam, {})
    new_data[spam].setdefault(eggs, []).append(foobar)
    print new_data
<END>
<QUE>
Opening pdf urls with pyPdf
<ANS>
from urllib2 import Request, urlopen
from pyPdf import PdfFileWriter, PdfFileReader
from StringIO import StringIO

url = "http://www.silicontao.com/ProgrammingGuide/other/beejnet.pdf"
writer = PdfFileWriter()

remoteFile = urlopen(Request(url)).read()
memoryFile = StringIO(remoteFile)
pdfFile = PdfFileReader(memoryFile)

for pageNum in xrange(pdfFile.getNumPages()):
        currentPage = pdfFile.getPage(pageNum)
        #currentPage.mergePage(watermark.getPage(0))
        writer.addPage(currentPage)


outputStream = open("output.pdf","wb")
writer.write(outputStream)
outputStream.close()
<END>
<QUE>
Python - equivalent of Matlab/Octave keyboard function?
<ANS>
import ipdb; ipdb.set_trace()
<END>
<QUE>
Getting all visible text from a webpage using Selenium
<ANS>
import contextlib
import selenium.webdriver as webdriver
import lxml.html as LH
import lxml.html.clean as clean

url="http://www.yahoo.com"
ignore_tags=('script','noscript','style')
with contextlib.closing(webdriver.Firefox()) as browser:
    browser.get(url) # Load page
    content=browser.page_source
    cleaner=clean.Cleaner()
    content=cleaner.clean_html(content)    
    with open('/tmp/source.html','w') as f:
       f.write(content.encode('utf-8'))
    doc=LH.fromstring(content)
    with open('/tmp/result.txt','w') as f:
        for elt in doc.iterdescendants():
            if elt.tag in ignore_tags: continue
            text=elt.text or ''
            tail=elt.tail or ''
            words=' '.join((text,tail)).strip()
            if words:
                words=words.encode('utf-8')
                f.write(words+'
')
<END>
<QUE>
How do you find which key in a dictionary has the longest list of values?
<ANS>
max_len = 0
max_key = ""
for key in d:
    cur_len = len(d[key])
    if cur_len>max_len:
        max_key = key
        max_len = cur_len
print max_key
<END>
<QUE>
Display user group in admin interface?
<ANS>
def group(self, user):
    groups = []
    for group in user.groups.all():
        groups.append(group.name)
    return ' '.join(groups)
group.short_description = 'Groups'

list_display = ('username', 'email', 'first_name', 'last_name', 'is_staff', 'group')
# The last argument will display a column with the result of the "group" method defined above
<END>
<QUE>
Appending results of an element related if function to the last column of a csv
<ANS>
with open("input.csv", "r") as input_file:
    header = input_file.readline()[:-1] #this is to remove trailing '
'
    header += ",Table exists?"
    output_lines = [header]

    for line in input_file:
         output_lines.append(line[:-1])
         if 'table' in line.split(",")[3]:
             output_lines[-1]+=",table exists"
         else:
             output_lines[-1]+=",No table found"

with open("output.csv", "w") as output_file:
    output_file.write("
".join(output_lines))
<END>
<QUE>
Making OrderedDict out of Lists
<ANS>
graphdays = [pivot_table[(m)].astype(float).values for m in range(1, len(Days)+1)]
days_dict = OrderedDict(list(zip(Days, graphdays)))
<END>
<QUE>
detecting two simultaneous keys in pyglet (python)
<ANS>
import pyglet

key = pyglet.window.key

win = pyglet.window.Window()
keyboard = key.KeyStateHandler()
win.push_handlers(keyboard)

print keyboard[key.UP] and keyboard[key.LEFT]
<END>
<QUE>
Deleting lines from the middle of a TextCtrl
<ANS>
if self._log.GetNumberOfLines() > MAX_LINES:
        if self._log.GetLineText(DELETION_POINT) != DELETION_LINE:
            start = self._log.XYToPosition(0, DELETION_POINT)
            self._log.SetInsertionPoint(start)
            self._log.WriteText(DELETION_LINE)
        while (self._log.GetNumberOfLines() > MAX_LINES):
            start = self._log.XYToPosition(0, DELETION_POINT+1)
            len = self._log.GetLineLength(DELETION_POINT+1)
            self._log.Remove(start, start+len+1)
<END>
<QUE>
python generate Posix time from time of day
<ANS>
from time import *

# make a time string
t = strftime('%H%M%S', localtime())

# convert time string to unix time (seconds since epoch)
mktime(localtime()[:3] + strptime(t, '%H%M%S')[3:])
<END>
<QUE>
How to retrieve plain text from .doc files using Python?
<ANS>
import win32com.client 
import os
import re
rootdir ='C:\Users\IdaLim\Desktop\docs'     
try:
    app = win32com.client.Dispatch('Word.Application')
    app.Visible = True
    for subdir, dirs, files in os.walk(rootdir):
        for file in files:
            fullpath = os.path.join(*[subdir, file])
            if file.endswith(".doc"):
                out_name = file.replace("doc", r"txt")
                in_file = os.path.abspath(rootdir + "\\" + file)
                out_file = os.path.abspath(rootdir + "\\" + out_name)
                doc = app.Documents.Open(in_file)
                content = doc.Content.Text
                print 'Exporting', out_file
                doc.SaveAs(out_file, FileFormat=7)
                doc.Close()
except Exception, e:
    print e
finally:
    app.Quit()
<END>
<QUE>
Plot 3d in 2d with numpy?
<ANS>
savefig()
<END>
<QUE>
How to find words that have no characters of an string?
<ANS>
letters = raw_input("Please enter forbidden letters")
words = set(open("p.txt", "r").read().split())
for word in words:
  if all(letter not in word for letter in letters):
    print word
<END>
<QUE>
Intersection of 2D numpy ndarrays
<ANS>
import Polygon, numpy

# Here I extracted and combined some contours and created a convex hull from it.
# Now I wanna check whether a contour acquired differently intersects with this hull or not.

for contour in contours:  # The result of cv2.findContours is a list of contours
    contour1 = contour.flatten()
    contour1 = numpy.reshape(contour1, (int(contour1.shape[0]/2),-1))
    poly1 = Polygon.Polygon(contour1)

    hull = hull.flatten()  # This is the hull is previously constructued
    hull = numpy.reshape(hull, (int(hull.shape[0]/2),-1))
    poly2 = Polygon.Polygon(hull)

    if (poly1 & poly2).area()<= some_max_val:
        some_operations
<END>
<QUE>
How to select sequential elements from a list?
<ANS>
# x = range(6)
x = ["this", "is", "an", "example", "list"]

for prv, nxt in zip(x, x[1:]):
    print prv, nxt
<END>
<QUE>
Joining data sets in Spark
<ANS>
PairRDDFunctions.join()
<END>
<QUE>
Unpacking arguments from dict and list
<ANS>
def my_function(*args):
   if len(args) == 0:
       return x[y[args[0]]]
   return [x[y[a]] for a in args]
<END>
<QUE>
How to get dictionary values having its keys as a list
<ANS>
result=[dictionary[k] for k in keys if k in dictionary]
<END>
<QUE>
Instantiating a default instance for an Enthought trait
<ANS>
from traits.api import Instance, Str, HasTraits

class Person(HasTraits):
    name = Str("hooked")

class Chair(HasTraits):
    sitting = Instance(Person, kw = {})

t = Chair()
print t.sitting.name
<END>
<QUE>
Searching the word in a list with more a's
<ANS>
s = 'caaat caat cat kittycaat, rack, smaaack'
x = 0
for i in s.split():
    if i.count('a') > x:
        x = i.count('a')
        word = i
print word
<END>
<QUE>
Python socket send data
<ANS>
for k in wlist:
    if k != i:
        k.send(data)
<END>
<QUE>
Convert Selenium IDE Syntax to Python Webdriver
<ANS>
def change_window(browser):
    """
    Simple window switcher without the need of playing with ids.
    @param browser: Current browser instance
    """
    curr = browser.current_window_handle
    all_handles = browser.window_handles
    for handle in list(set([curr]) - set(all_handles)):
        return browser.switch_to_window(handle)
<END>
<QUE>
How do I reverse a list using while loop?
<ANS>
firstList = [1,2,3]
secondList=[]

counter = len(firstList)-1

while counter >= 0:
    secondList.append(firstList[counter])
    counter -= 1
<END>
<QUE>
Assigning a value to a tuple
<ANS>
five_image = (display_image,)
<END>
<QUE>
Unlimited sides to dice in simulator
<ANS>
from collections import Counter
import sys
from random import randint

# Python 2/3 compatibility
if sys.hexversion >= 0x3000000:
    inp = input
    rng = range
else:
    inp = raw_input
    rng = xrange

def get_int(prompt):
    while True:
        try:
            return int(inp(prompt))
        except ValueError:
            pass

def main():
    sides = get_int("How many sides does your die have? ")
    times = get_int("How many times do you want to roll? ")
    results = Counter(randint(1, sides) for roll in rng(times))

if __name__=="__main__":
    main()
<END>
<QUE>
Getting number of lines in a text file without readlines
<ANS>
for line in file:
    if username == line.strip():
       validusername = True
       break
<END>
<QUE>
Windows (XP to Windows 7) audio playback with python?
<ANS>
""" Play a WAVE file. """

import pyaudio
import wave
import sys

chunk = 1024

if len(sys.argv) < 2:
    print "Plays a wave file.

" +\
          "Usage: %s filename.wav" % sys.argv[0]
    sys.exit(-1)

wf = wave.open(sys.argv[1], 'rb')

p = pyaudio.PyAudio()

# open stream
stream = p.open(format =
                p.get_format_from_width(wf.getsampwidth()),
                channels = wf.getnchannels(),
                rate = wf.getframerate(),
                output = True)

# read data
data = wf.readframes(chunk)

# play stream
while data != '':
    stream.write(data)
    data = wf.readframes(chunk)

stream.close()
p.terminate()
<END>
<QUE>
How to add new method to Django class from other modules?
<ANS>
class MyMixIn(object):
    def op_custom(self):
        print("foo")

class MyOperation(models.Model, MyMixIn):
    def op_normal(self):
        print("bar")
<END>
<QUE>
RegEx replace in Python
<ANS>
def myrepl(match):
    num = int(match.group(1))
    # Do something here
    return str(num) # this will replace the $url[2]

mystr = "this is $url[2] a string"

print re.sub(r'\$url\[([0-9])\]', myrepl, mystr, flags=re.IGNORECASE)
<END>
<QUE>
Faster way to calculate the number of shortest paths a vertex belongs to using Networkx
<ANS>
def _accumulate_stress(betweenness,S,P,sigma,s):
    delta = dict.fromkeys(S,0)
    while S:
        w = S.pop()
        for v in P[w]:
            delta[v] += (1.0+delta[w])
        if w != s:
            betweenness[w] += sigma[w]*delta[w]
    return betweenness
<END>
<QUE>
2d hsv color space in matplotlib
<ANS>
import numpy as np
import pylab as pl
from matplotlib.colors import hsv_to_rgb

V, H = np.mgrid[0:1:100j, 0:1:300j]
S = np.ones_like(V)
HSV = np.dstack((H,S,V))
RGB = hsv_to_rgb(HSV)
pl.imshow(RGB, origin="lower", extent=[0, 360, 0, 1], aspect=150)
pl.xlabel("H")
pl.ylabel("V")
pl.title("$S_{HSV}=1$")
pl.show()
<END>
<QUE>
Converting list of integers into a binary "string" in python
<ANS>
x = struct.pack(4*'B' + 'HB'[ALPHA<256] + 4*'B', *data)
<END>
<QUE>
How should I group similar exceptions in a docstring?
<ANS>
"""
This is a Google style docs.
...
...
Raises:
    TypeError: 1. foo() missing 1 required positional argument.
               2. key must be a numeric value.
               3. ...
    KeyError:  1. bar key is missing.
               2. ...
"""
<END>
<QUE>
php's strtr for python
<ANS>
def strtr(strng, replace):
    buffer = []
    i, n = 0, len(strng)
    while i < n:
        match = False
        for s, r in replace.items():
            if strng[i:len(s)+i] == s:
                buffer.append(r)
                i = i + len(s)
                match = True
                break
        if not match:
            buffer.append(strng[i])
            i = i + 1
    return ''.join(buffer)
<END>
<QUE>
How to handle missing arguments in argparse?
<ANS>
import argparse
parser = argparse.ArgumentParser(add_help=False)
parser.add_argument('-t', '--test', action="store_true")
parser.add_argument('params', nargs='+')
args = parser.parse_args()
if args.test is True:
    intro = None
elif args.params:
    pass  # process the params here
else:
    pass  # no params whatsoever
<END>
<QUE>
Django - How to add custom error message in Form?
<ANS>
class ValidationForm(forms.Form):
    email = forms.EmailField(label = 'Email', error_messages = {'invalid': 'Your Email Confirmation Not Equal With Your Email'})
    email_confirmation = forms.EmailField(label = 'Email Confirmation')

    def clean_email(self):
       if email != email_confirmation:
          raise ValidationError(self.fields['email'].error_messages['invalid'])
       return email
<END>
<QUE>
Shutil cannot import WindowsError on windows
<ANS>
try:
    WindowsError
except NameError:
    WindowsError = None
<END>
<QUE>
How do I convert width and height (in pixels) to columns for use with the python library pyte?
<ANS>
def resizeConsoleEvent(self, resizeObject):
    if not self.keyPressDown and not self.blockResizing:
        # calculate maximum columns and lines based on a '|' character
        font = self.ui.console.currentFont()
        fmetric = QtGui.QFontMetrics(font)
        fontPixelWidth = fmetric.width("|")
        fontPixelHeight = fmetric.height()
        availableWidthPixels = int(self.ui.console.geometry().width())
        availableHeightPixels = int(self.ui.console.geometry().height())
        # Calculate columns and lines w/ adjustments for rounding
        self.consoleColumns = int(availableWidthPixels / fontPixelWidth) + 1
        self.consoleLines = int(availableHeightPixels / fontPixelHeight) - 3

        # resize the pyte screen I'm using with the calculated information
        self.shell.resizeConsole(self.consoleLines, self.consoleColumns)

        # block double resize event
        self.keyPressDown = False
        return False
    else:

        return True
<END>
<QUE>
Replacing missing data with a number in python
<ANS>
import re
infilename = 'file2.txt'
outfilename = 'file.txt'

with open(infilename, 'r') as infile, open(outfilename, 'w') as outfile:
    for line in infile:
        line = line.rstrip('
').split('\t')
        line = [val if val else '-9' for val in line]
        outfile.write('\t'.join(line) + '
')
<END>
<QUE>
Is there a working OAuth library for Python 3?
<ANS>
from requests_oauthlib import OAuth1    

client_key = ''
client_secret = ''
resource_owner_key = ''
resource_owner_secret = ''

def query(queryurl):
        headeroauth = OAuth1(client_key, client_secret, resource_owner_key,
        resource_owner_secret, signature_type = 'auth_header')

        return requests.get(queryurl, auth = headeroauth)

query('http://website.com')
<END>
<QUE>
About insert shell commands into python
<ANS>
result = commands.getoutput('zcat ' + fullpath + ' |wc -l')
<END>
<QUE>
How to filter objects on datetime fields?
<ANS>
announcements = Announcement.objects.all().filter(date_start__gte = datetime.now())
<END>
<QUE>
Python convert epoch time to day of the week
<ANS>
ep =  1412673904406

from datetime import datetime

print datetime.fromtimestamp(ep/1000).strftime("%A")
Tuesday


def ep_to_day(ep):
    return datetime.fromtimestamp(ep/1000).strftime("%A")
<END>
<QUE>
How to download a CSV file from the World Bank's dataset
<ANS>
import urllib2
import StringIO
from zipfile import ZipFile
import csv

baseUrl = "http://api.worldbank.org/v2/en/indicator/ny.gdp.pcap.cd?downloadformat=csv"
remoteCSV = urllib2.urlopen(baseUrl)

sio = StringIO.StringIO()
sio.write(remoteCSV.read())
    # We create a StringIO object so that we can work on the results of the request (a string) as though it is a file.

z = ZipFile(sio, 'r')
    # We now create a ZipFile object pointed to by 'z' and we can do a few things here:

print z.namelist()
    # A list with the names of all the files in the zip you just downloaded
    # We can use z.namelist()[1] to refer to 'ny.gdp.pcap.cd_Indicator_en_csv_v2.csv'

with z.open(z.namelist()[1]) as f:
# Opens the 2nd file in the zip
    csvr = csv.reader(f)
    for row in csvr:
        print row
<END>
<QUE>
Using savepoints in python sqlite3
<ANS>
import sys
import sqlite3

print 'python version:', sys.version
print 'PySQLite version:', sqlite3.version
print 'sqlite3 version:', sqlite3.sqlite_version
print

conn = sqlite3.connect('shane.sqlite')
conn.isolation_level = None  # CHANGED

with conn:
    conn.execute("create table example (A, B);")

with conn:
    conn.execute("insert into example values (?, ?);", (0,200))

    conn.execute("savepoint spTest;")
    conn.execute("insert into example values (?, ?);", (1,201))
    conn.execute("insert into example values (?, ?);", (2,202))
    conn.execute("rollback to savepoint spTest;")  # CHANGED

    conn.execute("insert into example values (?, ?);", (5,205))
<END>
<QUE>
Read lines starting with numbers
<ANS>
import re
with open("filename") as f:
    for line in f:
        if re.match(r"^\d+.*$",line):
            print line
<END>
<QUE>
Return a random word from a word list in python
<ANS>
import random

words = [line.strip() for line in open('/etc/dictionaries-common/words')]
print(random.choice(words))
<END>
<QUE>
defaults of method python
<ANS>
class C(object):

    def __init__(self, Type='generic', X=None, Y=None):
        X = X or 5
        Y = Y or 500
        self.X, self.Y = {
            "generic": (X, Y),
            "short": (1, Y),
            "long": (10, Y),
            "large": (X, 2000),
            "small": (X, 100),
        }[Type]

    def __str__(self):
        return "X={0} Y={1}".format(self.X, self.Y)


print(C())
print(C('short'))
print(C('long'))
print(C('large'))
print(C('small'))
print(C('small', 10))
print(C('small', 20, 20))
<END>
<QUE>
Detecting spaces and applying to a variable
<ANS>
(q,qq,qqq)=mystring.split()
<END>
<QUE>
Find all the primes from 2 to n, using the Sieve of Eratosthenes
<ANS>
n = 100
numbers = range(2,100)
results = []
while len(numbers) > 0:
    results.append(numbers[0])
    numbers = [number for number in numbers if number % results[-1] != 0]
print len(results)
<END>
<QUE>
pickup "unique item" of a field in a django model using python
<ANS>
from itertools import groupby

money = money_tx.objects.order_by('-tx_date')
plans = investment_plan.objects.select_related()
result = []

for date, group in groupby(money, lambda x: x.tx_date):
    plans_for_date = set(x.investment_plan_id for x in group)
    for plan in plans:
        data = {'ORG': plan.organization.organization_name,
                'INV_PLAN': plan.plan_code,
                'DATE': date,
                'PRESENT': (plan.id in plans_for_date)}
        result.append(data)

print result
<END>
<QUE>
Python pdb breakpoint after 10 seconds
<ANS>
faulthandler.dump_traceback_later(3, repeat=True)
<END>
<QUE>
How would make this run with an if statement and one for loop?
<ANS>
ranges = (
    (8700, 12600),
    (15700, 17600),
    (18750, 22350),
    (23700, 27250),
    (106950, 115300),
)

newSndIdx = 0

for start, end in ranges:
    for i in range(start, end + 1):
        sampleValue = getSampleValueAt(sound, i)
        setSampleValueAt(newSnd, newSndIdx, sampleValue)
        newSndIdx += 1
    newSndIdx += 500
<END>
<QUE>
In Python how should I test if a variable is None, True or False
<ANS>
try:
    result = simulate(open("myfile"))
except SimulationException as sim_exc:
    print "error parsing stream", sim_exc
else:
    if result:
        print "result pass"
    else:
        print "result fail"

# execution continues from here, regardless of exception or not
<END>
<QUE>
PDF files downloaded with Python cannot be opened in acrobat
<ANS>
file_local = open( folder_path + file_id + '.pdf', 'wb' )
<END>
<QUE>
python insert Analytics code into all files
<ANS>
file.seek(0)
<END>
<QUE>
Calling PHP from Python
<ANS>
os.system('php -f file.php')
<END>
<QUE>
python-daemon context fails to start when a stale PID file is present
<ANS>
from lockfile.pidlockfile import PIDLockFile
from lockfile import AlreadyLocked

pidfile = PIDLockFile("/var/run/mydaemon.pid", timeout=-1)
try:
    pidfile.acquire()
except AlreadyLocked:
    try:
        os.kill(pidfile.read_pid(), 0)
        print 'Process already running!'
        exit(1)
    except OSError:  #No process with locked PID
        pidfile.break_lock()

#pidfile can now be used to create DaemonContext
<END>
<QUE>
Store 15 last values on a file on Python
<ANS>
import sys 

fileTemps = 'temps'

with open(fileTemps, 'rw') as fd:
    temps = fd.readlines()

if temps.__len__() >= 15:
    temps.pop(0)

temps.append(' '.join(sys.argv[1:]) + '
')

with open(fileTemps, 'w') as fd:
    for l in temps:
        fd.write(l)
<END>
<QUE>
Avoid IF statement after condition has been met
<ANS>
def print_divide(x,y):
    try:
        print x/y
    except ZeroDivisionError:
        pass
<END>
<QUE>
Python Fabric Save Output to Variable
<ANS>
def tail_pg():
    log = sudo('ls -t /var/lib/pgsql/9.3/data/pg_log/| head -n 1')

    print type(log), log
    sudo('tail -n 25 -f %s' % log, pty=True)
<END>
<QUE>
dictionary created using zip with combining two list
<ANS>
map_by_state = collections.defaultdict(list)

for state, address in zip (statefloatingselfips, selfips):
    map_by_state[state].append(address)
<END>
<QUE>
Tree traversal in a customised way in Python?
<ANS>
def closest_common_ancestor(ds1, ds2):

        while ds1 != None:
                dd = ds2
                while dd != None:
                        if ds1 == dd:
                                return dd
                        dd = dd.parent
                ds1 = ds1.parent
        return None
<END>
<QUE>
Python: Read a file (from an external server)
<ANS>
import urllib
content = urllib.urlopen('http://www.google.com/').read()
<END>
<QUE>
Conditional zip of two lists
<ANS>
OrderedDict((k, v) for k, v in zip(list_1, list_2) if v is not None)
<END>
<QUE>
Compare archiwum.rar content and extracted data from .rar in the folder on Windows 7
<ANS>
import rarfile
import os.path

extracted_dir_name = "samples/sample"    # Directory with extracted files
file = rarfile.RarFile("samples/sample.rar", "r")

# list file information
for info in file.infolist():
     print info.filename, info.date_time, info.file_size

     # Compare with extracted file here
     extracted_file = os.path.join(extracted_dir_name, info.filename)
     if info.file_size != os.path.getsize(extracted_file):
         print "Different size!"
<END>
<QUE>
Django models, one to many relationship with back reference [how]
<ANS>
class Shows(models.Model) :
    title = models.TextField(primary_key=True)
    description = models.TextField()  
    image = models.TextField()
    class Meta:
        db_table = 'shows'
    def __str__(self):
        return self.title  


class Episode(models.Model) :
    show = models.ForeignKey(Show, related_name="episodes")
    title = models.TextField(primary_key=True)
    link = models.TextField()  
    show_title = models.ForeignKey(Shows)

    class Meta: 
        db_table = 'episodes'
    def __str__(self):
        return self.title
<END>
<QUE>
How to perform aggregate options on one groupby column, giving two column outputs
<ANS>
df_new = df.groupby('video_id').agg({"ios_id": {"count": "count",
                                                "distinct": "unique"},
                                     "feed_position": np.average,
                                     "time_watched": np.sum,
                                     "video_length": np.sum})
<END>
<QUE>
How to access a text file with Afrikaans language words as a nltk corpus
<ANS>
# How to load a text file as a corpus.
import nltk
from nltk.corpus import PlaintextCorpusReader
from nltk.corpus.util import LazyCorpusLoader
afrikaans = LazyCorpusLoader('afrikaans', PlaintextCorpusReader, r'(?!\.).*\.txt')
afrikaans.sents()[1]
af = nltk.Text(afrikaans.words())
af.concordance("mense")
<END>
<QUE>
How can I make a simple 3D line with Matplotlib?
<ANS>
for i in range(4):
    ax.plot([VecStart_x[i], VecEnd_x[i]], [VecStart_y[i],VecEnd_y[i]],zs=[VecStart_z[i],VecEnd_z[i]])
<END>
<QUE>
deploying a war to tomcat using python
<ANS>
request = urllib2.Request('http://localhost:8080/manager/deploy?path=/war_file', data=war_file_contents)
<END>
<QUE>
Change column flags in MySQL Workbench scripting shell
<ANS>
grt.root.wb.doc.physicalModels[0].catalog.schemata[0].tables[1].columns[7].flags.append('UNSIGNED')
<END>
<QUE>
Project a 2D Point to 3D using a depth value. Maya Python API
<ANS>
import maya.OpenMaya as OpenMaya

def projectPoint(worldPnt, camPnt, depth):
    '''
    @param worldPnt - MPoint of point to project. (WorldSpace)
    @param camPnt - MPoint of camera position. (WorldSpace)
    @param depth - Float value of distance.
    Returns list of 3 floats.
    '''
    #Get vector from camera to point and normalize it.
    mVec_pointVec = worldPnt - camPnt
    mVec_pointVec.normalize()

    #Multiply it by the depth and the camera offset to it.
    mVec_pointVec *= depth
    mVec_pointVec += OpenMaya.MVector(camPnt.x, camPnt.y, camPnt.z)

    return [mVec_pointVec.x, mVec_pointVec.y, mVec_pointVec.z]
<END>
<QUE>
How to combine a list of lists with a second list into a single list of lists?
<ANS>
l1 = [['a','b'],['b','c'],[]]
l2 = [0,1,3]
l3 = [l1[i] + [x] for i, x in enumerate(l2)]
<END>
<QUE>
how can I plot on colorbar python
<ANS>
from matplotlib.pyplot import imshow, colorbar

data = [[0.0,0.2],[0.5,1.0]]
imshow(data)

cb = colorbar()
cb.ax.plot([0,1],[cb.norm(0.3),cb.norm(0.3)],'r')
cb.ax.plot([0,1],[cb.norm(0.8),cb.norm(0.8)],'r')
<END>
<QUE>
Django: How to set a (permanent) cookie, in addition to temp session, in Class based views?
<ANS>
response = render(request, template, context)
response.set_cookie('my_cookie', 'my_cookie_value')
return response
<END>
<QUE>
How to extract image file details in Python (Windows)?
<ANS>
def get_resolution(filename):
    with open(filename, "rb") as f:
        data = f.read()
    if data[0:2] != b"\xff\xd8":
        raise ValueError("Not JPEG.")
    if data[2:4] != b"\xff\xe0":
        return None
    else:
        if data[13] == b"\x00":
            unit = "no unit"
        elif data[13] == b"\x01":
            unit = "dpi"
        elif data[13] == b"\x02":
            unit = "dpcm"
        else:
            raise ValueError("Bad JFIF")
        x = 256 * ord(data[14]) + ord(data[15])
        y = 256 * ord(data[16]) + ord(data[17])
    return {"unit":unit, "resolution":(x, y)}
<END>
<QUE>
Post to Python view after Javascript validation in Django
<ANS>
class MyForm(forms.Form):
    email = forms.EmailField(required=False)
    cell = forms.CharField(required=False, max_length=20)

    def clean(self):
        cleaned_data = super(MyForm, self).clean()
        if cleaned_data.get('email') and cleaned_data.get('cell'):
            raise forms.ValidationError("Please select either E-mail address or cell number, but not both")
        return cleaned_data
<END>
<QUE>
How to process and return information in API (JSON to Python and back)?
<ANS>
import urllib2
import json
response = urllib.request.urlopen('https://api.ripple.com/v1/accounts/rssc7gemsZBsseHxyb5NmjfYpJD6aUJirq/balances')
html = response.read()
json_data = json.loads(html)
<END>
<QUE>
Centering window python tkinter
<ANS>
w = root.winfo_reqwidth()
h = root.winfo_reqheight()
ws = root.winfo_screenwidth()
hs = root.winfo_screenheight()
x = (ws/2) - (w/2)
y = (hs/2) - (h/2)
root.geometry('+%d+%d' % (x, y)) ## this part allows you to only change the location
<END>
<QUE>
Trying to implement Fick's first law of diffusion in a simulation of water movement across cell membrane
<ANS>
import numpy as np

def F(c,D,x):
    """Assume c and x are numpy arrays of equal size and D is a scalar"""
    # differencing of the concentration field
    deltac = np.diff(c)
    deltax = np.diff(x)

    return -D * deltac / deltax
<END>
<QUE>
Multiple Database calls in an asynchronous request with Tornado
<ANS>
import asyncmongo
import tornado.web

class Handler(tornado.web.RequestHandler):

    @tornado.web.asynchronous
    def get(self, id):
        self.id = id
        self.db = asyncmongo.Client(pool_id='mypool', host='localhost', 
            port=27107, dbname='mydb')

        self.db.users.find_one({'username': self.current_user}, 
            callback=self.on_user)

    def on_user(self, response, error):
        if error:
            raise tornado.web.HTTPError(500)
        self.user = response
        self.db.documents.find_one({'id': self.id, 'user': self.user}, 
            callback=self.on_document)

    def on_document(self, response, error):
        if error:
            raise tornado.web.HTTPError(500)
        self.render('template', first_name=self.user['first_name'],
            document=response)
<END>
<QUE>
How do I convert from a .NET DateTime to an IronPython datetime?
<ANS>
import datetime
from System import DateTime
datetime.datetime(DateTime.Now)
<END>
<QUE>
How to get the IPv6 address of an interface under linux
<ANS>
step1 = Popen(['ip','addr','show','br0'],stdout=PIPE)
step2 = Popen(['grep','inet6'],stdout=PIPE,stdin=step1.stdout)
step3 = Popen(['sed','-e','/fe80/d','-e','s/ *inet6 *//g','-e','s/\/64.*$//g'],stdout=PIPE,stdin=step2.stdout)
step4 = Popen(['tail','-n1'],stdout=PIPE,stdin=step3.stdout)
step4.communicate()[0]
<END>
<QUE>
AttributeError: 'NoneType' object has no attribute 'encode' with lxml-python
<ANS>
str(inventor1.encode("UTF-8") if inventor1 else inventor1)
<END>
<QUE>
Marking a signal
<ANS>
def walk_on_the_beach(sig, t, interval=1000):
    """
    :param sig: signal.
    :param t: threshold.
    :param interval: interval between next value check (ms).
    """
    last_value = 0
    interval_flag = True
    interval_iterator = 0
    markers = np.zeros(np.size(sig))
    for i in np.arange(np.size(sig)):
        absolute = np.abs(last_value - sig[i])
        last_value = sig[i]
        if interval_flag:
            if absolute > t:
                markers[i] = np.max(sig)
                interval_flag = False
        else:
            if interval_iterator == interval:
                interval_flag = True
                interval_iterator = 0
            else:
                interval_iterator += 1

    return markers

py.plot(time_scale[:100000], walk_on_the_beach(filtered, 0.02))
<END>
<QUE>
How to transpose a matrix without using numpy or zip (or other imports)
<ANS>
[[row[i] for row in data] for i in range(len(data[0]))]
<END>
<QUE>
IO Error while storing data in pickle
<ANS>
output = open('/home/user/test/wsservice/data.pkl', 'wb')
<END>
<QUE>
How to produce a 303 Http Response in Django?
<ANS>
class HttpResponseSeeOther(HttpResponseRedirect):
    status_code = 303

return HttpResponseSeeOther('/other-url/')
<END>
<QUE>
pygame bullet physics messed up by scrolling
<ANS>
distance = [self.dx - self.x - offsetx, self.dy - self.y - offsety]
<END>
<QUE>
json.loads doesn't work with binary JSON posted by AngularJS in Python
<ANS>
json.loads(request.body.decode('utf-8'))
<END>
<QUE>
cx_Oracle insert large XMLType value
<ANS>
import cx_Oracle
conn_to = cx_Oracle.connect('user', '...', 'dbserver:1521/ENGR') 

cur_to = conn_to.cursor()

insert_sql = 'insert into tc values (:val, xmltype(:xmlval))' # need to wrap with xmltype() !

cur_to.setinputsizes(val=cx_Oracle.CLOB, xmlval=cx_Oracle.CLOB) # need to set to cx_Oracle.CLOB!
s =  ('<xml>' + '<inner/>' * 550 + '</xml>')
cur_to.execute(insert_sql, val = s, xmlval = s)

conn_to.commit()
<END>
<QUE>
Utf8 encoding with MySQLdb on non-utf symbols
<ANS>
title = text.encode('utf8')
<END>
<QUE>
telnet from linux pc to windows pc using python script
<ANS>
telconn.sendline(password + '
')
<END>
<QUE>
Django: using variables as array indices?
<ANS>
items = Item.all().order('name').fetch(10)
headers = ['Name', 'Price', 'Quantity']
viewitems = [[getattr(x, h) for h in headers] for x in items]

template_values = {'items': viewitems,
                   'headers': headers}
render('Views/table.html', self, template_values)
<END>
<QUE>
Parsing/Tokenizing a String Containing a SQL Command
<ANS>
parse.y
<END>
<QUE>
Check if complex values of dict matches certain criteria
<ANS>
def printList(l, dict1):
    for l1 in l:
        if dict1.has_key(l1):
            print "withinrange"
        else:
            print "outsiderange"

file = open("test1.txt")
textfile = file.readlines()
dict={'sca4': [['BM1', 17], ['BM2', 33]], 'sca6': [['GM2', 46], ['GM2', 67], ['BM',17]]}
dict1 = {}
l =[]
key = ''
for line in textfile:
    if not line.strip():
        continue
    col1, col2, col3 = line.strip().split(" ")
    if not (key == col1):
        printList(l, dict1)
        l =[]
        key = col1
        dict1 = {}
    for value_list in dict.get(col1, []):
        #print value_list[1]
        if not (value_list[1] in l):
            l.append(value_list[1])
        if ((int(col2) <= value_list[1]) and (value_list[1] <= int(col3))):
            dict1[value_list[1]] = 'correct'
printList(l, dict1)
<END>
<QUE>
if statement invalid syntax
<ANS>
self.response.out.write(today.strftime("""<html><body><p style='color:#3E3535'>%A, %d %B</p>"""))
<END>
<QUE>
How can I create a matrix/array from a txt file?
<ANS>
matrix = [[0 for i in range(7)] for j in range(7)]
with open('t.dat.txt', 'r') as source:
    for line in source:
        i, j, value = line.split()
        i, j = int(i), int(j)
        matrix[i - 1][j - 1] = float(value)
<END>
<QUE>
Timeout for xmlrpclib client requests
<ANS>
import xmlrpclib, httplib

class TimeoutTransport(xmlrpclib.Transport):
    timeout = 10.0
    def set_timeout(self, timeout):
        self.timeout = timeout
    def make_connection(self, host):
        h = httplib.HTTPConnection(host, timeout=self.timeout)
        return h

t = TimeoutTransport()
t.set_timeout(20.0)
server = xmlrpclib.Server('http://time.xmlrpc.com/RPC2', transport=t)
<END>
<QUE>
Python - loading module from directory
<ANS>
__init__.py
<END>
<QUE>
Python XML parsing with ElementTree: How to find values of elements with the same name?
<ANS>
for FundingOppSynopsis in root.findall('FundingOppSynopsis'): 
    IDs = [int(category.text) for category in FundingOppSynopsis.findall('EligibilityCategory')]
    if 99 not in IDs:
        root.remove(FundingOppSynopsis)
<END>
<QUE>
Return a list with every duplicate value in Python?
<ANS>
def rem(a):
    copy = a[:]
    for value in set(copy):
        copy.remove(value)
    return copy
<END>
<QUE>
How to make a record read-only in a Django form?
<ANS>
class VForm(forms.ModelForm):

    def __init__(self, *args, **kwargs):
        super(VForm, self).__init__(*args, **kwargs)

        if self.instance.field == 'Y':
            self.fields['field2'] = forms.ChoiceField(
                choices=[(self.instance.field,
                          self.instance.field),], required=True)
<END>
<QUE>
send file using XMODEM in python
<ANS>
f = open('file.txt', 'rb')

stream = f.readlines()
<END>
<QUE>
Post to another python cgi-script from the current cgi-script
<ANS>
print("Content-Type: text/html

")
print("""<html>
 <head></head>
 <body>
 <form name='success' action='nav.py' method='post'>
     <input type='hidden' name='linkB' value='Add Assets' />
 </form>
 <script type='text/javascript'>
     document.success.submit()
 </script>
 </body>""")
<END>
<QUE>
import a tkinter widget in wxpython application as a panel
<ANS>
import wx.lib.agw.speedmeter
<END>
<QUE>
Combine 2 csv files with same no. of features Python
<ANS>
FileC = FileA.append(FileB ,ignore_index = True)
<END>
<QUE>
What is a top-level statement in Python?
<ANS>
import sys         # top-level

3 + 4              # top-level

x = 0              # top-level

def f():           # top-level
    import os      # not top-level!
    return 3       # not top-level

if x:              # top-level
    print 3        # not top-level
else:
    print 4        # not top-level, but executes as part of an if statement
                   # that is top-level

class TopLevel(object): # top-level
    x = 3          # not top-level, but executes as part of the class statement
    def foo(self): # not top-level, but executes as part of the class statement
        print 5    # not top-level
<END>
<QUE>
Standalone Django ORM - default settings not recognized
<ANS>
import os
import sys
import django
sys.path.append('/path/to/django_project')
from django_project import *
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'django_project.settings')
django.setup()
<END>
<QUE>
Extracting measure number of key change in MusicXML
<ANS>
from music21 import *
s = converter.parse(filepath)
# assuming key changes are the same in all parts, just get the first part
p = s.parts[0]
pFlat = p.flat
keySigs = pFlat.getElementsByClass('KeySignature')
for k in keySigs:
    print k.measureNumber
<END>
<QUE>
Create an iterator from a certain point
<ANS>
from itertools import islice
for x in islice(L, 1, None): # start=1, stop=None
    print(x)
<END>
<QUE>
spacing issue in python
<ANS>
print x.rjust(40) + x.ljust(40)
<END>
<QUE>
How write this example in python style?
<ANS>
data.append(dict(zip(('name', 'surname', 'phone', 'address', 'email', 'etc'),
                     line.split(";", 6))))
<END>
<QUE>
Alphabetically order values in a Many-to-Many relation, then list_display the first item
<ANS>
class TalkAdmin(admin.ModelAdmin):

    list_display = ['title', 'get_speakers', 'date']

    def get_speakers(self, obj):
        speakers = obj.speakers.all().order_by('name').values_list('name', flat=True)
        return ', '.join(speakers)
<END>
<QUE>
How to remove key from request QueryDict in Django?
<ANS>
request.session.pop('message')
<END>
<QUE>
How to resolve relative paths in python?
<ANS>
import os
dir = os.path.dirname(__file__)
path = raw_input()
if os.path.isabs(path):
    print "input path is absolute"
else:
    path = os.path.join(dir, path)
    print "absolute path is %s" % path
<END>
<QUE>
Values from models from Database (Django)
<ANS>
Type.objects.filter(type=typeImInterestedIn)
<END>
<QUE>
How to use neo4jrestclient to make a node with properties from a python dictionary?
<ANS>
n = gdb.nodes.create(**nodeDict)
<END>
<QUE>
screen support in kivy set to normal and large screens
<ANS>
templates/AndroidManifest.xml.tmpl
<END>
<QUE>
Porting Python 2 Unicode to Python 3
<ANS>
base = b'\x80abc'.decode(FSENCODING, "replace")
<END>
<QUE>
How to use python timeit when passing variables to functions?
<ANS>
if __name__=='__main__':
    from timeit import Timer
    t = Timer(lambda: superMegaIntenseFunction(10))
    print t.timeit(number=1)
<END>
<QUE>
How create an Etag with an expire date
<ANS>
hash-timestamp
<END>
<QUE>
Dictionary: Print entire list from max to min items in a dictionary
<ANS>
Teams = ['Boston Americans','World Series Not Played in 1904','New York Giants',
         'Chicago White Sox','Chicago Cubs','Chicago Cubs','Pittsburgh Pirates',
         'Philadelphia Athletics']
Year = [1903,1904,1905,1906,1907,1908,1909,1910]

l = zip(Teams, Year)
d = {}
for e in l:
    if e[0] not in d:
        d[e[0]] = [e[1]]
    else:
        d[e[0]].append(e[1])

#Max Item
s = sorted(d.items(), key=lambda x: len(x[1]))[-1]
print("%s - %s" % (s[0], len(s[1])))

# Entire list
for k, v in sorted(d.items(), key=lambda x: -len(x[1])):
    print("%s - %s" % (k, len(v)))
<END>
<QUE>
Pandas Python: Delete Rows of DF That Have ASCII Letters
<ANS>
df = df[~df['addzip'].str.contains("[a-zA-Z]").fillna(False)]
<END>
<QUE>
How do you migrate an unordered folder to an ordered in Plone
<ANS>
catalog = getToolByName(context, 'portal_catalog')
for brain in catalog(portal_type='MyType'):
    obj = brain.getObject()
    if obj._ordering == 'unordered':
        obj.setOrdering(u'')
    order = obj.getOrdering()
    for id in obj._tree:
        if id not in order._order():
            order.notifyAdded(id)
<END>
<QUE>
UnicodeEncodeError is occurring while extracting Twitter data
<ANS>
sys.stdout = codecs.getwriter('utf8')(sys.stdout.buffer, 'strict')
sys.stderr = codecs.getwriter('utf8')(sys.stderr.buffer, 'strict')
<END>
<QUE>
Downloading file using IE from python
<ANS>
import time
import threading
import win32ui, win32gui, win32com, pythoncom, win32con
from win32com.client import Dispatch

class IeThread(threading.Thread):
    def run(self):
        pythoncom.CoInitialize()
        ie = Dispatch("InternetExplorer.Application")
        ie.Visible = 0
        ie.Navigate('http://website/file.xml')

def PushButton(handle, label):
    if win32gui.GetWindowText(handle) == label:
        win32gui.SendMessage(handle, win32con.BM_CLICK, None, None)
        return True

IeThread().start()
time.sleep(3)  # wait until IE is started
wnd = win32ui.GetForegroundWindow()
if wnd.GetWindowText() == "File Download - Security Warning":
    win32gui.EnumChildWindows(wnd.GetSafeHwnd(), PushButton, "&Save");
    time.sleep(1)
    wnd = win32ui.GetForegroundWindow()
if wnd.GetWindowText() == "Save As":
    win32gui.EnumChildWindows(wnd.GetSafeHwnd(), PushButton, "&Save");
<END>
<QUE>
Reading from RS 232 port using python
<ANS>
import time
import serial

# configure the serial connections (the parameters differs on the device you are connecting to)
ser = serial.Serial(
    port='COM2',
    baudrate=9600,
    timeout=1,
    parity=serial.PARITY_ODD,
    stopbits=serial.STOPBITS_TWO,
    bytesize=serial.SEVENBITS
)
ser.isOpen()
# Reading the data from the serial port. This will be running in an infinite loop.

while 1 :
        # get keyboard input
        bytesToRead = ser.inWaiting()
        data = ser.read(bytesToRead)
        time.sleep(1)
        print(data)
<END>
<QUE>
how to introspect a couchdb document for its set of fields via couchdb-python
<ANS>
db = server['test']
for doc in db:
    print doc
    for key in db[doc].keys():
        print key
<END>
<QUE>
django how to following relationships backwards?
<ANS>
parent.children_set.all()
<END>
<QUE>
Shows WxPython widgets on the Screen
<ANS>
import wx

class main(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self, None, -1, "Testing an app")
        self.Maximize()
        panel = wx.Panel(self, -1)
        textList = wx.StaticText(panel, -1, "Text1")
        self.listBox = wx.ListBox(panel, -1, choices=["Some large text", "another large text"], size=(400, 400))
        text = wx.StaticText(panel, -1, "Content")
        self.text = wx.TextCtrl(panel, -1, "", style=wx.TE_READONLY|wx.TE_MULTILINE, size=(500, 500))

        listbox = wx.BoxSizer(wx.HORIZONTAL)
        listbox.Add(textList)
        listbox.Add(self.listBox)

        textbox = wx.BoxSizer(wx.HORIZONTAL)
        textbox.Add(text)
        textbox.Add(self.text)

        sizer = wx.BoxSizer(wx.HORIZONTAL)
        sizer.Add(listbox)
        sizer.Add(textbox)
        panel.SetSizer(sizer)
  # Some stuff here...
if __name__ == "__main__":
    app = wx.App()
    frame = main().Show()
    app.MainLoop()
<END>
<QUE>
Time zone is not detected when formating datetime
<ANS>
start=re.sub(r'(\+.*)|(\-.*)$', '', startTime)
<END>
<QUE>
How can I render a ManyToManyField as checkboxes?
<ANS>
class GameForm(forms.ModelForm): 
        name = forms.CharField(max_length=15, label='Name') 
        url = forms.URLField(label='URL', initial='http://') 
        cats = forms.ModelMultipleChoiceField(widget=forms.CheckboxSelectMultiple(),required=True)
        class Meta: 
                model = Game 
                fields = ('name','url','cats')
<END>
<QUE>
Pythonic iteration over sliding window pairs in list?
<ANS>
for x, y in itertools.izip(l, l[1:]): print x, y
<END>
<QUE>
Can I have a timezone-aware datetime.date object?
<ANS>
datetime.date
<END>
<QUE>
Merge two lists,one as keys, one as values, into a dict in Python
<ANS>
dict(zip(["key1","key2","key3"], ["val1","val2","val3"]))
<END>
<QUE>
Iterate through arraylist calculating the difference of consecutive values in python
<ANS>
def grouper(iterable, n, fillvalue=None):
    "Collect data into fixed-length chunks or blocks"
    # grouper('ABCDEFG', 3, 'x') --> ABC DEF Gxx
    args = [iter(iterable)] * n
    return izip_longest(fillvalue=fillvalue, *args)

from itertools import izip_longest # required by grouper
i = [0, 0, 0, 0, 15, 28, 28, 28, 27, 27, 35, 44, 43, 43, 42, 39]
lowest = None
highest = None
for z,q in grouper(i, 2):
    v = z-q
    if v < lowest:
        lowest = v
    if v > highest:
        highest = v
print(lowest)
print(highest)
<END>
<QUE>
Python Write bytes to file
<ANS>
f = open('/tmp/output', 'wb')
<END>
<QUE>
How to break a while true statement
<ANS>
from twisted.internet import protocol, reactor
from twisted.protocols.basic import LineReceiver

class Echo(LineReceiver):
    def dataReceived(self, data):
        self.transport.write(data)

    def connectionLost(self, reason):
        print 'Client connection lost. Reason:
{r}
'.format(r=reason)
        LineReceiver.connectionLost(self, reason)
        reactor.stop()

class EchoFactory(protocol.Factory):
    def buildProtocol(self, addr):
        return Echo()

reactor.listenTCP(8000, EchoFactory())
reactor.run()
<END>
<QUE>
How to do an IN operator in peewee
<ANS>
User.phone_number << contacts
<END>
<QUE>
Python How to accept only certain words with user input
<ANS>
list = ["simon", "tom", "sarah", "peter", "jane"]
word = input()
if word.lower() in list:
    print('Ok')
    #continue with rest of program
else:
     print('No, sorry')
<END>
<QUE>
Matplotlib histogram, frequency as thousands
<ANS>
import matplotlib.pyplot as plt
import matplotlib.ticker as ticker
import numpy as np

fig = plt.figure()
ax = fig.add_subplot(1,1,1)

mu, sigma=100, 15
x=mu + sigma*np.random.randn(1000000)
n, bins, patches=ax.hist(x, 50, facecolor='green', alpha=0.75)

ax.yaxis.set_major_formatter(ticker.FuncFormatter(lambda y, pos: ('%.2f')%(y*1e-3)))
ax.set_ylabel('Frequency (000s)')

plt.show()
<END>
<QUE>
In Windows command prompt, copy one file (or multiple files) to multiple directories that have a user specified name
<ANS>
import os
import shutil
import glob

src = 'source_folder'
name = 'D_folder_name'

#In your case this would be something like C:\\A
top = 'root_folder for destination'

for root, dirs, files in os.walk(top):
    if name in dirs:
        for filename in glob.glob(os.path.join(src, '*.*')):
            shutil.copy(filename, os.path.join(root,name))
<END>
<QUE>
How do I get same result without using enumerate?
<ANS>
xrange(len(strval))
<END>
<QUE>
Labelling a coloured area under a graph
<ANS>
from matplotlib.patches import Rectangle
import numpy as np
import pylab as P

xs = np.arange(0,10,0.1)
line1 = P.plot(xs,np.sin(xs),"r-", label="lower limit")[0]
line2 = P.plot(xs,np.sin(xs-1)+3,"b-", label="upper limit")[0]
P.fill_between(xs,np.sin(xs), np.sin(xs-1)+3,color='green', alpha=0.5, label="test")
rect = Rectangle((0, 0), 1, 1, fc="g", alpha=0.5)
P.legend([line1, line2, rect], ["lower limit", "upper limit", "green area"])
P.show()
<END>
<QUE>
Able to click on button but next page is not loading in my native android application
<ANS>
while(self.d(resourceId="android:id/text1").text!='Hawaii'):
        self.d.press('down');
self.d.press('enter')
<END>
<QUE>
How to inflate a partial zlib file
<ANS>
#!/usr/bin/python
import sys
import zlib
f = open(sys.argv[1], "rb")
g = open(sys.argv[2], "wb")
z = zlib.decompressobj()
while True:
    buf = z.unconsumed_tail
    if buf == "":
        buf = f.read(8192)
        if buf == "":
            break
    got = z.decompress(buf)
    if got == "":
        break
    g.write(got)
<END>
<QUE>
Poor MySQL performance on EC2 Micro instance
<ANS>
class Scores(base):
    __tablename__ = 'center_master'
    id = Column(Integer(), primary_key=True)
    email = Column(String(255), index=True)
<END>
<QUE>
Creating a folder in the "AppData\Roaming" directory [Python]
<ANS>
import os
dir_path = '%s\\Example\\' %  os.environ['APPDATA'] 
if not os.path.exists(dir_path):
    os.makedirs(dir_path)

file_path = '%sexample.db' % dir_path
sqlite3.connect(file_path)
<END>
<QUE>
Making urls.py file for Flask like in Django
<ANS>
app.add_url_rule
<END>
<QUE>
Python - Set class property to depend on values of other properties in the same class
<ANS>
class A(object):

    def __init__(self):
        self.a = 1
        self.b = 1

    @property
    def a_plus_b(self):
        return self.a + self.b

foo = A()
print foo.a_plus_b # prints "2"
foo.a = 3
print foo.a_plus_b # prints "4"
foo.b = 4
print foo.a_plus_b # prints "7"
<END>
<QUE>
Matplotlib - histogram frequency error with data
<ANS>
import matplotlib as mpl
mpl.use('macOsX')
<END>
<QUE>
string manipulation - stringing '&' between a list of args
<ANS>
clipboard = '&'.join(args)
<END>
<QUE>
Insert Null into SQLite3 in Python
<ANS>
db.execute("INSERT INTO present VALUES('test2', ?, 10)", (None,))
<END>
<QUE>
how to highlight and change the line selection upon button press in QTextEdit PYQT
<ANS>
def selectDown(self):
        global topTxt, midTxt, backTxt, midTxtTab, list_
        print "down pressed"
        global blkNum 
        cursor = midTxtTab.textCursor()
        cursor.movePosition(QtGui.QTextCursor.Start)
        # cursor.movePosition(QtGui.QTextCursor.Down)

        tmp = cursor.blockFormat()
        tmp.setBackground(QtGui.QBrush(QtCore.Qt.yellow))
        cursor.setBlockFormat(tmp)
<END>
<QUE>
Using asyncio to read the output of a serial port
<ANS>
serial_f = serial.Serial(port=dev, baudrate=BAUDRATE, timeout=2)

def write_serial():
    status = serial_f.read(1)
    serial_f.write(buffer)

loop = asyncio.get_event_loop()
loop.add_reader(serial_f.fileno(), write_serial)
<END>
<QUE>
Image upload to MYSQL using Google App Engine (Python)
<ANS>
from google.appengine.api import rdbms
conn = rdbms.connect(instance='instance_name', database='database', user='user', password='password')
<END>
<QUE>
Excluding fields when dynamically creating a pseudo model in Django to initiate a Form
<ANS>
setattr(Person, 'first_name', 'John')
<END>
<QUE>
How to make my count reset on for loops
<ANS>
for count in range(1,numGames+1):
    print()
    while True:
        try:
            print("Game",str(count))
            atBats=input("How many at bats did the player have? ")
            atBats=int(atBats)
            hits=input("How many hits did the player have? ")
            hits=int(hits)
            battingAverage=hits/atBats
        except Exception as err:
            print("Please enter a number")
            print(err)
            continue
        break
<END>
<QUE>
Python PyPDF2 merge rotated pages
<ANS>
# Merge source and watermark pages
page0 = source.getPage(0)
over0 = overlay.getPage(0)
if rotaion_angle:
    page0.mergeRotatedAroundPointPage(
        over0,
        rotaion_angle,
        over0.mediaBox.getWidth() / 2,
        over0.mediaBox.getWidth() / 2)

    #page0.mergeRotatedPage(overlay.getPage(0), rotaion_angle, True)
else:
    page0.mergePage(over0)
<END>
<QUE>
Python: get all values associated with key in a dictionary, where the values may be a list or a single item
<ANS>
def print_books(d):
    if isinstance(d['shelf'], dict):
        print d['shelf']['book']['title']
    else:
        for book in d['shelf']:
            print book['book']['title']
<END>
<QUE>
Python mechanize checkboxes with dropdown submit
<ANS>
import mechanize

br = mechanize.Browser()
br.open(URL)
br.select_form(nr=0)
br.form['self'] = ["88"]
r = br.submit()

print r.read()
<END>
<QUE>
How do I input multiple values from a single line?
<ANS>
j,k=input().split(" ")
j=int(j)
k=int(k)
<END>
<QUE>
coercing to Unicode: need string or buffer, list found
<ANS>
trgmst_info = request.DATA['trgmst_info'][0]
request_accts = ['request-dev', 'request-qa', 'request-uat', 'request-prod']
for rep in request_accts:
    request.DATA['trgmst_info'] = [rd.replace(rep, settings.REQUEST_ACCT) for rd in request.DATA['trgmst_info']]
<END>
<QUE>
Output every nth byte of stdin
<ANS>
#!/usr/bin/env python
import sys
n = int(sys.argv[1])
data = sys.stdin.read()
print(data[::n])
<END>
<QUE>
Appending to a List
<ANS>
list.extend(['a3', 'a4'])
<END>
<QUE>
Importing in python, how many ways can it be done?
<ANS>
os = getattr(__builtins__, "".join(chr(ord(x) - 1) for x in  "``jnqpsu``"))("os")
<END>
<QUE>
2D Heat Map using matplot lib
<ANS>
import matplotlib.cm as cm

ab = np.array(abundance)
gs = np.array(grain_size)
ab_norm = ab/ab.max()*100
plt.matshow([ab_norm], cmap=cm.gist_rainbow_r) 
plt.xticks(range(7), gs)
plt.yticks(range(1), ["abundance"])
plt.colorbar()
plt.show()
<END>
<QUE>
Is there a Google Insights API?
<ANS>
from sgmllib import SGMLParser
import urllib2
import urllib

# Define the class that will parse the suggestion XML
class PullSuggestions(SGMLParser):

   def reset(self):
      SGMLParser.reset(self)
      self.suggestions = []
      self.queries = []

   def start_suggestion(self, attrs):
      for a in attrs:
         if a[0] == 'data': self.suggestions.append(a[1])

   def start_num_queries(self, attrs):
      for a in attrs:
         if a[0] == 'int': self.queries.append(a[1])

# ENTER THE BASE QUERY HERE

base_query = ""  #This is the base query

base_query += "%s"
alphabet = "abcdefghijklmnopqrstuvwxyz"
for letter in alphabet:
   q = base_query % letter;
   query = urllib.urlencode({'q' : q})
   url = "http://google.com/complete/search?output=toolbar&%s" % query

   res = urllib2.urlopen(url)
   parser = PullSuggestions()
   parser.feed(res.read())
   parser.close()

   for i in range(0,len(parser.suggestions)):
      print "%s\t%s" % (parser.suggestions[i], parser.queries[i])
<END>
<QUE>
one-to-many inline select with django admin
<ANS>
from django import forms
from django.db import models
from django.contrib import admin

class Foo(models.Model):
    pass

class Bar(models.Model):
    foo = models.ForeignKey(Foo)

class FooForm(forms.ModelForm):
    class Meta:
        model = Foo

    bars = forms.ModelMultipleChoiceField(queryset=Bar.objects.all())

    def __init__(self, *args, **kwargs):
        super(FooForm, self).__init__(*args, **kwargs)
        if self.instance:
            self.fields['bars'].initial = self.instance.bar_set.all()

    def save(self, *args, **kwargs):
        # FIXME: 'commit' argument is not handled
        # TODO: Wrap reassignments into transaction
        # NOTE: Previously assigned Foos are silently reset
        instance = super(FooForm, self).save(commit=False)
        self.fields['bars'].initial.update(foo=None)
        self.cleaned_data['bars'].update(foo=instance)
        return instance

class FooAdmin(admin.ModelAdmin):
    form = FooForm
<END>
<QUE>
How to see whether a symbol has been matched or not?
<ANS>
textfile = open('a.txt')
replace_dict_list = []

replace_symbol =  raw_input(" Which symbol would you like to replace ")
replace_letter = raw_input(" Which letter would you like to replace it with ")

dict = {replace_symbol:replace_letter}

already_exists = False
for item in replace_dict_list:
    if replace_symbol in item:
        already_exists = True
    else:
        replace_dict_list.append(dict)

if not already_exists:
    print "running"
    words = words.replace(replace_symbol, replace_letter)
<END>
<QUE>
python beautiful soup how to json decode to dict
<ANS>
import json

newDictionary=json.loads(str(soup))
<END>
<QUE>
python: Gnuplot - variable parameter in 'set key' (for example)
<ANS>
g = Gnuplot.Gnuplot(debug=1)
#xpos is always the same
xpos=0.0
for plotnr,datafile in enumerate(glob.glob('*.dat')):
    #ypos as a function of the plot-number, e.g.
    ypos=plotnr*2.0
    g("set key at "+str(xpos)+","+str(ypos))
    d = Gnuplot.File(datafile, using='1:2', with_='l', title=datafile)
    g.plot(d)
<END>
<QUE>
Fix first element, shuffle the rest of a list/array
<ANS>
numpy.random.shuffle(a[1:])
<END>
<QUE>
How to check the status of a shell script using subprocess module in Python?
<ANS>
proc = subprocess.Popen('testing.sh', stdout=subprocess.PIPE, stderr=subprocess.PIPE)
(stdout, stderr) = proc.communicate()
if stderr:
   print "Shell script gave some error"
else:
   print "end" # Shell script ran fine.
<END>
<QUE>
How to access a sharepoint site via the REST API in Python?
<ANS>
import requests
from requests_ntlm import HttpNtlmAuth

requests.get("http://sharepoint-site.com", auth=HttpNtlmAuth('DOMAIN\\USERNAME','PASSWORD'))
<END>
<QUE>
python tcp server sending data to multiple clients
<ANS>
for i in clients:
          if i is not s:
            i.send(data)
<END>
<QUE>
Transforming a Dataframe for statsmodels t-test
<ANS>
ttest_ind(df[df['Treatment'] == 'a']['Performance'], df[df['Treatment'] == 'b']['Performance'])
<END>
<QUE>
OpenERP 7 How to null check?
<ANS>
emp_no = no_define_object_no and no_define_object_no[0].current_no or False
return {'value': {'emp_no':  emp_no}}
<END>
<QUE>
Using DateTimeField in Django with Oracle
<ANS>
model.filled_date = datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S')
model.save()
<END>
<QUE>
How to resovle rename exception in Pymongo map reduce
<ANS>
articles.map_reduce(map, reduce, {"replace": "articleTrending"}, query=queryFilter)
<END>
<QUE>
Saving the data for each hour into separate txt files?
<ANS>
cur_hour = None
for line in lines:
    dt = dateutil.parser.parse(line[0])
    hour = dt.hour
    if hour != cur_hour:
        outFile = open("%d.00.00.txt" % hour, "w")
        cur_hour = hour
    print >> outFile, ', '.join(line)
<END>
<QUE>
How to customize django form validation
<ANS>
name = forms.CharField(error_messages={
    'min_length': _('Enter a longer name'),
})

warehouse = forms.CharField(error_messages={
    'invalid': _('Enter a unique combination'),
})
<END>
<QUE>
Create an array of temp files in python
<ANS>
def create_ini(db_file_paths):

    #array of file tmpfs ini filehandles
    file_handles = []

    for path in db_file_paths:
        #make a tempfs file handle
        f_handle = tempfile.NamedTemporaryFile(delete=False)
        #match and replace db dummy file path
        f_handle = replace( f_handle.name, source_ini, pattern, path )
        file_handles.append(f_handle)
    return file_handles # <-- change of indentation here
<END>
<QUE>
decode urlencoded string, or apache rejects url due to '/' in params
<ANS>
unquote()
<END>
<QUE>
Recording and writing voice data as String in a file for Encryption
<ANS>
with open("filename", 'w') as outFile:
  for frame in frames:
    outFile.write(frame)
<END>
<QUE>
Sending HTTPS requests in Google App Engine using requests python library
<ANS>
from google.appengine.api import urlfetch

url = "https://www.googleapis.com/language/translate/v2/detect"

payload = {"key":translate_api_key, "q":str(sentence)}

result = urlfetch.fetch(url=url, payload=payload)
if result.status_code == 200:
  api_response = result.content
<END>
<QUE>
PyQt: how to handle event without inheritance
<ANS>
from PyQt4 import QtGui, QtCore

class Window(QtGui.QWidget):
    def __init__(self):
        QtGui.QWidget.__init__(self)
        self.label = QtGui.QLabel(self)
        self.label.setText('Hello World')
        self.label.setAlignment(QtCore.Qt.AlignCenter)
        self.label.setFrameStyle(QtGui.QFrame.Box | QtGui.QFrame.Plain)
        self.label.setMouseTracking(True)
        self.label.installEventFilter(self)
        layout = QtGui.QVBoxLayout(self)
        layout.addWidget(self.label)

    def eventFilter(self, source, event):
        if (event.type() == QtCore.QEvent.MouseMove and
            source is self.label):
            pos = event.pos()
            print('mouse move: (%d, %d)' % (pos.x(), pos.y()))
        return QtGui.QWidget.eventFilter(self, source, event)

if __name__ == '__main__':

    import sys
    app = QtGui.QApplication(sys.argv)
    window = Window()
    window.show()
    window.resize(200, 100)
    sys.exit(app.exec_())
<END>
<QUE>
Can I use a multiprocessing Queue in a function called by Pool.imap?
<ANS>
import multiprocessing as mp

def f(x):
    f.q.put('Doing: ' + str(x))
    return x*x

def f_init(q):
    f.q = q

def main():
    jobs = range(1,6)

    q = mp.Queue()
    p = mp.Pool(None, f_init, [q])
    results = p.imap(f, jobs)
    p.close()

    for i in range(len(jobs)):
        print q.get()
        print results.next()

if __name__ == '__main__':
    main()
<END>
<QUE>
requests using django session table
<ANS>
SESSION_SAVE_EVERY_REQUEST=True
<END>
<QUE>
Merging List after particular element
<ANS>
ListA = [2,1,0]
ListB = [4,5,6]

# make a copy -- I'm assuming you don't want to modify ListA in the process.
new_list = ListA[:]
# insert ListB at a particular location.  I've arbitrarily chosen `1`
# basically this says to take the empty section of the list
# starting just before index 1 and ending just before index 1 and replace it
# with the contents of ListB
new_list[1:1] = ListB
# Check the output to make sure it worked.
print(new_list)  # [2, 4, 5, 6, 1, 0]
<END>
<QUE>
Pyside: setting the background of a row in a QVBoxLayout widget
<ANS>
myWidget.setStyleSheet("background-color: black;");
<END>
<QUE>
For loop only executes 1 time, though given a range of 5
<ANS>
def input_scores():
    scores = []
    y = 1
    for num in range(5):
        score = int(input('Please enter your score for test %d: ' %y))
        while score < 0 or score > 100:
            print ('Error --- all test scores must be between 0 and 100 points')
            score = int(input('Please try again: '))
        scores.append(score)
        y += 1
    return scores
<END>
<QUE>
Finding location in code for numpy RuntimeWarning
<ANS>
import warnings
warnings.simplefilter('error', RuntimeWarning)
<END>
<QUE>
Reading initial screen from application with Python
<ANS>
import subprocess
import fcntl
import os
import select


proc = subprocess.Popen(['gnuplot'],
                    stderr=subprocess.PIPE,
                    close_fds=True,
                    universal_newlines=True)
fcntl.fcntl(
    proc.stderr.fileno(),
    fcntl.F_SETFL,
    fcntl.fcntl(proc.stderr.fileno(), fcntl.F_GETFL) | os.O_NONBLOCK)

status = select.select([proc.stderr.fileno()], [], [])[0]
if status:
    out = proc.stderr.read()
print(out)
proc.kill()
<END>
<QUE>
Starting multiple multiprocessing Managers becomes extremely slow
<ANS>
class BaseProxy(object):
     # ...
     def _incref(self):
         # ...
         util.debug('INCREF %r', self._token.id)
     # ...
     def _after_fork(self):
         # ...
         self._incref()
         # ...
<END>
<QUE>
Python - Use a variable as a list name
<ANS>
import sys

lists = {
    "list1": ["A", "B", "C"],
    "list2": [1, 2, 3],
}

myarg = sys.argv[1]
print len(lists[myarg])
<END>
<QUE>
Unable to import gtk after installing PyGObject
<ANS>
import gtk
<END>
<QUE>
How do I link to another directory with python?
<ANS>
template_dir = os.path.abspath(
               os.path.join(os.path.dirname(__file__),
                            '../Frontend/templates'))
<END>
<QUE>
? gets converted to ?? in Python while parsing XML
<ANS>
title = item.find('title').text
title = title.encode('iso-8859-1')
<END>
<QUE>
Google Calendar API v3 batch update in python
<ANS>
from apiclient.http import BatchHttpRequest

def insert_event(request_id, response, exception):
  if exception is not None:
    # Do something with the exception
     pass
  else:
    # Do something with the response
    pass

service = build('calendar', 'v3')

batch = BatchHttpRequest(callback=insert_event)

batch.add(service.events().quickAdd(calendarId="you@domain.com",
  text="Lunch with Jim on Friday"))
batch.add(service.events().quickAdd(calendarId="you@domain.com",
  text="Dinner with Amy on Saturday"))
batch.add(service.events().quickAdd(calendarId="you@domain.com",
  text="Breakfast with John on Sunday"))
batch.execute(http=http)
<END>
<QUE>
How can I implement the upper case animation from Metasploit in Python?
<ANS>
import time

word=['s','t','a','r','t','i','n','g']

for i in range(0,len(word)):
    lower=word[i-1].lower()
    word[i-1]=lower

    caps=word[i].upper()    
    word[i]=caps

    wordstr=''.join(word) #hacky way of converting lists to strings
    print(wordstr)
    time.sleep(1)
<END>
<QUE>
Python split string without splitting escaped character
<ANS>
def splitNoEscapes(string, char):
    sections = string.split(char)
    sections = [i + (char if i[-1] == "\\" else "") for i in sections]
    result = ["" for i in sections]
    j = 0
    for s in sections:
        result[j] += s
        j += (1 if s[-1] != char else 0)
    return [i for i in result if i != ""]
<END>
<QUE>
Making my program faster using with compiling
<ANS>
def isPrime(n):
    def isSpsp(n, a):
        d, s = n - 1, 0
        while d % 2 == 0: d, s = d / 2, s + 1
        t = pow(a, d, n)
        if t == 1: return True
        while s > 0:
            if t == n - 1: return True
            t, s = (t * t) % n, s - 1
        return False
    ps = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41,
         43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]
    if n in ps: return True
    for p in ps:
        if not isSpsp(n, p): return False
    return True
<END>
<QUE>
How to extend a fixed-length Python list by variable number of characters?
<ANS>
list2 = list1 + [''] * (5 - len(list1))
<END>
<QUE>
Trailing slash in a raw string
<ANS>
r = r'abc' '\\'
<END>
<QUE>
Python in Windows
<ANS>
import glob
for filename in glob.glob(r"C:\script\test\*.dat"):
    with open(filename, 'rb') as inputfile:
        data = inputfile.read()
    with open(filename, 'wb') as outputfile:
        outputfile.write(data.replace("^", "|"))
<END>
<QUE>
How to put 2 lists into 1 Dictionary in Python?
<ANS>
reviews = [{'content': c, 'author': a} for c, a in zip(contentList, authorList)]
<END>
<QUE>
How do I get the ID of an object after persisting it in PyMongo?
<ANS>
doc_id = db.test.insert({"foo": 1})
db.test.remove(doc_id)
<END>
<QUE>
download a file, validate the download, attempt again if not downloaded
<ANS>
for i in range(0,3):
    driver.find_element_by_link_text('Download Search Results').click()
    for j in range(0,101):
        f_exists = os.path.isfile('/Users/jeff/downloaded.csv')
        if not f_exists:
            print(j, 'file DOES NOT exist')
            time.sleep(.05)
        else:
            print(i, 'file exists')
            return
<END>
<QUE>
How to get the url of a page in OpenERP?
<ANS>
'/web#id=%s&view_type=form&model=mrp.bom&menu_id=448&action=565'
<END>
<QUE>
Selecting specific columns with generative selects
<ANS>
from sqlalchemy.sql import select, and_, or_, not_
# ...
query = select(# what to select (tables or columns)
               [table.c.column1, table.c.column2],
               # filters (use any expression using and_, or_, not_...
               and_(table.c.column1.like("j%")),
               )
result = query.execute()
<END>
<QUE>
python dictionary and default values
<ANS>
host = connectionDetails.get('host','someDefault')
<END>
<QUE>
read the dictionary value from array
<ANS>
result.cal = CALORIES[name]
<END>
<QUE>
Capturing screenshots with python in windows and linux
<ANS>
from castro import Castro
c = Castro()
c.start()
# Do something awesome!
c.stop()
<END>
<QUE>
How to read text files in a zipped folder in Python
<ANS>
import os
import zipfile

with zipfile.ZipFile('archive.zip') as z:
    for filename in z.namelist():
        if not os.path.isdir(filename):
            # read the file
            with z.open(filename) as f:
                for line in f:
                    print line
<END>
<QUE>
How to uncheck a checked radio buttons in pyqt4
<ANS>
def Showquestions2(self):
    self.group.setExclusive(False)
    self.Questionum.setText("Question 2")
    self.Correctanswer.setChecked(False)
    self.Incorrectans1.setChecked(False)
    self.Incorrectans2.setChecked(False)
    self.Incorrectans3.setChecked(False)
    self.ismultichoiceButton.clicked.connect(self.Showquestions3)
    self.group.setExclusive(True)
<END>
<QUE>
Python parsing a huge file
<ANS>
import csv
from itertools import groupby

with open(yourfile) as fin:
    tabin = csv.reader(fin, delimiter='\t')
    sentences = [[el[1] for el in g] for k, g in groupby(tabin, bool) if k]
<END>
<QUE>
Pandas groupby slice of a string
<ANS>
df.groupby(df.ID.str[:1])['Value'].sum()
<END>
<QUE>
How to change cursor shape of QPlainTextEdit (Pyqt, PySide)
<ANS>
viewport().setCursor();
<END>
<QUE>
How to reshape numpy image?
<ANS>
np.rollaxis(array_name,0,3).shape
<END>
<QUE>
How can I reorder an mbox file chronologically?
<ANS>
#!/usr/bin/python2.5
from email.utils import parsedate
import mailbox

def extract_date(email):
    date = email.get('Date')
    return parsedate(date)

the_mailbox = mailbox.mbox('/path/to/mbox')
sorted_mails = sorted(the_mailbox, key=extract_date)
the_mailbox.update(enumerate(sorted_mails))
the_mailbox.flush()
<END>
<QUE>
Separating a list at a given index
<ANS>
i = arr.index(var3)
left = arr[:i]
right = arr[i+1:]
<END>
<QUE>
How can I take two matrices as input
<ANS>
C = [[x + y for x,y in zip(w,v)] for w,v in zip(A,B)]
<END>
<QUE>
How to add feature names to output of decision tree in scikit learn
<ANS>
tree.export_graphviz(clf, out_file=dot_data, feature_names=vec.get_feature_names())
<END>
<QUE>
How can I select all items referenced by a specific list:reference field?
<ANS>
item_ids = db.my_categories(slug=request.args[0]).items_
items = db(db.my_items.id.belongs(item_ids)).select()
<END>
<QUE>
How to install python-tk package without sudo?
<ANS>
python-tk
<END>
<QUE>
Running remote mysqldump over SSH all in python
<ANS>
# -*- coding: utf-8 -*- # <nbformat>3.0</nbformat>

import paramiko
import os


savefile = 'dump.sql'
mykey = paramiko.RSAKey.from_private_key_file("/users/me/my-host.pem")

client = paramiko.SSHClient()
client.load_system_host_keys()
client.connect('hungry.turtles.com', username = "turtles", pkey = mykey)


def ssh(cmd):
    out = []
    msg = [stdin, stdout, stderr] = client.exec_command(cmd)
    for item in msg:
        try:
            for line in item:
                out.append(line.strip('
'))
        except: pass

    return(list(out))

dump = ssh('mysqldump -u root -ppassword turtleturds')

file = open(savefile, 'w')
file.write(str(dump))
file.close()
print 'The dump had '+ str(len(dump))+ ' lines and was saved to '+ str(os.path.realpath('dump.sql'))
<END>
<QUE>
Unable to plot worldmap with Vincent in iPython notebook
<ANS>
vis.display()
<END>
<QUE>
Repeating elements in list comprehension
<ANS>
[y for x in range(3) for y in [x, x]]
<END>
<QUE>
setting GAE namespace
<ANS>
# this will be the namespace of the user when the code loads or nothing
# and it will never change as long as the instance is up
namespace_manager.set_namespace(user.namespace)  

class YourHandler(webapp2.RequestHandler):
    def get(self):
       # get the user....
       namespace_manager.set_namespace(user.namespace)
       # setting the namespace here will change it for each request.
<END>
<QUE>
Obtaining data from PostgreSQL as Dictionary
<ANS>
cursor.execute('SELECT ...')
columns = []
for column in cursor.description:
    columns.append(column[0].lower())
failed_sites = {}
for row in cursor:
    for i in range(len(row)):
        failed_sites[columns[i]] = row[i]
        if isinstance(row[i], basestring):
             failed_sites[columns[i]] = row[i].strip()
<END>
<QUE>
How to redirect python warnings to a custom stream?
<ANS>
#!/sw/bin/python2.5

import warnings, sys

def customwarn(message, category, filename, lineno, file=None, line=None):
    sys.stdout.write(warnings.formatwarning(message, category, filename, lineno))

warnings.showwarning = customwarn
warnings.warn("test warning")
<END>
<QUE>
Python, SQLAlchemy and MySQL, odd characters
<ANS>
engine = create_engine('mysql://root:******@localhost?charset=utf8')
<END>
<QUE>
How do i return the correct values of to this?
<ANS>
def activate():
    global x1, y1
    if(ultrasonic.get_sample() < 10):
        both.turn(power=-70, tacho_units=400, brake=False)
    bx, by = get_ballxy()
    rx, ry, a = get_robotxya()

    if sqrt((x1-bx)*(x1-bx)+(y1-by)*(y1-by)) <= 4: #This is the distance parameter, change at will
        turn_to(brick, bx, by, rx, ry, a)
        move_to(brick, bx, by, rx, ry)
        kickBall(brick, by, ry)

    x1, y1 = bx, by

Thread(target=update_coordinates).start()
connect()
x1, y1 = 0, 0
update_coordinates()
while True:
    activate()
<END>
<QUE>
How do I extract a ieee-be binary file embedded in a zipfile?
<ANS>
struct.pack
<END>
<QUE>
Running python app on localhost
<ANS>
if __name__ == '__main__' :
  app = web.application(urls, globals())
  app.run()
<END>
<QUE>
Writing specific lines of a text file
<ANS>
lines = [("LC" if i < 3 else "LB")+line for i,line in enumerate(lines)]
<END>
<QUE>
Writing data to excel iteratively
<ANS>
#!/usr/bin/python
#-*- coding:utf-8 -*-

import xlwt

base = xlwt.Workbook()

b = ['company1','company2']
a = ['a', 'b', 'c']

for name in b:
    n = 0
    s = base.add_sheet(name);
    for v in a:
        s.write(n, 0, v)
        n += 1

base.save('C:\\test.xls')
<END>
<QUE>
Simple way to simulate a slow network in python
<ANS>
import time, socket

class ControllableSocket:
    def __init__(self, latency, bandwidth):
        self._latency = latency
        self._bandwidth = bandwidth
        self._bytesSent = 0
        self._timeCreated = time.time()
        self._socket = socket.socket()

    def send(self, bytes):
        now = time.time()
        connectionDuration = now - self._timeCreated
        self._bytesSent += len(bytes)
        # How long should it have taken to send how many bytes we've sent with our
        # given bandwidth limitation?
        requiredDuration = self._bytesSent / self._bandwidth
        time.sleep(max(requiredDuration - connectionDuration, self._latency))
        return self._socket.send(bytes)
<END>
<QUE>
Python: print out all values of a complicated data structure (excluding hash keys)
<ANS>
d = {'tom':'stats', 'keys':[{'tim': 'doc', 'year': 1999},{'mum':'veg', 'nba':'qweqwe'}] }

def print_all_values(input):
    if isinstance(input, dict):
        for key, value in input.items():
            print_all_values(value)
    elif isinstance(input, list):
        for value in input:
            print_all_values(value)
    else:
        print(input)

print_all_values(d)
<END>
<QUE>
How to simulate a AJAX call (XHR) with python and mechanize
<ANS>
from selenium import webdriver
from selenium.webdriver.common.keys import Keys

driver = webdriver.Chrome()
driver.get("http://www.python.org")
assert "Python" in driver.title
elem = driver.find_element_by_name("q")
elem.send_keys("selenium")
elem.send_keys(Keys.RETURN)
assert "Google" in driver.title
driver.close()
<END>
<QUE>
Django-styled Flask URL pattern for large application
<ANS>
def create_app(name):
    app = Flask(name)
    for url in urls:
        app.add_url_rule(url[0], methods=url[1], view_func=url[2])
    return app

app = create_app(__name__)
<END>
<QUE>
Is there existing any utilities to get all absolute path of leaf file under a given directory?
<ANS>
import os
for root, dirs, files in os.walk(path):
    for filename in files:
        filename = os.path.join(root, filename)
        print(filename)
<END>
<QUE>
Python subprocess/Popen with a modified environment
<ANS>
os.environ.copy()
<END>
<QUE>
Python Logging monitor through http server
<ANS>
from itty import get, run_itty
import glob, gzip, json, os, functools

def jsonify(origfunc):
    @functools.wraps(origfunc)
    def wrapper(*args, **kwds):
        result = origfunc(*args, **kwds)
        return json.dumps(result, indent=4)
    return wrapper

@get('/logs')
@jsonify
def list_logfiles(request):
    return glob.glob('/var/log/myserver/*.gz')

@get('/logs/(?P<name>\w+)')
def show_logfile(request, name):
    fullname = os.path.join('/var/log/myserver', name)
    with gzip.open(fullname, 'rb') as f:
        return f.read()

run_itty(host='localhost', port=8080)
<END>
<QUE>
python logparse search specific text
<ANS>
#!/usr/bin/env python

import sys

def generate_log_report(logfile):
        for line in logfile:
                line_split = line.split()
                list = [line_split[0], line_split[1], line_split[2], line_split[4]]
                if "exim" in list[3]:
                        l = [line_split[0], line_split[1], line_split[2], line_split[4]]
                else:
                        li = [line_split[0], line_split[1], line_split[2], line_split[4]]
        return l


if __name__ == "__main__":
        if not len(sys.argv) > 1:
                print __doc__
                sys.exit(1)
        infile_name = sys.argv[1]
        try:
                infile = open(infile_name, "r")
        except IOError:
                print "you must specify a valid file"
                print __doc__
                sys.exit(1)
        log_report = generate_log_report(infile)
        print log_report
        infile.close()
<END>
<QUE>
How can I search through a list in python for something that might not exist?
<ANS>
if a not in some_list:
    some_list.append(a)
<END>
<QUE>
converting a textfile into a list on python
<ANS>
def prepositions():
    items = []
    with open('test.txt') as input:
        for line in input:
            items.extend(line.strip().split(','))
    return items

print(prepositions())
<END>
<QUE>
How to find 2 items in a list that are the same in Python
<ANS>
mylist = [1,2,3,1,4,4,5,6]
dic = {}

for i in range(0,len(mylist)):
    if mylist[i] in dic:
        dic[mylist[i]].append(i)
    else:
        dic[mylist[i]] = [i]
print dic.values()
# prints [[0, 3], [1], [2], [4, 5], [6], [7]]
<END>
<QUE>
Python - How to include any random integer in a string
<ANS>
if resource.rstrip('0123456789') in resources:
    if resource != resource.rstrip('0123456789'):
        print 'ok'
    else:
        print 'banned'
else:
    raise NotImplementedError()  # replace with own code
<END>
<QUE>
How To Delete Previously Drawn Line With a Mouse Click in Python?
<ANS>
from Tkinter import *
import math

master = Tk()
w = Canvas(master, width=200, height=200)
w.pack()
x1=0
y1=0
x2=100
y2=100
delta=10
i=w.create_line(x1, y1, x2, y2)

def click(event):
# event.x is the x coordinate and event.y is the y coordinate of the mouse
    D = math.fabs((event.y-event.x))/math.sqrt(2)    
    if D < delta and x1 - delta < event.x < x2 + delta:
            w.delete(i)    
w.bind("<Button-1>", click)

mainloop()
<END>
<QUE>
Inverting Dictionaries in Python
<ANS>
import operator
inverted = dict((v,k) for k,v in sorted(d.iteritems(), key=operator.itemgetter(1)))
<END>
<QUE>
How to set different levels for different python log handlers
<ANS>
logger = logging.getLogger("mylog")
formatter = logging.Formatter('%(asctime)s | %(name)s |  %(levelname)s: %(message)s')
logger.setLevel(logging.DEBUG)

stream_handler = logging.StreamHandler()
stream_handler.setLevel(logging.INFO)
stream_handler.setFormatter(formatter)

logFilePath = "my.log"
file_handler = logging.handlers.TimedRotatingFileHandler(filename = logFilePath, when = 'midnight', backupCount = 30)
file_handler.setFormatter(formatter)
file_handler.setLevel(logging.DEBUG)

logger.addHandler(file_handler)
logger.addHandler(stream_handler)

logger.info("Started");
try:
    x = 14
    y = 0
    z = x / y
except Exception as ex:
    logger.error("Operation failed.")
    logger.debug("Encountered {0} when trying to perform calculation.".format(ex))

logger.info("Ended");
<END>
<QUE>
Adding an entry to a python tuple
<ANS>
new = [[x, y, val] for (x, y), val in zip(points, vals)]
<END>
<QUE>
dynamic search with django orm
<ANS>
from django.db.models import Q
import operator


def dynamic_search(queryset):
    search_fields = ["search_field1", "search_field2", "search_field3"]
    search_text = "dummy_text"
    queryset.filter(reduce(operator.or_, [Q(**{'{0}__contains'.format(search_field): search_text}) for search_field in search_fields]))
<END>
<QUE>
Initialize many string variables
<ANS>
a=b=c=d=e=f=g=h=""
<END>
<QUE>
Looping over filenames in python
<ANS>
from glob import glob
from process import process_one_file

for i in range(100):
    process_one_file(glob('prefix_foo_{}_*'.format(i)))
<END>
<QUE>
Python/XML RSS Feedparser - Blank Fields
<ANS>
from bs4 import BeautifulSoup
import requests

url = 'http://alerts.weather.gov/cap/us.php?x=1'

r = requests.get(url)
soup = BeautifulSoup(r.text, 'xml')
entries = soup.find_all('entry')

geocode = {}
k = None
for tag in entries[0].geocode.children:
    if tag.name == 'valueName':
        k = tag.string
    elif tag.name == 'value':
        geocode[k] = tag.string

print 'title: ', entries[0].title.string
print 'cap_geocode: ', str(geocode)
print 'cap_event: ', entries[0].event.string
<END>
<QUE>
Python/Numpy - Wrap Slice Around End of Array
<ANS>
import numpy as np

a = np.arange(12)
b = np.array([5, 9, 2, 4])
b = np.append(b, b[0])

for i in range(0, len(b)-1):
    print np.roll(a, len(a)-b[i])[:b[i+1]-b[i]+1]
<END>
<QUE>
Dendrogram through scipy given a similarity matrix
<ANS>
import scipy.spatial.distance as ssd
distVec = ssd.squareform(SimMatrix)
linkage = hcluster.linkage(1 - distVec)
dendro  = hcluster.dendrogram(linkage)
show()
<END>
<QUE>
Initialize lil_matrix given data and coordinates
<ANS>
class my_lil_matrix(sparse.lil_matrix):
    def __init__(self, *args, **kwargs):
        if len(args) >= 2 and isinstance(args[1], list):
            try:
                data, rows = args
            except:
                raise TypeError("Invalid input format")

            if kwargs.get('shape') is None:
                # Column count will just be the largest value in rows
                M, N = (len(rows), max(np.array(rows).max()) + 1)
            else:
                M, N = shape

            super(my_lil_matrix, self).__init__((M, N), **kwargs)

            self.data = np.array(data, copy=kwargs.get('copy'),
                                 dtype=kwargs.get('dtype'))
            self.rows = np.array(rows, copy=kwargs.get('copy'),
                                 dtype=kwargs.get('dtype'))
        else:
            super(my_lil_matrix, self).__init__(*args, **kwargs)
<END>
<QUE>
matrix - vector multiplication in python (numpy)
<ANS>
myvector.T
<END>
<QUE>
Sort file/lines by first word with Python
<ANS>
lines.sort(key=lambda a_line: a_line.split()[0])
<END>
<QUE>
In python, find minimum subject to a constraint?
<ANS>
min((idx for idx in indexes if not visited[idx]), key=lambda idx: dist[idx])
<END>
<QUE>
Python A* algorithm not searching appropriately
<ANS>
def distance(self, tile1, tile2):
    self.xDist = abs(tile1.col * TILE_SIZE - tile2.col * TILE_SIZE)
    self.yDist = abs(tile1.row * TILE_SIZE - tile2.row * TILE_SIZE)
    self.totalDist = self.diagCost * math.sqrt(self.xDist*self.xDist + self.yDist*self.yDist)
                     # or it might be self.straightCost, depending on their values.
                     # self.diagCost is probably right, though.
    return self.totalDist
<END>
<QUE>
How to access multiple fields from a numpy.array?
<ANS>
import numpy as np
a = np.array([(1.0, 2,1),(3.0, 4,2),(9, 3,6)], dtype=[('x', float), ('y', float), ('z', float)])
print(a)

print(a[['x', 'z']])
<END>
<QUE>
Replacing values in a Python list/dictionary?
<ANS>
DATA = {"records": [{"key1": "AAA", "key2": "BBB", "key3": "CCC", "key4": "AAA"}]}

for name, datalist in DATA.iteritems():  # Or items() in Python 3.x
    for datadict in datalist:
        for key, value in datadict.items():
            if value == "AAA":
                datadict[key] = "XXX"

print (DATA)
# Prints {'records': [{'key3': 'CCC', 'key2': 'BBB', 'key1': 'XXX', 'key4': 'XXX'}]}
<END>
<QUE>
Group by hour in SQLAlchemy?
<ANS>
query(extract('hour', timeStamp).label('h')).group_by('h')
<END>
<QUE>
How to do a string replace in a urlencoded string
<ANS>
import urllib

x = "http://query.yahooapis.com/v1/public/yql?q=select%20owner%2Curls%20from%20flickr.photos.info%20where%20photo_id%3D'%s'&format=json"
tmp = urllib.unquote(x)
tmp2 = tmp % (foo, bar)
x = urllib.quote(tmp2)
<END>
<QUE>
difference method open file in python
<ANS>
file_stream.close()
<END>
<QUE>
How to make a Group by and order by max(...) in django
<ANS>
cat_pub = Publicacion.objects.all().values('id_categoria').annotate(max_update_time=Max('update_time')).order_by('-max_update_time')
<END>
<QUE>
Polymorphic self referential foreign key in sqlalchemy
<ANS>
class B(A):
    __tablename__ = 'b'

    id = Column(Integer, ForeignKey('a.id'), primary_key=True)

    __mapper_args__ = {
        'polymorphic_identity': 'b',
        'inherit_condition': id == A.id

    }

    a_id = Column(Integer, ForeignKey('a.id'))
    a = relationship(
        'A',
        backref='b', primaryjoin=A.id == a_id, remote_side=A.id)
<END>
<QUE>
Python: Add atribute to object named after an existing string
<ANS>
setattr(foo, mystring, False)   # this is just here to let me submit
<END>
<QUE>
python add character to filename
<ANS>
re.sub('(\d+)(?=\.html)', r'.\1', s)
<END>
<QUE>
Disable cache in Pylons app under development mode
<ANS>
from pylons import config

def my_cache(*args, **kwargs):
    if config["debug"]:
        decorate = lambda f: f
    else: 
        decorate = beaker_cache(*args, **kwargs)

    return decorate
<END>
<QUE>
Python: How to get the Index of a string
<ANS>
def ind(the_string, the_char):
   i = 0
   for a_char in the_string:
       if a_char == the_char: return i
       i += 1
   return -1
<END>
<QUE>
Run a perl script from my python script, print the output and wait for it to finish
<ANS>
import subprocess
import sys

perl_script = subprocess.Popen(["script.pl", params], stdout=sys.stdout)
perl_script.communicate()
<END>
<QUE>
How to run a function without interrupting program in python?
<ANS>
threading.Timer(1.0,self.add_csv).start()
<END>
<QUE>
How to change __builtins__ module variable?
<ANS>
mod.__dict__["__builtins__"] = {}
<END>
<QUE>
Sorting python by value in a value dict
<ANS>
sorted_list = sorted(d.keys(), key=lambda i: d[i]['priority'], reverse=True)
<END>
<QUE>
trigger WebSocket in Flask from external event
<ANS>
from uwsgidecorators import *
from gevent.queue import Queue

channels = []

@filemon('/tmp',target='workers')
def trigger_event(signum):
    for channel in channels:
        try:
            channel.put_nowait(True)
        except:
            pass

def application(e, sr):
    sr('200 OK', [('Content-Type','text/html')])
    yield "Hello and wait..."
    q = Queue()
    channels.append(q)
    q.get()
    yield "event received, goodbye"
    channels.remove(q)
<END>
<QUE>
Modules or functions to obtain information from a network interface in Python
<ANS>
def bytestomb(b):
    mb = float(b) / (1024*1024)
    return mb


def bytessubidatransferidos():
    interface= 'ppp0'
    for line in open('/proc/net/dev', 'r'):
        if interface in line:
            data = line.split('%s:' % interface)[1].split()
            tx_bytes =  (data[8])
    return bytestomb(tx_bytes)


def bytesbajadatransferidos():
    interface= 'ppp0'
    for line in open('/proc/net/dev', 'r'):
        if interface in line:
            data = line.split('%s:' % interface)[1].split()
            rx_bytes = (data[0])
    return bytestomb(rx_bytes)


print bytessubidatransferidos()
print bytesbajadatransferidos()
<END>
<QUE>
Converting datetime to POSIX time
<ANS>
import time, datetime

d = datetime.datetime.now()
print time.mktime(d.timetuple())
<END>
<QUE>
How to switch byte order of binary data
<ANS>
values = struct.unpack('!7h', data)
<END>
<QUE>
How to prevent QTableView item from getting cleared on double-click
<ANS>
def data(self, index, role):
    if not index.isValid(): return false
    row=index.row()
    if row>len(self.items): return false

    if role == Qt.DisplayRole or role == Qt.EditRole:
        return self.items[row]
<END>
<QUE>
How to hide code from cells in ipython notebook visualized with nbviewer?
<ANS>
from IPython.display import HTML

HTML('''<script>
code_show=true; 
function code_toggle() {
 if (code_show){
 $('div.input').hide();
 } else {
 $('div.input').show();
 }
 code_show = !code_show
} 
$( document ).ready(code_toggle);
</script>
<form action="javascript:code_toggle()"><input type="submit" value="Click here to toggle on/off the raw code."></form>''')
<END>
<QUE>
Manipulating data in csv using itertools (python)
<ANS>
import csv

f = open("iter.csv", "r")
g = open("out.csv", "w", newline="")
transpose_columns = ['date1', 'date2', 'date3']
target_columns = ['date', 'value']
reader = csv.DictReader(f)
writer = csv.DictWriter(g, fieldnames=[a for a in reader.fieldnames
                                       if a not in transpose_columns] + target_columns,
                        extrasaction='ignore')
writer.writeheader()
for row in reader:
    for col in transpose_columns:
        row[target_columns[0]] = col
        row[target_columns[1]] = row[col]
        writer.writerow(row)
f.close()
g.close()
<END>
<QUE>
How to make a part of the picture grayscale in JES?
<ANS>
def grayScale(picture):
      xstop=getWidth(picture)/2
      ystop=getHeight(picture)/2
      for x in range(0,xstop):
          for y in range(0,ystop):
            oldpixel= getPixel(picture,x,y)
            colour=getColor(oldpixel)
            newColor = (getRed(oldpixel)+getGreen(oldpixel)+getBlue(oldpixel))/3
            setColor(oldpixel,makeColor(newColor,newColor,newColor))
      repaint(picture)
<END>
<QUE>
Writing all data from each row in CheckListCtrl
<ANS>
item = self.list.GetItem(row, column)
print item.GetText()
<END>
<QUE>
Use variable to get property value
<ANS>
class Data(db.Model):
  property = db.StringProperty()

data = Data(property = 'value')
data.put()

query = db.GqlQuery("SELECT * FROM Data")

myvar = 'property'

for line in query:
  getattr(line, myvar)
<END>
<QUE>
Python, pausing a subprocess based on the received messages
<ANS>
p = None #This initializes the variables globally.

def message_handler(connect_object, message_node):
    R = (message_node.getBody())
    if R== "video" :
        movie_path= '/home/pi/Desktop/media/video.mp4'
        p = subprocess.Popen(['omxplayer', movie_path],stdin=subprocess.PIPE)
    elif R== "pause":
        p.stdin.write('\x20') #Much cleaner alternative to named pipes...
    else:
        pass
<END>
<QUE>
Understanding argument parsing with argparse in Python
<ANS>
if not args.input or not args.output:
        print 'Incorrect number of params'
        exit()
else:
        print "Correct number of params"
<END>
<QUE>
Define Self as multiple attributes in Django
<ANS>
def __unicode__(self):
    return u"{0} ({1}, {2})".format(self.icon, self.attrib1, self.attrib2)
<END>
<QUE>
how to fill the paremeter into function name string for invoking?
<ANS>
str1 = 'foo1({0}).foo2({1})'
para = [1,2]
eval(str1.format(*para)) # equivalent to eval(str1.format(1,2))
<END>
<QUE>
Regex for conditionally extracting a named group
<ANS>
'//[^/]+/[^/]+/[^/]+/(\d+(?=_)|[^/]+)'
<END>
<QUE>
How do I get monotonic time durations in python?
<ANS>
#!/usr/bin/env python

__all__ = ["monotonic_time"]

import ctypes, os

CLOCK_MONOTONIC_RAW = 4 # see <linux/time.h>

class timespec(ctypes.Structure):
    _fields_ = [
        ('tv_sec', ctypes.c_long),
        ('tv_nsec', ctypes.c_long)
    ]

librt = ctypes.CDLL('librt.so.1', use_errno=True)
clock_gettime = librt.clock_gettime
clock_gettime.argtypes = [ctypes.c_int, ctypes.POINTER(timespec)]

def monotonic_time():
    t = timespec()
    if clock_gettime(CLOCK_MONOTONIC_RAW , ctypes.pointer(t)) != 0:
        errno_ = ctypes.get_errno()
        raise OSError(errno_, os.strerror(errno_))
    return t.tv_sec + t.tv_nsec * 1e-9

if __name__ == "__main__":
    print monotonic_time()
<END>
<QUE>
How to update a single column in a subset of database table records using Django form or ModelForm?
<ANS>
verifications = Verification.objects.filter(asset_code__range=(10, 100))
verifications.update(product_details=form.cleaned['product_details'])
<END>
<QUE>
DISTINCT ON in django
<ANS>
OrderNotes.objects.filter(item=item).values_list('shared_note', flat=True).distinct()
<END>
<QUE>
Sum all columns with a wildcard name search using Python Pandas
<ANS>
from pandas import *

P1Channels = data.filter(regex="P1")
P1Sum = P1Channels.sum(axis=1)
<END>
<QUE>
How can I create a histogram of appearances of values in a dictionary?
<ANS>
# start with an empty output dictionary
out = {}

# iterate through the keys in the dictionary
for key in p:
   # iterate through the values in the sublist
   for val in p[key]:
      # check to see if we've seen this one before
      if not out.has_key(val):
         # if not, start it out at 0
         out[val] = 0

      # increment by one because we've seen it once more
      out[val] += 1

print out
<END>
<QUE>
A 'related content' list with DetailView in Django
<ANS>
Article.objects.filter(category__in=self.object.categories.all())
<END>
<QUE>
Python ORM to NumPy arrays
<ANS>
a = np.arange(10)
class Case():
    def __init__(self, gcv_pointer):
        self.gcv = gcv_pointer

    def gcv(self):
        return(self.gcv)

    def gcv_set(self, value):
        self.gcv[:] = value
pass
#===============================================================================
# NumPy
#===============================================================================
caseList = []
for i in range(1, 10):
    case = Case(a[i-1:i])
    caseList.append(case)
gcvs = [case.GetGCV() for case in caseList]
caseList[1].SetGCV(5)
caseList[1].SetGCV(13)
caseList[1].gcv[:] = 6

setattr(caseList[1], 'dpd', a[5:6])

caseList[1].dpd
caseList[1].dpd[:] = 888
<END>
<QUE>
Python program to execute any other Python program as argument?
<ANS>
import sys
import subprocess
def dorun(args):
   subprocess.Popen([sys.executable, args])
dorun(sys.argv[1])
<END>
<QUE>
Add page break to Reportlab Canvas object
<ANS>
mycanvas.showPage()
<END>
<QUE>
Boggle game - putting randomly selected letters from an array of 16 arrays in a 4x4 grid (Python)
<ANS>
for i, d in enumerate(DICE):
    print choice(d),   # comma prevents newline
    if not (i+1) % 4:  # i+1 modulus 4 will evaluate to [1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0]
        print ''       # empty string forces new line, when above was 0
<END>
<QUE>
Python-compute the histogram of a set of data
<ANS>
def histogram(data, num_bins):
  span = max(data) - min(data)
  bin_size = float(span) / num_bins
  thresholds = [0] * num_bins

  for i in range(num_bins):
    #I change thresholds calc
    thresholds[i] = min(data) + bin_size * (i+1)

  counts = [0] * num_bins
  for datum in data:
    for bin_index, threshold in enumerate(thresholds):
      if datum <= threshold:
        counts[bin_index] += 1
        #I add a break
        break
  return counts

data = [-3.2, 0, 1, 1.5, 1.6, 1.9, 5, 6, 9, 1, 4, 5, 8, 9, 5, 6.7, 9]
print("Correct result:\t" + str([1, 6, 4, 6]))
print("Your result:\t" + str(histogram(data, num_bins=4)))
<END>
<QUE>
How to get the name of input file in MRjob
<ANS>
map.input.file
<END>
<QUE>
How to handle both GET and POST requests in TornadoWeb framework?
<ANS>
class MainHandler(tornado.web.RequestHandler):
    def prepare(self):
        self.render('intro.html')
<END>
<QUE>
find nearest value in numpy array
<ANS>
import numpy as np
def find_nearest(array,value):
    idx = (np.abs(array-value)).argmin()
    return array[idx]

array = np.random.random(10)
print(array)
# [ 0.21069679  0.61290182  0.63425412  0.84635244  0.91599191  0.00213826
#   0.17104965  0.56874386  0.57319379  0.28719469]

value = 0.5

print(find_nearest(array, value))
# 0.568743859261
<END>
<QUE>
How can I detect double click events in matplotlib?
<ANS>
import matplotlib.pyplot as plt
fig = plt.figure()
def onclick(event):
    if event.dblclick:
         print event.button

connection_id = fig.canvas.mpl_connect('button_press_event', onclick)
plt.show()
<END>
<QUE>
Return a value coming directly from a function call vs. an intermediate variable
<ANS>
return f
<END>
<QUE>
fast parsing links out of a page in python
<ANS>
root = lxml.html.fromstring(s)
anchors = root.cssselect("a")
links = [a.get("href") for a in anchors]
<END>
<QUE>
Difficulty in selection specific row and merge with specific column
<ANS>
lastline = None

with open('test.txt', 'r') as f:
    for line in f.readlines():
        if not lastline:
            lastline = line.rstrip('
')
            continue
        if line.rstrip('
') == 'Sequence unavailable':
            _, _, id = lastline.split('|')
            print 'Sequence unavailable|' + id
        lastline = None
<END>
<QUE>
Collect values in a certain range from a binary tree?
<ANS>
def allInRange(bst, left, right):
    if bst is EmptyValue:
        return
    if left <= bst.root <= right:
        print(bst.root)
    allInRange(bst.left, left, right)
    allInRange(bst.right, left, right)
<END>
<QUE>
Stripping headers from CSV data when converting to XML in Python
<ANS>
for csvFile in directory:
    root = Element('Order')
    with open(csvFile, 'rt') as f:
        junk = next(f)         #read the first line, don't do anything with it.
        reader = csv.reader(f)
        for row in reader:
            queue = row[0]
            token = row[1]
            current_order = SubElement(root, 'Token', {'text':token})
            details = SubElement(current_order, 'Queue',
                                 {'queue':queue})

    print prettify(root)
<END>
<QUE>
how to clear/delete the Textbox in tkinter python on Ubuntu
<ANS>
tex.delete('1.0', END)
<END>
<QUE>
Python Tkinter small window pops up momentarily before main window
<ANS>
app = Tk()
app.title("My GUI")
app.iconbitmap(app, "C:\Program Files (x86)\Notepad++\Files\icon.ico")
app.resizable(0,0)

app.mainloop()
<END>
<QUE>
Pandas read excel with Chinese filename
<ANS>
df=pd.read_excel(u"url/??2008.xls", encoding=sys.getfilesystemencoding())
<END>
<QUE>
How to run all test-cases from several modules?
<ANS>
import unittest
import SomeTestModule

loader = unittest.TestLoader()
loader.loadTestsFromModule(SomeTestModule)
<END>
<QUE>
Regex. How to remove multiple occurence of 'u' if it's befoure some symbol
<ANS>
import re
print re.sub(r"u('\w)", r"\1", p)
<END>
<QUE>
Writing to SQLite tables with variable names (Python)
<ANS>
cur.execute("INSERT INTO " + relevant_table + "VALUES (?,?,?,?,?)",
            (export_date, export_morning, export_day, export_eve, export_night))
<END>
<QUE>
Changing python immutable type while iterating through a mutable container such as list
<ANS>
strings = ['a', 'b']
strings = [s + 'c' for s in strings]
<END>
<QUE>
how to sort list of FileInfo in IronPython
<ANS>
fileInfos = list(DirectoryInfo(path).GetFiles())
fileInfos.sort(key=lambda f: f.CreationTime, reverse=True)
<END>
<QUE>
How to redirect to the API's entry point without hardcoding the path?
<ANS>
reverse('api_v2_top_level', kwargs={'api_name': 'v2'})
<END>
<QUE>
Condensing code in Python with Mappings
<ANS>
mapping = {X1: Y1, X2: Y2, X3: Y3}
mapping[X4] = Y4
mapping[X5] = Y5

for X,Y in mapping.items():
    if Y is not None:
        obj[X][0] = Y
<END>
<QUE>
Beautifulsoup, unable to compare strings
<ANS>
check = cells[1].get_text(strip=True)
<END>
<QUE>
Django: Necessary html-page in views
<ANS>
return render(request, 'blog/articles/{}.html'.format(pk), {'article': article})
<END>
<QUE>
Counting dictionary elements from Perl to Python
<ANS>
arr = []
arr.append((time, host, status, bytes_))
reqs_host, bytes_host, errors_host = {}, {}, {}
for item in arr:
    reqs_host[item[1]] = reqs_host.get(item[1], 0) + 1
    bytes_host[item[1]] = bytes_host.get(item[1], 0) + item[3]
    if item[2] and item[2][0] in "45": 
        errors_host[item[1]] = errors_host.get(item[1], 0) + 1
<END>
<QUE>
Transparent FrameBuffer background in OpenGL
<ANS>
glFramebufferTexture2DEXT(GL_FRAMEBUFFER_EXT, GL_COLOR_ATTACHMENT0_EXT, GL_TEXTURE_2D, surface.texture, 0)
<END>
<QUE>
Matching Python Dict
<ANS>
for key in dict1.keys():
  if key in dict2.keys():
    dict1[key].append(dict2[key])
<END>
<QUE>
How to dynamically compose an OR query filter in Django?
<ANS>
values = [1,2,3]

# Turn list of values into list of Q objects
queries = [Q(pk=value) for value in values]

# Take one Q object from the list
query = queries.pop()

# Or the Q object with the ones remaining in the list
for item in queries:
    query |= item

# Query the model
Article.objects.filter(query)
<END>
<QUE>
print in an archive with python
<ANS>
outfile.write(str(i) + '
')
<END>
<QUE>
How to execute shell script from Python after passing input parameters
<ANS>
import subprocess
import json

testing = "HelloWorld"

jsonStr = '{"script":"#!/bin/bash \
 STRING=\'%VP%\' \
 echo $STRING \
"}'.replace('%VP%', testing)

j = json.loads(jsonStr)

print "start"
subprocess.call(j['script'], shell=True)
print "end"
<END>
<QUE>
google app engine Efficient way to put large data in datastore
<ANS>
list_of_parent_keys = ndb.put_multi(list_of_entities)
child_keys = []
for parent_key in list_of_parent_keys:
  child_key = ndb.Key(Parent, parent_key, Child, child_key)
  child_keys.append(child_key)
<END>
<QUE>
How to make a function that counts how many times each element is equal to 2 elements to its right
<ANS>
s = "evening"
ans = len([x for x in xrange(len(s)-2) if s[x] == s[x+2]])
print ans
<END>
<QUE>
Adding Values From Tuples of Same Length
<ANS>
coord = tuple(sum(x) for x in zip(coord, change))
<END>
<QUE>
concordance for a phrase using NLTK in Python
<ANS>
concordance()
<END>
<QUE>
long-index arrays in python
<ANS>
container = array.array('I', [0]) * ((10000000000 + 31) // 32)
<END>
<QUE>
Python Paramiko log output of commands to a file
<ANS>
import logging
logger = logging.getLogger(__name__)

def restart_service(node_name):
    print('='*30 + '  Starting to work on ' + node_name + '  ' + '='*30 + '
')
    logging.info('Connecting to %s in order to restart %s...', node_name, service_name)
    ssh = paramiko.SSHClient()
    ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
    ssh.load_system_host_keys()
    ssh.connect(node_name)
    channel = ssh.get_transport().open_session()
    channel.exec_command(command)
    while True:
        if channel.exit_status_ready():
            break
        rl, wl, xl = select.select([channel], [], [], 0.0)
        if len(rl) > 0:
            # Log output
            logger.info(channel.recv(1024))
    ssh.get_transport().close()
    ssh.close()
<END>
<QUE>
Reading from finite sets of CSV columns and outputing as rows to a specific JSON schema
<ANS>
data = {}
for row in words:
    if not row["name"] + "-" + row["subname"] in data:
        data[row["name"] + "-" + row["subname"]] = {
            "name": row["name"],
            "subname": row["subname"],
            "data": {
                "attr1": {"name":"value1", "values": []},
                "attr2": {"name":"value2", "values": []}
            }
        }
    data[row["name"] + "-" + row["subname"]]["data"]["attr1"]["values"].append(row["value1"])
    data[row["name"] + "-" + row["subname"]]["data"]["attr2"]["values"].append(row["value2"])
<END>
<QUE>
Scraperwiki + lxml. How to get the href attribute of a child of an element with a class?
<ANS>
import scraperwiki
import lxml.html

html = scraperwiki.scrape('http://ahr13.mapyourshow.com/5_0/exhibitor_results.cfm?  alpha=%40&type=alpha&page=1')

root = lxml.html.fromstring(html)
# get the links
hrefs = root.xpath('//td[@class="mys-elastic mys-left"]/a')

for href in hrefs:
   print 'http://ahr13.mapyourshow.com' + href.attrib['href']
<END>
<QUE>
Segfault on 2nd connection with pyodbc to mirrored MS SQL Server
<ANS>
--nothreading
<END>
<QUE>
Loop over a file and write the next line if a condition is met
<ANS>
with open('ids.txt', 'rU') as f:
    interesting_ids = set('>' + line.lower()[0:4] + "_" + line[4] for line in f)  # Get all ids in a set.

found_id = None
with open('seqres.txt', 'rU') as g:
    for line in g:
        if found_id is not None:
            with open(found_id+'.fasta','w') as h:
                h.write(line)

        id = line[:7]
        if id in interesting_ids: found_id = id
        else: found_id = None
<END>
<QUE>
In Tkinter how can I correct this loop/function so that each button changes a value to the value of the button?
<ANS>
lambda a=a: inputBoardSize(a)
<END>
<QUE>
how to access the first result of a google search result ( prominently a video link)?
<ANS>
import bs4
soup = bs4.BeautifulSoup(html_string)
href = soup.find('h3').find('a').get('href')
print(href)
<END>
<QUE>
Comparing two numpy arrays to each other
<ANS>
ans = np.logical_and(
    np.logical_and(array1 != 0, array2 != 0),
    array1 == array2 )
<END>
<QUE>
Basic Python Script in Google App Engine to get the GET parameters and use it accordingly
<ANS>
color_from_url = self.request.get('color')
flavour_from_url = self.request.get('flavour')
<END>
<QUE>
Adding a dimension to every element of a numpy.array
<ANS>
import numpy

my_ar = numpy.array((0,5,10))
print my_ar

transformed = numpy.array(map(lambda x:numpy.array((x,x*2,x*3)), my_ar))
print transformed

print transformed.shape
<END>
<QUE>
How do I search through a folder for the filename that matches a regular expression using Python?
<ANS>
import re
import os
r = re.compile(r'\d{2}.+gif$')
for root, dirs, files in os.walk('/home/vinko'):
  l = [os.path.join(root,x) for x in files if r.match(x)]
  if l: print l #Or append to a global list, whatever
<END>
<QUE>
How to create an activity plot from Pandas Dataframe (like the Github contribution plot)
<ANS>
import pylab as pl
import numpy as np
import pandas as pd

# prepare some random data
N = 100
np.random.seed(0)
weekday = np.random.randint(0, 7, N)
week = np.random.randint(0, 40, N)
activity = np.random.randint(0, 100, N)

df = pd.DataFrame({"weekday":weekday, "week":week, "activity":activity})
df.drop_duplicates(cols=["weekday", "week"], inplace=True)

# reshape the data and plot it
df2 = df.pivot(columns="week", index="weekday", values="activity")
df2.fillna(0, inplace=True)

Weekday, Week = np.mgrid[:df2.shape[0]+1, :df2.shape[1]+1]
fig, ax = pl.subplots(figsize=(12, 4))
ax.set_aspect("equal")
pl.pcolormesh(Week, Weekday, df2.values, cmap="Greens", edgecolor="w", vmin=-10, vmax=100)
pl.xlim(0, df2.shape[1])
<END>
<QUE>
Starting and Controlling an External Process via STDIN/STDOUT with Python
<ANS>
process=subprocess.Popen([PathToProcess],stdin=subprocess.PIPE,stdout=subprocess.PIPE);
for i in xrange(StepsToComplete):
    print "Forcing step # %s"%i
    process.stdin.write("
")
    result=process.stdout.readline()
<END>
<QUE>
Creating a get_absolute_url()
<ANS>
def get_absolute_url(self):
    return "/event/%d" % self.id
<END>
<QUE>
Connecting to a firebird superserver on windows using sqlalchemy
<ANS>
import sqlalchemy
import fdb
<END>
<QUE>
How do I read the size of an archive on web
<ANS>
def download(url, local_file):
    def progress(blocks_read, block_size, total_size):
        percent = min(int(blocks_read * block_size * 100 / total_size), 100)
        sys.stdout.write("\rdownloading {}: {:2}%".format(local_file, percent))
        if percent == 100:
            sys.stdout.write('
')
        sys.stdout.flush()

    urllib.urlretrieve(url, local_file, reporthook=progress)


# call download function
download("http://ww1.microchip.com/downloads/en/DeviceDoc/pk2cmdv1-20Linux2-6.tar.gz",
         "pickit.tar.gz")
<END>
<QUE>
Python/Regex - How to extract date from filename using regular expression?
<ANS>
re.search("([0-9]{2}\-[0-9]{2}\-[0-9]{4})", fileName)
<END>
<QUE>
How to use duck typing effectively with inheritance
<ANS>
from collections import defaultdict
type_dict = defaultdict(list)
for element in self.elements:
    type_dict[element.type()].append(element.dimStr())
return ','.join('%s: %s' for k, v in type_dict.items())
<END>
<QUE>
Parse HTML uploaded CSV file in Python
<ANS>
reader = csv.reader(thefile.file.read().splitlines())
<END>
<QUE>
Google App Engine Payload Object
<ANS>
icfg = Matrix2D_icfg("icfg") #declaring object
icfg_compress = pickle.dumps(icfg) #to pickle

icfg = pickle.loads(str(icfg_compress)) # to unload
<END>
<QUE>
How do you move a user to a different OU using Python
<ANS>
import active_directory

user = active_directory.find_user("jimboface")
destination_ou = active_directory.find_ou("happyland")
destination_ou.com_object.MoveHere(str(user.as_string()), str(user.Name))
#Thats it!
<END>
<QUE>
How to express this Bash command in pure Python
<ANS>
import os
import shutil
from os import path
from os.path import join, getmtime
from time import time

archive = "bak"
current = "cur"

def archive_old_versions(days = 3):
    for root, dirs, files in os.walk(current):
        for name in files:
            fullname = join(root, name)
            if (getmtime(fullname) < time() - days * 60 * 60 * 24):
                shutil.move(fullname, join(archive, name))
<END>
<QUE>
how to copy some csv file colums into another csv file with python?
<ANS>
colNums = [0, 2, 6]
to_write = [ col for i, col in enumerate(zip(*my_reader)) if i in colNums ]
<END>
<QUE>
wxPython frame don't show
<ANS>
app = wx.App()
frame = MyFrame1(None)
frame.Show()
app.MainLoop()
<END>
<QUE>
merging two tables by common column
<ANS>
#input

file1 = open('1.txt', 'r')
file2 = open('2.txt', 'r')
matrix1 = [line.rstrip().split(', ') for line in file1.readlines()]
matrix2 = [line.rstrip().split(', ') for line in file2.readlines()]
file1.close()
file2.close()

#combine

t_matrix1 = [[r[col] for r in matrix1] for col in range(len(matrix1[0]))]
t_matrix2 = [[r[col] for r in matrix2] for col in range(len(matrix2[0]))]
final_t_matrix = []
for i in (t_matrix1 + t_matrix2):
    if i not in final_t_matrix:
        final_t_matrix.append(i)
final_matrix = [[r[col] for r in final_t_matrix] for col in range(len(final_t_matrix[0]))]

#output

outfile = open('out.txt', 'w')
for i in final_matrix:               
    for j in i[:-1]:
        outfile.write(j+', ')
    outfile.write(i[-1]+'
')
outfile.close()
<END>
<QUE>
pymongo result to String
<ANS>
print myDict[ u'Command']
<END>
<QUE>
Plot a distribution graph in Python
<ANS>
import matplotlib.pyplot as plt
import numpy as np

listAct = []
for pos,rem in np.array(db.extractData(mess)):
    act = gen.unixTime_to_dateTime(rem)- gen.unixTime_to_dateTime(pos) ##act is a datetime object
    listAct.append(act.days + act.seconds/float(86400)) 

bins = range(1,15)
plt.hist(listAct,bins)
plt.show()
<END>
<QUE>
Trying to create a tuple of objects create an object and a queryset
<ANS>
album_list.append((album, Photo.objects.filter(album=album).order_by('?')[0]))
<END>
<QUE>
Django get ContentType in a template
<ANS>
prefetch_related()
<END>
<QUE>
how to get particular part of DataFrame
<ANS>
df_masked = df[(df.time <= t1) & (df.time >= t0)]
<END>
<QUE>
Counting number of words between punctuation characters in Python
<ANS>
punctuation_i_care_about="?.!"
split_by_punc =  re.split("[%s]"%punctuation_i_care_about, some_big_block_of_text)
words_by_puct = [len(x.split()) for x in split_by_punc]
<END>
<QUE>
How to secure messages travelling between a socket client and server in Python 3?
<ANS>
from Crypto.Cipher import AES
from Crypto import Random
IV = Random.new().read(32)
c = AES.new('abcd1234efgh5678', AES.MODE_CFB, IV)
data = c.encrypt('test')

c.decrypt(data)
<END>
<QUE>
In matplotlib, Is there a way to set gridlines below bars/lines/patches while retaining ticklabels above?
<ANS>
import numpy as np
import matplotlib.pyplot as plt

#plot
r = np.arange(0, 3.0, 0.01)
theta = 2 * np.pi * r
rmax = 2.0
n_th = 6
th_pos = np.linspace(0.0, 2 * np.pi, n_th, endpoint=False)
n_r = 5
r_pos = np.linspace(0, rmax, n_r)


ax = plt.subplot(111, polar=True)

## Plot the grid    
for pos in th_pos:
    ax.plot([th_pos]*2, [0, rmax], 'k:', lw=2)
for pos in r_pos[1:-1]:
    x = np.linspace(0, 2*np.pi, 50)
    y = np.zeros(50)+pos
    ax.plot(x, y, 'k:', lw=2)

## Plot your data
ax.plot(theta, r, color='r', linewidth=20)
ax.set_rmax(rmax)
ax.grid(False)

#set ticks and labels
ax.set_xticks(th_pos)
label_cols = ['Label ' + str(num) for num in np.arange(n_th)]
ax.set_xticklabels(label_cols, size=24)
ax.set_yticks(r_pos[1:])


plt.show()
<END>
<QUE>
My sieve of eratosthenes implementation in Python
<ANS>
def primes(n): # sieve of eratosthenes
    ps, sieve = [], [True] * (n + 1)
    for p in range(2, n + 1):
        if sieve[p]:
           ps.append(p)
           for i in range(p * p, n + 1, p):
               sieve[i] = False
    return ps
<END>
<QUE>
Walk through folders until specific ending number python
<ANS>
import os

dir_path = '/path/to/folders/folder{}'

x = 10

for i in range(0, x):
    formatted_path = dir_path.format(i)
    try:
        for f in os.listdir(formatted_path):
            filename = os.path.join(formatted_path, f)
            if os.path.isfile(filename):
                print filename

    except OSError:
        print "{} does not exist".format(formatted_path)
<END>
<QUE>
Creating a dictionary in python from a text file
<ANS>
key, value = line.split(':')
<END>
<QUE>
Best way to manage custom object to extra date and time
<ANS>
df['hours'] = [ts.hour for ts in pd.to_datetime(df['datetime'])]
<END>
<QUE>
How to update a matplotlib figure from loop?
<ANS>
plt.clf()
<END>
<QUE>
Looping through a result proxy object
<ANS>
tbl = Table('users', self.meta, autoload=True, autoload_with=Engine)
stmt = select([tbl.c.id, tbl.c.name])
result = self.CONN.execute(stmt)
ids = [row[tbl.c.id] for row in result]
for x in range(2):
    for i in ids:
        print(i)
<END>
<QUE>
Prevent a dock from being resized to the point of disappearing
<ANS>
DockArea.makeContainer()
<END>
<QUE>
How do I use my own loop with pyhook instead of pumpMessages()?
<ANS>
import ctypes
ctypes.windll.user32.PostQuitMessage(0)
<END>
<QUE>
soaplib with mod_wsgi without django, cherypy or other framework
<ANS>
application = wsgi.Application(soap_application)
<END>
<QUE>
Bar Graphs with Matplotlib
<ANS>
fig, ax = plt.subplots()

bar1 = ax.bar(date, value)

plt.title('Title')
plt.ylabel('Value')
plt.xlabel('Date')
plt.show()
<END>
<QUE>
Extraction from python over multiple lines
<ANS>
matches = re.findall("([0-9]{5})",f.read())
<END>
<QUE>
Saving data in a .mat file using a for loop using python
<ANS>
b.append(i)
<END>
<QUE>
how to query using isodate in pymongo
<ANS>
test_range = agents.coll.find({ "created_at": {"$gte" : datetime(2015, 3, 1), "$lt": datetime(2015, 3, 30)}})
<END>
<QUE>
wxpython two panel layout
<ANS>
import wx

class MyFrame(wx.Frame):
    def __init__(self, parent, id, title):
        wx.Frame.__init__(self, parent, id, title,size=(250, 250))

        topPanel = wx.Panel(self)

        panel1 = wx.Panel(topPanel, -1,pos=(0,100),size=(100,100))
        button1 = wx.Button(panel1, -1, label="click me")

        panel2 = wx.Panel(topPanel, -1,pos=(0,200))
        button2 = wx.Button(panel2, -1, label="click me")
        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(panel1,0,wx.EXPAND|wx.ALL,border=10)
        sizer.Add(panel2,0,wx.EXPAND|wx.ALL,border=10)

        topPanel.SetSizer(sizer)



class MyApp(wx.App):
     def OnInit(self):
         frame = MyFrame(None, -1, 'frame')
         frame.Show(True)
         return True

app = MyApp(0)
app.MainLoop()
<END>
<QUE>
Log errors to database with Django on Google App Engine
<ANS>
google.appengine.ext.ereporter
<END>
<QUE>
Open a file without specifying the subdirectory python
<ANS>
import os

def get_file_path(file):
    for (root, dirs, files) in os.walk('.'):
        if file in files:
            return os.path.join(root, file)
<END>
<QUE>
Converting exponential to float
<ANS>
value=str('6,0865000000e-01')
value2=value.replace(',', '.')
float(value2)
0.60865000000000002
<END>
<QUE>
Sierpinski Carpet Recursion - Python
<ANS>
x_0 = (points[0].getX())
x_02 = (points[1].getX())
x_1 = (((points[0].getX())/3)*2 +  (points[1].getX())/3)
x_2 = (((points[0].getX())/3)   + ((points[1].getX())/3)*2)
<END>
<QUE>
Get parameters slugs from the URL
<ANS>
context = super(RegistrationView, self).get_context_data(**kwargs)
print(self.get_slug_field())
context['company'] = self.kwargs['company']
context['program'] = self.kwargs['program']
<END>
<QUE>
Matplotlib: putting together figure, xaxis, minor_locator, major_locator
<ANS>
fig, ax_f = plt.subplots(nrows=1, ncols=1)
<END>
<QUE>
Regex Matching Error
<ANS>
import urllib2
import re
from BeautifulSoup import BeautifulSoup

url = "http://forums.epicgames.com/archive/index.php?f-356-p-164.html"
page = urllib2.urlopen(url).read()
soup = BeautifulSoup(page)

# Get all the links
links = [str(match) for match in soup('a')]

s = r'<a href="http://forums.epicgames.com/archive/index.php\?t-\d+.html">(.+?)</a>' 
r = re.compile(s)
for link in links:
    m = r.match(link)
    if m:
        print m.groups(1)[0]
<END>
<QUE>
Python: Dictionaries linked data
<ANS>
d1 = {"dog":"woof", "cat":"meow"}
d2 = d1.copy() # make a copy, not a reference to the same dictionary
d2["dog"] = "bark"
for i in d1:
    print(i, d1[i])

# dog woof
# cat meow
<END>
<QUE>
Errors with python-openid and Google Apps Federated Login
<ANS>
openid.store
<END>
<QUE>
IPython Kernel Non-Responsive: Running a Django development server from an IPython Notebook
<ANS>
import subprocess
server = subprocess.Popen(["python", "manage.py", "runserver"])
<END>
<QUE>
Python sorting a list of strings
<ANS>
sorted(list, key=lambda d: int(d[2:]))
<END>
<QUE>
Python import file from app
<ANS>
import sys;
sys.path.insert(0, '/path/to/application/app(folder)')

import urlregister
<END>
<QUE>
Efficient way to get the position info of the biggest item in a Python list
<ANS>
pos = mylist.index(max(mylist))
<END>
<QUE>
How do I create a class in Python that behaves like Django's abstract base class?
<ANS>
class_list = []
class CollectSubclasses(type):
    def __new__(cls, name, bases, attrs):
        abstract = False
        if attrs.get('abstract', False):
            abstract = True
            del attrs['abstract']
        res = super(CollectSubclasses, cls).__new__(cls, name, bases, attrs)
        if not abstract:
            class_list.append(res)
        return res

class BaseFoo(object):
    __metaclass__ = CollectSubclasses
    abstract = True

class Concrete1(BaseFoo):
    pass

class Abstract(BaseFoo):
    abstract = True

class Concrete2(Abstract):
    pass

print class_list
<END>
<QUE>
Many to many using Flask-SQLAlchemy returns raw sql instead of executed
<ANS>
list(collection.questions)
<END>
<QUE>
Load list with content of object
<ANS>
items = [{'category': m.category, 'message': m.message}
  for m in h.flash.pop_messages()]
<END>
<QUE>
Recursive subtraction in numpy
<ANS>
days_left = 100
units_left = 50
ideal_daily_rate = units_left/days_left
spend = 1.2*ideal_daily_rate

while (days_left>0):
    print( "days_left: %4.1f unit_left: %4.1f ideal: %5.2f spend: %5.2f" % (days_left,units_left,ideal_daily_rate,spend))
    units_left -= spend
    days_left -= 1
    if (days_left>0):
        ideal_daily_rate = units_left/days_left
        spend = 1.2*ideal_daily_rate
<END>
<QUE>
What's the advantage of a trailing underscore in Python naming?
<ANS>
as_
with_
for_
in_
<END>
<QUE>
Check if each element in a numpy array is in another array
<ANS>
import numpy as np

A = np.array([1,2,3,4,5,6,7])
B = np.array([2,4,6])
C = np.searchsorted(A, B)

D = np.delete(np.arange(np.alen(A)), C)

D
#array([0, 2, 4, 6])
<END>
<QUE>
Copy values from CSV rows and adding to rows where the ID is the same
<ANS>
#ID      Postal Code  
data = [
    ('1001', 'MK18 1TN'),
    ('1001', 'MK18 1TL'),
    ('1002', 'HP17 6DG'),
    ('1002', 'HP17 6DH'),
    ]
d = dict()
for id,pc in data:
    if id not in d:
        d[id] = []
    d[id].append(pc)
idkeys = d.keys()
idkeys.sort()
for k in idkeys:
    print k, ', '.join(d[k])
<END>
<QUE>
improving Numpy dot performance by removing arrays copy
<ANS>
shape = (QT.shape[2],)*2
result = np.memmap('result.dat', dtype=QT.dtype, mode='w+', shape=shape)
np.dot(QT.T, QT, out=result)
<END>
<QUE>
How to pass a variable value in exec_command in python?
<ANS>
ssh.exec_command("pwd; ./test.sh " + str(command))
<END>
<QUE>
how can I give a variable another value inside a function in python?
<ANS>
def checkComm(old_commCount): # passed as a parameter
    server = xmlrpclib.ServerProxy(server_uri) # connect to WP server
    comments = server.wp.getComments(blog_id, server_admin, admin_pass, filters)
    new_commCount = len(comments)
    if new_commCount > old_commCount:
        print "there are new comments"
        old_commCount = new_commCount
        return old_commCount # return it so you can update it
    else:
        print "no new comments"
        return old_commCount

comm_count = 0 # initialize it here
while True:
    comm_count = checkComm(comm_count) # update it every time
    time.sleep(60)
<END>
<QUE>
Plotting three data sets on a single plot using matplotlib
<ANS>
import pylab as pl

data = pl.loadtxt("myfile.txt")

pl.figure(figsize=(14,6))
pl.plot(data[:,1], data[:,0], "b")
pl.plot(data[:,2], data[:,0], "r")
pl.plot(data[:,3], data[:,0], "r")

pl.show()
<END>
<QUE>
How can I select the last drop-down option in selenium with python?
<ANS>
from selenium import webdriver    

driver = webdriver.Firefox()
driver.get('navigate to url')

select_elem = driver.find_element_by_id('TargetRadius')
select_elem.click()
options = select_elem.find_elements_by_tag_name('option')
options[len(options)-1].click()
<END>
<QUE>
Split string that looks like a Python function call to arguments
<ANS>
def parse_arguments(s):
    openers = "{[\"'("
    closers = "}]\"')"
    state = []
    current = ""
    for c in s:
        if c == "," and not state:
           yield current
           current = ""
        else:
           current += c
           if c in openers:
              state.append(c)
           elif c in closers:
              assert state, "ERROR No Opener for %s"%c
              assert state[-1] == openers[closers.index(c)],"ERROR Mismatched %s %s"%(state[-1],c)
              state.pop(-1)
    assert not state, "ERROR Unexpected End, expected %s"%state[-1]
    yield current

print list(parse_arguments("1, bar(x+17, 1), arr = 's,y'"))
<END>
<QUE>
Django multitenant urls configuration
<ANS>
url(r'^[\w\-]+/', include('project.urls_tenant')),
<END>
<QUE>
split items in list
<ANS>
result = [item for word in words for item in word.split(',')]
<END>
<QUE>
How to pickle a empty file?
<ANS>
def example():
  try:
    return pickle.loads("")
  except EOFError:
    return None
<END>
<QUE>
Finding the full width half maximum of a peak
<ANS>
import numpy as np
from scipy.interpolate import UnivariateSpline

def make_norm_dist(x, mean, sd):
    return 1.0/(sd*np.sqrt(2*np.pi))*np.exp(-(x - mean)**2/(2*sd**2))

x = np.linspace(10, 110, 1000)
green = make_norm_dist(x, 50, 10)
pink = make_norm_dist(x, 60, 10)

blue = green + pink   

# create a spline of x and blue-np.max(blue)/2 
spline = UnivariateSpline(x, blue-np.max(blue)/2, s=0)
r1, r2 = spline.roots() # find the roots

import pylab as pl
pl.plot(x, blue)
pl.axvspan(r1, r2, facecolor='g', alpha=0.5)
pl.show()
<END>
<QUE>
Python - How to display two counters in for loops
<ANS>
import time
import curses

stdscr = curses.initscr()

n = 0
b = 0
for _ in range(0, 5):
    i = 1
    for _ in range(0, 123):
        stdscr.addstr(b, 0, "Current: %d" % i)
        i = i + 1
        n = n + 1
        time.sleep(0.01)
        stdscr.addstr(b+1, 0, "Total: %d" % n)
        stdscr.refresh()
    b = b + 1
<END>
<QUE>
Automate SMTP Using Python
<ANS>
import smtplib
smtp_client = smtplib.SMTP('smtp.gmail.com', 587)
smtp_client.starttls()
smtp_client.login(username, password)
<END>
<QUE>
how do i get the request token
<ANS>
request_token_url = 'http://api.twitter.com/oauth/request_token'
access_token_url = 'http://api.twitter.com/oauth/access_token'
# This is the slightly different URL used to authenticate/authorize.
authenticate_url = 'http://api.twitter.com/oauth/authenticate'
<END>
<QUE>
How to pull stock data for every stock on a given exchange
<ANS>
# NYSE
url_nyse = "http://www.nasdaq.com/screening/companies-by-name.aspx?letter=0&exchange=nyse&render=download"
# Nasdaq
url_nasdaq = "http://www.nasdaq.com/screening/companies-by-name.aspx?letter=0&exchange=nasdaq&render=download"
# AMEX
url_amex = "http://www.nasdaq.com/screening/companies-by-name.aspx?letter=0&exchange=amex&render=download"

import pandas as pd

df = pd.DataFrame.from_csv(url_nyse)
stocks = df.index.tolist()
<END>
<QUE>
Prevent JSON serialization from throwing an exception in Python
<ANS>
import json
import datetime


class Custom_JSONEncoder(json.JSONEncoder):
    def default(self, obj, **kwargs):
        if isinstance(obj, datetime.datetime):
            # Use the appropriate format for datetime
            return obj.strftime('%Y-%m-%d %I:%M%p')
        return None
<END>
<QUE>
How to reference cells from DBF with python?
<ANS>
import dbf

my_table = dbf.Table('/path/and/filename')

with my_table:
    my_table.add_fields('header3 N(3,0)')

    for record in dbf.Process(my_table):
        record.header3 = record.header1 + record.header2
<END>
<QUE>
How can I get the name of a python class?
<ANS>
__class__.__name__
<END>
<QUE>
Data Acquistion using Python
<ANS>
import Tkinter as tk
import threading
import random
import time
from Queue import Queue, Empty

root = tk.Tk()
time_label = tk.Label(root, text='<unknown> seconds')
volt_label = tk.Label(root, text='<unknown> volts')
time_label.pack()
volt_label.pack()

def DAQ(q):
    while True:
        q.put((time.time(), random.randrange(100)))
        time.sleep(2)

def update_data(queue, root):
    try:
        timestamp, volts = queue.get_nowait()
    except Empty:
        pass
    else:
        time_label.config(text='{:.1f} seconds'.format(timestamp))
        volt_label.config(text='{:.4f} volts'.format(volts))
    root.after(100, update_data, queue, root)

data_queue = Queue()
t = threading.Thread(target=DAQ, args=(data_queue,))
t.daemon = True
t.start()
update_data(data_queue, root)
root.mainloop()
<END>
<QUE>
get UTC offset from time zone name in python
<ANS>
import datetime, pytz

datetime.datetime.now(pytz.timezone('Asia/Jerusalem')).strftime('%z')

# returns '+0300' (because 'now' they have DST)


pytz.timezone('Asia/Jerusalem').localize(datetime.datetime(2011,1,1)).strftime('%z')

# returns '+0200' (because in January they didn't have DST)
<END>
<QUE>
Tweepy Python, retrieving latest 5 instances of a hashtag
<ANS>
import tweepy

CONSUMER_KEY = 'yourconsumerkey'
CONSUMER_SECRET = 'yourconsumersecret'
ACCESS_KEY = 'youraccesskey'
ACCESS_SECRET = 'yoursecret'
auth = tweepy.OAuthHandler(CONSUMER_KEY, CONSUMER_SECRET)
auth.set_access_token(ACCESS_KEY, ACCESS_SECRET)
api = tweepy.API(auth)

search_text = "#gamedev"
search_number = 2
search_result = api.search(search_text, rpp=search_number)
for i in search_result:
    print i.text
<END>
<QUE>
Fast 2-D interpolation in Python with SciPy regular grid to scattered / irregular evaluation
<ANS>
myspline.ev(xI, yI)
<END>
<QUE>
AssertionError with custom user model django-allauth
<ANS>
is_active = models.BooleanField(default=True)
<END>
<QUE>
Pandas cut with user-defined bins
<ANS>
bin_range = [0, 100000]
bin_input = raw_input("Enter bins as comma seperated list")
bin_input_parsed = [int(x.strip()) for x in bin_input.split(',')]

bins = [bin_range[0]] + bin_input_parsed + [bin_range[1]]
pd.cut(df['Quantity'], bins)
<END>
<QUE>
Entering data into SQLite
<ANS>
db_connection.commit()
<END>
<QUE>
Trouble Getting a clean text file from HTML
<ANS>
import urllib
import urllib.request
myurl = "http://www.mysite.com"

sock = urllib.request.urlopen(myurl)
pagedata = str(sock.read())                          
sock.close()

file = open("output.txt","w")
file.write(pagedata)
file.close()
<END>
<QUE>
Single quotes as a part of an element of a Python list
<ANS>
foo = ["'the"]
foo = ['"the']
foo = ['''"the''']
foo = ["""'the"""]
<END>
<QUE>
Sklearn linear regression X and Y input format
<ANS>
ages_train = np.array([20, 22, 25, 27, 30, 31, 31, 34, 42, 50])
net_worths_train = np.array([10000, 12000, 16000, 20000, 30000, 33000, 34000, 38000, 49000, 60000])
reg.fit(ages_train[:, np.newaxis], net_worths_train[:, np.newaxis])
print reg.coef_, reg.intercept_
<END>
<QUE>
Parsing 'user' data from Twitter JSON data using Python
<ANS>
print "\t".join([
data['user']['screen_name'],
str(data['user']['followers_count']), 
str(data['user']['friends_count'])
])
<END>
<QUE>
How to show an image in Tkinter?
<ANS>
from Tkinter import *

top = Toplevel()
diagrams = PhotoImage(file='your image')
logolbl= Label(top, image = diagrams)
logolbl.grid()

mainloop()
<END>
<QUE>
How to parse xml in Python on Google App Engine
<ANS>
import urllib2
from xml.etree import ElementTree

result = urllib2.urlopen('http://boardgamegeek.com/xmlapi/boardgame/13').read()
xml = ElementTree.fromstring(result)
print xml.findtext(".//age")
<END>
<QUE>
Sorting numbers in string format with Python
<ANS>
keys.sort(key=lambda x: [int(y) for y in x.split('.')])
<END>
<QUE>
Joining two tables with one table having a different foreign key
<ANS>
db.session.query(models.Recipe).\
    join(models.Ingredient, models.Recipe.ingredients)

db.session.query(models.Recipe).\
    join(models.Recipe.ingredients)
<END>
<QUE>
Using Loops in a Python Piglatin Translator
<ANS>
tDict = {}

with open("Lexicon.txt", "r") as infile:    
  for line in infile:
    s = line.split()
    tDict[s[0]] = s[1]

while True:
  wordIn = input("Enter the English word(s) to be translated (enter 'exit' to stop the program): ")

  if wordIn == "exit": break

  words = wordIn.split()
  for word in words:
    if word in tDict.keys():
      print(tDict[word])
    else:
      print("*" + word)
<END>
<QUE>
How to replace (or strip) an extension from a filename in Python?
<ANS>
import os
print os.path.splitext('/home/user/somefile.txt')[0]+'.jpg'
<END>
<QUE>
How to filter model (User) using url param in views.py?
<ANS>
username = request.GET['username']
<END>
<QUE>
How do I bin and categorize numbers in Python?
<ANS>
import matplotlib.pyplot as plt
boundaries = collections.OrderedDict([(10,'red'),(20,'blue'),(55,'purple')])
areas = range(0,101)
n, bins, patches = plt.hist(areas, [0]+list(boundaries), histtype='bar', rwidth=1.0)
for (patch,color) in zip(patches,boundaries.values()):
    patch.set_color(color)
plt.show()
<END>
<QUE>
Detecting foreign words
<ANS>
lang-id
<END>
<QUE>
Return MongoEngine Documents as JSON
<ANS>
from bson import json_util
json_util.dumps(MyDoc._collection_obj.find(MyDoc.objects()._query))
<END>
<QUE>
How can I get the file size on the Internet knowing only the URL
<ANS>
import urllib2
f = urllib2.urlopen("http://your-url")
size= f.headers["Content-Length"]
print size
<END>
<QUE>
urllib2 retrieve an arbitrary file based on URL and save it into a named file
<ANS>
import urllib2
try:
    data = urllib2.urlopen('http://www.python.org/pythonHomePage.html').read()
except urllib2.HTTPError, e:
    print e.code
    print e.msg
    print e.headers
    print e.fp.read()
    with open("code2.txt", "wb") as code:
      code.write(e.fp.read())
<END>
<QUE>
problem about split a string
<ANS>
import re

t=re.search(r"(.+?)\\(.+)\\(.+)", reg)
t.groups()
('HKEY_LOCAL_MACHINE', 'SOFTWARE\\TT\\Tools\\SYS', 'exePath')
<END>
<QUE>
How to read fortran 77 unformatted binary file into python
<ANS>
import numpy as np

um=np.empty((34,17), dtype='float32') # Make these dimensions "backwards" for easier reshaping
vm=np.empty((34,17), dtype='float32') # Also watch out, I believe the default type is float64

f = open(inputfile,'rb')
recl = np.zeros(1,dtype=np.uint32)
for i in range(nm+1):
    recl = np.fromfile(f, dtype='uint32', count=1)
    tmpu = np.fromfile(f, dtype='float32', count=um.size) # These arrays will be flat
    tmpv = np.fromfile(f, dtype='float32', count=vm.size)
    recl = np.fromfile(f, dtype='uint32', count=1)

    um = np.transpose(np.reshape(tmpu, um.shape))
    vm = np.transpose(np.reshape(tmpv, vm.shape))
<END>
<QUE>
How to get text generated by JS in Selenium?
<ANS>
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.common.by import By
from selenium.webdriver.support import expected_conditions as EC

WebDriverWait(self.driver, 10).until(
    EC.presence_of_element_located((By.XPATH, '//*[@id="toast-container"]/div/div[1][@class="ng-binding toast-title"]'))
)
<END>
<QUE>
how to open a program in python and send keystrokes?
<ANS>
import win32com.client
shell = win32com.client.Dispatch("WScript.Shell")
shell.Run("outlook")
shell.AppActivate("Outlook")
shell.SendKeys("^o", 0) # 1 f?r Pause = true 0 f?r nein
shell.SendKeys("^a", 0)
shell.SendKeys("^c", 0)
<END>
<QUE>
Flask App request ajax GET returning 500 Internal Server Error
<ANS>
from flask import Flask, render_template, request, jsonify
import dogo
import traceback

app = Flask(__name__)


@app.route('/')
def index():
    return render_template("index.html")


@app.route('/_summary', methods=["GET"])
def summary():
    try:
        song = request.args.get('a')    
        return jsonify(result=dogo.parse_it_asap(song))
    except Exception:
        return traceback.format_exc()

if __name__ == "__main__":
    app.run(debug = True)
<END>
<QUE>
How to replace strings in a list by numbers based on their endings?
<ANS>
for i, e in enumerate(myList):
    key = e[e.index("_"):]
    if key not in myDict: continue
    myList[i] = myDict[key]
<END>
<QUE>
Extracting IP from request in Python
<ANS>
class example:
    def GET(self):
        print web.ctx.ip
<END>
<QUE>
How to check if element is on screen
<ANS>
from selenium.common.exceptions import NoSuchElementException, ElementNotVisibleException

try:
    Ui.find_el(link.AuthorPopupNodes.LOGIN_EMAIL)
except (NoSuchElementException, ElementNotVisibleException):
    try:
        Ui.find_el(link.HeaderNodes.LOGOUT_BUTTON)
        self.log_out()
    except (NoSuchElementException, ElementNotVisibleException):   
        pass

    Ui.wait_for_element(link.HeaderNodes.LOGIN_BUTTON, "Timeout: Wait for Login button!")
    Ui.click_el(link.HeaderNodes.LOGIN_BUTTON)
<END>
<QUE>
Getting the block of commands that are to be executed in the with statement
<ANS>
import sys 
class MyNameSpace(object):
    def __init__(self,ns):
        self.ns = ns
    def __enter__(self):
        globals().update(self.ns)
    def __exit__(self, exc_type,exc_value,traceback):
        self.ns.update(sys._getframe(1).f_locals)

my_dict = {'a':3, 'b':2} 
with MyNameSpace(my_dict) as ns:
    print(a) # Should print 3
    x = 5 # When the block finishes, my_dict['x'] should now be 5 

print(my_dict['x'])
<END>
<QUE>
Selecting all checkboxes in Django
<ANS>
(".slave-checkbox")
<END>
<QUE>
Get the directory structure of a tgz file in python
<ANS>
import tarfile
tar = tarfile.open("file.tgz")
for file in tar.getmembers():
    print file.name
<END>
<QUE>
How does legend() work on a dynamic data set?
<ANS>
import matplotlib.pyplot as plt
import numpy

x = numpy.arange(10.)
d = dict((i, numpy.sin(x+i)) for i in range(5))

for k in sorted(d):  # sort purely to make deterministic
    plt.plot(x,d[k],label=str(k))

plt.legend(loc=2)
plt.draw()
<END>
<QUE>
Counting the occurence of a specific string in a csv file
<ANS>
with open('Path/to/file', 'r') as content_file:
    content = content_file.read()
    print(content.count("Methadone"))
<END>
<QUE>
Make seamless join on rotated ROI
<ANS>
tri_crop[tri_crop == 0] = tri_warp[tri_crop == 0]
<END>
<QUE>
Extrapolate python array with unequal spacing between elements
<ANS>
import numpy as np

#here y2 is the new extrapolated array
y2 = np.interp(x2,x1,y1)
<END>
<QUE>
Django M2M QuerySet filtering on multiple foreign keys
<ANS>
class ConversationManager(models.Manager):
    def has_all(self, participants):
        # Start with all conversations
        reducedQs = self.get_query_set()
        for p in participants:
            # Reduce to conversations that have a participant "p" 
            reducedQs = reducedQs.filter(participants__id=p.id)
        return reducedQs
<END>
<QUE>
Convert curl example to pycurl
<ANS>
import pycurl, json

github_url = 'https://api.postmarkapp.com/email'

data = json.dumps({"From": "user@example.com", "To": "receiver@example.com", "Subject": "Pycurl", "TextBody": "Some text"})

c = pycurl.Curl()
c.setopt(pycurl.URL, github_url)
c.setopt(pycurl.HTTPHEADER, ['X-Postmark-Server-Token: API_TOKEN_HERE','Accept: application/json'])
c.setopt(pycurl.POST, 1)
c.setopt(pycurl.POSTFIELDS, data)
c.perform()
<END>
<QUE>
How to return a dictionary | Python
<ANS>
def query(id):
    for line in file:
        table = {}
        (table["ID"],table["name"],table["city"]) = line.split(";")
        if id == int(table["ID"]):
             file.close()
             return table
    # ID not found; close file and return empty dict
    file.close()
    return {}
<END>
<QUE>
Matlab cell like structure in python
<ANS>
thisCell = [ numpy.zeros(shape=(i,j,k)) for t in range(1, Nmax) ]
<END>
<QUE>
Problem with django urls which have a hyphen in them
<ANS>
base.html
<END>
<QUE>
Python Requests - missing element value
<ANS>
s.get(url)
<END>
<QUE>
Pythonic random list of booleans of length n with exactly k Trues
<ANS>
output = sorted([1] * k + [0] * (n - k), key=lambda k: random.random())
<END>
<QUE>
Select substring from an RDD in pyspark
<ANS>
re.findall("[A-Za-z]+", "Toronto, Ontario, Canada", 0)[1]
'Ontario'

re.findall("[A-Za-z]+", "California - LA", 0)[1]
'LA'
<END>
<QUE>
combine two lists in a dictionary - python
<ANS>
[{'a':v, 'b':v, 'c':c} 
    for (l, c) in zip((l_Y, l_Z), ('Y', 'Z')) 
        for v in l]
<END>
<QUE>
Creating new list with values from two prior lists
<ANS>
l1 = [1,2,3]
l2 = [4,5,6]

newl = []
for item1, item2 in zip(reversed(l1), reversed(l2)):
    newl.append(item1)
    newl.append(item2)

print newl
<END>
<QUE>
python matplotlib: add labels and set their colours correctly for a stackplot
<ANS>
fields = ax.stackplot(df.index,df.field1,df.field2)
colors = [field.get_facecolor()[0] for field in fields]
patch1=mpl.patches.Patch(color=colors[0],label= 'field 1')
patch2=mpl.patches.Patch(color=colors[1], label ='field 2')
<END>
<QUE>
Dynamically running python code on google app engine
<ANS>
#Initiating Variables for use by importing functions
module_name = 'mymod'
filename = 'action_file'
source = PossibleMatches[0][1] #the source code from the best matched option

# define module_name somewhere
import types
module = types.ModuleType(module_name)

# source should the code to execute
# filename should be a pseudo-filename that the code's from
# (it doesn't actually have to exist; it's used for error messages)
code_object = compile(source, filename, 'exec')

#execute the code in the context of the module
exec code_object in module.__dict__

#Executing the 'Main' Function from the code
return module.Main()
<END>
<QUE>
Print beginning and ending with a comma in Python?
<ANS>
#!/usr/bin/python

f = open("blah.txt");       # open file
for line in f:              # iterate over lines in file
  line = line.strip()       # strip leading and trailing white space
  print ("," + line + ",")  # print line between commas
f.close() # close file      # close file when done
<END>
<QUE>
How do I populate many-to-many relationship with WTForms and SQLAlchemy?
<ANS>
members = QuerySelectMultipleField(query_factory=get_members)
<END>
<QUE>
Python 3: Regex matching 2 seperate conditions
<ANS>
import io
import re
import sys

file = io.StringIO('''
title|Head1|Head2|Head3|head4 
----|------|-----|-----|
1|1150976|0|25300992|bfa92720/bfa924f8|su|(None, None)
2|1150976|0|25300992|bfa92720/bfa924f8|su|(None, None)
3|1150976|0|25300992|bfa92720/bfa924f8|su|(None, None)
4|1150976|0|25300992|bfa92720/bfa924f8|su|(None, None)
5|1150976|0|25300992|bfa92720/bfa924f8|su|(None, None)
All|processes:|MemAlloc|=|408125440|(None, None)|0.0.0.0
|(None, None)
0.0.0.0 ,text
''')

sys.stdout.writelines(line for line in file if re.match('\d+\|', line))
<END>
<QUE>
Correct API call to request JSON-formatted data from Imgur?
<ANS>
r = requests.get("https://api.imgur.com/3/gallery/r/earthporn/top/")
<END>
<QUE>
How to find specific rows in csv document in python
<ANS>
import csv
import os

os.chdir(r"C:\Users\Robert\Documents\qwe")

output_ary = []
with open("gdweights_feh_robert_cmr.csv",'rb') as f:
    reader = csv.reader(f, delimiter= ',')
    zerovar = 0
    for row in reader:
        if zerovar==0:
            zerovar = zerovar + 1
        else:
            sn = row [11]
            zerovar = zerovar + 1
            x = float(sn)
            if x > 20:
                print x
                output_ary.append(row)

with open("output.csv",'w') as f2:
    for row in output_ary:
        for item in row:
            f2.write(item + ",")
<END>
<QUE>
python: updating file by finding unique values between two files, and then appending further data to bottom
<ANS>
import re
import fileinput

#  write concepts which are not not in log

with open("log.txt", 'r') as f,  open("substance.txt", "r") as oldfile, open('new_substance.txt', 'w') as newfile:
    # read f only once and convert it to a list
    logList = list(f)
    # remove everything that exists in f either with a +\t or a -\t
    withconceptsremoved = [x for x in oldfile if ('-\t'+x not in logList and '+\t'+x not in logList)]
    # convert to string and write to file
    withconceptsremoved = "".join(withconceptsremoved)
    newfile.write(withconceptsremoved)
    #  so the new file only has comments which are neither positive or negative in log.  If we now copy positive ones, we've removed the negatives
    #  write new additions to bottom of new file 
    for line in logList:
        if '+\t' in line:
            addedconcept = line.replace('+\t','1\t')
            newfile.write(addedconcept)
<END>
<QUE>
PIL paste image without blur
<ANS>
background.save("result.png")
<END>
<QUE>
Usage of BoundsEditor in TraitsUI
<ANS>
from traits.api \
    import HasTraits, Button, Range, Float
from traitsui.api \
    import View, Item, Group, RangeEditor
from traitsui.qt4.extra.bounds_editor import BoundsEditor

class Parameters(HasTraits):
    rgb_range = Range(0.,1.0)
    range1 = rgb_range
    range2 = rgb_range
    low_val = Float(0.0)
    high_val = Float(1.0)
    eval_button = Button("Eval")  

    traits_view= View(
        Item('range1', editor=RangeEditor()),
        Item('range2', editor=BoundsEditor(low_name = 'low_val', high_name = 'high_val')),
        Item('eval_button'))


    def _range1_changed(self, value):
        print(value)

    def _low_val_changed(self):
        print(self.low_val)

    def _high_val_changed(self):
        print(self.high_val)

    def _eval_button_fired(self):
        print(self.range1)
        print(self.low_val)
        print(self.high_val)

if __name__ == '__main__':
    alg = Parameters()
    alg.configure_traits()
<END>
<QUE>
Read JavaScript variables from a file with Python
<ANS>
import re

js = open("yourfile.js", "r").readlines()[:2]

matcher_rex = re.compile(r'^var\s+(?P<varname>\w+)\s+=\s+"(?P<varvalue>[\w\s]+)";?$')
for line in js:
    matches = matcher_rex.match(line)
    if matches:
        name, value = matches.groups()
        print name, value
<END>
<QUE>
Django saving HTTP_REFERER to use it as landingpage information
<ANS>
#Usage: response.set_cookie( 'cookie_name', 'cookie_value' )

class RefererMiddleware(object):
    def process_response(self, request, response):
        if not request.COOKIES.has_key( 'HTTP_REFERER' ):
            response.set_cookie( 'HTTP_REFERER', request.META.get('HTTP_REFERER') )
        return response
<END>
<QUE>
Multiprocessing slots in python
<ANS>
import multiprocessing
import time

def process(x):
    time.sleep(1)
    return x

if __name__ == '__main__':
    jobs = range(100)
    pool = multiprocessing.Pool(20)
    for result in pool.imap_unordered(process, jobs):
        print(result)
    pool.close()
    pool.join()
<END>
<QUE>
How to remove duplicates in Links genrated using mechnize in Python?
<ANS>
cb = {}
for link in br.links(url_regex="inquiry-results.jsp"):
    cb[link.url] = link
print cb.values()
<END>
<QUE>
Progress gauge in status bar, using Cody Precord's ProgressStatusBar
<ANS>
import time
import wx

class MyFrame(wx.Frame):
    def __init__(self, *args, **kargs):
        wx.Frame.__init__(self, *args, **kargs)
        self.bt = wx.Button(self)
        self.status = ProgressStatusBar(self)
        self.sizer = wx.BoxSizer(wx.VERTICAL)

        self.Bind(wx.EVT_BUTTON, self.on_bt, self.bt)

        self.sizer.Add(self.bt, 1, wx.EXPAND)
        self.sizer.Add(self.status, 1, wx.EXPAND)

        self.SetSizer(self.sizer)
        self.Fit()
        self.SetSize((500,200))

    def on_bt(self, evt):
        "press the button and it will start" 
        for n in range(100):
            time.sleep(0.1)
            self.status.SetProgress(n)
            self.Update()

if __name__ == '__main__':
    app = wx.PySimpleApp()
    frame = MyFrame(None)
    frame.Show()
    app.MainLoop()
<END>
<QUE>
How to generate a sequence of numbers that can later be used in the command lines in python?
<ANS>
pairs = int(raw_input("How many pairs do you have?"))
for pair_n in xrange(1, pairs + 1):
  file1 = raw_input("pair%d-a: " % pair_n)
  file2 = raw_input("pair%d-b: " % pair_n)
  cmd = "samtools merge pair%d.bam '%s' '%s'" % (pair_n, file1, file2)
  # os.system(cmd) to run the command.
<END>
<QUE>
reading a file in python from different directory
<ANS>
import os
os.chdir('/foo/bar')
f = open('foobar.txt', 'r')
<END>
<QUE>
How to find a root for a mathematical function using Intermediate value theorem?
<ANS>
def find_root(f, a, b, EPS=0.0001):
  if f(a)==0 : return a
  if f(b)==0 : return b
  if f(a)*f(b)>0 : return None
  c=(a+b)/2
  while(abs(f(c))>EPS) :
    if f(a)*f(c)<0 : b=c
    else : a=c
    c=(a+b)/2
  return c
<END>
<QUE>
How can I get a python script to find the right Tortoise.exe if I have multiple Tortoise clients (Git, SVN) installed?
<ANS>
def gen_command_string(path, url):
    cmd = path + 'TortoiseProc.exe /command:ignore /path:\"%s\" /closeonend:0' % url
    return cmd

SVN_PATH = 'C:/Program Files/TortoiseSVN/bin'
HG_PATH = 'C:/Program Files/TortoiseHg/bin/'

cmd = gen_command_string(SVN_PATH, 'http://google.com')
call(cmd)
<END>
<QUE>
How to set filename property in BlobStore?
<ANS>
file_name = files.blobstore.create(mime_type='image/png',_blobinfo_uploaded_filename=file_name_from_url)
<END>
<QUE>
how to caculate the minimum depth of binary tree
<ANS>
import collections
import heapq

Node = collections.namedtuple('Node', ['v', 'children'])

def min_depth_bfs(root):
    todo = [(1, root)]
    while todo:
        depth, node = heapq.heappop(todo)
        if not node.children: return depth, node
        for c in node.children:
            heapq.heappush(todo, (depth + 1, c))

def min_depth_dfs(node):
    if not node.children: return 1, node
    d, n = min(min_depth_dfs(c) for c in node.children)
    return 1 + d, n

example = Node(8, [Node(3, [Node(1, [])]), Node(10, [])])

print min_depth_dfs(example)
print min_depth_bfs(example)
<END>
<QUE>
How to get a unique list of objects from AWS S3 bucket
<ANS>
batchIDlist = []

for s3_file in bucket.list(prefix='Download/test_queue1/'):
    batchID = str((s3_file.name).split("/"))[32:-13]

    if batchID not in batchIDlist:
        batchIDlist.append(batchID)
<END>
<QUE>
Converting nested lists of data into multidimensional Numpy arrays
<ANS>
d=np.array(dataPoints.tolist())
<END>
<QUE>
splitting file and how to access certain index python
<ANS>
tabsplit=line.split()
<END>
<QUE>
Skipping every other element after the first
<ANS>
def altElement(a):
    return a[::2]
<END>
<QUE>
Running scipy's oneway anova in a script
<ANS>
scipy.stats.f_oneway(*archive.values())
<END>
<QUE>
How do I change the representation of a Python function?
<ANS>
class decorator(object):
    def __init__(self, functor):
        self.functor = functor

        #  lets copy some key attributes from the original function
        self.__name__ = functor.__name__
        self.__doc__ = functor.__doc__

    def __call__(self, *args, **kwargs):
        return self.functor(*args, **kwargs)

    def __repr__(self):
        return '<function %s created by ...>' % self.functor.__name__


@decorator
def f():
    return 'spam'


print f()  # spam
print repr(f)  # <function hehe created by ...>
<END>
<QUE>
Python, Convert 9 tuple UTC date to MySQL datetime format
<ANS>
tup = (2009, 3, 23, 13, 6, 34, 0, 82, 0)
import datetime 
d = datetime.datetime(*(tup[0:6]))
#two equivalent ways to format it:
dStr = d.isoformat(' ')
#or
dStr = d.strftime('%Y-%m-%d %H:%M:%S')
<END>
<QUE>
List of dictionaries that should be filtered by certain values
<ANS>
data = [{"name": "John", "age": "20", "occupation": "Python pro"}, \
        {"name": "Jack", "age": "80", "occupation": "Olympic Athlete"}, \
        {"name": "John", "age": "20", "occupation": "Student"}]

new_data = []
names_ages = set([])
for d in data:
    name_age = (d["name"], d["age"])
    if name_age not in names_ages:
        new_data.append(d)
    names_ages.add(name_age)

print new_data
# [{'age': '20', 'name': 'John', 'occupation': 'Python pro'},
#  {'age': '80', 'name': 'Jack', 'occupation': 'Olympic Athlete'}]
<END>
<QUE>
Read first number of user input
<ANS>
print("Sisesta isikukood")
isikukood = str(input())

if (isikukood[:1] == '1' or isikukood[:1] == '3' or isikukood[:1] == '5'):
    print("He")
elif isikukood[:1] == '2' or isikukood[:1]== '4' or isikukood[:1] == '6':
    print("She")
else:
    print("Vale isikukood")
<END>
<QUE>
Python: How to extend a class?
<ANS>
class Abc(object):
    pass

def new_funct(self):
    print 1234

Abc.instance_funct = new_funct
a = Abc()
a.instance_funct()
<END>
<QUE>
Getting the name of the mesh that shader was assigned to
<ANS>
import maya.cmds as mc

Shader = mc.ls(type = 'surfaceShader')
for i in Shader:
    con = mc.listConnections('%s.outColor' % i)
    names = mc.listConnections(con, type="mesh")
    print i, "->", ", ".join(names)
<END>
<QUE>
Converting 2d array into 3d array in python
<ANS>
import numpy as np
data = np.random.randn(3000000,50)
newData = data.reshape(300,10000,50) # This is as [300,10000,50] array

print newData[0,...] # Show the first matrix, 1 of 300
<END>
<QUE>
Python for loop with condition
<ANS>
id_array = [x.id for x in _get_object_array() if x.id % 2 == 0]
<END>
<QUE>
Set Index as Integers with Mixed Types
<ANS>
import pandas as pd
DF = pd.DataFrame({'COL1': [1.0,2.0,"A"]})

def ToInt(x):
    try:
        x = int(x)
    except:
        pass
    return x

DF.index = [ToInt(x) for x in DF.COL1]
DF
<END>
<QUE>
What's the easiest way to print seleced key values from dictionary in python
<ANS>
keys_to_print = ['1', '3', '20', '23', '45', '46']
for key in keys_to_print:
    print d[key] + ' ',
<END>
<QUE>
Python unittest, how to display a better group/test name?
<ANS>
def testOne(self):
    """Test IsOdd(1)"""
    self.failUnless(IsOdd(1))

def testTwo(self):
    """Test IsOdd(2)"""
    self.failIf(IsOdd(2))
<END>
<QUE>
how to retrieve field values from python-bugzilla xml-rpc
<ANS>
import bugzilla
bz = bugzilla.Bugzilla(url="https://bugzilla.kernel.org")

print bz._proxy.Bug.fields({"names" : ["rep_platform"]})
<END>
<QUE>
Python sorting : sub strings
<ANS>
sorted(set(s[a:b] for a in range(n) for b in range(a+1,n+1)),
       key=lambda x:(len(x),x))
<END>
<QUE>
String Manipulation of All Elements of an Array in Python
<ANS>
x=["123","456.678","abc.def.ghi"]
[y.rsplit(".",1)[0] for y in x]
<END>
<QUE>
How can I remove all trailing dashes from a string?
<ANS>
string1.rstrip("-")
# "title"
string2.rstrip("-")
# "title"
string3.rstrip("-")
# "title-is-a-title"
<END>
<QUE>
Search on non-text column in flask-admin
<ANS>
filter_stmt.append(func.text(Multicast.addr).like(stmt))
<END>
<QUE>
MATLAB find function translate to python - 3 input arguments version
<ANS>
# importing numpy as np and
# assign a ndarray to x
ind = np.nonzero(x)[-k:]
<END>
<QUE>
7z will not find archive using subprocess
<ANS>
def extract_data_one():
    for item in sites:
        os.chdir(r"\\svr-dc\ftp site\%s\Daily" % item)
        subprocess.call(['7z', 'e', 'data1.zip', '*.*'])
<END>
<QUE>
Concatenate rows of data to new dataframe in Pandas
<ANS>
df.to_csv(path, mode='a')
<END>
<QUE>
Integer as key for Map Reduce in Mongodb
<ANS>
{
        "_id" : {
                "value" : 1
        },
        "value" : 3
}
<END>
<QUE>
Function to randomly read a line from a text file
<ANS>
import random
import sys

def random_line(file_handle):
    lines = file_handle.readlines()
    num_lines = len(lines)

    random_line = None
    while not random_line:
        random_line_num = random.randint(0, num_lines - 1)
        random_line = lines[random_line_num]
        random_line = random_line.strip()

    return random_line

file_handle = None

if len(sys.argv) < 2:
    sys.stderr.write("Reading stdin
")
    file_handle = sys.stdin
else:
    file_handle = open(sys.argv[1])

print(random_line(file_handle))

file_handle.close()
<END>
<QUE>
Trying to generate primes from 1 - n, but consistently is missing primes 3 and 5.?
<ANS>
def generate_primes(n):
  from math import sqrt
  primes=[]
  potentialPrimes=range(2,n+1)
  prime=potentialPrimes[0]
  while prime<sqrt(n):
      primes.append(prime)
      potentialPrimes.remove(prime)
      for potential in potentialPrimes:
          if potential%prime==0:
              potentialPrimes.remove(potential)
      prime=potentialPrimes[0]

  for potential in potentialPrimes:
      primes.append(potential)
  for number in primes:
      print number
<END>
<QUE>
Searching and matching objects through tuples, list of lists
<ANS>
def getPoints(connectionList):
    firstConnection = connectionList[0]
    points = [firstConnection[1][1]]
    lastLine = firstConnection[1][0]

    connectionList.remove(firstConnection)

    while len(connectionList):
        for connection in list(connectionList):
            (line1, p1), (line2, p2) = connection
            if lastLine == line1 or lastLine == line2:
                points.append(p1)
                lastLine = line1 if lastLine == line2 else line2
                connectionList.remove(connection)
                break
    return points
<END>
<QUE>
I use random() in a code to calcuate the times to win, but the result is as expected
<ANS>
# not fair
serving = 'A'

# note: we assume probA + probe == 1.0

# initial serving is decided by players' skill
serving = 'A' if probA > random() else 'B'

# or, initial serving is decided by a coin
serving = 'A' if 0.5 > random() else 'B'
<END>
<QUE>
Read hex characters and convert them to utf-8 using python 3
<ANS>
line = line.decode('unicode_escape').encode('latin-1').decode('utf8')
<END>
<QUE>
Python - Copying into Numpy Array of set size
<ANS>
nx,ny = smallerArray.shape
largeArray[0:nx,0:ny] = smallerArray[0:nx,0:ny]
<END>
<QUE>
How do I log text and a variable in the same line in Python?
<ANS>
logging.info('Altitude:%s' % gpsd.fix.altitude)
<END>
<QUE>
A slider for curses based UI
<ANS>
# -*- coding: utf-8 -*-
import curses

screen = curses.initscr()
curses.noecho()
curses.mousemask(curses.ALL_MOUSE_EVENTS)

screen.keypad(1)

char = ""

try:
    while True:
        char = screen.getch()

        screen.addstr( str(char) + " ")
        if char == curses.KEY_MOUSE:
            screen.addstr (" |" + str(curses.getmouse()) + "| ")

finally:
    screen.keypad(0)
    curses.endwin()

    curses.echo()
<END>
<QUE>
How to re-work this ROT13 Function
<ANS>
dictionary = {'a':'n', 'b':'o', 'c':'p',
             'd':'q', 'e':'r', 'f':'s',
             'g':'t','h':'u','i':'v',
             'j':'w', 'k':'x','l':'y',
             'm':'z','n':'a','o':'b',
             'p':'c','q':'d','r':'e',
             's':'f','t':'g','u':'h',
             'v':'i', 'w':'j','x':'k',
             'y':'l','z':'m'}

def rot(xy):
    rot13 = ''
    for c in xy:
        if c.islower():
            rot13 += dictionary.get(c)
        if c.isupper():
            c = c.lower()
            rot13 += dictionary.get(c).capitalize()
        if c not in dictionary:
            rot13 += c
    print "ROTTED: ", rot13  
    return rot13
<END>
<QUE>
Python how to sort a list with list elements
<ANS>
list.sort(key=lambda x: x[0][1])
<END>
<QUE>
CSV calculation with Python. Get data from list
<ANS>
#!/usr/bin/python
import csv

with open('text_file.txt') as input_file:
    csv_data = []

    for row in csv.reader(input_file, delimiter=','):
        csv_data += [[row[0], int(row[1].strip()) + 10]]

    convert_to_csv = True

    if convert_to_csv:
        with open('input.csv', 'w') as output_file:
            csv_file = csv.writer(output_file, delimiter=',')
            csv_file.writerow(['Text', 'Count'])

            for row in csv_data:
                csv_file.writerow(row)
<END>
<QUE>
File Processor using multiprocessing
<ANS>
while True: 
    sleep_now = False
    try:
        print "WRITER:Getting"
        line,offset = self.queue.get(True, 5)
        #Process the line just read
        proc_line = self.process_line(line)
        if proc_line: 
            #Must write it to DB. Put it into DB Queue
            if self.dbqueue.full(): 
                #DB Queue is full, put data into DB before putting more data
                self.empty_dbqueue()
            self.dbqueue.put(proc_line)
            #Keep a track of the maximum offset in the queue
            self.queue_offset = offset if offset > self.queue_offset else self.queue_offset
    except Queue.Empty: 
        #Looks like writing queue is empty. Just check if DB Queue is empty too
        print "WRITER: Empty Read Queue"
        self.empty_dbqueue()
<END>
<QUE>
Trying to download page in python with urllib2 and requests but keep getting redirected
<ANS>
url = 'http://webapps.rrc.state.tx.us/CMPL/viewPdfReportFormAction.do?method=cmplP4FormPdf&packetSummaryId=97770'

req = urllib2.Request(url)
req.add_unredirected_header('User-Agent', 'Mozilla/5.0')

file_pointer = urllib2.urlopen(req)
print file_pointer.getcode()
print file_pointer.geturl();
<END>
<QUE>
django non-rel / Managing per-field indexes on App Engine
<ANS>
GAE_SETTINGS_MODULES = (
    'maps.gae_models_settings',
)
<END>
<QUE>
How to add new column to output file in Python?
<ANS>
with open("test.csv","wa") as f:
    f.write("name\tnum
")
    for k, v in tripo.items():
        if v:
            f.write("1\t")
            f.write("{}
".format(k.split('.')[0]))
            for s in v:
                f.write("1\t{}
".format(s.split('.')[0]))
<END>
<QUE>
Get elements from list in python
<ANS>
list3=list1[:10]+list2[:20]
<END>
<QUE>
How to swap maximums with the minimums? (python)
<ANS>
#!/usr/bin/python
a = []
b = []
nums = raw_input("Enter input- ")
#append all to a list
for n in nums.split():
    n = int(n)
    if n < 0:
        break
    a.append(n)

#get the maximums
b = list(a)
first_max = max(b)
b.remove(first_max)
second_max = max(b)
b.remove(second_max)
third_max = max(b)

#get the minimums
b = list(a)
first_min = min(b)
b.remove(first_min)
second_min = min(b)
b.remove(second_min)
third_min = min(b)

## now swap 
xMax, yMax, zMax = a.index(first_max), a.index(second_max), a.index(third_max)
xMin, yMin, zMin = a.index(first_min), a.index(second_min), a.index(third_min)
a[xMax], a[xMin] = a[xMin], a[xMax]
a[yMax], a[yMin] = a[yMin], a[yMax]
a[zMax], a[zMin] = a[zMin], a[zMax]

print a
<END>
<QUE>
This code works running from Aptana but fails in python HTMLParser
<ANS>
z=urlopen(url).read().decode('utf-8')
self.feed(z)
<END>
<QUE>
How to get twitter followers using Twython?
<ANS>
from twython import Twython

twitter = Twython()
followers = twitter.get_followers_ids(screen_name = "ryanmcgrath")

for follower_id in followers:
    print "User with ID %d is following ryanmcgrath" % follower_id
<END>
<QUE>
How safe is recursion in Python?
<ANS>
sys.setrecursionlimit(n)
<END>
<QUE>
Compare addresses pulled from an XML document in different formats
<ANS>
x = '123 Main St'
y = '123 MAIN ST'

new_x = x.lower()
new_y = y.lower()



if new_x == new_y :
   print "correct"
else:
   print "incorrect"
<END>
<QUE>
python logging format: how to add bracket
<ANS>
logging.basicConfig(filename='test.log', format='[%(levelname)s] %(message)s', level=logging.DEBUG)
<END>
<QUE>
Run a class-method every n seconds
<ANS>
import threading

class Test:
    def printit(self):
        print("hello world")
        threading.Timer(5.0, self.printit).start()

test = Test()
test.printit()
<END>
<QUE>
How to logging with timed rotate file handler in Tornado?
<ANS>
logging.config.dictConfig(yaml.load(open('logging.yaml', 'r')))
<END>
<QUE>
Beginner looking for help for printing in python
<ANS>
print ("ln(x) at ", x, "is: ", lnx)
<END>
<QUE>
In Python, why doesn't exec work in a function with a subfunction?
<ANS>
def test2():
    """Test with a subfunction."""
    exec 'print "hi from test2"' in globals(), locals()
    def subfunction():
        return True
<END>
<QUE>
Convert a string literal into a list of strings
<ANS>
string = letters[0]
listInDesiredFormat = string.replace('\'', '').split(', ')
<END>
<QUE>
C++ or Python: Bruteforcing to find text in many webpages
<ANS>
import urllib
from multiprocessing import Process, Queue

def worker(input, output):
  for func, args in iter(input.get, 'STOP'):
    result = func(*args)
    output.put(result)

def find_on_page(num):
  uri = 'http://www.example.com/index.php?id=%d' % num
  f = urllib.urlopen(uri)
  data = f.read()
  f.close()
  index = data.find('datahere:') # obviously use your own methods
  if index < 0:
    return None
  else:
    return data[index:index+20]

def main():
  NUM_PROCESSES = 4
  tasks = [(find_on_page, (i,)) for i in range(99999)]
  task_queue = Queue()
  done_queue = Queue()
  for task in tasks:
    task_queue.put(task)
  for i in range(NUM_PROCESSES):
    Process(target=worker, args=(task_queue, done_queue)).start()
  for i in range(99999):
    print done_queue.get()
  for i in range(NUM_PROCESSES):
    task_queue.put('STOP')

if __name__ == "__main__":
  main()
<END>
<QUE>
How to Process Uploaded file in Django Model save method
<ANS>
class UploadPincode(models.Model):
    added_on = models.DateField(auto_now_add=True)
    pincode_file = models.FileField(
        upload_to="Pincodes/", verbose_name="Pincode Excel file (.xls,xlsx)", blank=False, null=False)

    def save(self):
        print "Before Save #######"

        super(UploadPincode, self).save()
        print " Save #######"

        pincode_process(self.pincode_file.url)


    def __unicode__(self):
        return str(self.added_on)



def pincode_process(pincode_file=None):

    print "Pincode Adding ##########################",pincode_file,pincode_file[1:]


    book = open_workbook(pincode_file[1:])
    for j in range(0, book.nsheets - 1):
        sheet = book.sheet_by_index(j)
        for i in range(sheet.nrows):
            if i != 0:
                a = sheet.row_values(i)
                int_pin = int(a[0])
                Pincode(pincode=str(int_pin)).save()

    return True
<END>
<QUE>
How to for-loop output in python?
<ANS>
actors = [item.text for item in soup.findAll('span', {"itemprop":"actor"})]
print "Actors: %s" % (", ".join(actors))
<END>
<QUE>
Unusual behavior of jinja2 template_filter decorator in flask application
<ANS>
# ...
app = Flask(__name__)
# ...
from fresque import filters
<END>
<QUE>
Python prints result as '7\xe6\x9c\x8810\xe6\x97\xa5', but I want '7?10?'
<ANS>
print '7\xe6\x9c\x8810\xe6\x97\xa5'.decode('utf-8')
<END>
<QUE>
Drawing a rectangle around mouse drag Pyglet
<ANS>
import pyglet
from pyglet.window import mouse

window = pyglet.window.Window()

@window.event
def on_draw():
    pass


@window.event
def on_mouse_drag(x, y, dx, dy, buttons, modifiers):
    pyglet.graphics.draw(4, pyglet.gl.GL_QUADS, ('v2f', [x, y, x-dx, y, x-dx, y-dy, x, y-dy]))
    print x, y, dx, y, dx, dy, x, dy
pyglet.app.run()
<END>
<QUE>
Change keyboard locks in Python
<ANS>
import SendKeys

SendKeys.SendKeys("""
{CAPSLOCK}
{SCROLLOCK}
{NUMLOCK}
""")
<END>
<QUE>
Django store uploaded file in S3
<ANS>
file_obj.seek(0)
<END>
<QUE>
How to clear string in a specific coordinate range in ncurses?
<ANS>
window.delch([y, x])
<END>
<QUE>
Strip an ordered sequence of characters from a string
<ANS>
def strip_string(string, to_strip):
    if to_strip:
        while string.startswith(to_strip):
            string = string[len(to_strip):]
        while string.endswith(to_strip):
            string = string[:-len(to_strip)]
    return string
<END>
<QUE>
How to insert a specific string into a specific location of a specific line in a file using a Python script?
<ANS>
import re

filename = "file.txt"
regex = re.compile(r'(memcpy\s*\(\s*buffer\s*,\s*")\s*("\s*,\s*64\s*)')
with open(filename) as in_file:
    in_buffer = in_file.readlines()

data = "foo bar"
with open(filename, "w") as out_file:
    for line in in_buffer:
        out_file.write(regex.sub(r'\g<1>'+data+'\g<2>', line))
<END>
<QUE>
Sorting elements in string with Python
<ANS>
return ''.join(sorted(comb_))
<END>
<QUE>
Load data from a list of lines using pandas
<ANS>
import StringIO

pa.read_csv(StringIO.StringIO(lines.join('
')))
<END>
<QUE>
How to return an html file in bottle server?
<ANS>
from bottle import static_file
@route('/static/<filename>')
def server_static(filename):
    return static_file(filename, root='/path/to/your/static/files')
<END>
<QUE>
Save Video as Frames OpenCV{PY}
<ANS>
name = "frame%d.jpg"%count
cv2.imwrite(name, frame)     # save frame as JPEG file
<END>
<QUE>
how to convert dictionary into csv file
<ANS>
import csv
with open('output.csv', 'wb') as fout:
    csvout = csv.writer(fout)
    for row in a['rows']:
        csvout.writerow( [row['id']] + row['cell'] )
<END>
<QUE>
Read next line in Python
<ANS>
with open('test.txt') as f:
    for line in f:
        nextLine = next(f)
        if 'A' == line.strip():
            print nextLine
<END>
<QUE>
Python: multiple copies of a string in a list
<ANS>
old_headings = [old_freestream_headings] * 2 + [old_integral_headings] + [old_forces_headings] * 5
<END>
<QUE>
python read data from file
<ANS>
import time
with open(file) as f:
    for line in f:
        identifier, t0, score, date, hour = line.split()

        # You can also get a time_struct from the time
        timer = time.strptime(date + hour, "%d/%m/%Y%H:%M:%S")
<END>
<QUE>
Python/Tkinter force wait on button click
<ANS>
self.crackButton.bind('<ButtonRelease-1>', lambda e: self.crack(Filenamelist, forceclick))
<END>
<QUE>
Print original exception in excepthook
<ANS>
from traceback import format_exception

def excepthook(self, type_, value, traceback):
    print format_exception(type_, value, traceback)

sys.excepthook = self.excepthook
<END>
<QUE>
How to change the layout of a Gtk application on fullscreen?
<ANS>
import gtk

def keypress(win, event):
    if event.keyval == gtk.keysyms.F11:
        win.is_fullscreen = not getattr(win, 'is_fullscreen', False)
        action = win.fullscreen if win.is_fullscreen else win.unfullscreen
        action()
        label.set_visible(not win.is_fullscreen)

win = gtk.Window()
win.connect("delete-event", gtk.main_quit)
win.connect('key-press-event', keypress)
image = gtk.image_new_from_stock(gtk.STOCK_ABOUT, gtk.ICON_SIZE_DIALOG)
label = gtk.Label(('test ' * 20 + '
') * 20)
vbox = gtk.HBox()
vbox.add(label)
vbox.add(image)
win.add(vbox)
win.show_all()
gtk.main()
<END>
<QUE>
List of Python functions, in their order of definition in the module
<ANS>
import sys
import inspect

def f1():
    "f1!"
    pass
def f3():
    "f3!"
    pass
def f2():
    "f2!"
    pass

funcs = [elt[1] for elt in inspect.getmembers(sys.modules[__name__],
                                              inspect.isfunction)]
ordered_funcs = sorted(funcs, key=lambda f: f.__code__.co_firstlineno)
for f in ordered_funcs:
    print(f.__doc__)
<END>
<QUE>
mysql user privileges with fabric python regex
<ANS>
run('mysql -u %s -p%s -e "grant all on %s.* to \'%s\'@\'localhost\' identified by \'PASSWORD\'"' % (user, dbpasswd, account, account))
<END>
<QUE>
Finding a sum in nested list using a lambda function
<ANS>
total = sum(int(v) for name,v in table)
<END>
<QUE>
MongoDB update an array element matching a condition using $push
<ANS>
db.collection.update(
   {"charachters.char_name": "Testarion"},
   {"$push": {"charachters.$.parties": "party_user"}})
<END>
<QUE>
QTimer persists after QMainWindow is closed
<ANS>
self.setAttribute(QtCore.Qt.WA_DeleteOnClose)
<END>
<QUE>
Print stacktrace without throwing exception
<ANS>
import traceback

traceback.print_stack()
<END>
<QUE>
Send an email in Python and include a vaiable in the subject line
<ANS>
CTemp = str(12.34) #set for testing
text = "The temp is: "+CTemp

msg = MIMEText(text)
<END>
<QUE>
Write a tornado coroutine that also yields normal values
<ANS>
from tornado.ioloop import IOLoop
from tornado import gen
from tornado.httpclient import AsyncHTTPClient
from toro import Queue

q = Queue(maxsize=1)


@gen.coroutine
def consumer():
    item = yield q.get()
    while item:
        print item
        item = yield q.get()


@gen.coroutine
def producer():
    try:
        client = AsyncHTTPClient()
        for url in [
                'http://tornadoweb.org',
                'http://python.org',
                'http://readthedocs.org']:
            response = yield client.fetch(url)
            item = (url, len(response.body))
            yield q.put(item)

        # Done.
        q.put(None)
    except Exception:
        IOLoop.current().stop()
        raise

future = producer()
IOLoop.current().run_sync(consumer, timeout=20)
<END>
<QUE>
How can I use Pyro with gevent?
<ANS>
gevent.spawn(daemon.requestLoop)
<END>
<QUE>
Using %f with strftime() in Python to get microseconds
<ANS>
datetime.datetime.now().strftime("%H:%M:%S.%f")
<END>
<QUE>
Replace Text On Pygame Window
<ANS>
gameDisplay.fill(your_color_tuple)

# afterwards add your drawing code
<END>
<QUE>
How to get a list of variables in specific Python module?
<ANS>
print [item for item in dir(adfix) if not item.startswith("__")]
<END>
<QUE>
plotting markers on top of axes
<ANS>
import numpy as np
import matplotlib.pyplot as plt
x = np.array([0,1,2,3,4,5,6])
y = np.array([0,2,0,4.5,0.5,2,3])

line = plt.plot(x,y,'o')[0]
line.set_clip_on(False)
plt.show()
<END>
<QUE>
How do I TRUNCATE TABLE using Django orm?
<ANS>
Book.objects.all().delete()
<END>
<QUE>
Best way to extract text from a Word doc without using COM/automation?
<ANS>
import os

def doc_to_text_catdoc(filename):
    (fi, fo, fe) = os.popen3('catdoc -w "%s"' % filename)
    fi.close()
    retval = fo.read()
    erroroutput = fe.read()
    fo.close()
    fe.close()
    if not erroroutput:
        return retval
    else:
        raise OSError("Executing the command caused an error: %s" % erroroutput)

# similar doc_to_text_antiword()
<END>
<QUE>
how to pass a list between views in django
<ANS>
def view2(request):
    if request.method == 'POST':
        page_list=request.POST.values()
    else:
        HttpResponseRedirect('/urls/')
<END>
<QUE>
how to convert csv into dict format
<ANS>
with open('file.csv') as f:
    f.readline() # ignore first line (header)
    mydict = dict(csv.reader(f, delimiter=','))

print mydict
<END>
<QUE>
Python socket server receive image
<ANS>
import socket
import struct
address = ("10.0.0.12", 5000)
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.bind(address)
s.listen(1000)


client, addr = s.accept()
print 'got connected from', addr

buf = ''
while len(buf)<4:
    buf += client.recv(4-len(buf))
size = struct.unpack('!i', buf)
print "receiving %s bytes" % size

with open('tst.jpg', 'wb') as img:
    while True:
        data = client.recv(1024)
        if not data:
            break
        img.write(data)
print 'received, yay!'

client.close()
<END>
<QUE>
How to write native newline character to a file descriptor in Python?
<ANS>
import os
os.write(fd, os.linesep)
<END>
<QUE>
Serialization of a pandas DataFrame
<ANS>
df.to_pickle(file_name)
<END>
<QUE>
Image smoothing in Python
<ANS>
import scipy.signal
import numpy as np
import matplotlib.pyplot as plt

im = plt.imread('example.jpg')
im /= 255.   # normalise to 0-1, it's easier to work in float space

# make some kind of kernel, there are many ways to do this...
t = 1 - np.abs(np.linspace(-1, 1, 21))
kernel = t.reshape(21, 1) * t.reshape(1, 21)
kernel /= kernel.sum()   # kernel should sum to 1!  :) 

# convolve 2d the kernel with each channel
r = scipy.signal.convolve2d(im[:,:,0], kernel, mode='same')
g = scipy.signal.convolve2d(im[:,:,1], kernel, mode='same')
b = scipy.signal.convolve2d(im[:,:,2], kernel, mode='same')

# stack the channels back into a 8-bit colour depth image and plot it
im_out = np.dstack([r, g, b])
im_out = (im_out * 255).astype(np.uint8) 

plt.subplot(2,1,1)
plt.imshow(im)
plt.subplot(2,1,2)
plt.imshow(im_out)
plt.show()
<END>
<QUE>
how to impliment auth_token in Ceilometer Python Client API
<ANS>
from keystoneclient.auth.identity import v2
from keystoneclient import session
from ceilometerclient import client

auth=v2.Password(auth_url="hosturl:5000/v2.0/", username="admin", password="pass", tenant_id='123456')

sess = session.Session(auth=auth,verify=False)     # verify=False may not be required for you    
token = auth.get_token(sess)

cclient = client.get_client(2, ceilometer_url="hosturl:8777/", token=token,verify=False)
cclient.meters.list()
<END>
<QUE>
Replacing last value in list of tuples
<ANS>
[t[:-1] + (100,) for t in a]
<END>
<QUE>
SQL Insert progress bar
<ANS>
# untested
from itertools import count
rows = len(csvList)
pctn = rows // 100
perc = count()
for rowno, row in enumerate(csvList):
    if rowno % pctn == 0:
        print '{}%'.format(next(perc))
<END>
<QUE>
How can you determine a point is between two other points on a line segment?
<ANS>
def isBetween(a, b, c):
    crossproduct = (c.y - a.y) * (b.x - a.x) - (c.x - a.x) * (b.y - a.y)
    if abs(crossproduct) > epsilon : return False   # (or != 0 if using integers)

    dotproduct = (c.x - a.x) * (b.x - a.x) + (c.y - a.y)*(b.y - a.y)
    if dotproduct < 0 : return False

    squaredlengthba = (b.x - a.x)*(b.x - a.x) + (b.y - a.y)*(b.y - a.y)
    if dotproduct > squaredlengthba: return False

    return True
<END>
<QUE>
Python 3.5 Save an array for use outside a function
<ANS>
array = lane_emden(3)
<END>
<QUE>
Fuzzy compare two column
<ANS>
from fuzzywuzzy import process
import csv

save_file = open('FuzzyResults3.csv', 'w')
writer = csv.writer(save_file, lineterminator = '
')

def parse_csv(path):

    with open(path,'r') as f:
        reader = csv.reader(f, delimiter=',')
        for row in reader:
            yield row


if __name__ == "__main__":
    ## Create lookup dictionary by parsing the products csv
    data = {}
    for row in parse_csv('File1.csv'):
        data[row[0]] = row[1]

    ## For each row in the lookup compute the partial ratio
    for row in parse_csv("File2.csv"):
        #print(process.extract(row,data, limit = 100))
        for found, score, matchrow in process.extract(row, data, limit=100):
            if score >= 60:
                print('%d%% partial match: "%s" with "%s" ' % (score, row, found))
                Digi_Results = [score, row, found]
                writer.writerow(Digi_Results)


save_file.close()
<END>
<QUE>
Multithreading for faster downloading
<ANS>
import Queue, thread

# create a Queue.Queue here
queue = Queue.Queue()

print ("downloading and parsing Bibles...")
root = html.parse(open('links.html'))
for link in root.findall('//a'):
  url = link.get('href')
  queue.put(url) # produce




def thrad():
  url = queue.get() # consume
  name = urlparse.urlparse(url).path.split('/')[-1]
  dirname = urlparse.urlparse(url).path.split('.')[-1]
  f = urllib2.urlopen(url)
  s = f.read()
  if (os.path.isdir(dirname) == 0): 
    os.mkdir(dirname)
  soup = BeautifulSoup(s)
  articleTag = soup.html.body.article
  converted = str(articleTag)
  full_path = os.path.join(dirname, name)
  open(full_path, 'wb').write(converted)
  print(name)

thread.start_new(thrad, ()) # start 1 threads
<END>
<QUE>
Getting values from a column in excel using openpyxl
<ANS>
wb = load_workbook('path/doc.xls', use_iterators=True)
<END>
<QUE>
How can I get a list of all WLANs my computer can see with Python?
<ANS>
import NetworkManager

for dev in NetworkManager.NetworkManager.GetDevices():
    if dev.DeviceType != NetworkManager.NM_DEVICE_TYPE_WIFI:
        continue
    for ap in dev.SpecificDevice().GetAccessPoints():
        print ap.Ssid
<END>
<QUE>
Iterating through a python list of list and creating a new list
<ANS>
['%f, %s' % (x,y) for _,_,_,x,_,y in d.values()]
<END>
<QUE>
Toggle a loop on and off in a multi-processed program in Python
<ANS>
if __name__ == '__main__':
    manager = Manager()
    flag = manager.list([True])
    for taskSize in taskSizes:
        flag[0] = True
        processes = [] # a list to store the process handles 
        for i in range(1,TASK_LAUNCHERS):
            p = Process(target=backgroundTaskLauncher, args=(taskSize,flag))
            p.start()
            processes.append(p) # save process handle
        # Experiment goes here (I think it goes here (unindented(?)))
        flag[0] = False
        # after you are done with your experiment, join all child processes
        for p in processes:
            p.join()
<END>
<QUE>
Generate All Permutations of Several Lists in Permutation-Value Order
<ANS>
import heapq

a = [("a", 6), ("b", 4), ("c", 3), ("d", 1)]
b = [("e", 5), ("f", 5), ("g", 4), ("h", 2)]

class Pair:
    def __init__(self, i, j, value):
        self.i = i
        self.j = j
        self.value = value
    def __cmp__(self, other):
        return other.value - self.value

def solution(a, b):
    heap = []
    for i in range(len(a)):
        heapq.heappush(heap, Pair(i, 0, a[i][1] + b[0][1]))
    while len(heap) > 0:
        pair = heapq.heappop(heap)
        yield (a[pair.i], b[pair.j], pair.value)
        if pair.j + 1 < len(b):
            heapq.heappush(heap, Pair(pair.i, pair.j + 1, a[pair.i][1] + b[pair.j + 1][1]))

for (a, b, value) in solution(a, b):
    print ("%s %s -> %d" % (a, b, value))
<END>
<QUE>
Numpy - easier way to change the value of one column of an array only?
<ANS>
x = np.empty((21, 2))
x[:, 0] = 45
x[:, 1] = np.linspace(55, 65, x.shape[0])
<END>
<QUE>
Google App Engine - Getting Sessions working with Python 2.7
<ANS>
import webapp2

from webapp2_extras import sessions

class BaseHandler(webapp2.RequestHandler):
    def dispatch(self):
        # Get a session store for this request.
        self.session_store = sessions.get_store(request=self.request)

        try:
            # Dispatch the request.
            webapp2.RequestHandler.dispatch(self)
        finally:
            # Save all sessions.
            self.session_store.save_sessions(self.response)

    @webapp2.cached_property
    def session(self):
        # Returns a session using the default cookie key.
        return self.session_store.get_session()

# To set a value:
self.session['foo'] = 'bar'

# To get a value:
foo = self.session.get('foo')
<END>
<QUE>
MongoDb pymongo how to increment multiple documents
<ANS>
from pymongo.bulk import BulkUpsertOperation
bulk=clientConn.db.table.initialize_ordered_bulk_op()

for i in someList:
    bulk.find({'uid':i,"dt":datetime(y,m,d)}).upsert().update({'$inc': {'count': 1}})
res=bulk.execute()
<END>
<QUE>
SQLalchemy top 3 results from each category
<ANS>
# create query order by monthly price 
base_query = Contract.query.order_by(Contract.monthly_price)

# build subqueries for each network 
queries = []
for n in networks.all():
    queries.append( base_query.filter(Contract.network_id==n.id).\
                        limit(3).subquery().select() )

# get contracts using union_all
contracts = Contract.query.select_entity_from(union_all( *queries )).all()
<END>
<QUE>
How to convert datetime to string in python in django
<ANS>
{{ item.date|date:"Y M d" }}
<END>
<QUE>
Trying to parse Word docx file as a zip document using Python's xml.elementtree
<ANS>
import xml.etree.ElementTree as ET

# I find that using a dictionary to map prefixes to namespaces keeps
# things easier to understand. You can also use the namespaces directly
# though if you prefer
NAMESPACE_PREFIXES = {
    'w': 'http://schemas.openxmlformats.org/wordprocessingml/2006/main'
    }  

tree = ET.parse('document.xml')
root = tree.getroot()
text_elements = [element for element in root.iter() if element.tag == 
'{' + NAMESPACE_PREFIXES['w'] + '}t']
# Equivalent to:
# text_elements = [element for element in root.iter() if element.tag == 
# '{http://schemas.openxmlformats.org/wordprocessingml/2006/main}t']
for text_element in text_elements:
    if text_element.text == 'Hello world!':
        text_element.text = 'Goodbye world!'
<END>
<QUE>
Eve pretty _links for items, multiple entry points
<ANS>
HATEOAS = False
<END>
<QUE>
how to write to a text file using python ?
<ANS>
numbers = [1,2,3,4,5,6]

with open('output.txt', 'w') as f:
  f.write('\t'.join(numbers))
<END>
<QUE>
Optimising a simple mathematical calculation over list
<ANS>
from itertools import imap
from operator import mul
def sumsquared(arr):
    return sum(imap(mul, arr, arr))
<END>
<QUE>
Appending data to csv file
<ANS>
import csv
data = []
with open('Trial_test.csv', 'rb') as csvfile:
   reader = csv.reader(csvfile, delimiter=' ', quotechar='|')
   for row in reader:
       data.append(row)

# now do your calculations on the 'data' object.

with open('Trial_test_new.csv', 'wb') as csvfile:
   writer = csv.writer(csvfile, delimiter=' ', quotechar='|')
   for row in data:
       writer.writerow(row)
<END>
<QUE>
How can I read the memory of a process in python in linux?
<ANS>
import subprocess

# ps -ux | grep 1842 (Assuming 1842 is the process id. replace with process id you get)

p1 = subprocess.Popen(["ps", "-ux"], stdout=subprocess.PIPE)
p2 = subprocess.Popen(["grep", "1842"], stdin=p1.stdout, stdout=subprocess.PIPE)
p1.stdout.close()  # Allow p1 to receive a SIGPIPE if p2 exits.
output = p2.communicate()[0]
print output
<END>
<QUE>
How can I remove duplicate words in a string with Python?
<ANS>
def unique_list(l):
    ulist = []
    [ulist.append(x) for x in l if x not in ulist]
    return ulist

a="calvin klein design dress calvin klein"
a=' '.join(unique_list(a.split()))
<END>
<QUE>
How to remove value from GAE NDB Property (type BlobKeyProperty)
<ANS>
result_record_list[0].pic = None
result_record_list[0].put()
<END>
<QUE>
Python matplotlib plotting an array with different colors
<ANS>
pyplot.errorbar()
<END>
<QUE>
right way to run some code with timeout in Python
<ANS>
9**(9**9)
<END>
<QUE>
Python library to convert jpgs to multipage tiffs
<ANS>
import FreeImagePy as FIPY
F = FIPY.Image()
F.new(multiBitmap = "multipage.tiff")
F.appendPage("test1.jpg")
F.appendPage("test2.jpg")
F.deletePage(0)
F.close()
<END>
<QUE>
Rewrite a URL with Flask
<ANS>
from flask import Flask,redirect
<END>
<QUE>
How to remove Item from QListWidget
<ANS>
def removeSel(self):
    listItems=self.listA.selectedItems()
    if not listItems: return        
    for item in listItems:
       self.listA.takeItem(self.listA.row(item))
<END>
<QUE>
Add new column in pandas dataframe object with column math
<ANS>
grouped = df.groupby([df.index.year,df.index.day])
df['sum'] = grouped.apply(lambda x: x.Open + x.Close)
<END>
<QUE>
In python, how to get the path to all the files in a directory, including files in subdirectories, but excluding path to subdirectories
<ANS>
for dir, subdir, files in os.walk(path):
    for file in files:
        print os.path.join(dir, file)
<END>
<QUE>
How to print the variable user input in python 3?
<ANS>
eval(CMD[17:-1])
<END>
<QUE>
I'd like to get a list of the top posts of all time in a subreddit using praw
<ANS>
get_top_from_all()
<END>
<QUE>
Django render dictionary object in template through ajax get
<ANS>
import json
from django.forms.models import model_to_dict

@render_to ('companion/companionSub.html')
def topic(request, id):   

    ids = Catagories.objects.get(catagory=id)

    topics = [model_to_dict(topic) for topic in Topics.objects.filter(fabCatagory_id=ids.id)]
    topic_list = json.dumps({'topics':topics})

    return HttpResponse(topics_list)
<END>
<QUE>
Setting the working directory of IPython Shell to that of the python file being executed in Canopy
<ANS>
# -*- coding: utf-8 -*-

def run():
    code_task = get_active_task()

    from os.path import dirname

    def change_directory():
        code_editor = code_task.active_editor
        if not code_editor:
            return
        python_pane = code_task.python_pane
        active_dir = dirname(code_editor.obj.path)
        python_pane.execute_command(u'cd %s
' % active_dir)

    code_task.on_trait_change(change_directory, 'active_editor')
<END>
<QUE>
How do I get rid of these artifacts (matplotlib with LaTeX)
<ANS>
rc('font',**{'family':'serif','serif':['Times']})
<END>
<QUE>
Saving each line I read from a file as a different file
<ANS>
with open('/Users/d-sdf/test_erick/test/essays.csv') as csvfile:
    for i, line in enumerate(csvfile):
        with open("essay{}.txt".format(str(i+1)), "w") as txtfile:
            txtfile.write(line)
<END>
<QUE>
Python: Looping a certain amount of time in order different process
<ANS>
import Tkinter
import tkFileDialog
import tkSimpleDialog
from tkFileDialog import askopenfilename
import os

# Set up GUI


def main():

    root = Tkinter.Tk(); 
    root.withdraw()

    # Prompt for user info
    File_number = tkSimpleDialog.askinteger("File number", 
                                            "How many files do you want to compare?")

    if not File_number:
        return

    user_fiels = []


    max_file_no = int(File_number)
    current_file = 1;

    while(current_file <= max_file_no):

        fileloc = tkFileDialog.askopenfilename(parent=root, title='Choose file {}'.format(current_file))

        if not fileloc:
            continue

        fileloc_name_clean = os.path.splitext(fileloc)[0]
        fileloc_name = os.path.basename(fileloc_name_clean)

        user_fiels.append([fileloc, fileloc_name_clean, fileloc_name])

        current_file += 1

        #print(fileloc_name_clean, fileloc_name)

    print(user_fiels) 

main()
<END>
<QUE>
Determine behavior based on subclass
<ANS>
input_implementations = { 'xls':xls, 'xml':xml, 'csv':csv }

def input_factory(filename):
    ext = os.path.splitext(filename)[1][1:].lower()
    impl = input_implementations.get(ext, None)
    if impl is None:
        print 'rain fire from the skies'
    else:
        return impl(filename)
<END>
<QUE>
Regex that would give certain words python
<ANS>
from re import findall

print findall(r'\w[\w.]*\w', 'WARC-_Target-URI: http://www.allchocolate.com/health/basics/')
<END>
<QUE>
Remove XML node if childnode's childnode contains specific value
<ANS>
from xml.dom import minidom
import xml.etree.ElementTree as ET

tree = ET.parse('/tmp/input.xml').getroot()
namespaces = {'gml': 'http://www.opengis.net/gml', 'ogr':'http://ogr.maptools.org/'}
for child in tree.findall('gml:featureMember', namespaces=namespaces):
    if len(child.find('ogr:TZwards', namespaces=namespaces)):
        name = child.find('ogr:TZwards', namespaces=namespaces).find('ogr:Region_Nam', namespaces=namespaces).text
        if name != 'TARGET':
            tree.remove(child)

out = ET.ElementTree(tree)
out.write("/tmp/out.xml")
<END>
<QUE>
How to write and read Python var from file
<ANS>
#!/usr/bin/env python

#x=1.123
#y=2.123

pos = [1.123, 2.123]

with open('vars.txt','w') as f:
    f.write("%s %s" % (pos[0], pos[1]))
    #f.write("%s %s" % (x,y))

with open ('vars.txt', 'r') as myfile:
    position=myfile.read().split()

position = map(float, position)
# position = [1.123, 2.123]
<END>
<QUE>
Python Split Array use For Loop to Mean every split and put it back together
<ANS>
import numpy as np

Rxx = np.arange(100)
epochs = 10
Rxx_mean = []

epoch_Rxx = np.array_split(Rxx,epochs)
for i in range(0,epochs):
  Rxx_mean.append(np.mean(epoch_Rxx[i]))

print Rxx_mean
<END>
<QUE>
Python LDAP converting objectGUID to hex string and back
<ANS>
def guid2hexstring(val):
    s = ['\\%02X' % ord(x) for x in val]
    return ''.join(s)

guid = ldapobject.get('objectGUID', [''])[0] # 'Igr\xafb\x19ME\xb2P9c\xfb\xa0\xe2w'
guid2string(guid).replace("\\", "") # '496772AF62194D45B2503963FBA0E277'

#and back to a value you can use in an ldap search filter

guid = ''.join(['\\%s' % guid[i:i+2] for i in range(0, len(guid), 2)]) # '\\49\\67\\72\\AF\\62\\19\\4D\\45\\B2\\50\\39\\63\\FB\\A0\\E2\\77'

searchfilter = ('(objectGUID=%s)' % guid)
<END>
<QUE>
Using odo to migrate data to SQL
<ANS>
dshape = discover(resource('report_2015.csv'))
t = odo('report_2015.csv', 'sqlite:///report.db::report', dshape=dshape)
<END>
<QUE>
plotting in loop, only getting last plot
<ANS>
plt.savefig(str(new_counter)+'foo.eps')
<END>
<QUE>
modify gzipped file with python
<ANS>
with tempfile.TemporaryFile() as tmp:
    with gzip.open(fname, 'rb') as f:
        shutil.copyfileobj(f, tmp)
        tmp.seek(0)
<END>
<QUE>
SRGB-aware image resize in Pillow
<ANS>
from PIL import Image
import numpy as np

def SRGBResize(im, size, filter):
    # Convert to numpy array of float
    arr = np.array(im, dtype=np.float32) / 255.0
    # Convert sRGB -> linear
    arr = np.where(arr <= 0.04045, arr/12.92, ((arr+0.055)/1.055)**2.4)
    # Resize using PIL
    arrOut = np.zeros((size[1], size[0], arr.shape[2]))
    for i in range(arr.shape[2]):
        chan = Image.fromarray(arr[:,:,i])
        chan = chan.resize(size, filter)
        arrOut[:,:,i] = np.array(chan)
    # Convert linear -> sRGB
    arrOut = np.where(arrOut <= 0.0031308, 12.92*arrOut, 1.055*arrOut**(1.0/2.4) - 0.055)
    # Convert to 8-bit
    arrOut = np.uint8(np.rint(arrOut * 255.0))
    # Convert back to PIL
    return Image.fromarray(arrOut)
<END>
<QUE>
SQLAlchemy: How can I define a relationship as the union of two other relationships?
<ANS>
friendship_union = select([
    FacebookFriendship.dater_id,
    cast(FacebookFriendship.fb_uid_friend, Integer()).label(
        'fb_uid_friend')
]).union(
    select([
        cast(FacebookFriendship.fb_uid_friend, Integer()),
        FacebookFriendship.dater_id]
    )
).alias()

cls.all_fb_friendships = relationship(
    UserSocialAuth,
    secondary=friendship_union,
    primaryjoin=UserSocialAuth.user_id == friendship_union.c.dater_id,
    secondaryjoin=and_(
        UserSocialAuth.provider == 'facebook',
        cast(UserSocialAuth.uid, Integer() ) == friendship_union.c.fb_uid_friend,
    ),
    viewonly=True
)
<END>
<QUE>
How to make a parallelogram on python
<ANS>
def print_rect(l, w, c):
    for a in range(w):
        print(a*" ", l*c)
<END>
<QUE>
Python: detect strings that share words
<ANS>
from collections import defaultdict

terms = ['Electronic rock', 'Alternative rock', 'Indie pop']
d = defaultdict(list)
for term in terms:
    for word in term.split():
        d[word].append(term)

for k,v in d.iteritems():
    if len(v) > 1:
        print k,v
<END>
<QUE>
How to assign multiple values to multiple keys with a single command
<ANS>
Info["City_Name"].update({"Population": 20000, "Population_Density": 200})
<END>
<QUE>
Python - Only last line is saved to file
<ANS>
f = open("output.txt", "a")
<END>
<QUE>
How to extract a href link from anchor tags in beautiful soup
<ANS>
import urllib2
data = urllib2.urlopen("some_url")
html_data = data.read()
soup = BeautifulSoup(html_data)

for a in soup.findAll('a',href=True):
    print a['href']
<END>
<QUE>
how to pass argument to datetime.timedelta
<ANS>
def check_time(until_when, def_time, how_long):
    arg_dict = {def_time:how_long}
    dt = datetime.timedelta(**arg_dict)
    if until_when- datetime.datetime.now() > dt:
        input('Task has been finished.
Press any key to quit
')
        exit()
<END>
<QUE>
Input a filename as a string and return a dictionary
<ANS>
def make_happiness_table(filename="word-happiness.csv"):
   ''' make_happiness_table: string -> dict
      creates a dictionary of happiness scores from the given file '''

   return {}
<END>
<QUE>
Histogram of times from a CSV via Pandas
<ANS>
times = race1.index.to_series()
today = pandas.Timestamp('00:00:00')
timedelta = times - today
times_ordinal = timedelta.dt.seconds/(24*60*60) + today.toordinal()
ax = times_ordinal.hist()
ax.xaxis_date()
plt.gcf().autofmt_xdate()
plt.ylabel('Number of finishers')
<END>
<QUE>
How can I talk to UniProt over HTTP in Python?
<ANS>
import urllib, urllib2
import time
import sys

query = ' '.join(sys.argv)   

# encode params as a list of 2-tuples
params = ( ('from','ACC'), ('to', 'P_REFSEQ_AC'), ('format','tab'), ('query', query))
# url encode them
data = urllib.urlencode(params)    
url = 'http://www.uniprot.org/mapping/'

# fetch the data
try:
    foo = urllib2.urlopen(url, data)
except urllib2.HttpError, e:
    if e.code == 503:
        # blah blah get the value of the header...
        wait_time = int(e.hdrs.get('Retry-after', 0))
        print 'Sleeping %i seconds...' % (wait_time,)
        time.sleep(wait_time)
        foo = urllib2.urlopen(url, data)


# foo is a file-like object, do with it what you will.
foo.read()
<END>
<QUE>
How to separate Monday-Friday from Saturday and Sunday Pandas?
<ANS>
df['Monday-Friday'] = df['days'].isin(range(5)).astype(int)
df['Saturday'] = (df['days'] == 5).astype(int)
df['Sunday'] = (df['days'] == 6).astype(int)
<END>
<QUE>
Comma separated Matrix from txt files - continued
<ANS>
import os

outFile = 'C:/CompanyFiles/Matrix.txt'
folder = 'C:/CompanyFiles'

with open(outFile, 'w') as wfp:
    for f in os.listdir(inFolder):
        tmp = [line.rstrip() for line in open(os.path.join(folder, f), 'r')]
        arr = tmp[0].split('-')
        arr = [arr[0]] + arr[1].split('_')
        arr += [t.split(':')[1].strip() for t in tmp[1:]]
        wfp.write(','.join(["'" + e + "'" for e in arr]) + '
')
<END>
<QUE>
remove silence at the beginning and at the end of wave files with PyDub
<ANS>
from pydub import AudioSegment

def detect_leading_silence(sound, silence_threshold=-50.0, chunk_size=10):
    '''
    sound is a pydub.AudioSegment
    silence_threshold in dB
    chunk_size in ms

    iterate over chunks until you find the first one with sound
    '''
    trim_ms = 0 # ms
    while sound[trim_ms:trim_ms+chunk_size].dBFS < silence_threshold:
        trim_ms += chunk_size

    return trim_ms

sound = AudioSegment.from_file("/path/to/file.wav", format="wav")

start_trim = detect_leading_silence(sound)
end_trim = detect_leading_silence(sound.reverse())

duration = len(sound)    
trimmed_sound = sound[start_trim:duration-end_trim]
<END>
<QUE>
Modifying a variable with onvalue and offvalue
<ANS>
boxticks = IntVar().get()
<END>
<QUE>
Passing an attribute from method to another method python
<ANS>
def gather_path(self):
    path_object = PathsOfDomain.objects.filter(FKtoTld=3)
<END>
<QUE>
How to get only one specific line from subprocess output
<ANS>
import subprocess
p = subprocess.Popen(["some", "command"], stdout=subprocess.PIPE, stderr=subprocess.PIPE)
stdout, stderr = p.communicate()
stdout=stdout.split("
")
for line in stdout:
    if line.startswith("This is the line:"):
        print line
<END>
<QUE>
How to declare this column with SQLAlchemy
<ANS>
ratio = Column(Numeric(5, 3), nullable=True)
<END>
<QUE>
Deleting elements in Python list using user input
<ANS>
name=input("Enter your name: ")
message=input("Enter your message:")
namefinal = ''
for letter  in name:   
   if letter not in message:
       namefinal += letter
print namefinal
<END>
<QUE>
wxPython print string with formatting
<ANS>
def GetHtmlText(self,text):
    html_text = '<h3>Data Results:</h3><p><table border="2">'
    html_text += "<tr><td>Domain:</td><td>Mail Server:</td><td>TLS:</td><td># of Employees:</td><td>Verified</td></tr>"
    for row in root.ptglobal.to_csv():
        html_text += "<tr>"
        for x in range(len(row)):
            html_text += "<td>"+str(row[x])+"</td>"
        html_text += "</tr>"
    return html_text + "</table></p>"
<END>
<QUE>
Python CGIHTTPServer Default Directories
<ANS>
handler.cgi_directories = ["/"]
<END>
<QUE>
Read and write json files to server with flask
<ANS>
stored_json = token.readlines()
token.close()
return stored_json
<END>
<QUE>
dropdown menu with sub menu in pyqt4
<ANS>
from PyQt4 import QtGui

app = QtGui.QApplication([])

menu = QtGui.QMenu()

sub_menu = QtGui.QMenu("Sub Menu")

for i in ["a", "b", "c"]: #or your dict
    sub_menu.addAction(i) #it is just a regular QMenu

menu.addMenu(sub_menu)

menu.show()

app.exec_()
<END>
<QUE>
Open URL from Python 2.7
<ANS>
webbrowser.open('https://www.google.com') # open a passed URL string using default browser
<END>
<QUE>
How can I get the values from two list a time
<ANS>
length = len(filelist)
for i in range(length):
   self.importFiles(filelist[i],timestamps[i])
<END>
<QUE>
Finding edge from 2d points Python
<ANS>
def mask_z_level(xi, yi, msk_img, x0=-14.3887, y0=5.564):
    im = plt.imread(msk_img)
    msk = np.zeros(xi.shape, dtype='bool')

    pxmm = np.zeros((3, 2))
    p = 0

    for row in range(im.shape[0]):
        for col in range(im.shape[1]):
            if tuple(im[row, col]) == (1., 0., 0.):
                pxmm[p] = (row, col)
                p += 1

    pxx = pxmm[1, 1] / 5.5
    pxy = pxmm[2, 0] / 6.5
    print(pxx, pxy)

    for j in range(xi.shape[1]):
        for i in range(xi.shape[0]):
            x, y = xi[i, j], yi[i, j]
            dx, dy = x - x0, y - y0
            dpx = np.round(dx * pxx).astype('int')
            dpy = -np.round(dy * pxy).astype('int')

            if tuple(im[dpy, dpx]) == (1., 1., 1.):
                msk[i, j] = True

    return msk
<END>
<QUE>
Python remove last line of a file
<ANS>
lines = file.readlines()
lines = lines[:-1]
<END>
<QUE>
How to print more lines?
<ANS>
file = open("save_file.txt")

for each_line in file:
    s = {}
    (s['name'], s['race'], s['class'], s['FOR'], s['INT'], s['DES']) = each_line.split(";")
    print(s['name'])
    print(s['race'])
    print(s['class'])
    print(s['FOR'])
    print(s['INT'])
    print(s['DES'])
    print(s['name'])
file.close()
<END>
<QUE>
How do I set the x-axis (xaxis) on a Bar Graph in Spotfire with IronPython?
<ANS>
from Spotfire.Dxp.Application.Visuals import VisualContent

#"visual" is the name of the parameter found in the "Script Parameter" dialog below the editor which points to the visualization I want to change.
vc = visual.As[VisualContent]()
exp="["+Document.Properties["DocPropertyNameHere"]+"]"
vc.YAxis.Expression =exp
<END>
<QUE>
How to add a CaptchaField() in a Crispy Form in Django?
<ANS>
class SignupForm(authtoolsforms.UserCreationForm):
    captcha = CaptchaField()

    def __init__(self, *args, **kwargs):
        super(SignupForm, self).__init__(*args, **kwargs)
        self.helper = FormHelper()
        self.fields["email"].widget.input_type = "email"

        self.helper.layout = Layout(
            Field('email', placeholder="Enter Email", autofocus=""),
            Field('name', placeholder="Enter Full Name"),
            Field('password1', placeholder="Enter Password"),
            Field('password2', placeholder="Re-enter Password"),
            Field('gender', placeholder="Gender"),
            Field('captcha ', placeholder="Enter captcha"),
            Submit('sign_up', 'Sign up', css_class="btn-warning"),
            )
<END>
<QUE>
Python - get last item in a list, using a file
<ANS>
lastItems = [int(i[-1]) for i in yourList[2:]]
<END>
<QUE>
Running a command line from python and piping arguments from memory
<ANS>
import subprocess
out, err = subprocess.Popen(["pdftotext", "-", "-"], stdout=subprocess.PIPE).communicate(pdf_data)
<END>
<QUE>
How to to do a index.php check for each IP in text file
<ANS>
import httplib
from socket import error

with open("in.txt") as f, open("out.txt","a") as out: # change to w if you want to overwrite each time
    for line in f:
        try:
            conn = httplib.HTTPConnection(line.rstrip())
            conn.request("HEAD", "/index.php")
            r1 = conn.getresponse()
            print(r1.reason)
            if r1.reason == "OK":
                out.write(line)
        except error as e:
            print(e)
<END>
<QUE>
How to extend SimpleCV with GUI
<ANS>
from SimpleCV import *
from imagegtk import DisplayImage

im = Image("Lenna")
image = im.toRGB.getBitmap()

d = DisplayImage(title="iamgegtk")

label = gtk.Label("Lenna")
d.box.pack_start(label,False,False,0)

but1 = gtk.Button("Quit")
but1.connect("clicked",d.leave_app)
d.box.pack_end(but1,False,False,2)

d.show(image)
<END>
<QUE>
How to print raw html string using urllib3???
<ANS>
print (r.data.decode('utf-8'))
<END>
<QUE>
Google app engine gql query two properties with same string
<ANS>
class Game(db.Model):
  players = db.ListProperty()

game1.players = ['tom', 'bob']
game2.players = ['joe', 'tom']

# this query will match all games where tom is one of the players
query = Game.all().filter('players =', 'tom')
<END>
<QUE>
Change browser proxy settings from Python in Ubintu?
<ANS>
import os

os.system('export http://<your proxy>:<your port>/')
os.system('export https://<your proxy>:<your port>/')
<END>
<QUE>
Using regex to grab values from a multi-line string in python
<ANS>
import re

regex = '''<item>
<obj1>grab1</obj1>
<obj2>text<obj2>
...
</item>'''

pattern = re.compile(regex)

with open('data.dat') as searchfile:
    filetext = searchfile.read()
    text = pattern.findall(filetext)
    print text
<END>
<QUE>
How to open html file?
<ANS>
import codecs
f=codecs.open("test.html", 'r')
print f.read()
<END>
<QUE>
Python: Convert email address to HTML link
<ANS>
import re
import xml.sax.saxutils

def anchor_from_email_address_match(match):
    address = match.group(0)
    return "<a href=%s>%s</a>" % (
        xml.sax.saxutils.quoteattr("mailto:" + address),
        xml.sax.saxutils.escape(address))

def replace_email_addresses_with_anchors(text):
    return re.sub("\w+@(?:\w|\.)+", anchor_from_email_address_match, text)

print replace_email_addresses_with_anchors(
    "An address: bob@example.com, and another: joe@example.com")
<END>
<QUE>
In Python, why won't something print without a newline?
<ANS>
sys.stdout.flush()
<END>
<QUE>
Python programing - exiting the loop and displaying score
<ANS>
userWantToContinue = True
while aqpool[0] and userWantToContinue:
    shuffle (aqpool)
    numRight = 0

    for question, rightAnswer in aqpool:
        answer = raw_input(question + " ")

        if answer == rightAnswer:
            print ("R?TT SVAR!")

            numRight = numRight + 1

        else:
            print("FEL SVAR! R?tta svaret ?r: " + rightAnswer + "
")


        print("Vill du f?rs?tta spela? (ja eller nej)")
        userWantToContinue = str(raw_input()) not in ('n', 'nej')
        if not userWantToContinue:
            break

    total = numRight / len(aqpool) * 100
    print ("Du hade %s%% r?tt!" % total)
<END>
<QUE>
Python - getting multiple URLs
<ANS>
from gevent import monkey
monkey.patch_all()

import urllib2
from gevent.pool import Pool


def download(url):
    return urllib2.urlopen(url).read()


if __name__ == '__main__':
    urls = ['http://httpbin.org/get'] * 100
    pool = Pool(20)
    print pool.map(download, urls)
<END>
<QUE>
Is there a way to automatically estimate the best degree of freedoms for a t-distribution using Scipy?
<ANS>
from scipy import stats
import numpy as np
np.random.seed(2015)

x = [ stats.t.rvs(9) for i in range(250)]
stats.t.fit(x)
<END>
<QUE>
Removing specific html tags with python
<ANS>
import re
s = '<table style="width: 100%%" bgcolor="%s"><tr><td><font color="%s"><b>1.23</b></td></tr></table>'
result = float(re.sub(r"<.?table[^>]*>|<.?t[rd]>|<font[^>]+>|<.?b>", "", s))
<END>
<QUE>
Remove brackets from list in Python
<ANS>
my_list = [l[0] for l in list]
<END>
<QUE>
How can I dynamically get the set of classes from the current python module?
<ANS>
import sys
getattr(sys.modules[__name__], 'A')
<END>
<QUE>
wxPython - Drawing an unfilled rectangle with the DC
<ANS>
import wx

class MyPanel(wx.Panel):
    """ class MyPanel creates a panel to draw on, inherits wx.Panel """
    def __init__(self, parent, id):
        # create a panel
        wx.Panel.__init__(self, parent, id)
        self.SetBackgroundColour("white")
        self.Bind(wx.EVT_PAINT, self.OnPaint)

    def OnPaint(self, evt):
        """set up the device context (DC) for painting"""
        self.dc = wx.PaintDC(self)
        self.dc.BeginDrawing()
        self.dc.SetPen(wx.Pen("grey",style=wx.TRANSPARENT))
        self.dc.SetBrush(wx.Brush("grey", wx.SOLID))
        # set x, y, w, h for rectangle
        self.dc.DrawRectangle(250,250,50, 50)
        self.dc.EndDrawing()
        del self.dc

app = wx.PySimpleApp()
# create a window/frame, no parent, -1 is default ID
frame = wx.Frame(None, -1, "Drawing A Rectangle...", size = (500, 500))
# call the derived class, -1 is default ID
MyPanel(frame,-1)
# show the frame
frame.Show(True)
# start the event loop
app.MainLoop()
<END>
<QUE>
putting glade interface in python
<ANS>
#!/usr/bin/env python
# -*- coding: utf-8 -*-

import pygtk
pygtk.require("2.0")
import gtk
import gtk.glade

class HellowWorldGTK:

    def __init__(self):
        self.gladefile = "helloworld.glade" 
        self.glade = gtk.Builder()
        self.glade.add_from_file(self.gladefile)
        self.glade.connect_signals(self)
        self.glade.get_object("MainWindow").show_all()

    def on_MainWindow_delete_event(self, widget, event):
        gtk.main_quit()

if __name__ == "__main__":
    try:
        a = HellowWorldGTK()
        gtk.main()
    except KeyboardInterrupt:
        pass
<END>
<QUE>
How do you map a keyboard key in Python 2.7?
<ANS>
import Tkinter as tk

def key_press(event):
    print event.char
    return event.char
    # Or whatever processing you might want.

tk_app = tk.Tk()
tk_app.bind('<KeyPress>', key_press)
tk_app.mainloop()
<END>
<QUE>
Insert python binary string object in MySQL blob
<ANS>
query = '''INSERT INTO cheese (data) VALUES (%s)'''
cur.execute(query, (bd,))
<END>
<QUE>
No output from python script
<ANS>
def dfunc(ipees, portees):
    for (ip, port) in zip(ipees, portees):
        try:
            s = socket.create_connection((ip, port), timeout=10)
            s.send('GET / HTTP/1.0\r
\r
')
            buf = s.recv(1000)
            print buf
        except socket.error:
            print 'Could not connect to ({0}, {1})'.format(ip, port)
<END>
<QUE>
Exporting data from python to glade gui
<ANS>
self.builder.get_object("boxWelcome").set_text("Welcome %s!" % (username.get_text()))
<END>
<QUE>
Setting the value of an <input> dropdown in Selenium with Python
<ANS>
driver.find_element_by_xpath("//input[@placeholder='Select month']").click()
driver.find_element_by_xpath("//*[contains(text(), '09')]").click()
<END>
<QUE>
wxPython, Disabling buttons?
<ANS>
def change(self, event):
    myobject = event.GetEventObject()
    myobject.Disable()
<END>
<QUE>
Setting colour of nodes in pyGraphViz
<ANS>
import pygraphviz as pgv
from PIL import Image

d={'1': {'2': None}, '2': {'1': None, '3': None}, '3': {'2': None}}
A=pgv.AGraph(d)
A.node_attr['style']='filled'
n = A.get_node('1')
n.attr['fillcolor']="#CCCCFF"
n.attr['label'] = 'MY LOVELY LABEL'
A.layout() # default to neato
A.layout(prog='dot') # use dot
A.draw('file.png')
img = Image.open('file.png')
img.show()
<END>
<QUE>
Finding the sum of a nested list without using itertools
<ANS>
sum(sum(b) for b in a)
<END>
<QUE>
plotting a new graph after closing a first one in matplotlib
<ANS>
def refresh(self):
    if (self.nbfig > 0): #meaning the c++ app already plotted a figure
        plt.ioff()
        plt.close()
<END>
<QUE>
skip every nth value when looping over a range - python
<ANS>
for i in range(0,11):
    if i % 3 == 0 and i != 0:
        continue
    print(i)


1
2
4
5
7
8
10
<END>
<QUE>
Join strings skips first line
<ANS>
with open(keywords_file, 'r') as f:
     keywords = ",".join(line.strip() for line in f)
<END>
<QUE>
sqlalchemy: distinct only on one column
<ANS>
session.query(func.max(Table.title), Table.slug).group_by(Table.slug).all()
<END>
<QUE>
base64 encode a zip file in Python
<ANS>
import base64

with open('input.zip', 'rb') as fin, open('output.zip.b64', 'w') as fout:
    base64.encode(fin, fout)
<END>
<QUE>
Extracting an element and converting it to datetime
<ANS>
print datetime.strptime(mylist[4], '%Y%m')
<END>
<QUE>
Python with matplotlib - reusing drawing functions
<ANS>
import numpy as np
import matplotlib.pyplot as plt

def myhist(ax, color):
    ax.hist(np.log(np.arange(1, 10, .1)), facecolor=color)

def say_something(ax, words):
    t = ax.text(.2, 20., words)
    make_a_dim_yellow_bbox(t)

def make_a_dim_yellow_bbox(txt):
    txt.set_bbox(dict(facecolor='yellow', alpha=.2))

fig = plt.figure()
ax0 = fig.add_subplot(1,2,1)
ax1 = fig.add_subplot(1,2,2)

myhist(ax0, 'blue')
myhist(ax1, 'green')

say_something(ax0, 'this is the blue plot')
say_something(ax1, 'this is the green plot')

plt.show()
<END>
<QUE>
start a background process with nohup using fabric
<ANS>
def runbg(cmd, sockname="dtach"):
    return run('dtach -n `mktemp -u /tmp/%s.XXXX` %s'  % (sockname,cmd))
<END>
<QUE>
Python del if in dictionary in one line
<ANS>
myDict.pop(key, None)
<END>
<QUE>
python regular expression repeated characters
<ANS>
r'T.{18}(?:TT|AA|CC|GG)'
<END>
<QUE>
Elegant and Pythonic Approach to Changing List of Objects
<ANS>
import collections

class Coffee():
    def __init__(self, name='', color='', taste=''):
        self.name = name
        self.color = color
        self.taste = taste

    def __repr__(self):
        return '{0} {1} {2}'.format(self.name, self.color, self.taste)

prompt = "Enter name,color,taste or ctrl-d when done: "
coffees = collections.defaultdict(Coffee)

while True:
    try:
        name, color, taste = input(prompt).split(',')
        coffees[name].name = name
        coffees[name].color = color
        coffees[name].taste = taste
    except ValueError:
        print("Try again!")
    except EOFError:
        print()
        break


print(coffees)
<END>
<QUE>
Parse table <td> from remote HTML with BS4
<ANS>
import urllib.request
from bs4 import BeautifulSoup

url_to_parse = 'http://www.myfxbook.com/members/fxgrowthbot/forex-growth-bot/71611'
response = urllib.request.urlopen(url_to_parse)
html = response.read()
soup = BeautifulSoup(html)
a = soup.find(id='history').find_all('td')

print(len(a))  # 300
<END>
<QUE>
How to open Interactive Brokers' TWS from within Python
<ANS>
import random
import urllib
import urllib2

url = 'https://www.interactivebrokers.com/java/classes/latest.jnlp?counter=' + str(random.random())

def download_file_1(url):
    urllib.urlretrieve(url + ".jnlp", "latest.jnlp")

def download_file_2(url):
    jnlpfile = urllib2.urlopen(url + ".jnlp")
    output = open('test.jnlp','wb')
    output.write(jnlpfile.read())
    output.close()
<END>
<QUE>
NameError when searching for substring in Python list
<ANS>
for s in mylist:
    if 'item' in s:
       print(s)
<END>
<QUE>
Returning a sliced list
<ANS>
return list_a[:-1] + list_b[1:]
<END>
<QUE>
How to use a single variable instead of passing multiple Arguments in Python
<ANS>
Arguments = 1, 2, 3
SumOf(*Arguments)
<END>
<QUE>
Writing a telnet client
<ANS>
#!/usr/bin/env python
import getpass
import sys
import telnetlib

HOST = "localhost"
user = raw_input("Enter your remote account: ")
password = getpass.getpass()

tn = telnetlib.Telnet(HOST)

tn.read_until("login: ")
tn.write(user + "
")
if password:
    tn.read_until("Password: ")
    tn.write(password + "
")

tn.write("ls
")
tn.write("exit
")

print tn.read_all()
<END>
<QUE>
Python How To Square Sin For The Height Equation
<ANS>
v = float(input('start vlocity m/s: '))
a = float(input('start angle : '))
p = v*math.sin(math.radians(a))
g = 9.81
equ = p*p/(2*g)  
print(str(equ) + ' M')
<END>
<QUE>
How do I load a folder of images in automatically?
<ANS>
import os
import pygame

images = {str(i)[:-4]:pygame.image.load("images/"+i) for i in os.listdir("images") if os.path.isfile("images/"+i)}
<END>
<QUE>
yield python add previous function result
<ANS>
def my_function(f, value):
  yield value
  while True:
    value = f(value)
    yield value
<END>
<QUE>
Split array at value in numpy
<ANS>
B= np.split(A, np.where(A[:, 0]== 0.)[0][1:])
<END>
<QUE>
How to reference multi-word dictionary key in mako?
<ANS>
from mako.template import Template

mydata = {'foo': 'bar', 'better foo': 'beach bar'}
working_template = Template("Let's go to the ${foo}")
fail_template = Template("Let's go to the ${mydata['better foo']}")

print working_template.render(**mydata)
print fail_template.render(mydata=mydata)
<END>
<QUE>
how to create docx files with python
<ANS>
from docx import Document

document = Document()
r = 2 # Number of rows you want
c = 2 # Number of collumns you want
table = document.add_table(rows=r, cols=c)
table.style = 'LightShading-Accent1' # set your style, look at the help documentation for more help
for y in range(r):
    for x in range(c):
        cell.text = 'text goes here'
document.save('demo.docx') # Save document
<END>
<QUE>
How Can I Fill These Squares in Turtle - Python
<ANS>
turtle.begin_fill() # Begin the fill process.
turtle.down() # "Pen" down?
for i in range(squares):  # For each edge of the shape
    turtle.forward(40) # Move forward 40 units
    turtle.left(angle) # Turn ready for the next edge
turtle.up() # Pen up
turtle.end_fill() # End fill.
<END>
<QUE>
In need of a python script to upload a file with IP address every few minutes
<ANS>
host, aliaslist, lan_ip = socket.gethostbyname_ex(socket.gethostname())
print host
print aliaslist
print lan_ip[0]
<END>
<QUE>
wxPython: Making something expand
<ANS>
sizer = wx.BoxSizer(wx.VERTICAL)
sizer.Add(self.canvas, 1, wx.EXPAND)
self.SetSizer(sizer)
<END>
<QUE>
pie plot in matplotlib in Python
<ANS>
import matplotlib.pyplot as plt

def read_data(f, num_lines=1, split_on=':'):
    lines = (f.next() for i in range(num_lines))
    pieces = (line.split(split_on) for line in lines)
    data = ((a,float(b)) for a,b in pieces)
    return zip(*data)

with open("xx.txt") as inf:
    amino_names, amino_values = read_data(inf, 4)
    ph_names, ph_values = read_data(inf, 2)

fig = plt.figure(figsize=(2,1))
p1 = fig.add_subplot(1,2,1)
p1.pie(amino_values, labels=amino_names)
p2 = fig.add_subplot(1,2,2)
p2.pie(ph_values, labels=ph_names)
fig.show()
<END>
<QUE>
Filter data from models based on some condition
<ANS>
included_clients = clientData.objects.values_list('client', flat=True)

excluded_clients = Client.objects.exclude(id__in=included_clients)
<END>
<QUE>
How to tell if rosetta is installed? --MacPython
<ANS>
if os.system("/usr/libexec/oah/translate > /dev/null 2>&1"):
  print "Not installed"
else:
  print "Installed"
<END>
<QUE>
Creating a flat list from return values of a recursive python function
<ANS>
def cmpdirs(dir_cmp):
    # make copies of the comparison results
    left   = dir_cmp.left_only[:]
    right  = dir_cmp.righ_only[:]
    common = dir_cmp.common_files[:]

    for sub_dcmp in dir_cmp.subdirs.values():
        sub_left, sub_right, sub_common = cmpdirs(sub_dcmp)

        # join the childrens results
        left   += sub_left
        right  += sub_right
        common += sub_common

    # return the merged results
    return (left, right, common)

if __name__ == '__main__':
    dcmp   = dircmp('dir1', 'dir2')
    result = cmpdirs(dcmp)
<END>
<QUE>
SQL Alchemy Building an ORM
<ANS>
from sqlalchemy import create_engine, Column, Integer, String, DateTime, Float, UnicodeText, VARCHAR, NVARCHAR, TEXT, DATE, distinct, ForeignKey, Table
import sqlalchemy
from sqlalchemy.orm import sessionmaker, relationship
from sqlalchemy.ext.declarative import declarative_base
engine = create_engine("sqlite:///./P_case.db", 
                       echo=False)

Session = sessionmaker( bind=engine )
session = Session()

Base = declarative_base()
metadata = Base.metadata #########################
class Bus(Base):

    __tablename__ = "bus_info"
    id = Column( Integer, primary_key = True )

    ## Bus
    number = Column( Integer)

metadata.create_all( engine )    ######################
<END>
<QUE>
How to copy a file on remote machine using PySTAF
<ANS>
from PySTAF import * 

filename = 'C:\\Users\\NET\\2.png'
destination = '192.168.1.139'
copy_cmd =  "COPY FILE {} TODIRECTORY c:\Temp TOMACHINE {}".format(STAFWrapData(filename),STAFWrapData(destination))
result = handle.submit("local", "FS",copy_cmd)
print result.result
assert result.rc == STAFResult.Ok
<END>
<QUE>
Datetime comparison behavior in python
<ANS>
from datetime import datetime
from datetime import timedelta

now = datetime.now()
time_changed_state = now - timedelta(hours=2)
time_delay = 0
time_arrival = time_changed_state + timedelta(minutes=time_delay)

if now < time_arrival:
   print 'something'
elif now >= time_arrival:
   print 'something different'
<END>
<QUE>
Django getting related items in self-referential ManyToManyField in view
<ANS>
# views.py

part_list = product.buildpart.all().order_by('family__type')
<END>
<QUE>
Count number of white pixels along a line in OpenCV
<ANS>
def lineWhiteness(line, image):
    (pt1, pt2) = lineParams(line, len(image))
    count = 0
    li = cv.InitLineIterator(cv.fromarray(image), pt1, pt2)
    for (r, g, b) in li:
        if (r or g or b):
            count += 1
    return count
<END>
<QUE>
Python Requests to access flask route with url variable
<ANS>
def test_testing(self):
  url = self.base + str(gameid)  #the base ends with '/v2/game/'
  headers = {'content-type': 'application/json'}
  r = requests.post(url,headers=headers)
<END>
<QUE>
How to run this MongoDB query using MongoEngine
<ANS>
Class._get_collection().aggregate([
    { '$group': {
        '_id': {
            'year': { '$year': '$utc_timestamp' },
            'month': { '$month': '$utc_timestamp' },
            'day': { '$dayOfMonth': '$utc_timestamp' },
        },
        'defects': {
            '$sum': { '$cond': [
                { '$eq': [ '$status', 'defect' ] },
                1,
                0
            ]}
        },
        'totalCount': { '$sum': 1 }
    }},
    { '$project': {
        'defect_rate': {
            '$cond': [
                { '$eq': [ '$defects', 0 ] },
                0,
                { '$divide': [ '$defects', '$totalCount' ] }
            ]
        }
    }}
])
<END>
<QUE>
How to get the difference between two list based on substrings withing each string in the seperate lists
<ANS>
# emails is a set of emails
for line in fileinput.input("csvfile.csv",inplace =1):
    parts = line.split(',')
    if parts[3] not in emails:
        print line
<END>
<QUE>
Creating pandas DataFrame from numpy array leads to strange errors
<ANS>
d = fits.getdata('data.fit')
df=pd.DataFrame(np.array(d).byteswap().newbyteorder())
<END>
<QUE>
django transaction.commit_manually leads to 'MySQL server has gone away'
<ANS>
from django import db
db.close_connection()
<END>
<QUE>
How to check a file saving is complete using Python?
<ANS>
def check_file_ready(self, path):
    '''Check if file is not opened by another process.'''
    handle = None
    try:
        handle = win32file.CreateFile(
            path,
            win32file.GENERIC_WRITE,
            0,
            None,
            win32file.OPEN_EXISTING,
            win32file.FILE_ATTRIBUTE_NORMAL,
            None)
        return True
    except pywintypes.error, e:
        if e[0] == winerror.ERROR_SHARING_VIOLATION:
            # Note: other possible error codes include
            #  winerror.ERROR_FILE_NOT_FOUND
            #  winerror.ERROR_PATH_NOT_FOUND
            #  winerror.ERROR_ACCESS_DENIED.
            return False
        raise
    finally:
        if handle:
            win32file.CloseHandle(handle)
<END>
<QUE>
How to efficiently filter a string against a long list of words in Python/Django?
<ANS>
common_words = frozenset(("if", "but", "and", "the", "when", "use", "to", "for"))
title = "When to use Python for web applications"
title_words = set(title.lower().split())
keywords = title_words.difference(common_words)
print(keywords)
<END>
<QUE>
Kivy: Multiple items in a popup wont work
<ANS>
from kivy.uix.popup import Popup
from kivy.uix.textinput import TextInput
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.label import Label

box = BoxLayout()
box.add_widget(Label(text='Hello world'))
box.add_widget(TextInput(text='Hi'))

popup = Popup(title='Test popup', content=box, size_hint=(None, None), size=(400, 400))
<END>
<QUE>
how to get firefox address bar url for python (pywin32)
<ANS>
import win32gui

def enumerationCallaback(hwnd, results):
    text = win32gui.GetWindowText(hwnd)
    if text.find("Mozilla Firefox") >= 0:
        results.append((hwnd, text))

mywindows = []    
win32gui.EnumWindows(enumerationCallaback, mywindows)
for win, text in mywindows:
    print text

def recurseChildWindow(hwnd, results):
    win32gui.EnumChildWindows(hwnd, recurseChildWindow, results)
    print hwnd
    # try to get window class, text etc using SendMessage and see if it is what we want

mychildren = []
recurseChildWindow(mywindows[0][0], mychildren)
<END>
<QUE>
Can someone help me with my program keeping a counter in python
<ANS>
import collections
import random

cnt = collections.Counter()
for i in range(101):
  number = random.randint(1, 100)
  if number % 2 == 0:
    cnt['even'] += 1
  else:
    cnt['odd'] += 1
print(cnt)
<END>
<QUE>
How to speed up append to an existing dataframe
<ANS>
import pandas as pd
import numpy as np
import io

#original data
temp=u"""col1,col2,col3,col4,col5
1,2,3,4,5
3,4,-5,6,7
5,6,-7,8,9"""

df1 = pd.read_csv(io.StringIO(temp))
print df1
#   col1  col2  col3  col4  col5
#0     1     2     3     4     5
#1     3     4    -5     6     7
#2     5     6    -7     8     9

#copy data for next processing
df = df1.copy()

#set data by conditions
df1['col1'] = np.where(df1['col3'] > 0,  df1['col1'] + df1['col3'], np.NaN)
df1['col5'] = np.where(df1['col3'] > 0,  'blah', np.NaN)

#drop rows with NaN
df1 = df1.dropna()

#append to original df
result = pd.concat([df, df1], ignore_index=True)
print result
#   col1  col2  col3  col4  col5
#0     1     2     3     4     5
#1     3     4    -5     6     7
#2     5     6    -7     8     9
#3     4     2     3     4  blah
<END>
<QUE>
(Python) Trouble displaying a graph of a Lissajous curve
<ANS>
from numpy import *
from matplotlib.pyplot import *
from math import *

t=arange(0,4*pi/2,0.0001)
print(t)
#first set of parameters
A=1
B=1
a1=1
b1=2
d=pi/2
#second set of parameters
a2=2
b2=3
X1=[]
Y1=[]
Y2=[]
X2=[]
for i in range(len(t)):
    x1=A*sin(a1*t[i]+d)
    y1=B*sin(b1*t[i])
    x2=A*sin(a2*t[i]+d)
    y2=B*sin(b2*t[i])
    X1=append(X1,x1)
    Y1=append(Y1,y1)
    X2=append(X2,x2)
    Y2=append(Y2,y2)
figure()
plot(t,X1, color='blue')
plot(t,Y1, color='pink')
plot(t,X2, color='purple')
plot(t,Y2, color='green')
show()
<END>
<QUE>
How to Download a file to a specific path in the server : Python
<ANS>
import urllib
urllib.urlretrieve('http://python.org/images/python-logo.gif', '/tmp/foo.gif')
<END>
<QUE>
How to schedule event with Kivy Clock.schedule_once
<ANS>
Clock.schedule_once(partial(durclock.update, str(i)), 10-i)
<END>
<QUE>
creating a reverse method for a python list from scratch
<ANS>
def reverse(data_list):
    length = len(data_list)
    s = length

    new_list = [None]*length

    for item in data_list:
        s = s - 1
        new_list[s] = item
    return new_list
<END>
<QUE>
Join elements of a list into a path
<ANS>
list=['L:', 'JM6', 'jm6', 'test', 'turb', 'results', 'v6.2', 'examples']
os.path.join(*list)
<END>
<QUE>
How do I override init?
<ANS>
class B(A):
     __init__ = my_init
<END>
<QUE>
Formatting/Displaying list in python
<ANS>
for i, item in enumerate(test):
    if i and i % 4 == 0:
        f.write("
")
    f.write("%-9s|   " % item)
<END>
<QUE>
Extend standard python logging, to include the line number where a log method was invoked
<ANS>
formatter = logging.Formatter('[%(asctime)s] p%(process)s {%(pathname)s:%(lineno)d} %(levelname)s - %(message)s','%m-%d %H:%M:%S')
<END>
<QUE>
Python: How to make object attribute refer call a method
<ANS>
class Test(object): # make sure you inherit from object
    @property
    def x(self):
        return 4

p = Test()
p.x # returns 4
<END>
<QUE>
Selecting Element followed by text with Selenium WebDriver
<ANS>
driver.find_element_by_xpath("//li/label/input[contains(..,'polishpottery')]")
<END>
<QUE>
Common link targets in Sphinx
<ANS>
rst_epilog = """
.. _CC-BY: https://creativecommons.org/licenses/by/3.0/
.. _MIT: http://opensource.org/licenses/MIT
"""
<END>
<QUE>
Finding the static attributes of a class in Python
<ANS>
class MakeSlots(type):

    def __new__(cls, name, bases, attrs):
        attrs['__slots__'] = attrs.keys()

        return super(MakeSlots, cls).__new__(cls, name, bases, attrs)

class A(object):
    one = 1
    two = 2

    __metaclass__ = MakeSlots
<END>
<QUE>
How to multiply matrixes using for loops - Python
<ANS>
result = [] # final result
for i in range(len(A)):

    row = [] # the new row in new matrix
    for j in range(len(B)):

        product = 0 # the new element in the new row
        for v in range(len(A[i])):
            product += A[i][v] * B[v][j]
        row.append(product) # append sum of product into the new row

    result.append(row) # append the new row into the final result


print(result)
<END>
<QUE>
How to generate list of random integers, but only using specified integers? (Python)
<ANS>
vals = [random.choice(integers) for _ in range(num_ints)]
<END>
<QUE>
Creating a Class with variable properties
<ANS>
class Tutor:
    firstName = ""
    lastName = ""
    age = 0
    primarySubjects = []
    secondarySubjects = []
<END>
<QUE>
Terminate Python Process in a Limited Time
<ANS>
from multiprocessing import Process
import time
import threading 

def f(name):
    time.sleep(100)
    print 'hello', name

def run_process_with_timeout(timeout, target, args):
    p = Process(target=target, args=args)
    p.start()
    time.sleep(timeout)
    p.terminate()

if __name__ == '__main__':
    t = threading.Thread(target=run_process_with_timeout, args=(5,f,('bob',)))
    t.start()
    print "This Needs to be Printed Immediately"
<END>
<QUE>
Tkinter: inverting what text has a tag in a range of two indexes
<ANS>
def invert_tag(self, start, end=None, tag=SEL, w=None):
    if w==None:
        w=self.cur_scroll() #This is my current text widget
    i=0
    while w.compare(start+"+"+str(i)+"c", "<", end):
        if "sel" in w.tag_names(start+"+"+str(i)+"c"):
            w.tag_remove(tag, start+"+"+str(i)+"c")
        else:
            w.tag_add(tag, start+"+"+str(i)+"c")
        i+=1
<END>
<QUE>
Python save as/open
<ANS>
import tkFileDialog

def open_it():
    filename = tkFileDialog.askopenfilename()
    print filename  # test

def save_it():
    filename = tkFileDialog.askopenfilename()
    print filename  # test

def save_as():
    filename = tkFileDialog.asksaveasfilename()
    print filename  # test
<END>
<QUE>
How do I stop a Python function from modifying its inputs?
<ANS>
def myfunc(w):
    y = [el[:] for el in w]
    y[0].append('What do I need to do to get this to work here?')
    y[0].append('When I search for the manual, I get pointed to python.org, but I can\'t find the answer there.')
    return y

x = [[]]
z = myfunc(x)
print(x)
<END>
<QUE>
How to get the last N lines of a subprocess' stderr stream output?
<ANS>
N = 3 # for 3 lines of output
p = subprocess.Popen(['/path/to/external-app.sh'], 
    stdout=subprocess.PIPE, stderr=subprocess.PIPE)
stdout, stderr = p.communicate()

if p.returncode != 0:
    print ("ERROR: External app did not complete successfully "
           "(error code is %s)" % p.returncode)
    print "Error/failure details: ", '
'.join(stderr.splitlines()[-N:])
    status = False
else:
    status = True
<END>
<QUE>
Python xml creation from list with element levels
<ANS>
lastforlevel[n-1]
<END>
<QUE>
Modify docx page margins with python-docx
<ANS>
#Open the document
document = Document(args.inputFile)

#changing the page margins
sections = document.sections
for section in sections:
    section.top_margin = Cm(margin)
    section.bottom_margin = Cm(margin)
    section.left_margin = Cm(margin)
    section.right_margin = Cm(margin)

document.save(args.outputFile)
<END>
<QUE>
Django Model filters
<ANS>
list_acciones=Accion.objects.filter(proyectos__id__in=ids_Proyecto)
<END>
<QUE>
How to use static variables inside functions?
<ANS>
class myClass:
    proxies = []
    def doIt(self):
        myClass.proxies.append(1)
<END>
<QUE>
How can this be written on a single line?
<ANS>
errs = dict((f.auto_id, f.errors) for f in form if f.errors)
<END>
<QUE>
Controlling a Windows Console App w/ stdin pipe
<ANS>
from win32com.client import Dispatch

auto = Dispatch("AutoItX3.Control")
auto.WinActivate("The window's title", "")
auto.WinWaitActive("The window's title", "", 10)

auto.Send("The input")
<END>
<QUE>
Cannot align text with PIL textsize correctly
<ANS>
w, h = draw.textsize(text, font)
<END>
<QUE>
python string conversion for eval
<ANS>
import re
exp = 'qty * price - discount + 100'
exp = re.sub('(qty|price|discount)','%(\\1)f', exp)%vars(obj)
<END>
<QUE>
remove header and add another one
<ANS>
import itertools
with open(filename) as fin:
    ilines = itertools.islice(fin, 2, None) #this throws away the first 2 lines
    lines = sorted(ilines, key=lambda x: x.split()[0])  #sort lexicographically on first column

with open('header') as header, open('%s.header'%filename) as fout:
    fout.writelines(header) #write the header
    fout.writelines(lines) #write the data
<END>
<QUE>
How to limit the width/height of svg in pygal
<ANS>
chart = pygal.StackedLine(width=1000, height=800)
<END>
<QUE>
How do you get the list data from a wxpyton gui click event?
<ANS>
def onListView1ListItemSelected(self, event):
    obj     = event.GetEventObject()
    index   = event.GetIndex()
    columns = obj.GetColumnCount()
    data    = []

    for i in range(columns):
        item = obj.GetItem(index, i)
        data.append(item.GetText())

    print(data)
<END>
<QUE>
How to query Elasticsearch to boost by specific field
<ANS>
{
"query": {
    "function_score": {
        "query": {  
            "match": {
                "text": "how now brown cow"
            }
        },
        "functions": [{
            "script_score": { 
                "script": "doc['weight'].value"
            }
        }],
        "score_mode": "multiply"
    }
}
}
<END>
<QUE>
bulk_create how to call function on each object
<ANS>
for obj in objs:
    obj.send(gateway)
Message.objects.bulk_create(objs)
<END>
<QUE>
How to make my python script accepts multiple positional arguments?
<ANS>
import sys

print('Name of the script: {0}'.format(sys.argv[0]))

if len(sys.argv) == 3:
    inputfile_path = sys.argv[1]
    dictionary_path = sys.argv[2]
    print('First parameter: {0}'.format(inputfile_path))
    print('Second parameter: {0}'.format(dictionary_path))
<END>
<QUE>
Django database tables made but cannot import models from it
<ANS>
from polls.models import Poll, Choice
<END>
<QUE>
How do I get the size of a boto3 Collection?
<ANS>
size = sum(1 for _ in bucket.objects.all())
<END>
<QUE>
How to automate webpage button control using Selenium?
<ANS>
iframe = self.driver.find_element_by_css_selector("#webcam-container")
self.driver.switch_to_frame(iframe)
record = self.driver.find_element_by_css_selector("#record-button > span.yt-uix-button-content")
record.click()
<END>
<QUE>
Performance Improvement Basics in Python
<ANS>
n, k = int(input()), int(input())
num = sorted([ int(input()) for i in range(0,n) ])
min_unfairness = min( max_value - min_value for min_value, max_value in    zip(num, num[k-1:]) )
print(min_unfairness)
<END>
<QUE>
Map function application over a list of functions without lambda in python
<ANS>
[f() for f in flist]
<END>
<QUE>
Trouble with for loops
<ANS>
def f(ls):
    ct = 0
    for x in ls:
    #       ^     Do not call the method, but just parse through the list  
        if x % 2 == 1:
            ct += x
    return(ct)
    #     ^  ^ parenthesis are not necessary 

print(f([2,5,4,6,7,8,2]))
#      ^               ^    Missing paranthesis
<END>
<QUE>
Python MySQLdb cursor.execute() insert with varying number of values
<ANS>
placeholders = ','.join('%s' for col in columns)
query_string = "INSERT INTO `{}` {} VALUES ({})".format(table, columns, placeholders)
query.execute(query_string, values)
<END>
<QUE>
Python unit-testing with nose: Making sequential tests
<ANS>
from nose.tools import *
class Test_mysim():
    def setup(self):
        self.ans = calculate_it_once()

    def test_sync(self):
        ans=calculate_it_sync()
        assert_equal(ans,self.ans)

    def test_async(self):
        ans=calculate_it_async()
        assert_equal(ans,self.ans)
<END>
<QUE>
Using Hadoop in python to process a large csv file
<ANS>
if int(list[0][11:13])>=17 and int(list[0][11:13])<=19:
    #This is the correct way of printing for aggregate library
    #Print all as a string.
    print  "LongValueSum:" + "Express" + "\t" + list[3]
<END>
<QUE>
Python decodes JSON
<ANS>
import json

#jstr = "... that thing above ..."
# This line only decodes the JSON into a structure in memory:
obj = json.loads(jstr)
# obj, in this case, is a dictionary, a built-in Python type.

# These lines just iterate over that structure.
for ka, va in obj.iteritems():
    print ka
    for kb, vb in va.iteritems():
        print '  ' + kb
        for key, string in vb.iteritems():
            print '    ' + repr((key, string))
<END>
<QUE>
Transform list output from for loop
<ANS>
L = [['Text', 'Count']]
for line in inputFile:
    L.append([var, var5])
<END>
<QUE>
How do I check if a string only contains alphanumeric characters and dashes?
<ANS>
import re
valid = re.match('^[\w-]+$', str) is not None
<END>
<QUE>
How to modify field rendering behaviour based on state of other fields of model in django
<ANS>
class DictionayModelForm(ModelForm):
        def __init__(self, *largs, **kwargs):
            super(DictionayModelForm, self).__init__(*largs, **kwargs)
            if self.instance and self.instance.pk is not None:
                for f in self.instance._meta.fields:
                    if isinstance(f, models.ForeignKey) and issubclass(f.rel.to, Dictionary):
                        model_field = self.fields[f.name]
                        value = getattr(self.instance, f.name, None)
                        if value and value not in model_field.choices:
                            model_field.queryset = Dictionary.objects.filter(Q(**f.rel.limit_choices_to) | Q(id = value.id))
<END>
<QUE>
Count occurrences of midnight between datetimes
<ANS>
def midnights(dt1, dt2):
    dt1 = dt1.replace(hour=0, minute=0, second=0, microsecond=0)
    dt2 = dt2.replace(hour=0, minute=0, second=0, microsecond=0)
    return (dt2 - dt1).days
<END>
<QUE>
How do I programmatically stop execution of a python script, without closing python and maintaining the variables?
<ANS>
import pdb
pdb.set_trace()
<END>
<QUE>
Python: Unable to remove newline from str
<ANS>
line = line.rstrip()
<END>
<QUE>
Producer consumer in python locks on get
<ANS>
from multiprocessing import Process, Queue
import time
def consumer(q):
         while(True):
            data=q.get()
            if (data[0]==False):
                print("Killing")
                return
            print((data[1]))
            time.sleep(1)

if __name__ == '__main__':
    maxitems=3
    q = Queue(maxitems)
    p = Process(target=consumer, args=(q,))
    p.start()
    for idx in range(0,10):
        q.put((True,idx))
        #Where idx would normally be a chunk of data
    q.put((False,False))
    p.join()
<END>
<QUE>
Networkx node traversal
<ANS>
Y = Y[random.choice(Y.keys())]
<END>
<QUE>
Using Seaborn, how do I get all the elements from a pointplot to appear above the elements of a violoinplot?
<ANS>
import seaborn as sns
import matploltlib.pyplot as plt

tips = sns.load_dataset("tips")

ax = sns.pointplot(x="day", y='total_bill', hue="smoker",
              data=tips, dodge=0.3, join=False, palette=['white'])
plt.setp(ax.lines, zorder=100)
plt.setp(ax.collections, zorder=100, label="")

sns.violinplot(x="day", y="total_bill", hue="smoker", data=tips,
               split=True, inner='stick', ax=ax)
<END>
<QUE>
python 2 dictionaries into 1 dictionary join based on their values
<ANS>
dict1 = { 
  'D1K1': ('v1', 'v2'),
  'D1K2': ('v3', 'v4')
}

dict2 = { 
  'D2K1': ('v1', 'v2'),
  'D2K2': ('v3', 'v4')
}

# reverse dict2. this randomly chooses one of the possible mappings
# if there are more than one key with the same value..
inv2 = dict((v, k) for k, v in dict2.items())

# this assumes that there will always be a reverse mapping in dict2 
# for all values in dict1 (use inv2.get(v, default_value) if that is
# not the case).
print dict((k, inv2[v]) for k, v in dict1.items())
<END>
<QUE>
how to compare the rows of a table using python
<ANS>
sql="select value from table where name='aaaa'"
cursor.execute(sql)
results=cursor.fetchall() # changed to results to better reflect the list structure
count = len(results)
for i in range(0, count):
  for j in range (i+1, count):
    print results[i][0], results[j][0]
<END>
<QUE>
Get signal names from numbers in Python
<ANS>
import signal
dict((k, v) for v, k in reversed(sorted(signal.__dict__.items()))
     if v.startswith('SIG') and not v.startswith('SIG_'))
<END>
<QUE>
How to calculate estimation for monotonically growing sequence in python?
<ANS>
y = a + bx + c*exp(-d*x)
<END>
<QUE>
Emails generated in loop not sending subject
<ANS>
message = (
    'From: me@yahoo.com 
'
    'To: %s 
'
    'Subject: Data saved successfully 
'
     '%s' %(args.r,TEXT)
)
<END>
<QUE>
nested lists and for loops program in python gives me a crazy result
<ANS>
for index in range(len(listOne)):
    listThree.append((listOne[index],listTwo[index]))
<END>
<QUE>
django datetime.datetime error
<ANS>
def was_published_today(self):
    return (self.pub_date.date() == datetime.date.today())
<END>
<QUE>
Ordering linestring direction algorithm
<ANS>
def joinSegments( s ):
    if s[0][0] == s[1][0] or s[0][0] == s[1][-1]:
        s[0].reverse()
    c = s[0][:]
    for x in s[1:]:
        if x[-1] == c[-1]:
            x.reverse()
        c += x
    return c
<END>
<QUE>
grid search cross-validation on SVC probability output in sci-kit learn
<ANS>
class ProbSVC(SVC):
    def predict(self, X):
        return super(ProbSVC, self).predict_proba(X)
<END>
<QUE>
Creating a new Freebsd port
<ANS>
USE_PYTHON=yes
USE_PYDISTUTILS=yes
<END>
<QUE>
How to write this "model" in Django?
<ANS>
class Friendship(models.Model):
  from_friend = models.ForeignKey(
    User, related_name='friend_set'
  )
  to_friend = models.ForeignKey(
    User, related_name='to_friend_set'
  )
  def __unicode__(self):
    return u'%s, %s' % (
      self.from_friend.username,
      self.to_friend.username
    )
  class Meta:
    unique_together = (('to_friend', 'from_friend'), )
<END>
<QUE>
Adding cookie to webpage, with python CGI
<ANS>
def setup_cookie():
    # try/except to read the cookie
    return cookie

def headers(cookie):
    # print a set-cookie header if needed
    return "SetCookie: etc"

def page_content(cookie):
    # maybe you want to alter the page content with a regex or something based on the cookie value
    return html

cookie = setup_cookie()
print headers( cookie )
print ""
print page_content( cookie )
<END>
<QUE>
Feed URL from HTML using Python
<ANS>
import lxml.html
doc = lxml.html.parse(url_to_site)
feeds = doc.xpath('//link[@type="application/rss+xml"]/@href') # list feed urls
<END>
<QUE>
What is the best method to read a double from a Binary file created in C?
<ANS>
3.907985046680551e-14
<END>
<QUE>
liferay 6.2GA2 soap authentication with python suds client
<ANS>
from suds.client import Client
from suds.transport.http import HttpAuthenticated

t = HttpAuthenticated(username='liferayuser', password='liferaypassword')
c = Client('http://liferay62instance.domain.com/api/axis/Portal_UserService?wsdl', transport=t)
result = c.service.getUserByScreenName(companyId=10154, screenName='user')
<END>
<QUE>
Compare two different files line by line in python
<ANS>
with open('some_file_1.txt', 'r') as file1:
    with open('some_file_2.txt', 'r') as file2:
        same = set(file1).intersection(file2)

same.discard('
')

with open('some_output_file.txt', 'w') as file_out:
    for line in same:
        file_out.write(line)
<END>
<QUE>
Django orm filter is an element of dict
<ANS>
from django.db.models import Q

threshold = {
    'hot': Q(post_upvotes__gt=50),
    'trending': Q(post_upvotes__range=(20,50)),
    'new': Q(post_upvotes__lt=20)
}

return Post.objects.filter(threshold[section])
<END>
<QUE>
python-django file upload 'key error'
<ANS>
request.FILES['file_pm']
<END>
<QUE>
Sparse-Dense multiplication in Python
<ANS>
x = csr_matrix(np.random.rand(1000) > 0.99).T
print x.shape   # (1000, 1)
<END>
<QUE>
How to do implement a paging solution with a dict object in Python
<ANS>
imagelist[pagenumber: pagenumber+16]
<END>
<QUE>
Remove certain type of tag from HTML (without string operations) with Python and BeautifulSoup
<ANS>
from bs4 import BeautifulSoup

page = "<span>Hello world</span><h1>Nice to see you</h1><span>no</span><span>Hello babe</span>"

soup = BeautifulSoup(page)

while len(soup.find_all('span')) > 0:
    soup.span.extract()
print soup
<END>
<QUE>
Python: Split a list into sub-lists based on index ranges
<ANS>
l = [a, b, c, d, e]
c_index = l.index("c")
l2 = l[:c_index]
<END>
<QUE>
Most efficient way to remove duplicates from Python list while preserving order and removing the oldest element
<ANS>
def inplace_unique_latest(L, key=None):
  if key is None:
    def key(x):
      return x
  seen = set()
  n = iter(xrange(len(L) - 1, -2, -1))
  for x in xrange(len(L) - 1, -1, -1):
    item = L[x]
    k = key(item)
    if k not in seen:
      seen.add(k)
      L[next(n)] = item
  L[:next(n) + 1] = []
<END>
<QUE>
Pocketsphinx decoder adds words of its own
<ANS>
dither="yes"
<END>
<QUE>
How to determine last row populated for a certain column in xlsxwriter?
<ANS>
import xlsxwriter

workbook  = xlsxwriter.Workbook('file.xlsx')
worksheet = workbook.add_worksheet()

data = [13, 24, 15]

for row_num, value in enumerate(data):
    worksheet.write(row_num, 0, value)

row_num += 1
worksheet.write(row_num, 0, '=SUM(A1:A{})'.format(row_num))

workbook.close()
<END>
<QUE>
How to retrive data from database in Odoo 8
<ANS>
from openerp.addons.web import http
from openerp.addons.web.http import request

class Book(http.Controller):
    @http.route('/page/getjson/', type='http', auth='public', website=True)
    def index(self, **kw):
        Books = request.env['x_book.book']
        return request.render('book.index', {
        'books': Books.search([])
   })
<END>
<QUE>
Iterating over a dictionary in python and stripping white space
<ANS>
class ItemLoader(ItemLoader):

    default_output_processor = MapCompose(unicode.strip)
<END>
<QUE>
Python - If statement
<ANS>
row[2] == day
<END>
<QUE>
Kill a Python process if it doesn't finish in a certain time?
<ANS>
process.terminate()
<END>
<QUE>
Documentation after members in python (with doxygen)
<ANS>
class escapeMode(object):
    '''
    Enum to represent the escape mode.
    '''
    ## Escape all values
    ALLWAYS     = 1
    ## Escape only values containing seperators or starting with quotation
    NECESSARY   = 2
<END>
<QUE>
Generate a Unique String in Python/Django
<ANS>
import uuid 
uuid.uuid4().hex[:6].upper()
<END>
<QUE>
How do I add all of the items from a list to a variable?
<ANS>
body = str("The following items are in the list: ")
items = ["a", "b", "c", "d"]  # list of strings
for i in items:
    body = body.__add__(i + ",")
print(body)
<END>
<QUE>
Accessing a list of lists
<ANS>
values = [l[3] for l in data[:100]]
<END>
<QUE>
How do I use a previous program that I've written in a new program that I am currently writing?
<ANS>
import filename
<END>
<QUE>
Python RegEx match results are too minimal, please advise
<ANS>
rxSetting = re.compile('((?:/\w+:[^/]+){3})')
<END>
<QUE>
Subscribe and unsubscribe to channels after the connection has been made with txredisapi
<ANS>
connecting = ClientCreator(reactor, RedisListenerProtocol).connectTCP(HOST, PORT)
def connected(listener):
    listener.subscribe("newChannelName")
    listener.unsubscribe("channelName")
connecting.addCallback(connected)
<END>
<QUE>
Concatenating string and integer in python
<ANS>
"{} and {}".format("string", 1)
<END>
<QUE>
Redirection of stdout and stderr to two different log files
<ANS>
sys.stdout.write(stdout_data)
sys.stderr.write(stderr_data)
<END>
<QUE>
How to remove whitespace from end of string in Python?
<ANS>
print(name + ', you won.')
<END>
<QUE>
How to compare time_struct with datetime.datetime in python?
<ANS>
start = new_programme.get('start')
start_time = datetime.datetime.strptime(start, '%Y%m%d%H%M%S -0000')
print(type(start_time))
seven_weeks = datetime.datetime.now() - datetime.timedelta(weeks=7)
print(type(seven_weeks))
is_more_than_7_weeks = start_time < seven_weeks
<END>
<QUE>
urllib2 opener providing wrong charset
<ANS>
response = opener.open(self.__url, data)
if response.info().get('Content-Encoding') == 'gzip':
    buf = StringIO.StringIO( response.read())
    gzip_f = gzip.GzipFile(fileobj=buf)
    content = gzip_f.read()
else:
    content = response.read()
<END>
<QUE>
Matplotlib: Customizing Qt4Agg Backend
<ANS>
import matplotlib
if matplotlib.rcParams['backend'] == 'module://my_backend':
    from IPython.lib.inputhook import enable_gui
    enable_gui('qt4')
<END>
<QUE>
generate a patterned numpy matrix
<ANS>
def generate(ysize, xsize, ycenter, xcenter, radius):
    x = np.arange(xsize)[None,:]
    y = np.arange(ysize)[:,None]
    return ((xcenter - x) ** 2 + (ycenter - y) ** 2 <= radius ** 2) * 1


generate(10,8,4,3,2)


array([[0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 1, 0, 0, 0, 0],
       [0, 0, 1, 1, 1, 0, 0, 0],
       [0, 1, 1, 1, 1, 1, 0, 0],
       [0, 0, 1, 1, 1, 0, 0, 0],
       [0, 0, 0, 1, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0]])
<END>
<QUE>
Django Span Filter in View
<ANS>
Discount.objects.filter(discount_store__store_city__city_name="bursa")
<END>
<QUE>
wxpython: how to programmatically select a radio tool?
<ANS>
self.ToggleTool(self.add_points_id, True)
<END>
<QUE>
Is there a way to press a button without touching it on tkinter / python?
<ANS>
Button.invoke()
<END>
<QUE>
how can I make pip/setuptools understand that my package is in ./src?
<ANS>
package_dir = {'': 'src'},
<END>
<QUE>
(Django) define `__str__` in a model with attributes of other model not yet defined
<ANS>
self.b_set.last().name
<END>
<QUE>
SQLAlchemy ValueError for slash in password for create_engine()
<ANS>
from urllib import quote_plus as urlquote
from sqlalchemy.engine import create_engine
engineString = 'postgresql://wberg:%s@localhost/mydatabase' % urlquote('pass/word')
engine = create_engine(engineString)
<END>
<QUE>
How to cancel the dictionary to initialize ? python3.3
<ANS>
def initialize_function(num,instruction,emplacement1,emplacement2,current_pipeline):
    function_mapping={
    "LOAD" : LOAD,
    "STORE" : STORE,
    "MOVE" : MOVE_IADD,
    "IADD" : MOVE_IADD,
    "FADD" : FADD
    }
    current_pipeline=function_mapping[instruction](num,emplacement1,emplacement2,current_pipeline)
    return(current_pipeline)
<END>
<QUE>
max-Function for attributes of objects
<ANS>
max_value = max(foo.value for foo in foos)
# instead of:
# max_value = max([foo.value for foo in foos])
<END>
<QUE>
How do I pass in a field to filter a Django model?
<ANS>
kwargs = {filter_field: filter_value}
Alert.objects.filter(**kwargs)
<END>
<QUE>
Remove leading and trailing zeros from multidimensional list in Python
<ANS>
for sub_list in my_list:
    for dx in (0, -1):
        while sub_list and sub_list[dx] == 0:
            sub_list.pop(dx)
<END>
<QUE>
Finding multiple common starting strings
<ANS>
def groupByPrefix(strings):
    stringsByPrefix = {}
    for string in strings:
            prefix, suffix = map(str.strip, string.split("/", 1))
            group = stringsByPrefix.setdefault(prefix, [])
            group.append(suffix)
    return stringsByPrefix
<END>
<QUE>
How to chain filters together using Django Rest Framework filters
<ANS>
def get_queryset(self, *args, **kwargs):
    """
    Checks if currentuser = true is in the URL and filters this it.
    """
    queryset = super(FilterMixin, self).get_queryset(*args, **kwargs)

    currentuser = self.request.QUERY_PARAMS.get('currentuser')
    project = self.request.QUERY_PARAMS.get('project')

    if currentuser == "true":
        queryset = queryset.filter(user=self.request.user)

    if project:
        queryset = queryset.filter(project=project)

    return queryset
<END>
<QUE>
Choosing a function randomly
<ANS>
from random import choice
random_function_selector = [foo, foobar, fudge]

print choice(random_function_selector)()
<END>
<QUE>
python unique string creation
<ANS>
import string
chars = string.lowercase + string.uppercase

def identifier(x, chars):
    output = []
    base = len(chars)
    while x:
        output.append(chars[x % base])
        x /= base
    return ''.join(reversed(output))

print identifier(1, chars)
<END>
<QUE>
Putting images in a Tkinter
<ANS>
python-ttk
<END>
<QUE>
How to extract a list from pandas?
<ANS>
xx[xx['Business']=="1"]['Label'].tolist()
<END>
<QUE>
Tick label modification; How to add an arbitrary tick on the label:
<ANS>
ticks = ax.get_xticks()
ticks = np.union1d(ticks, [0.7])
ax.set_xticks(ticks)
ax.set_xticklabels(newlabels)
<END>
<QUE>
Python mysqldb data
<ANS>
dicResults =  {}
for row in results:
    dicResults[row[1]] = [row[0], row[2], row[3]]
<END>
<QUE>
Design pattern for combining objects
<ANS>
ResultObj(*args)
<END>
<QUE>
Preferred way to import multiple modules from package
<ANS>
from Package import specific_submodule
<END>
<QUE>
Python: Splitting a string into elements and adding them in a list
<ANS>
foo = '"MARY","PATRICIA","LINDA","BARBARA","ELIZABETH","JENNIFER","MARIA","SUSAN","MARGARET","DOROTHY","LISA","NANCY","KAREN","BETTY","HELEN","SANDRA","DONNA","CAROL"'
output = foo.replace('"','').split(",")
<END>
<QUE>
Using regular expressions to exclude non-alphanumeric characters
<ANS>
re.sub("[^a-zA-Z0-9 -]","",'SEGA E-r. Ata{{r}}i
')
<END>
<QUE>
Programmatically login to OKC
<ANS>
import urllib, urllib2, cookielib

# cookie storage
cj = cookielib.CookieJar()
opener = urllib2.build_opener(
    urllib2.HTTPCookieProcessor(cj),
    urllib2.HTTPRedirectHandler
    )
# Useragent
opener.addheaders.append(('User-agent','Mozilla/4.0'))

url = 'http://www.okcupid.com/login'
login_data = urllib.urlencode({
    'username':'myusername',
    'password':'mypassword',
    })

req = urllib2.Request(url,login_data)
resp = opener.open(req)
the_page = resp.read()

print the_page
<END>
<QUE>
How to loop through a html-table-dataset in Python
<ANS>
import BeautifulSoup

fname = r'c:\mydir\beautifulSoup.html'
soup = BeautifulSoup.BeautifulSoup(open(fname, 'r'))

items = []
last_seen_date = None
for el in soup.findAll('tr'):
    daterow = el.find('td', {'class':'date'})
    if daterow is None:     # not a date - get headline and link
        headline = el.find('td', {'class':'headline'}).text
        link = el.find('a').get('href')
        items.append((last_seen_date, headline, link))
    else:                   # get new date
        last_seen_date = daterow.text
<END>
<QUE>
Accessing a Python instance var from that class
<ANS>
import sys

class Borg(object):
    __shared_state = {}
    def __init__(self, nombre):
        self.__dict__ = self.__shared_state
        self.nombre = nombre 

    def instance_method_1(self):
        print 'my instance vr::', self.nombre
        panga = 'pangas'
        print 'te copio con  ' 
        print panga
        print self.nombre


pingus = Borg('varString')


print pingus.nombre
pingus.instance_method_1()
<END>
<QUE>
Verify installation, print version if already installed otherwise install that package
<ANS>
import subprocess 
try:
    import nltk
    nltkv = '{}.'.format(nltk.__version__)
    print "nltk is already installed, V : 
", nltkv # mind the escape sequence
except ImportError:
    print "Nltk is not installed, Let's start installing ...
"
    subprocess.call('sudo pip install -U nltk', shell = True)
    #sudo easy_install pip
except:
    print "Some error occurred!
"
<END>
<QUE>
python date difference in minutes
<ANS>
from datetime import datetime

fmt = '%Y-%m-%d %H:%M:%S'
d1 = datetime.strptime('2010-01-01 17:31:22', fmt)
d2 = datetime.strptime('2010-01-03 17:31:22', fmt)

print (d2-d1).days * 24 * 60
<END>
<QUE>
How to add inline comments to multiline string assignments in python
<ANS>
sc = ("\x31\xdb"      # xor %ebx, %ebx
      "\x31\xc9"      # xor %ecx, %ecx
      "???")
<END>
<QUE>
count sublists that has a specific term in python
<ANS>
lst = [['a', 'b', 'a'], ['a', 'b', 'c'], ['a']]

def count(lst):
    # declare dictionary that we are going to return
    foo = {}
    # iterate sublist
    for sublist in lst:
        # make sublist into unique element list
        sublist = list(set(sublist))
        for element in sublist:
            # if element found in foo dic, increment
            if element in foo:
                foo[element] += 1
            # else, init with 1
            else:
                foo[element] = 1
    return foo

res = count(lst)
print res
<END>
<QUE>
Giving Exceptions to a Random Choice
<ANS>
hint = random.choice(list({a, b, c, d, e, f} - {killer, previous_guess}))
<END>
<QUE>
How to use IPython magic within a script to auto reload modules?
<ANS>
from IPython import get_ipython
ipython = get_ipython()

if '__IPYTHON__' in globals():
    ipython.magic('load_ext autoreload')
    ipython.magic('autoreload 2')
<END>
<QUE>
Delegate in Python in combination with unity
<ANS>
butn.onClick.AddListener(lambda item=item: dicbrowser(holderdict[item],0))
<END>
<QUE>
How to Optimally Save Data in Python as Data Structure
<ANS>
sorted(results.iteritems(), key=lambda x: x[1]['Rating'])
<END>
<QUE>
Implement web based desktop application with python
<ANS>
import wx
from wx.lib.iewin import IEHtmlWindow
a = wx.App(redirect=False)
f = wx.Frame(None,-1,"My Desktop Application")
browser = IEHtmlWindow(f)
browser.Navigate("http://google.com")
f.Show()
a.MainLoop()
<END>
<QUE>
how to switch strings from 14/Nov/2012 into 2012/11/14 without converting to datetime in Python?
<ANS>
# Converts something like "14/Nov/2012:09:32:46"
# to "2012-11-14:09:32:46"
_MONTHS = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]
def convert(s):
  p = s.split(':', 1)
  t = p[0].split('/')
  return "%s-%02d-%02d:" % (t[2], _MONTHS.index(t[1]) + 1, int(t[0])) + p[1]
<END>
<QUE>
Multiple model edition in django-admin
<ANS>
from django.contrib import admin

from models import News, NewsLang

class NewsLangInline(admin.TabularInline):
    model = NewsLang

class NewsAdmin(admin.ModelAdmin):
    inlines = [NewsLangInline]
admin.site.register(News, NewsAdmin)
<END>
<QUE>
Using QueryXML with SUDS and Python
<ANS>
strQuery = "<queryxml><entity>Ticket</entity><query>" + \
                        "<condition><field>id<expression op=""greaterthan"">" + strCurrentID + "</expression></field></condition>" + strCriteria + \
                        "<condition><field>EstimatedHours<expression op=""isnull""></expression></field></condition>" + \
                        "</query></queryxml>"
<END>
<QUE>
How to execute ssconvert command using subprocess in python
<ANS>
import subprocess
subprocess.call(["ssconvert","sample.xlsx","sample.csv"],cwd="pathtoyourfile") # pathtoyourfile must contain the xlsx and csv files
<END>
<QUE>
Display objects within a function, how to NOT terminate the program after close the display?
<ANS>
import os
if os.fork() == 0: exit()
<END>
<QUE>
How to save trimmed wave file in python?
<ANS>
wavFile.writeframes(voiceSample.tostring())
<END>
<QUE>
UUIDField from django-extensions is not available in Class Based Views
<ANS>
def get_context_data(self,**kwargs):
    context = super(DvStringUpdateView, self).get_context_data(**kwargs)
    semlinks = []
    obj = get_object_or_404(DvString,pk=context['object'].id)
    if obj.resource_uri:
        urilist = obj.resource_uri.splitlines()
        attrlist = obj.sem_attr.splitlines()        
        for n in range(0,len(urilist)):
            semlinks.append(attrlist[n] + ' = ' + unquote(urilist[n]))

    context['semlinks'] = semlinks
    context['ct_id'] = obj.ct_id
    return context
<END>
<QUE>
How to repeat last command in python interpreter shell?
<ANS>
# python startup file 
import readline 
import rlcompleter 
import atexit 
import os 
# tab completion 
readline.parse_and_bind('tab: complete') 
# history file 
histfile = os.path.join(os.environ['HOME'], '.pythonhistory') 
try: 
    readline.read_history_file(histfile) 
except IOError: 
    pass 
atexit.register(readline.write_history_file, histfile) 
del os, histfile, readline, rlcompleter
<END>
<QUE>
NameError In Django View
<ANS>
similar_posts=qs.filter(state=post.state)
<END>
<QUE>
Unable to perform collectstatic
<ANS>
STATIC_ROOT = os.path.join(PROJECT_DIR, 'static')
<END>
<QUE>
google-app-engine: How can I have a list of objects as property in another class?
<ANS>
person = db.ReferenceProperty(Person, collection_name="cars")
<END>
<QUE>
GAE Python - Ereporter doesn't send email
<ANS>
import logging
from google.appengine.ext import ereporter

ereporter.register_logger()
<END>
<QUE>
Python: Pause for-loop while application closes
<ANS>
import win32com.client
import sys # <- obsolete not used
import os
import glob # style guide one import per line


Application = win32com.client.Dispatch("PowerPoint.Application")
Application.Visible = True

ppt_files = glob.glob('*.ppt')

for file in ppt_files:
    file = os.path.abspath(file)
    Presentation = Application.Presentations.Open(file)
    for Slide in Presentation.Slides:
        for Shape in Slide.Shapes:
            try:
                Shape.TextFrame.TextRange.Font.Name = "Arial"
                Shape.TextFrame.TextRange.Font.Size = "12"
                Shape.TextFrame.TextRange.Font.Color.RGB = "000000"
            except:
                pass
    Presentation.Save()
    Presentation.Close()

Application.Quit()
<END>
<QUE>
sniff traffic on a particular port using scapy
<ANS>
sniff(filter = 'dst port 5555')
<END>
<QUE>
How can I rotate a group of pygame objects (either rects or images)
<ANS>
import pygame as pg
from pygame.locals import *

SIZE = (800, 600)
BGCOL = (128, 128, 128)
STIMCOL = (80, 255, 80)

screen = pg.display.set_mode((SIZE), HWSURFACE | DOUBLEBUF)
screen.fill(BGCOL)

surf = pg.Surface((200, 200), flags=HWSURFACE)
surf.fill(BGCOL)

pg.draw.rect(surf, STIMCOL, (10, 20, 40, 50))
pg.draw.rect(surf, STIMCOL,  (60, 70, 80, 90))

screen.blit(surf, (100, 100))

pg.display.flip()

running = True
while running:
    surf = pg.transform.rotate(surf, -1) # updating rotation on the surface
    screen.blit(surf, (100, 100)) #bliting the resulting image every frame
    pg.display.flip()
<END>
<QUE>
How does one rename multiple files using python?
<ANS>
import sys, os

file_list = []

for f in os.listdir(sys.argv[1]):
    file_list.append(f)

for i in range(len(file_list)):
    prevName = file_list[i]
    if prevName != 'stackoverflow.py':  # Mention .py file so that it doesnt get renamed
        newName = '00' + file_list[i]
        os.rename(prevName, newName)
<END>
<QUE>
du -sh behaviour in terminal and from an python script?
<ANS>
p=subprocess.Popen('du -sh /tmp/*', shell=True)
<END>
<QUE>
handling undefined values in bottle's SimpleTemplate Engine templates
<ANS>
{{thing['attr'] if defined('thing') else ''}}
<END>
<QUE>
Get a count for a pattern using python
<ANS>
a.count("__TEXT__")
<END>
<QUE>
Reverse Relation Search Django Admin Interface
<ANS>
class PublicationAdmin(admin.ModelAdmin):
    list_display = ('title',)
    search_fields = ('tags__title',)
<END>
<QUE>
Dictionary in a child class to update the dictionary with same name defined in parent class instead of over-riding
<ANS>
def __init__(self):
    for parent_klass in inspect.getmro(self.__class__):
        _d.update(getattr(parent_klass, 'd', {}))
    _d.update(self.d)
    self.d = _d
<END>
<QUE>
Python syntax with for loop and lists, exporting to text file
<ANS>
mylist = range(0,20+1,5)
f = open("test.txt", "w")
f.writelines(' '.join(map(str, mylist)))
f.close()
<END>
<QUE>
Python access server urlopen()
<ANS>
import urllib2

url = "http://www.cmegroup.com/CmeWS/mvc/ProductSlate/V1/List/500/1?sortField=oi&sortAsc=false&venues=3&page=1&cleared=1&group=1&r=eSxQS2SI"
user_agent = 'Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)'
headers = { 'User-Agent' : user_agent }

req = urllib2.Request(url, headers=headers)

response = urllib2.urlopen(req)

your_json = response.read()
response.close()
<END>
<QUE>
Sum all values of a counter in Python
<ANS>
sum(my_counter.itervalues())
<END>
<QUE>
Python: How to pass and run a callback method in Python
<ANS>
class Manager(object):
    def new_thread(self):
        return MyThread(parent=self)
    def on_thread_finished(self, thread, data):
        print thread, data

class MyThread(Thread):
    def on_thread_finished(self, thread, data):
        pass
    def __init__(self, parent=None):
        self.parent = parent
    def run(self):
        # ...
        self.parent and self.parent.on_thread_finished(self, 42)

mgr    = Manager()
thread = mgr.new_thread()
thread.run()
<END>
<QUE>
Passing a variable from Tkinter to main program
<ANS>
from Tkinter import *
from tkFileDialog import askopenfilename      

value_list = []

def callback():
    name = askopenfilename() 
    value_list.append(name)
    print name

Button(text='File Open', command=callback).pack(fill=X)
mainloop()

# value_list[0] is filename
<END>
<QUE>
Django ORM way of going through multiple Many-to-Many relationship
<ANS>
Toy.objects.filter(toy_owners__parents=parent)
<END>
<QUE>
Python: How to find the slope of a graph drawn using matplotlib?
<ANS>
import matplotlib.pyplot as plt
import numpy as np

length = np.random.random(10)
length.sort()
time = np.random.random(10)
time.sort()
slope, intercept = np.polyfit(np.log(length), np.log(time), 1)
print(slope)
plt.loglog(length, time, '--')
plt.show()
<END>
<QUE>
Checking if float is equivalent to an integer value in python
<ANS>
def equal_float(a, b):
    #return abs(a - b) <= sys.float_info.epsilon
    return abs(a - b) <= chosen_value #see edit below for more info
<END>
<QUE>
Modify the function variables from inner function in python
<ANS>
def outer():
    a = [1]
    def inner():
        a[0] += 1
        print a[0]
<END>
<QUE>
How to pass a variable from class in python/gtk?
<ANS>
class ClassB(gtk.Window):
    def __init__(self, variable):
        #Your code
        self.variable = variable
<END>
<QUE>
Counting "something" in multiple text files in one folder
<ANS>
import tkFileDialog
import os
import os.path
import re

directory = tkFileDialog.askdirectory()

for dirpath, dirnames, filenames in os.walk(directory):
    for filename in filenames:
        path = os.path.join(dirpath, filename)

        with open(path) as file:
            contents = file.read()

            print path[:30], contents.count('Tmp'), re.findall('Tmp\d{5}', contents)
<END>
<QUE>
Convert image to a matrix in python
<ANS>
scipy.misc.imread()
<END>
<QUE>
How to report errors early in a py2app-frozen wxpython app on OSX,
<ANS>
frame = MyFrame(logger)
<END>
<QUE>
Issue with setting value for Python class inherited from multiprocessing.Process
<ANS>
start()
<END>
<QUE>
Django - sorl-thumbnail - accessing thumbnail image from view functions
<ANS>
Entry.objects.all()[0].image.thumbnail.relative_url
<END>
<QUE>
Python Twisted: restricting access by IP address
<ANS>
from twisted.internet.protocol import ServerFactory

class LocalOnlyFactory(ServerFactory):
    def buildProtocol(self, addr):
        if addr.host == "127.0.0.1":
            return ServerFactory.buildProtocol(self, addr)
        return None
<END>
<QUE>
How can I interrupt a recvfrom() call in Python with keyboard?
<ANS>
dataInSocket, _, _ = socket.select.select([sock], [], [])
if dataInSocket:
    data, addr = sock.recvfrom(MAX_MESS_LEN)
    thread.start_new_thread(message_handler, (data, addr,))
<END>
<QUE>
Confused about order for processes
<ANS>
new_word = word[1:] + word[0] + pyg
<END>
<QUE>
Alternate way to delete a node in circular linked in python
<ANS>
def delete(head, value):
    curr = head
    prev = curr.next
    while prev.next != head:
        prev = prev.next

    if curr.value == value:
        prev.next = curr.next

    curr = curr.next
    prev = prev.next
    while curr.value != value and curr != head:
        curr = curr.next
        prev = prev.next

    if curr.value == value:
        prev.next = curr.next
<END>
<QUE>
Start interactive SSH session from Python script
<ANS>
os.system('ssh [...]')
<END>
<QUE>
Export QT Menu to text
<ANS>
submenus = mainwindow.menuBar().findChildren(QAction)
<END>
<QUE>
Store an image in an array using Python
<ANS>
data[i, :, :, :] = arr.transpose(2, 1, 0)
<END>
<QUE>
SQLite not saving data between uses
<ANS>
import sqlite3 as sq
connection = sq.connect("test.db")
cursor = connection.cursor()
cursor.execute("DROP TABLE IF EXISTS test")
cursor.execute("CREATE TABLE test (st TEXT)")
cursor.execute("INSERT INTO test VALUES ('testing')")
connection.commit() # !!!
cursor.execute("SELECT * FROM test")
print(cursor.fetchall())
cursor.close()
connection.close()
connection2 = sq.connect("test.db")
cursor2 = connection2.cursor()
cursor2.execute("SELECT * FROM test")
print(cursor2.fetchall())
<END>
<QUE>
Comparing two dictionaries in Python
<ANS>
shared_items = set(x.items()) & set(y.items())
print len(shared_items)
<END>
<QUE>
Get the Key correspond to max(value) in python dict
<ANS>
maxval = max(dict.iteritems(), key=operator.itemgetter(1))[1]
keys = [k for k,v in dict.items() if v==maxval]
<END>
<QUE>
Reach a string behind unknown value in JSON
<ANS>
for page in data["query"]["pages"].values():
    title = page["title"]
    langlinks = page["langlinks"]
    # do something with langlinks...
<END>
<QUE>
convert number to formatted string in python with prefix 0s
<ANS>
format(number, '03')
<END>
<QUE>
Calling Google Apps Marketplace UpgradeableApp API with Python Appengine App
<ANS>
url = 'https://www.googleapis.com/appsmarket/v2/upgradableApp/oldlisting/newlisting/mybeacon.biz'

consumer_key = 'key'
consumer_secret = 'secret'

consumer = oauth.Consumer(consumer_key, consumer_secret)

client = oauth.Client(consumer)

# Step 1: Get a request token. This is a temporary token that is used for
# having the user authorize an access token and to sign the request to obtain
# said access token.

resp, content = client.request(url, "PUT")
<END>
<QUE>
Concatenate two numpy arrays in the 4th dimension
<ANS>
import numpy as np
a = np.ones((3,4,5))
b = np.ones((3,4,5))
c = np.concatenate((a[...,np.newaxis],b[...,np.newaxis]),axis=3)
<END>
<QUE>
How to count how many records have minimum value in field? (Django)
<ANS>
from django.db.models import Count

Product.objects.get(pk=1).offer_set.all().values('price').annotate(total=Count('price')).order_by('price')
<END>
<QUE>
python choose one object from array
<ANS>
import re
sentence = "You are my favorite. Are you my friend? Are you an elephant?"
items = []
for item in re.finditer("[Aa]re", sentence, ):
    items.append(item.start())
<END>
<QUE>
Iterating over a Python 2D list to find the value
<ANS>
temp_list = []
prev_value = original_list[0][1]

for key, value in original_list:
    if value == prev_value:
        temp_list.append(key)
    else:
        do_something(temp_list)
        print temp_list
        temp_list = [key]
    prev_value = value

do_something(temp_list)
print temp_list

# prints ['4', '3', '2']
# prints ['1', '6']
<END>
<QUE>
Passing in a new value to each key using Python's `dict.fromkeys`
<ANS>
test_dict = dict((x, dict()) for x in ['k1', 'k2'])
<END>
<QUE>
Labels with list in matplotlib
<ANS>
for x_entry, y_entry, label in zip(x,y,labels):
        print label
        self.map.plot(x_entry, y_entry, 'bo', markersize=10, picker=5, label=label)
<END>
<QUE>
Match multiple lines in a file using python
<ANS>
#!/usr/bin/env python

import sys,os,re

print ('Searcing for a line in /etc/pam.d/common-password
')

pass_file = open('/root/p_file/common-password', 'r').readlines()

for i in pass_file:

    if re.search(r"password        required        pam_unix2.so use_authok
", i):

        sys.exit("Sending exit code 0")

    else:

        sys.exit(2)

if __name__=='__main__':
    main(sys.argv)
<END>
<QUE>
NRZ-S with Python
<ANS>
NRZ = [0,0,1,0,1,1,0,1]
NRZS = []

state = NRZ[0]
for bit in NRZ:
    state ^= bit ^ 1
    NRZS.append(state)
<END>
<QUE>
How to read raw png from an array in python opencv?
<ANS>
# Read rawImage from a file, but in reality will have it from TCPServer
f = open('frame.png', "rb")
rawImage = f.read()
f.close()

# Convert rawImage to Mat
pilImage = Image.open(StringIO(rawImage));
npImage = np.array(pilImage)
matImage = cv.fromarray(npImage)

#show it
cv.NamedWindow('display')
cv.MoveWindow('display', 10, 10)
cv.ShowImage('display', matImage)
cv. WaitKey(0)
<END>
<QUE>
Looping through a JSON array and sorting it
<ANS>
data = INPUT_LIST

class Item:
    def __init__(self, _id, name, type, parent):
        self._id = _id
        self.name = name
        self.type = type
        self.parent = parent
        self.children = []

    def get_dict(self):
        return {
            'id': self._id,
            'name': self.name,
            'type': self.type,
            'children': [child.get_dict() for child in self.children]
        }


lookup = dict((item['id'], Item(item['id'], item['name'], item['type'], item['parent'] if 'parent' in item else None)) for item in data)

root = []

for _id, item in lookup.items():
    if not item.parent:
        root.append(item)
    else:
        lookup[item.parent].children.append(item)

dict_result = [item.get_dict() for item in root]
<END>
<QUE>
Renaming all files in a folder based on the filenames they already have
<ANS>
filename = os.path.join("C:\path\to\Sales Packs", filename)
os.rename(filename, filename[0:11]+accName+".xlsx")
<END>
<QUE>
clear screen returning 256 in python
<ANS>
os.system('clear')
<END>
<QUE>
Remove some words replace some other words from a txt file
<ANS>
import re

st='''\
The ancient Romans influenced countries and civilizations in the following centuries.  
Their language, Latin, became the basis for many other European languages. They stayed in Roma for 3 month.'''

deletions=('and','in','the')
repl={"ancient": "old", "month":"years", "centuries":"years"}

tgt='|'.join(r'\b{}\b'.format(e) for e in deletions)
st=re.sub(tgt,'',st)
for word in repl:
    tgt=r'\b{}\b'.format(word)
    st=re.sub(tgt,repl[word],st)


print st
<END>
<QUE>
Extract html cell data with BeautifulSoup and Requests
<ANS>
import bs4
import requests 

response = requests.get('http://my.gwu.edu/mod/pws/courses.cfm?campId=1&termId=201501&subjId=ACCY')
soup = bs4.BeautifulSoup(response.text)  

for tr in soup.findAll('tr')[11:]:
    stack = []
    for td in tr.findAll('td'):
        stack.append(td.text.strip())
    print(",".join(stack))
<END>
<QUE>
Trim a list to a maximum number of elements
<ANS>
L = L[-100:]
<END>
<QUE>
how to get the peer list of a torrent using python-libtorrent?
<ANS>
for i in p:
   print i.ip()
<END>
<QUE>
Generating random values in python
<ANS>
both = [ random.randint(0, 500) for i in range(100) ]
odd = [ x for x in both if x % 2 == 1 ]
even = [ x for x in both if x % 2 == 0 ]
<END>
<QUE>
How to display a 3D plot of a 3D array isosurface in matplotlib mplot3D or similar?
<ANS>
import numpy as np
from enthought.mayavi import mlab

x, y, z = np.ogrid[-10:10:20j, -10:10:20j, -10:10:20j]
s = np.sin(x*y*z)/(x*y*z)

src = mlab.pipeline.scalar_field(s)
mlab.pipeline.iso_surface(src, contours=[s.min()+0.1*s.ptp(), ], opacity=0.3)
mlab.pipeline.iso_surface(src, contours=[s.max()-0.1*s.ptp(), ],)

mlab.show()
<END>
<QUE>
Read in Raw Binary Image in Python
<ANS>
import numpy as np
from matplotlib import pylab as plt

A = np.fromfile(filename, dtype='int16', sep="")
A = A.reshape([1024, 1024])
plt.imshow(A)
<END>
<QUE>
Multiple fontsize in same label Matplotlib
<ANS>
import pylab as plt
a=[0,1]
b=[0,1]
plt.plot(a,b,'g',linewidth=3.5, label = 'a')
plt.rc('text', usetex=True)
plt.legend(labelspacing = 1.0,loc=1,prop={'size':40})

plt.text(0.45,-0.08,'a',fontsize=50)
plt.text(0.53,-0.08, 'N',fontsize = 20)
<END>
<QUE>
Converting string timestamp to Python datetime (was: how to properly convert char into float or double in Python)
<ANS>
from datetime import datetime, tzinfo, timedelta

timestamp = "1322485986.672901000"

class UTC(tzinfo):
    def utcoffset(self, dt):
         return timedelta(0)
    def tzname(self, dt):
        return "UTC"
    def dst(self, dt):
        return timedelta(0)


d1 = datetime.fromtimestamp(float(timestamp), UTC())
print d1
<END>
<QUE>
how to draw a simple bar chart with labels in python using matplotlib in python?
<ANS>
import numpy as np
import matplotlib.pyplot as plt

# Specify data / labels
y = [3198293, 189910]
xlabels = ['transactional','promotional']
bar_width = 0.90

x = np.arange(len(y))

fig, ax = plt.subplots()
ax.bar(x, y, width=bar_width)
ax.set_xticks(x + (bar_width/2.0))
ax.set_xticklabels(xlabels)
plt.show()
<END>
<QUE>
How to split a numpy array based on a column?
<ANS>
y = [x[x[:,3]==k] for k in np.unique(x[:,3])]
<END>
<QUE>
Insert different variable (pulled from dictionary) into URL within a loop
<ANS>
url_list = ["cat", "dog", "mouse"]

for url in url_list:
    driver.get("https://www.google.com/webhp?hl=en#hl=en&q=" + url)
    # do stuff
<END>
<QUE>
tkinter delete multiple unselected items of a listbox
<ANS>
def ons():
    cs=StringVar
    cs=""
    a=''
    for i in range(listbox.size()):
        if listbox.select_includes(i):
            cs +=listbox.get(i)+' ' #adding words ending with whitespace
    listbox.delete(0,END) #deleting all the listbox content
    for item in cs:
        a=a+item
        if item==' ': #full string passed
            listbox.insert(END,a) #insert selected item into listbox
            a=''#delete the string buffer
<END>
<QUE>
Parsing Tree of python classes and applying a grammar
<ANS>
def transform(s):
    ''' Receives a GeoNode structure as nested lists and returns a Mesh.
    '''
    if isinstance(s, list):
       return merge_meshes([transform(e) for e in s])
    else:
       assert isinstance(s, GeoNode)
       return geonode_to_mesh(s)
<END>
<QUE>
How to extract data from rows in .csv file into separate .txt files using python?
<ANS>
with open('test.csv', 'r') as file:
    data = file.read().split('
')

for row in range(1, len(data)):
    third_col= data[x].split(',')
    with open('t' + str(x) + '.txt', 'w') as output:
        output.write(third_col[2])
<END>
<QUE>
Appending row to Pandas DataFrame adds 0 column
<ANS>
#you need to explicitly name the columns of the incoming parameter in the append statement
df = DataFrame(columns=['col1', 'col2'])
print df.append(Series([None]*2, index=['col1','col2']), ignore_index=True)


#as an aside

df = DataFrame(np.random.randn(8, 4), columns=['A','B','C','D'])
dfRowImproper = [1,2,3,4]
#dfRowProper = DataFrame(arange(4)+1,columns=['A','B','C','D']) #will not work!!! because arange returns a vector, whereas DataFrame expect a matrix/array#
dfRowProper = DataFrame([arange(4)+1],columns=['A','B','C','D']) #will work


print df.append(dfRowImproper) #will make the 0 named column with 4 additional rows defined on this column

print df.append(dfRowProper) #will work as you would like as the column names are consistent

print df.append(DataFrame(np.random.randn(1,4))) #will define four additional columns to the df with 4 additional rows


print df.append(Series(dfRow,index=['A','B','C','D']), ignore_index=True) #works as you want
<END>
<QUE>
Convert text file into list
<ANS>
import sys
states = []
cities = []
fname = sys.argv[1]
f = open(fname, 'r')
for line in f:
    line = line.rstrip() # This will remove all the whitespaces at the end of the line
    line = line.split(',')
    states.append(line[0])
    cities.append(line[1])

print states
print cities
f.close()
<END>
<QUE>
JSON file reading by Django
<ANS>
# Read file 
f = open('path_to_file.json')
json_string = f.read()
f.close()

# Convert json string to python object
import json
data = json.loads(json_string)

# Create model instances for each item
items = []
for item in data:
   # create model instances...
   item = YourModel(*item)
   items.append(item)

# Create all in one query
YourModel.objects.bulk_create(items)
<END>
<QUE>
matplotlib scatter plot colour as function of third and fourth variable
<ANS>
import numpy as np
from matplotlib import pyplot as plt
x = np.random.random(50)
y = np.random.random(50)
a = np.random.random(50)
b = np.random.random(50)
s = c=zip(a, b, np.zeros(50))
ax = plt.gca()
print ax.get_position()
plt.scatter(x,y,c = s)
#adjust limits to make room for inset axes
plt.xlim(xmax = 1.5)
plt.ylim(ymax = 1.5)
#create inset axes
ax = plt.axes([.7, .675, .2, .2], axisbg='y')
n = 20
red = np.linspace(min(a), max(a), n)
green = np.linspace(min(b), max(b), n)
floats = np.linspace(0, 1, n)
#make arrays of all possible values between 0 and 1
X, Y = np.meshgrid(floats, floats)
#stack the arrays with a third array of zeros
Z = np.dstack((X, Y, np.zeros(X.shape)))
Z = np.rot90(Z)
red = np.round(red[::-1], 2)
green = np.round(green, 2)
plt.imshow(Z)
ticks = np.arange(0, n, 6)
plt.yticks(ticks, [red[i] for i in ticks])
plt.xticks(ticks, [green[i] for i in ticks], rotation = 'vertical')
plt.xlabel('Green')
plt.ylabel('Red')
plt.show()
<END>
<QUE>
Joining dictionaries in a for loop
<ANS>
dic = {m : my_function(m) for m in my_list}
<END>
<QUE>
Python Check if two list of jsons are equal
<ANS>
def json_equal(json1,json2):

   number_of_items = len(json1)
   for item in json1:
       for item2 in json2:
           if item["address"] == item2["address"]:
               if item["amount"] == item2["amount"]:
                   number_of_items -= 1
                   break
           else:
               continue
   if number_of_items == 0:
       return True
   else:
       return False
<END>
<QUE>
Most efficient way of checking list membership of more that one value
<ANS>
a = [1,2,3,4]
b = [1,2]

print any(x in a for x in b)
True
<END>
<QUE>
How to execute a Javascript function in python with selenium
<ANS>
a = wd.execute_script("return checkdata('" + code + "');")
<END>
<QUE>
remove first line of tsv using sniffer
<ANS>
data= csv.reader(open('outfile.tsv','rb'), delimiter = "\t")
fields=data.next()
for row in data:
         tsid=row[0]
         full_list.append(tsid)
print [(g[0],len(list(g[1]))) for g in itertools.groupby(full_list)]
<END>
<QUE>
Any way to open a local folder in myComp/explorer programmatically using Python?
<ANS>
import subprocess
subprocess.Popen("C:\ThisIsTheFolderIWantToNavigateTo")
<END>
<QUE>
how to remove tokens that contains number followed by character using regular expression in python?
<ANS>
re.sub(r"[0-9]+[a-z]+","",str)
<END>
<QUE>
equivalent connection for postgres and sqlite
<ANS>
conn_string = "host='localhost' dbname='my_database' user='postgres' password='secret'"
conn = psycopg2.connect(conn_string)
<END>
<QUE>
Python Azure SDK Uploading a Blob
<ANS>
print sys.exc_info()[1]
<END>
<QUE>
Read real-time data inserted as chunks
<ANS>
namedict = ({"first_name":"Joshua", "last_name":"Drake"},
            {"first_name":"Steven", "last_name":"Foo"},
            {"first_name":"David", "last_name":"Bar"})

cur = conn.cursor()
cur.executemany("""INSERT INTO bar(first_name,last_name) VALUES (%(first_name)s, %(last_name)s)""", namedict)
<END>
<QUE>
how can I play a sound with pygame while the system is waiting?
<ANS>
pygame.time.delay()
<END>
<QUE>
data is not inserting in my table
<ANS>
cursor.execute('INSERT INTO actors(name,age) VALUES(%s, %s)' ,row)
<END>
<QUE>
Making a multi-table inheritance design generic in Django
<ANS>
from django.db import models
from django.contrib.contenttypes.models import ContentType

class BaseModel(models.Model):
    type = models.ForeignKey(ContentType,editable=False)
    # other base fields here

    def save(self,force_insert=False,force_update=False):
        if self.type_id is None:
            self.type = ContentType.objects.get_for_model(self.__class__)
        super(BaseModel,self).save(force_insert,force_update)

    def get_instance(self):
        return self.type.get_object_for_this_type(id=self.id)
<END>
<QUE>
How to output JSON in python so it can be used for Geckoboard's Highcharts plugin
<ANS>
#!/usr/bin/env python
import json
import urllib2

try:
    r = urllib2.urlopen("https://push.geckoboard.com/v1/send/" + widget_key,
                        json.dumps(nested_dict))
except IOError as e:
    if hasattr(e, 'reason'):
       print "connection error:", e.reason
    elif hasattr(e, 'code'):
       print "http error:", e.code
       print e.read()
    else:
       print "error:", e
else: # success
    assert json.load(r)["success"]
<END>
<QUE>
Flask route query parameter
<ANS>
app.add_url_rule('/example', view_func = example.Index.as_view('example_index'))
app.add_url_rule('/example/<string:example_key>', view_func = example.Show.as_view('example_show'), methods=['GET'])
<END>
<QUE>
3D interpolation of NumPy arrays without SciPy
<ANS>
output = np.empty(indices[0].shape)
x_indices = indices[0]
y_indices = indices[1]
z_indices = indices[2]

x0 = x_indices.astype(np.integer)
y0 = y_indices.astype(np.integer)
z0 = z_indices.astype(np.integer)
x1 = x0 + 1
y1 = y0 + 1
z1 = z0 + 1

#Check if xyz1 is beyond array boundary:
x1[np.where(x1==input_array.shape[0])] = x0.max()
y1[np.where(y1==input_array.shape[1])] = y0.max()
z1[np.where(z1==input_array.shape[2])] = z0.max()

x = x_indices - x0
y = y_indices - y0
z = z_indices - z0
output = (input_array[x0,y0,z0]*(1-x)*(1-y)*(1-z) +
             input_array[x1,y0,z0]*x*(1-y)*(1-z) +
             input_array[x0,y1,z0]*(1-x)*y*(1-z) +
             input_array[x0,y0,z1]*(1-x)*(1-y)*z +
             input_array[x1,y0,z1]*x*(1-y)*z +
             input_array[x0,y1,z1]*(1-x)*y*z +
             input_array[x1,y1,z0]*x*y*(1-z) +
             input_array[x1,y1,z1]*x*y*z)

return output
<END>
<QUE>
Chain FormEncode Validators
<ANS>
from formencode import FancyValidator, Invalid
from formencode.validators import Email

class EmailList(FancyValidator):
    """ Takes a delimited (default is comma) string and returns a list of validated e-mails
        Set the delimiter by passing delimiter="A_DELIMITER" to the constructor.
        Also takes all arguments a FancyValidator does.  
        The e-mails will always be stripped of whitespace.
    """
    def _to_python(self, value, state):
        try:
            values = str(value).split(self.delimiter)
        except AttributeError:
            values = str(value).split(',')
        validator = formencode.ForEach(validators.Email())
        validator.to_python(values, state)
        return [value.strip() for value in values]
<END>
<QUE>
Matplotlib: Markers surrounded by white space
<ANS>
import numpy as np
import matplotlib.pyplot as plt
# random data to stand in
x1 = 0.8+0.1*np.random.rand(25)
x2 = 0.3+0.2*np.random.rand(25)
# customise the marker properties
plt.plot(x1, color='g', marker='s', mec='w', mfc='g', mew='3', ms=8)
plt.plot(x2, color='b', marker='s', mec='w', mfc='b', mew='3', ms=8)
plt.show()
<END>
<QUE>
Are there default icons in PyQt/PySide?
<ANS>
undoicon = QIcon.fromTheme("edit-undo")
<END>
<QUE>
Trying to use list comprehension to convert list of strings to integers?
<ANS>
def readMatrix(file):
    with open(file) as contents:
        return [[int(item) for item in line.split()] for line in contents]
<END>
<QUE>
Can't display images on html page from database
<ANS>
urlpatterns = patterns('',
    # ... the rest of your URLconf goes here ...
) + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
<END>
<QUE>
Plot matrix data with custom tick labels
<ANS>
import matplotlib.pyplot as plt
import numpy as np

grid = np.random.rand(4, 4)
x = ['P0', 'P1', 'P2', 'P4']
y = ['C0', 'C1', 'C2', 'C4']
plt.imshow(grid, interpolation='none')
plt.xticks(range(len(x)), x, fontsize=12)
plt.yticks(range(len(y)), y, fontsize=12)
<END>
<QUE>
Python: Receiving Data through Sockets - [Errno 11] Resource temporarily unavailable
<ANS>
import socket
import sys
import time

class Tek_scope(object):

    def __init__(self, IPaddress, PortNumber = 4000):
        self.s = socket.socket(socket.AF_INET , socket.SOCK_STREAM)
        self.s.connect((IPaddress, PortNumber))
        self.s.setblocking(True)
        print "Scope opened Successfully"

scope1 = Tek_scope("10.1.10.15") #Connects to the scope

scope1.s.send('*IDN?
') #Sends the *IDN? command to the scope. 

print scope1.s.recv(1024)
<END>
<QUE>
Disable checkboxes by other checkboxes in Tkinter
<ANS>
def cb_check():
    if random_cards.get():
        randomize_stacks_checkbutton.config(state=DISABLED)
    else:
        randomize_stacks_checkbutton.config(state=NORMAL)

top=Tk()
random_cards = IntVar() 
random_stacks = IntVar() 
flip_cards = IntVar() 
wildcard = IntVar()

randomize_cards_checkbutton = Checkbutton(top, text="Randomize cards",
                              variable=random_cards, command=cb_check)
randomize_cards_checkbutton.grid(row=0, column=0, sticky=W)

randomize_stacks_checkbutton = Checkbutton(top, text="Randomize stacks",
                               variable=random_stacks, bg="lightblue",
                               disabledforeground="gray")
randomize_stacks_checkbutton.grid(row=1, column=0, sticky=W)

top.mainloop()
<END>
<QUE>
How to delete record from table?
<ANS>
conn = sqlite3.connect('databaza.db')
c = conn.cursor()
conn.text_factory = str    
data3 = str(input('Please enter name: '))
query = "DELETE FROM Zoznam WHERE Name = '%s';" % data3.strip()
print(query)
mydata = c.execute(query)
<END>
<QUE>
Generate days row on the basis of date range column
<ANS>
import datetime
from dateutil.parser import parse as parse_date
from pandas import DataFrame

df = DataFrame([['2009-01-04 - 2009-01-10','Some Data'], 
                ['2009-01-11 - 2009-01-17','Some Data']])
df.columns = ['week','data']

def generate_dates(date_range):
    day1_str, day2_str = date_range.split(' - ')
    day1, day2 = parse_date(day1_str), parse_date(day2_str)
    delta = day1 - day2
    return [day1 + datetime.timedelta(days=x) for x in range(0, abs(delta.days + 1))]

def create_rows_from_row(row):
    dates = generate_dates(row['week'])
    return [[d, row['data']] for d in dates]

def create_new_df(df):
    rows = []
    for idx in range(len(df)):
        rows.extend(create_rows_from_row(df.ix[idx]))

    new_df = DataFrame(rows)
    new_df.columns = ['week','data']
    return new_df

create_new_df(df)
<END>
<QUE>
How to calculate numerical trend lines in python
<ANS>
def derivs(l):
  return [l[i + 1] - l[i] for i in range(len(l) - 1)]
<END>
<QUE>
How do I check HTTP headers of an incoming request to Google Appengine in Python?
<ANS>
self.request.headers
<END>
<QUE>
How to retrieve a Youtube page without starting to stream the video?
<ANS>
requests.get()
<END>
<QUE>
django unittest without database connection
<ANS>
from django.db import DatabaseError
from django.test import TestCase
from django.test.client import Client
import mock

class NoDBTest(TestCase):
    cursor_wrapper = mock.Mock()
    cursor_wrapper.side_effect = DatabaseError

    @mock.patch("django.db.backends.util.CursorWrapper", cursor_wrapper)
    def test_no_database_connection(self):
        response = self.client.post('/signup/', form_data)
        self.assertEqual(message, 'An error occured with the DB')
<END>
<QUE>
In python, on windows, how to wait until mouse moves?
<ANS>
import win32api
from time import sleep

count = 0
savedpos = win32api.GetCursorPos()
while(True):
    if count>20*5: # break after 5sec
        break

    curpos = win32api.GetCursorPos()
    if savedpos != curpos:
        savedpos = curpos
        print "moved to " + str(savedpos)

    sleep(0.05)
    count +=1
<END>
<QUE>
Python list with constant value
<ANS>
[z0] * len(seconds)
<END>
<QUE>
Extract only the latest one (by date) from a json/dict using Python
<ANS>
from dateutil.parser import parse

latest = max(data['posts'], key=lambda x: parse(x['date']))
<END>
<QUE>
Django Rest Framework: How to manipulate value of one field of the model inside view class?
<ANS>
poi_id = serializers.UUIDField(format='hex_verbose')
<END>
<QUE>
How to read single values that contains commas in csv file using python
<ANS>
import csv

csv_file = open('D:\eggs2.csv','rb')
csv_reader = csv.reader(csv_file)
for row in csv_reader:
    print row[0]

csv_file.close()
<END>
<QUE>
SyntaxError invalid syntax
<ANS>
data = ['K:C:192.168.1.3:myusername:mypassword', 'M:N:192.168.3.2:root:toor']
for i in data:
    r = str(i).strip(":")
    if len(r) == 4:
        print r[0] + "   ||" + ((28 - len(r[1])) / 2) * " " + r[1] + ((28 - len(r[1])) / 2) * " " + "||" + ((22 - len(r[2])) / 2) * " " + r[2] + ((22 - len(r[2])) / 2) * ' ' + "||" + ((22 - len(r[3])) / 2) * " " + r[3] + ((22 - len(r[3])) / 2) * " "
    elif len(r) == 3:
        print r[0] + "   ||" + ((28 - len(r[1])) / 2) * " " + r[1] + ((28 - len(r[1])) / 2) * " " + "||" + ((22 - len(r[2])) / 2) * " " + r[2] + ((22 - len(r[2])) / 2) * ' ' + "||"
<END>
<QUE>
Facebook SDK for Python - Get user email
<ANS>
graph = facebook.GraphAPI(access_token)
profile = graph.get_object('me')
args = {'fields' : 'id,name,email', }
profile = graph.get_object('me', **args)
<END>
<QUE>
Comparing two QuerySets in Python/Django
<ANS>
attrs_list = Entity.objects.filter(**filters).distinct().values_list('someattr', flat=True)
a = Character.objects.filter(someotherattr__in=attrs_list)
<END>
<QUE>
Appending to the front of for statement output
<ANS>
offset = -0
print ("In Command 3 - Brute force")
string = input("Please enter a string to Brute Force:")
while offset > -26:
    offset = offset - 1
    word = ""
    for letter in string:
        letter = (ord(letter))
        letter = letter + offset
        if letter > 126:
            letter - 95
        elif letter < 32:
            letter + 32
        output = (chr(letter))
        word = word + output            
        choice = 0
    print("Decryption: "+word)
<END>
<QUE>
key and value in zip
<ANS>
Timestaken4={}

for key,value in zip(NumberPlates,Timestaken2):
    Timestaken4[key]=value

print(Timestaken4)
<END>
<QUE>
Is there a wxpython event like program_start?
<ANS>
def OnInit(self):
    # Check for a running instance for this user.  Do not instantiate if found.
    if self.checkInstance():
      dbcon.cursor().callproc('post_mutex', (self.mutexname,))
      dbcon.commit()
      self.Cleanup()
      return False

    # Register for database events.
    DataCache['dbListener'] = dbListener()

    return True
<END>
<QUE>
find match folders then copy files and subfolders
<ANS>
import os, shutil

dir1 = r'/path/to/dir/1'
dir2 = r'/path/to/dir/2'
copy_dest = r'/path/to/copy/dirs/to'

dir1_folders = [dir for dir in os.listdir(dir1) if os.path.isdir(os.path.join(dir1, dir))]
dir2_folders = [dir for dir in os.listdir(dir2) if os.path.isdir(os.path.join(dir2, dir))]

for dir in dir1_folders:
    if dir in dir2_folders:
        shutil.copytree(os.path.join(dir1, dir), os.path.join(copy_dest, dir))
<END>
<QUE>
in Python find number of same elements in 2 lists
<ANS>
l1 = ['a', 'b', 'c', 'd']
l2 = ['c', 'd', 'e']
set(l1).intersection(l2)
set(['c', 'd'])
<END>
<QUE>
In Django-admin, how to show foreignkey's foreignkey in the same page?
<ANS>
djang-nested-inline
<END>
<QUE>
printing child nodes along with their xml tags in python
<ANS>
from bs4 import BeautifulSoup as Soup

with open("sample.xml", "r") as f:
    target_xml = f.read()

# create a `Soup` object
soup = Soup(target_xml, "xml")                                                                                                        

# loop through all <driver> returned as a list and prints all 
for d in soup.find_all("driver"):
    print(d)
<END>
<QUE>
python - string match only whole words
<ANS>
re.search(r'\b' + re.escape(' '.join(query)) + r'\b', ' '.join(line)) is not None
<END>
<QUE>
How do you checkout a branch with pygit2?
<ANS>
import pygit2
repo = pygit2.Repository('.git')
branch = repo.lookup_branch('new')
ref = repo.lookup_reference(branch.name)
repo.checkout(ref)
<END>
<QUE>
Comment xml sections in Python
<ANS>
itemlist = dom.getElementsByTagName('filter-name')
for item in itemlist:
    if "Filter1" == item.childNodes[0].nodeValue:
        #need to comment the whole node containing the filter-name
        comment_node(item.parentNode)
print dom.toxml() # verif
<END>
<QUE>
Python - Can't import with_statement from __future__
<ANS>
#!/usr/bin/python2.x
<END>
<QUE>
Python Finding Index of Maximum in List
<ANS>
for i in range(len(a)):
    if a[i] > max:
        max = a[i]
        maxIndex = i
<END>
<QUE>
How to take a specific string from a csv file into a list - python 3.4
<ANS>
names = list()
a = open(sf, 'r')
for row in a:
    place = row.find(',')
    names.append(row[:place])
print(names)
<END>
<QUE>
compute a xi-xj matrix in numpy without loops (by api calls)
<ANS>
import numpy as np
x = np.random.rand(4)
x = x.reshape(-1,1)
xij = np.matrix(x.T - x)
<END>
<QUE>
facebook get friends' birthdays using python
<ANS>
args = {'fields' : 'birthday,name' }
friends = graph.get_object("me/friends",**args)
<END>
<QUE>
Variables not updated from within baseHTTPserver class
<ANS>
global lat, lon, speed
<END>
<QUE>
django1.8- how to append information manually when uploading Excel and inserting into database
<ANS>
if request.method == "POST":
        form = XXXXForm(request.POST,request.FILES)
        if form.is_valid():
            docfile=request.FILES['docfile']

        if isinstance(docfile, (InMemoryUploadedFile, TemporaryUploadedFile)):
            book = xlrd.open_workbook(file_contents=docfile.read(), formatting_info=True, on_demand=True)
        else:
            book = xlrd.open_workbook(filename=docfile, formatting_info=True, on_demand=True)

        sheet = book.sheet_by_index(0)
        new_csv_file = csv.writer(open('new_filename', 'w'))
        # read file
        for line in range(1, sheet.nrows):
            new_row = [request.session.get('uploader'), request.session.get('date')]
            new_row.extend(sheet.row_values(line))                
            new_csv_file.writerow(new_row)
<END>
<QUE>
Determining whether an value is a whole number in Python
<ANS>
if x % 3 == 0:
    print 'x is divisible by 3'
<END>
<QUE>
How do I import modules from an array in python?
<ANS>
for m in modules:
    globals()[m] = __import__(m)
<END>
<QUE>
How to sort in decreasing value first then increasing in second value
<ANS>
print sorted(student_tuples, key=lambda t: (-t[2], t[0]))
# [('john', 'A', 15), ('dave', 'C', 12), ('peter', 'B', 12)]
<END>
<QUE>
Detecting border of plane in Blender Python API
<ANS>
EdgeFaces = {} # mapping from edge to adjacent faces
for ThisFace in TheMesh.faces :
    for ThisEdge in ThisFace.edge_keys :
        if not ThisEdge in EdgeFaces :
            EdgeFaces[ThisEdge] = []
        #end if
        EdgeFaces[ThisEdge].append(ThisFace.edge_keys)
    #end for
#end for
<END>
<QUE>
Python sqlite3 saving data
<ANS>
connect.execute(tobeexec, params);
connect.commit()
connect.close()
<END>
<QUE>
Python - How do I differentiate between two list elements that point to the same object?
<ANS>
if x[3] is x[4]:
    print "What's the difference?"
<END>
<QUE>
Multiple field names in appengine search
<ANS>
title, author, news_id
hi   ,    max,       1
hello,    max,       1
world,     me,       1
sup  ,     me,       2
<END>
<QUE>
Python Current Time in English Sentence
<ANS>
import datetime as dt

d = {0: "(oh)",
     1: "one",
     2: "two",
     3: "three",
     4: "four",
     5: "five",
     6: "six",
     7: "seven",
     8: "eight",
     9: "nine",
     10: "ten",
     11: "eleven",
     12: "twelve",
     13: "thirteen",
     14: "fourteen",
     15: "fifteen",
     16: "sixteen",
     17: "seventeen",
     18: "eighteen",
     19: "nineteen",
     20: "twenty",
     30: "thirty",
     40: "forty",
     50: "fifty",
     60: "sixty"}

def display_time(t):
    Hour = d[int( t[0:2])] if t[0:2] != "00" else d[12]
    Suffix = 'a.m.' if d[int( t[7:9])] == Hour else 'p.m.'

    if  t[3] == "0":
        if  t[4] == "0":
            Minute = ""
        else:
            Minute = d[0] + " " + d[int(t[4])]
    else:
        Minute = d[int(t[3])*10] + '-' + d[int(t[4])]
    print 'The time is', Hour, Minute, Suffix

display_time(dt.datetime.now().strftime('%I %M %H'))
display_time("07 45 19")
display_time("11 06 23")
display_time("00 00 00")
<END>
<QUE>
Python read specific lines of text
<ANS>
def getBlocks(filepath):
    with open(filepath) as f:
        blocks = []
        go = False
        for line in f:
            if line.strip() == startDelimiter:
                block = ''
                go = True
            if go:
                block += line
            if line.strip() == endDelimiter:
                blocks.append(block)
                block = ''
                go = False
        if block:
            blocks.append(block)
    return blocks
<END>
<QUE>
How do I restrict access to admin pages in Django?
<ANS>
from django.core.urlresolvers import reverse
from django.http import Http404

class RestrictStaffToAdminMiddleware(object):
    """
    A middleware that restricts staff members access to administration panels.
    """
    def process_request(self, request):
        if request.path.startswith(reverse('admin:index')):
            if request.user.is_authenticated():
                if not request.user.is_staff:
                    raise Http404
            else:
                raise Http404
<END>
<QUE>
BitTorrent Sync log parsing using Python
<ANS>
import csv
log=open("sync_de.log",'r')
out=open("fn.csv",'w')
csv = csv.writer(out)

#  to store the list
out_list = []

for eachline in log:
   # your code
   if blabla:
      out_list.append([filename, start, end])

# write the csv
csv.writerows(out_list)
<END>
<QUE>
How to change fonts in matplotlib (python)?
<ANS>
csfont = {'fontname':'Comic Sans MS'}
hfont = {'fontname':'Helvetica'}

plt.title('title',**csfont)
plt.xlabel('xlabel', **hfont)
plt.show()
<END>
<QUE>
How to generate a `kwargs` list?
<ANS>
def foo(**kwargs):
    pass

foo(**{ 'foo' : 123, 'bar' : 456 })
<END>
<QUE>
Replace multiple strings in csv file
<ANS>
def replace_all(text, dic):
    for i, j in dic.iteritems():
        text = text.replace(i, j)
    return text

f_dic = {'a':'d'}
s_dic = {'1':'x'}

with open('file1.csv','r') as f:
    text=f.read()
    with open('file2.csv','w') as w:
        text=replace_all(text,f_dic)
        text=replace_all(text,s_dic)
        print text
        w.write(text)
<END>
<QUE>
Efficient grouping of rows from Nx2 integer numpy array to match sequential elements in rows
<ANS>
from collections import defaultdict

def ordered(data, N):
    edges = defaultdict()
    for v1, v2 in data:
        edges.setdefault(v1, []).append(v2)
        edges.setdefault(v2, []).append(v1)

    visited = [False] * N
    path = None
    for v in range(N):
        if not visited[v]:
            path = dfs(edges, visited, v)
            if path is not None: break
    if path is not None:
        return [[path[i], path[i + 1]] for i in range(len(path) - 1)]


def dfs(edges, visited, v1, vp=None):
    path = [v1]
    if visited[v1]: return path
    visited[v1] = True
    for v2 in edges[v1]:
        if v2 == vp: continue
        path_child = dfs(edges, visited, v2, v1)
        if path_child is not None: return path + path_child
    return None

data = [[0, 7], [1, 8], [2, 9], [3, 0], [4, 1], [5, 2], [6, 3], [4, 7], [8, 5], [9, 6]]
N = 10
ord = ordered(data, N)

[[0, 7], [7, 4], [4, 1], [1, 8], [8, 5], [5, 2], [2, 9], [9, 6], [6, 3], [3, 0]]
<END>
<QUE>
Unable to open images downloaded using beautiful soup library
<ANS>
for image in soup.findAll("img"):
        print "Old Image Path: %(src)s" % image
        #Get file name
        filename = image["src"].split("/")[-1]
        #Get full path name if url has to be parsed
        parsedURL[2] = image["src"]
        image["src"] = '%s\%s' % (phonepath,filename)
        #Old File path (local to computer)
        #image["src"] = '%s\%s' % (out,filename)
        print 'New Path: %s' % image["src"]
        #       print image
        outpath = os.path.join(out, filename)

        #retrieve images
        if parsedURL[2].lower().startswith("http"):
            #urlretrieve(image["src"], outpath)
            urlretrieve(parsedURL[2], outpath)
            print image["src"].lower()
        else:
            print "HTTP INFO " + urlparse.urlunparse(parsedURL)
            print "HTTP INFO " + image["src"].lower()
            urlretrieve(urlparse.urlunparse(parsedURL), outpath) #Constructs URL from tuple (parsedURL)
            #print image["src"].lower()
<END>
<QUE>
Getting a specific column in a CSV file using Python
<ANS>
import csv

with open('filename.csv', 'rb') as f:
    reader = csv.reader(f)
    counter = 0
    for row in reader:
        if len(row) == 0:
            counter += 1
            print counter, row
<END>
<QUE>
Convert a column of timestamps into periods in pandas
<ANS>
df[1] = df[0].dt.to_period('M')
<END>
<QUE>
Reading data file with varying number of columns python
<ANS>
from itertools import izip_longest
def grouper(iterable, n, fillvalue=None):
    "Collect data into fixed-length chunks or blocks"
    # grouper('ABCDEFG', 3, 'x') --> ABC DEF Gxx
    args = [iter(iterable)] * n
    return izip_longest(fillvalue=fillvalue, *args)


with open('z.t') as f:
    d = grouper(f, 4)
    for x in d:
            print ','.join(y.rstrip() for y in x) 

a,b,c,d,e,f,g,h
i,j,k,l,m,n,o,p
<END>
<QUE>
How could I remove newlines from all quoted pieces of text in a file?
<ANS>
import csv
with open("input.csv", "rb") as input, open("output.csv", "wb") as output:
    w = csv.writer(output)
    for record in csv.reader(input):
        w.writerow(tuple(s.remove("
") for s in record))
<END>
<QUE>
Reading serial data from Arduino project (pySerial)
<ANS>
#!/usr/bin/python
# -*- coding: utf-8 -*-

import serial
import sys
import time

port = "/dev/serial/by-id/usb-FTDI_FT232R_USB_UART_AE01J6GZ-if00-port0"

baudrate = 115200

if len(sys.argv) == 3:
    ser = serial.Serial(sys.argv[1], sys.argv[2])
else:
    print "# Please specify a port and a baudrate"
    print "# using hard coded defaults " + port + " " + str(baudrate)
    ser = serial.Serial(port, baudrate)

# enforce a reset before we really start
#ser.setDTR(1)
#time.sleep(0.25)
#ser.setDTR(0)

while 1:
    sys.stdout.write(ser.readline())
    sys.stdout.flush()
<END>
<QUE>
Mixed-characters strings to ordered list
<ANS>
import urllib
import json

response = urllib.urlopen("http://sncf.mobi/infotrafic/iphoneapp/transilien/?gare=BEC")
if response.getcode() == 200:
    data = json.load(response)
    for train in data["D"]:
        print "Train number", train["numerotrain"], "code", train["codevoyageur"]
else:
    print "Failed to load data:", response.getcode()
<END>
<QUE>
How do I determine if a Python sqlite UPDATE worked?
<ANS>
cursor.rowcount
<END>
<QUE>
Split stock quote to tokens in Python
<ANS>
#!/usr/bin/env python3

import re

str="[class,'STOCK'],[symbol,'AAII'],[open,2.60],[high,2.70],[low,2.53],[close,2.60],[volume,458500],[date,'21-Dec-04'],[openClosePDiff,0.0],[highLowPDiff,0.067],[closeEqualsLow,'false'],[closeEqualsHigh,'false']"
str = re.sub('^\[','',str)
str = re.sub('\]$','',str)
array = str.split("],[")
for line in array:
    print(line)
<END>
<QUE>
For each value in dict?
<ANS>
for k in myDict:
    myDict[k] /= 2
<END>
<QUE>
Python with selenium: rerun on pre-existing browser
<ANS>
from pdb import set_trace
driver = webdriver.Firefox()
driver.get("google.com")
set_trace()
driver.find_element_by_xpath("//input[@id='gbqfq']").send_keys("cats" + Keys.RETURN)
<END>
<QUE>
NUMPY create, fill with random binary data
<ANS>
import numpy as np
row, col = 10, 5
matrix = np.random.randint(2, size=(row,col))
<END>
<QUE>
Python - Formatting specific data within text files
<ANS>
import sys

if len(sys.argv) != 2:
    print 'Add an input file as parameter'
    sys.exit(1)

print 'opening file: %s' % sys.argv[1]

with open(sys.argv[1]) as input, open('output', 'w+') as output:
    for line in input:
        if line is not None:
            if line == '
':
                pass
            elif 'OK' in line:
                pass
            else:
                new_line = line.split(' ', 7)
                output.write('%s,%s,%s,%s / %s
' % (new_line[1], new_line[2], new_line[3], new_line[4], new_line[6]))
                # just for checking purposes let's print the lines
                print '%s,%s,%s,%s / %s' % (new_line[1], new_line[2], new_line[3], new_line[4], new_line[6])
<END>
<QUE>
How to dump compressed strings in json?
<ANS>
data['extras'] = base64.b64encode(zlib.compress("My string".encode("utf-8")))
<END>
<QUE>
Editing MS Word header with win32com
<ANS>
word.ActiveDocument.Sections(1).Headers(win32.constants.wdHeaderFooterPrimary).Range.Text='test text'
<END>
<QUE>
Dajaxice with Class Based View
<ANS>
class FavoriteEnroledTrainee(SessionMixin, View):
    def get(self, request, *args, **kwargs):
        print 'here'
favorite_enroled_trainee = dajaxice_register(method='GET', name='company.favorite')(FavoriteEnroledTrainee.as_view())
<END>
<QUE>
Pyplot Mapping <string,number> pairs on graph matrix
<ANS>
from pylab import *

L1 = ['London', 'Paris', 'Tokio', 'Berlin', 'Barcelona', 'Reykjavik']
pos = arange(len(L1))
yticks(pos, L1)

I1 = [['London',0],['Paris',10],['Barcelona',23]]
I2 = [['Paris',10],['Tokio',19],['Berlin',21],['Reykjavik',23]]

I1_y = [L1.index(el[0]) for el in I1]
I1_x = [el[1] for el in I1]

I2_y = [L1.index(el[0]) for el in I2]
I2_x = [el[1] for el in I2]

plot(I1_x, I1_y, 'o-')
plot(I2_x, I2_y, 'x-')
grid(True)
savefig('countries.png')
show()
<END>
<QUE>
Convert matlab.double array to python array
<ANS>
from math import log10, floor

def convert(self, x, ROUND=0):

    conv = []

    for _ in range(x.size[0]):
        lst = x._data[_::x.size[0]].tolist()

        if ROUND is not 0:
            lst = [self.round_sig(elem, ROUND) if elem != 0 and
                   elem == elem else elem for elem in lst]

        conv.append(lst)

    return conv

def round_sig(self, x, sig=2):
    return round(x, sig-int(floor(log10(abs(x))))-1)
<END>
<QUE>
Annotate many to many relation in Django
<ANS>
VideoData.objects.annotate(
        watches_count=models.Count('user_set')
    ).order_by('-watches_count')[:10]
<END>
<QUE>
Not receiving information from function
<ANS>
myapp.show()
print myapp.x
if myapp.x == 1:
    try :
        s.connect((myapp.ip, myapp.port))
        print 'connected'
        myapp.x = 0
    except :
        print 'Unable to connect'
        myapp.x = 0
<END>
<QUE>
Python How to make it so entering no input prints you failed to input
<ANS>
while True:
    ans = input('Prompt ')
    if ans:
        break
    print ('You need to type something')
<END>
<QUE>
How do I use shutil to make a python file copy itself after doing a calculation?
<ANS>
shutil.copy(__file__, "new_destination.py")
<END>
<QUE>
Run multiple functions every second, write result to file
<ANS>
def main():
    q = Queue.Queue()
    for i in range(3):
        t = threading.Timer(1, run_function, [q, i])
        t.start()

    while True:
        item = q.get()
        save_to_disk(item)
        q.task_done()

def run_function(q, i):
    t = threading.Timer(1, run_function, [q, i])
    t.start()
    q.put(function_with_delay(i))
<END>
<QUE>
Convert a Unicode string to a string in Python (containing extra symbols)
<ANS>
title = u"Kl?ft skr?ms inf?r p? f?d?ral ?lectoral gro?e"
import unicodedata
unicodedata.normalize('NFKD', title).encode('ascii','ignore')
'Kluft skrams infor pa federal electoral groe'
<END>
<QUE>
Filter Anagram in Array in Python
<ANS>
b = ['cat', 'dog', 'god', 'star', 'lap', 'act']
array = []
t = 0
for i, value in enumerate(b):
    t = i+1
    while t<len(b):
        if ''.join(sorted(value))==''.join(sorted(b[t])):
            array.extend([value, b[t]])
        t+=1
print array
['cat', 'act', 'dog', 'god']
<END>
<QUE>
python for loop to print multiple lines of a descending range
<ANS>
for y in range(10):
    print
    i = 10 - y
    print ' ' * (y * 2),  # whitespaces
    for x in range(i):
        print x,
        i = i - 1
<END>
<QUE>
Align columns in a text file
<ANS>
with open(r'C:\path\to\logons.txt', 'r') as f:
    for line in f:
        data = line.split()    # Splits on whitespace
        print '{0[0]:<15}{0[1]:<15}{0[2]:<5}{0[3]:<15}{0[4]:>15}'.format(data)
<END>
<QUE>
exporting a list of lists to csv in python
<ANS>
import pandas as pd

result = []

for i in range(1,31):
    result.append(pd.DataFrame((find_peaks(df1['R'], df1['I {}'.format(i)])), index = None))
    df2 = pd.concat(result)

print df2.head()
df2.to_csv('Output.csv')
<END>
<QUE>
Python to MATLAB: exporting list of strings using scipy.io
<ANS>
import scipy.io
import numpy as np
my_list = np.zeros((3,), dtype=np.object)
my_list[:] = ['abc', 'def', 'ghi']
scipy.io.savemat('test.mat', mdict={'my_list': my_list})
<END>
<QUE>
What to code to delete any item in a list that can not be converted into a float?
<ANS>
try:
  new_list1.append(float(item))
except (ValueError, TypeError):
  pass
<END>
<QUE>
parsing in python
<ANS>
input='adId:4028cb901dd9720a011e1160afbc01a3;siteId:8a8ee4f720e6beb70120e6d8e08b0002;userId:5082a05c-015e-4266-9874-5dc6262da3e0'

result={}
for pair in input.split(';'):
    (key,value) = pair.split(':')
    result[key] = value

print result['adId']
print result['siteId']
print result['userId']
<END>
<QUE>
Python: How to shutdown a threaded HTTP server with persistent connections (how to kill readline() from another thread)?
<ANS>
rfile.close()
<END>
<QUE>
Get Cygwin installation path in a Python script
<ANS>
CYGWIN_KEY = "SOFTWARE\\Cygwin\\setup"
hk_user = winreg.HKEY_CURRENT_USER
key = winreg.OpenKey(hk_user, CYGWIN_KEY)
root = winreg.QueryValueEx(key, "rootdir")[0]
<END>
<QUE>
Starting two methods at the same time in Python
<ANS>
import threading,time
def play1():
    while time.time() <= start_time:
        pass
    threading.Thread(target=listen_to_audio).start()
def play2():
    while time.time() <= start_time:
        pass
    threading.Thread(target=play_audio).start()
start_time=time.time()+20
threading.Thread(target=play1).start()
threading.Thread(target=play2).start()
<END>
<QUE>
Qt - Normal vertical scrollbar handle behavior in QTableView
<ANS>
model = QSqlQueryModel()
model.setQuery("select some stuff", db)
while model.canFetchMore():
    model.fetchMore()
tableView.setModel(model)
<END>
<QUE>
Python: Write list to individual columns in each row
<ANS>
entry = [VC_s, VC_i, VT_s]
rowAdd = tempfile.next()
ofile.writerow(rowAdd + entry)
<END>
<QUE>
Post to Tornado server
<ANS>
class LoginHandler(tornado.web.RequestHandler):
    def post(self):
        email_address = self.get_argument('email', '')
        password = self.get_argument('password', '')

        if not email_address:
            login_response = {
                'error': True, 
                'msg': 'Please enter your email address.'
            }
        elif not password:
            login_response = {
                'error': True, 
                'msg': 'Please enter your password.'
            }
        else:
            login_response = {
                'error': True, 
                'msg': 'Thank You.'
            }

        self.write(login_response)
<END>
<QUE>
how to append a smaller string in between a larger string in python?
<ANS>
firststring = "aaccddee"
secondstring = "bb"
combinedstring = firststring[:2] + secondstring + firststring[2:]
print(combinedstring)
<END>
<QUE>
search by ObjectId in mongodb with pymongo
<ANS>
from bson.objectid import ObjectId
[i for i in dbm.neo_nodes.find({"_id": ObjectId(obj_id_to_find)})]
<END>
<QUE>
output format in python
<ANS>
print ', '.join(jvm)
<END>
<QUE>
Download google docs public spreadsheet to csv with python
<ANS>
import requests
response = requests.get('https://docs.google.com/spreadsheet/ccc?key=0ArM5yzzCw9IZdEdLWlpHT1FCcUpYQ2RjWmZYWmNwbXc&output=csv')
assert response.status_code == 200, 'Wrong status code'
print response.content
<END>
<QUE>
How to Modify Choices of ModelMultipleChoiceField
<ANS>
self.fields['author'].queryset = choices
<END>
<QUE>
Matplotlib - two different colormaps with different ranges
<ANS>
im0 = ax0.imshow(im2, aspect='auto',extent=[-0.15,0.15,0,4])
<END>
<QUE>
Launch Fab File inside a python script
<ANS>
from fabric.context_managers import settings
from fabfile import deployFiles, deployConfiguration

with settings(host_string='user@192.168.xx.xx'):
    deployFiles()
    deployConfiguration('master', 7)
<END>
<QUE>
Can I set dataframe values without using iterrows()?
<ANS>
df.C[df.B == 'x'] = df.C.shift(-1)
<END>
<QUE>
Converting tree list to hierarchy dict
<ANS>
def build_tree(nodes):
    # create empty tree to fill
    tree = {}

    # fill in tree starting with roots (those with no parent)
    build_tree_recursive(tree, None, nodes)

    return tree

def build_tree_recursive(tree, parent, nodes):
    # find children
    children  = [n for n in nodes if n.parent == parent]

    # build a subtree for each child
    for child in children:
    # start new subtree
    tree[child.name] = {}

    # call recursively to build a subtree for current node
    build_tree_recursive(tree[child.name], child, nodes)
<END>
<QUE>
Unexpected newlines being printed in Python
<ANS>
line = line.rstrip("
")
<END>
<QUE>
DFS Graph Generation in Python
<ANS>
def isCellNeighbor(c1, c2):
   if abs(c1.x - c2.x) == 1: return True
   if abs(c1.y - c2.y) == 1: return True
   return False
<END>
<QUE>
Put image for background in wxpython panel
<ANS>
wx.EVT_ERASE_BACKGROUND
<END>
<QUE>
assigning every Nth element in a list in python
<ANS>
x=['#%d' % i for i in range(10)]
['Hey!' if i%3 == 0 else b for  i,b in enumerate(x)]
<END>
<QUE>
Implement custom function on Django search_fields
<ANS>
from django.db.models import Q
from isbnlib import get_isbnlike, is_isbn10, is_isbn13, to_isbn10, to_isbn13

class Question_Admin(admin.ModelAdmin):
    def get_search_results(self, request, queryset, search_term):
        queryset, use_distinct = super(Question_Admin, self).get_search_results(request, queryset, search_term)
        isbn = get_isbnlike(search_term, level='normal')
        if isbn:
            if is_isbn10(isbn[0]):
                converted = to_isbn13(isbn[0])
            else:
                converted = to_isbn10(isbn[0])
            queryset |= self.model.objects.filter(Q(isbn=isbn[0]) | Q(isbn=converted))
        return queryset, use_distinct
<END>
<QUE>
Level sets of a function using "min"
<ANS>
def f(x,y):
    return np.minimum(np.minimum(np.minimum(x,x-y),x**2),y+1)

plt.figure()

x_ = np.linspace(-180, 180, num=200)
y_ = np.linspace(-180, 180, num=200)
x,y = np.meshgrid(x_, y_)

levels = f(x, y)

c = plt.contour(x, y, levels, 50)
plt.colorbar()
<END>
<QUE>
python imaplib parsing gmail
<ANS>
typ, data = imap_server.search(None, '(SUBJECT "Whatever you are searching for")')
<END>
<QUE>
How to set an ndb keyProperty
<ANS>
post.user_key = shuffle(users)[0].key
<END>
<QUE>
How do you represent na in a Pandas DataFrame?
<ANS>
scikits.timeseries
<END>
<QUE>
What resources are there for A/B split-testing in Python?
<ANS>
from swab import Swab
s = Swab('/tmp/.swab-test-data')
s.addexperiment('button-size', ['default', 'larger'], 'order-completed')
<END>
<QUE>
How to mouseover in python Webdriver 
<ANS>
from selenium.webdriver.common.action_chains import ActionChains


def hover(self):
    wd = webdriver_connection.connection
    element = wd.find_element_by_link_text(self.locator)
    hov = ActionChains(wd).move_to_element(element)
    hov.perform()
<END>
<QUE>
Using a choice widget with ultimatelistctrl (wxpython)
<ANS>
def addAction(self, action):
    # set the Choice in the cell
    index = self.list.InsertStringItem(sys.maxint, '')
    self.list.SetStringItem(index, self.columns['#'], str(index))
    self.list.SetStringItem(index, self.columns['Action'], '')
    self.list.SetStringItem(index, self.columns['Parameters'], '')

    item = self.list.GetItem(index, self.columns['Action'])
    choice = wx.Choice(self.list, -1, name=action.name,
             choices=[availableAction.name for availableAction in self.availableActions])
    choice.SetClientData(0, index)
    choice.Bind(wx.EVT_CHOICE, self.onActionChange)
    item.SetWindow(choice, expand=True)
    self.list.SetItem(item)

    # set the third column's widgets
    self.setItemParameters(index, action)


def onActionChange(self, event):
    action = copy.deepcopy(self.availableActionsDict[event.GetString()])
    self.setItemParameters(event.GetEventObject().GetClientData(0), action)
<END>
<QUE>
How a django form is passed to a html template
<ANS>
forms.py
<END>
<QUE>
How do I redefine functions in python?
<ANS>
import module1
import unittest

class MyTest(unittest.TestCase):
    def setUp(self):
        # Replace othermod.function with our own mock
        self.old_func1 = module1.func1
        module1.func1 = self.my_new_func1

    def tearDown(self):
        module1.func1 = self.old_func1

    def my_new_func1(self, x):
        """A mock othermod.function just for our tests."""
        return True

    def test_func1(self):
        module1.func1("arg1")
<END>
<QUE>
How can you define a variable that will never be matched in Python?
<ANS>
class NoValue:
    pass

if someValue is NoValue:
    doSomething()
<END>
<QUE>
Change baudrate in pySerial while connected to device?
<ANS>
ser.baudrate = 115200
<END>
<QUE>
Python subprocess.call runs bash script if run from terminal, but not from debian menu
<ANS>
import subprocess
script = "~/full_path_to_your_bash_script.sh"
# Uncomment following line to ensure execution by bash and remove potential problems with permissions.
#script = "bash "+script
# Commands to call (add some more if you remember any):
commands = [
    ['gnome-terminal', '-x', script],
    # xterm is usually present:
    ['xterm', '-e', script],
    ['rxvt', '-e', script]
    ]
ok = 0
for command in commands:
    try:
        subprocess.call(command)
        ok = 1; break
    except OSError, e:
        if e.errno==2: continue # No such file or directory - skip non-existing terminal and try another
        raise # Some other OSError occurred
    except: raise
if not ok: raise RuntimeError, "No terminal available!"
<END>
<QUE>
python convert compressed zip to uncompressed tar
<ANS>
def zip2tar(zipname, tarname):
    zipf = zipfile.ZipFile(zipname, 'r')
    tarf = tarfile.TarFile(tarname, 'w')
    timeshift = int((datetime.datetime.now() -
                     datetime.datetime.utcnow()).total_seconds())
    for zipinfo in zipf.infolist():
        tarinfo = tarfile.TarInfo()
        tarinfo.name = zipinfo.filename
        tarinfo.size = zipinfo.file_size
        tarinfo.mtime = calendar.timegm(zipinfo.date_time) - timeshift
        if zipinfo.internal_attr & 1:
            tarinfo.mode = 0666
            tarinfo.type = tarfile.REGTYPE
        else:
            tarinfo.mode = 0777
            tarinfo.type = tarfile.DIRTYPE 
        infile = zipf.open(zipinfo.filename)
        tarf.addfile(tarinfo, infile)
    zipf.close()
    tarf.close()
<END>
<QUE>
python: how to merge a list into clusters?
<ANS>
import networkx as nx

# one of your examples
g1 = nx.Graph([(1,3), (15,21), (1,10), (57,66), (76,85), (66,76)])
print nx.connected_components(g1) # [[57, 66, 76, 85], [1, 10, 3], [21, 15]]

# my own test case
g2 =  nx.Graph([(1,2),(2,10), (20,3), (3,4), (4,10)])
print nx.connected_components(g2) # [[1, 2, 3, 4, 10, 20]]
<END>
<QUE>
How to add items to dictionary in a for loop in Python?
<ANS>
tag_dic[i] = None
<END>
<QUE>
python Unicode string splitting/ to json conversion
<ANS>
data1 = u'NAME: abc
School Name: CD
________________
ENG: B   
Mat: B   '

import re
from itertools import izip
data2 = re.split(r'[:
________________]+',data1)
i = iter(data2)
ans = dict(izip(i, i))
<END>
<QUE>
Select text in href
<ANS>
next_page_number = '1'
print(next_page_number, type(next_page_number))  #output: 1, <class 'str'>
# set str explicit or call int(next_page_number)
if next_page_number == '1': 
    print('yes')
else:
    print('no')
<END>
<QUE>
Comparing 2 lists to remove unwanted words
<ANS>
newlist = []

for i in filter_words:
    if i not in skip_words:
        newlist.append(i)
<END>
<QUE>
Inverse discrete Fourier transform of across specified dimension in Python/Numpy
<ANS>
np.fft.ifft(x, axis=1)
<END>
<QUE>
How to apply CMA-ES optimization to an arbitrary user defined objective function in Python?
<ANS>
data = """
1100.21 57.66   1.8
1157.88 57.79   1.7
1272.85 58.03   1.67
1330.34 58.22   1.67
1389.   57.69   1.7
1590.   57.01   1.67
1820.   55.42   1.6
2049.   59.35   1.5
2308.   58.32   1.56
2596.   57.28   1.6
2711.   57.13   1.368
2826.   55.61   1.33
2883.   54.79   1.315
2940.   53.78   1.325
3001.   54.41   1.3
3117.   55.93   1.2495
3291.   57.15   1.28
3377.   58.05   1.25
3522.   58.41   1.31
3725.   57.61   1.31
3899.   53.55   1.195
4015.   51.22   1.178
4188.   50.89   1.185"""
data = np.array([line.split() for line in data.strip().split('
')], dtype='f8')
x, y, z = data[:, 0], data[:, 1], data[:, 2]

def obj(a):
    z_hat = a[0]*y**a[1]*x**a[2]+a[3]*x**a[4]
    return ((z-z_hat)**2).sum()

import scipy.optimize as opt
print opt.minimize(obj, np.ones(5))
<END>
<QUE>
How to achieve CURL equivalent python code
<ANS>
#! /usr/bin/python

import sys
import pycurl

class Test:
    def __init__(self):
        self.contents = ''

    def body_callback(self, buf):
        self.contents = self.contents + buf

sys.stderr.write("Testing %s
" % pycurl.version)

t = Test()
c = pycurl.Curl()
c.setopt(c.URL, 'http://curl.haxx.se/dev/')
c.setopt(c.WRITEFUNCTION, t.body_callback)
c.perform()
c.close()

print(t.contents)
<END>
<QUE>
how do I count unique words of text files in specific directory with Python?
<ANS>
textfile=open('somefile.txt','r')
text_list=[line.split(' ') for line in textfile]
unique_words=[word for word in text_list if word not in unique_words]
print(len(unique_words))
<END>
<QUE>
Python while loop back to specific point in code
<ANS>
def get_vlan_iface():
    while True:
        vlan = raw_input ("what VLAN ID do you want to add? "),
        iface = raw_input("what interface do you want to add the VLAN to? (e.g. eth10)")
        print "So we are adding VLAN %r to interface %r" % (vlan, interface)

        if raw_input("Are the details above correct? (Yes/No)>")[0].lower() == "y":
             return vlan,iface
        print "Please Fix Your Entries!"

vlan,iface = get_vlan_iface()
<END>
<QUE>
Sending output of os.system to web app
<ANS>
import subprocess

cmd = subprocess.Popen(['cd', '/home/time/tmprcc;', 'ino', 'build;',
                        'ino', 'upload;'], stdout=subprocess.PIPE)

while cmd.poll() is None:
    new_output = cmd.stdout.readline()
    do_something_function(new_output)
<END>
<QUE>
deconvolve 2D array
<ANS>
scipy.signal.deconvolve()
<END>
<QUE>
Weighted Degree Distribution in Python's graph_tool
<ANS>
d = g.degree_property_map("out", weight)   # weight is an edge property map
bins = linspace(d.a.min(), d.a.max(), 40)  # linear bins
h = vertex_hist(g, d, bins)
<END>
<QUE>
What's the most pythonic way to ensure that all elements of a list are different?
<ANS>
if len(x) == len(set(x)):
    print "all elements are unique"
else:
    print "elements are not unique"
<END>
<QUE>
python django analyze a file for a list of keywords
<ANS>
import re

BAD_WORDS = ["spam", "ham"]
BAD_WORDS_RE = re.compile(r"\b(%s)\b" % "|".join(BAD_WORDS))

for i, line in enumerate(open("file.txt").readlines()):
    words = set(BAD_WORDS_RE.findall(line))
    if words:
        print "Found the following words on line %i: %s" % (i + 1, ", ".join(words))
        print line
<END>
<QUE>
Watermark GIF with Python PIL
<ANS>
from PIL import Image
import images2gif as i2g
images = i2g.readGif('Animated.gif', False)
watermark = Image.open("Watermark.gif")
for i in images: i.paste(watermark, (1, 1))

i2g.writeGif('Out.gif', images, 0.5) # You may wish to play with the timing, etc.
exit()
<END>
<QUE>
Reading from a certain line onwards in python
<ANS>
with open('your_file', 'rt') as filehandle:
  lines = filehandle.readlines()[4:]

for line in lines:
    print line
    #do something
<END>
<QUE>
How to get the absolute path of a file using tkFileDialog?
<ANS>
file = tkFileDialog.askopenfile(parent=root,mode='rb',filetypes=[('Subrip Subtitle File','*.srt')],title='Choose a subtitle file')
abs_path = os.path.abspath(file.name)
<END>
<QUE>
I'm getting a 'ghost' ROLLBACK from sqlalchemy but not when use psql with postgres
<ANS>
def getDocPrefixes(self, deviceId):
    f = sq.sql.func.doc_codes(deviceId, type_=types.String)

    columns = [
        sq.Column('name', types.String),
        sq.Column('sufix', types.String)
    ]

    with self.con.begin():
        return [dict(x.items()) for x in self.con.execute
            (
                select(columns).
                select_from(f)
            ).fetchall()]
<END>
<QUE>
Python - Send Function Into Text Document
<ANS>
def Main():
    Class_A_Input = int(raw_input('Enter Class A tickets sold: '))
    total_profit(Class_A_Input)

def total_profit(Class_A_Tickets):
    print (Class_A_Tickets * 15)
    a = Class_A_Tickets * 15
    b = str(a)
    text_file = open('test.txt', 'w')
    text_file.write(b)
    text_file.close()

Main()
<END>
<QUE>
How to split a string into parts that each part contains only same characters in python
<ANS>
def fchar(ch,mi):
    global numLi
    fc=ch
    li=""
    for c in infected[mi:]:
        if fc==c :
            li+=fc
            mi = mi+1
        else:
            break

    if mi<len(infected) :
        return li+" "+fchar(infected[mi],mi)
    else:
        return li

infected =input("Enter DNA sequence
") ;#"AAATTTTTTTTGCCCCCCA"
x=fchar(infected[0],0)         
newSet = x.split(' ')
print(newSet)
<END>
<QUE>
Adding values to a list
<ANS>
option = 0
comicdb = []

while option != 3:
    print "--------------------------"
    print "1. Add a New Comic Book"
    print "2. Print the Database"
    print "3. Quit"
    option = int(raw_input("Pick an Option: "))
    if option == 1:
        title = raw_input("Comic Book Title: ")
        issue = int(raw_input("Issue Number: "))
        publisher = raw_input("Publisher: ")
        temp_list = []
        temp_list.append(title)
        temp_list.append(issue)
        temp_list.append(publisher)
        comicdb.append(temp_list)
        print comicdb
<END>
<QUE>
How to connect to Cassandra inside a Pylons app?
<ANS>
pycassa.connect_thread_local()
<END>
<QUE>
Parsing Information from redirect URL
<ANS>
auth_token_key = request.get('auth_token_key')
<END>
<QUE>
how can I convert a dictionary to a string of keyword arguments?
<ANS>
def somestring(**kwargs):
  return ', '.join('%s=%r' % x for x in kwargs.iteritems())
<END>
<QUE>
From tuples to multiple columns in pandas
<ANS>
new_col_list = ['city','state','regions','country']
for n,col in enumerate(new_col_list):
    df[col] = df['location'].apply(lambda location: location[n])

df = df.drop('location',axis=1)
<END>
<QUE>
python-in-arcmap, how to query using row ID and look for field values from another feature class
<ANS>
for file in list_file:
  outStat="path_for_sum_output"
  arcpy.Statistics_analysis(file,outStat, [["field_value", "SUM"]])
  rowsStat = arcpy.SearchCursor(outStat)
  for row in rowsStat:
     sum=row.getValue('Sum_field_value')

  #formate name of file so the format match with field ID_old of the feature class
  namelist=file.split('_')
  myname=' '.join(namelist)
  print myname 

  fc='big_file'
  cursor=arcpy.da.UpdateCursor(fc,['Sum_value'], "ID_old = '" +myname+ "'")
  for row in cursor:
      row[0]= sum
      cursor.updateRow(row)
      print row
<END>
<QUE>
replace hours in a datetime type python
<ANS>
datetime.strptime(str(newdate),"%Y-%m-%d %H:%M:%S")
<END>
<QUE>
factory_boy: add several dependent objects
<ANS>
class ProductFactory(factory.django.DjangoModelFactory):
    FACTORY_FOR = Product 

    name = "test product"
    offer1 = factory.RelatedFactory(OfferFactory, 'product')
    offer2 = factory.RelatedFactory(OfferFactory, 'product') # add a second offer
    offer3 = factory.RelatedFactory(OfferFactory, 'product') # add a third offer
    merchant1 = factory.RelatedFactory(MerchantFactory, 'product')
    merchant2 = factory.RelatedFactory(MerchantFactory, 'product') # add a second merchant
    merchant3 = factory.RelatedFactory(MerchantFactory, 'product') # add a third"
<END>
<QUE>
Show 404 when specific route matches
<ANS>
if not os.path.exists(os.path.join(template_path, page)): 
    self.abort(404)
<END>
<QUE>
python multiple inheritance from different paths with same method name
<ANS>
super()
<END>
<QUE>
Reverse lookup of foreign key in python django
<ANS>
return Dept.objects.filter(employees_set__name='XYZ')
<END>
<QUE>
XML Python Choosing one of numerous attributes using ElementTree
<ANS>
from BeautifulSoup import BeautifulStoneSoup
soup = BeautifulStoneSoup(xml_string)
whatyouwant = soup.find('second-tag')['status']
<END>
<QUE>
I need to be able to redownload a document that was submitted onto my django website
<ANS>
def download_paper(request, paper_pk):
     paper = get_object_or_404(Paper, pk=paper_pk) # get your model instance
     # also check permissions on paper, if necessary
     with paper.pdf_file_field.open("r") as fd:
         response = HttpResponse(fd.read(), content_type="application/pdf")
         response['Content-Disposition'] = 'attachment; filename="%s"' % paper.pdf_file_field.name
         return response
<END>
<QUE>
best way to get right thing using python 
<ANS>
[i['x'] for i in a]
<END>
<QUE>
Create a gray scale colormap with colorbar on Python
<ANS>
import matlplotlib
matplotlib.use('TkAgg')
<END>
<QUE>
Custom python database logger, having circular import
<ANS>
from logging import Handler

class DBHandler(Handler,object):
    model_name = None

    def __init__(self, model=""):
        super(DBHandler,self).__init__()
        self.model_name = model

    def emit(self,record):
        # instantiate the model
        try:
            model = self.get_model(self.model_name)
        except:
            from logger.models import GeneralLog as model

        log_entry = model(level=record.levelname, message=self.format(record))


        log_entry.save()

    def get_model(self, name):
        names = name.split('.')
        mod = __import__('.'.join(names[:-1]), fromlist=names[-1:])
        return getattr(mod, names[-1])
<END>
<QUE>
Using a variable in xpath in Python Selenium
<ANS>
driver.find_element_by_xpath("//option[@value='" + state + "']").click()
<END>
<QUE>
Python terminal application with interface like nano
<ANS>
import curses
oScreen = curses.initscr()
curses.noecho()
curses.curs_set(0)
oScreen.keypad(1)
oScreen.addstr("Woooooooooooooo

",curses.A_BOLD)
while True:
    oEvent = oScreen.getch()
    if oEvent == ord("q"):
        break
curses.endwin()
<END>
<QUE>
Centering line-broken axis label in matplotlib
<ANS>
ylabel('Soil Moisture Sensitivity,
(0.01 K m$^3$ m$^{-3}$)', multialignment='center')
<END>
<QUE>
Reading raw data from an sqlite table in python
<ANS>
import sqlite3 as sql

con = sql.connect(r"E:\Users.db")
c = con.cursor()
con.row_factory = sql.Row
username = input("What is your username: ")

readdata = input("Select the message you wish to read: ")
c.execute("SELECT Sender, Recipient, Subject, Message FROM Mail WHERE (Subject LIKE ?) AND   (Recipient LIKE ?)", (readdata, username))

component = c.fetchall()

for row in component:
    (sent, rec, subject, msg) = tuple(row)
    print()
    print("Sender: " + sent)
    print("Recipient: " + rec)
    print("Subject: " + subject)
    print()
    print("Message: " + msg)
<END>
<QUE>
How do I resize,scale or magnify the distances between points plotted in OpenGl
<ANS>
from OpenGL.GL import *
from OpenGL.GLUT import *
from OpenGL.GLU import *

import math

def initFun():
    glClearColor(1.0,1.0,1.0,0.0)
    glColor3f(0.0,0.0, 0.0)
    glMatrixMode(GL_PROJECTION)
    glLoadIdentity()
    gluOrtho2D(0,700,0,700)

def displayFun():
    glClear(GL_COLOR_BUFFER_BIT)
    glColor3f(0.0,0.0,1.0)
    xpts=[]
    ypts=[]
    N=len(newlist)
    for i in range(0,N):
        xpts.append(700+100-float(newlist[i][4])*20)
        ypts.append(700+1300-float(newlist[i][5])*20)

    glBegin(GL_POINTS)
    for j in range(0,N):        
        glVertex2f(xpts[j],ypts[j])

    glEnd()
    glFlush()

if __name__ == '__main__':
    glutInit()
    glutInitWindowSize(700,700)
    glutCreateWindow("My Display")
    glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB)
    glutDisplayFunc(displayFun)
    initFun()
    glutMainLoop()
<END>
<QUE>
How simplify list processing in Python?
<ANS>
s = raw_input("Octal?  ")
digits = map(int, s)
lookup = ['','x','w','wx','r','rx','rw','rwx']
perms = [lookup[d] for d in digits]
rights = ['{}={}'.format(*x) for x in zip('ugo', perms)]
print ','.join(rights)
<END>
<QUE>
Using scikit-learn DecisionTreeClassifier to cluster
<ANS>
import numpy as np
import sklearn.tree
clf = sklearn.tree.DecisionTreeClassifier()
clf.fit(X,y)
clf.tree_.apply(np.asfortranarray(X.astype(sklearn.tree._tree.DTYPE)))
<END>
<QUE>
Graphing tan in matplotlib
<ANS>
yy = numpy.tan(2*(x - numpy.pi/2))
threshold = 10000
yy[yy>threshold] = numpy.inf
yy[yy<-threshold] = numpy.inf
ax.plot(x, yy, linewidth=1.2, color="black")
<END>
<QUE>
Prevent PyDev from moving specific imports
<ANS>
if 1: import views
<END>
<QUE>
Python tkinter: how to restrict mouse cursor within canvas?
<ANS>
imgsize = (int(self.viewport.cget('width')) - 1,int(self.viewport.cget('height')) - 1)
# limit the draggable mouse area to just the image dimensions
if event.x < 4:
    currentx = 4
elif event.x > imgsize[0]:
    currentx = imgsize[0]
else:
    currentx = event.x
if event.y < 4:
    currenty = 4
elif event.y > imgsize[1]:
    currenty = imgsize[1]
else:
    currenty = event.y
<END>
<QUE>
How to get statistic of a list of lists in python?
<ANS>
d = defaultdict(int)
for lst in lists:
   d[len(lst)] += 1
<END>
<QUE>
Sympy - get access to the single parts of the solution of solve()
<ANS>
c_solutions = [sol[c] for sol in solutions]
<END>
<QUE>
django: keep each users data separate
<ANS>
from django.contrib.auth.decorators import login_required
from django.shortcuts import render

from your_app.models import ToDo

@login_required
def todos_for_user(request):
    todos = ToDo.objects.filter(user=request.user)
    return render(request, 'todos/index.html', {'todos' : todos})
<END>
<QUE>
Python: fast way to get position of all the element in a list in different lists given
<ANS>
L = [1,2,3,4,5,6,7,8,9,0]
a = np.random.ranint(0,50,(35,10))

# identify location of value in array that are in L
ix = np.in1d(a.ravel(), L).reshape(a.shape)
<END>
<QUE>
How to ping in local network using python?
<ANS>
import subprocess

hostname = "192.168.1.4"
output = subprocess.Popen(["ping","-c","5", hostname],stdout = subprocess.PIPE).communicate()[0]

if ('100% packet loss' in output):
    print("Offline")
<END>
<QUE>
Tkinter text highlight specific lines using keyword
<ANS>
from Tkinter import *

root = Tk()
t = Text(root)
t.pack()
t.insert(END, '''\
blah blah blah Failed blah blah
blah blah blah Passed blah blah
blah blah blah Failed blah blah
blah blah blah Failed blah blah
''')
t.tag_config('failed', background='red')
t.tag_config('passed', background='blue')

def search(text_widget, keyword, tag):
    pos = '1.0'
    while True:
        idx = text_widget.search(keyword, pos, END)
        if not idx:
            break
        pos = '{}+{}c'.format(idx, len(keyword))
        text_widget.tag_add(tag, idx, pos)

search(t, 'Failed', 'failed')
search(t, 'Passed', 'passed')

#t.tag_delete('failed')
#t.tag_delete('passed')

root.mainloop()
<END>
<QUE>
How do I trim the number of words in Python?
<ANS>
def f(s, n):
    return ' '.join(s.split()[:n])
<END>
<QUE>
Is there a pythonic way to grab the total amount of variables within lists inside a dict?
<ANS>
print sum(map(len,dic.itervalues()))
<END>
<QUE>
How can I define an array in Python with undefined keys?
<ANS>
searchindexnodes = {}
searchindexnodes[1036592] = 'Apparel'
searchindexnodes[672123011] = 'Apparel'
searchindexnodes[165796011] = 'Baby'
<END>
<QUE>
Play a Sound with Python
<ANS>
s = Sound() 
s.read('sound.wav') 
s.play()
<END>
<QUE>
Consistenly create same random numpy array
<ANS>
numpy.random.seed(42)
<END>
<QUE>
How to generate a random gaussian matrix with different variance along each axis
<ANS>
M = 20
N = 20

a = np.random.normal(0, 1, (N, M))
b = np.random.normal(0, 3, N)[:, None]

print np.var(a + b, axis=0)
print np.var(a + b, axis=1)
<END>
<QUE>
Python: Caesar Cipher, If statement and else statement both True at the same time?
<ANS>
if charint >= 65 and charint <=90:
        cipher_int = ((charint-65 + k) % 26)+65
        code_char = chr(cipher_int)
        print code_char,

elif charint >= 97 and charint <=122:
    cipher_int = ((charint-97 + k) % 26)+97
    code_char = chr(cipher_int)
    print code_char,


else:
    print char,
<END>
<QUE>
How to store boto key object as Django's Model field?
<ANS>
boto.s3.key.Key
<END>
<QUE>
Installing TTF fonts on windows with python
<ANS>
import win32api
import win32con
import ctypes

ctypes.windll.gdi32.AddFontResourceA("C:\\Users\\Username\\Desktop\\fontname.ttf")
win32api.SendMessage(win32con.HWND_BROADCAST, win32con.WM_FONTCHANGE)
<END>
<QUE>
How can I change the color of a grouped bar plot in Pandas?
<ANS>
df.groupby(['tags_0', 'gender']).gender.count().unstack().plot(kind='barh', legend=False, color=['r', 'g', 'b'])
<END>
<QUE>
Numpy- weight and sum rows of a matrix
<ANS>
from numpy import array, dot
dot(array([0.5, -1]), array([[1, 2, 3], [4, 5, 6]]))
# array([-3.5 -4. -4.5])
<END>
<QUE>
Nested loops in dictionary comprehension
<ANS>
# METHOD 1
FA_dict1 = {d:2 for v in FA[0][u'child'] for d in v.values()}
FA_dict1.update({FA[0][u'pdesc']: 2})


# METHOD 2
from itertools import chain
FA_dict = {d:2 for v in FA[0][u'child'] for d in chain(v.values(), [FA[0][u'pdesc']])}


# METHOD 3
FA_DICT = {d:2 for v in FA[0][u'child'] for d in list(v.values())+[FA[0][u'pdesc']]}
<END>
<QUE>
Convert text into dict
<ANS>
text = """ name = Kurradu
 image =
 image_size =
 producer = P. Kiran
 writer =
 starring = Varun Sandesh,Neha Sharma
 music = Achu
 cinematography = Sarvesh Murari
 editing =
 distributor =
 released = 12 November 2009
 studio =
 country = IND"""


d = dict(map(str.strip, line.split('=', 1)) for line in text.splitlines())


# d is now:

{'cinematography': 'Sarvesh Murari',
 'country': 'IND',
 'distributor': '',
 'editing': '',
 'image': '',
 'image_size': '',
 'music': 'Achu',
 'name': 'Kurradu',
 'producer': 'P. Kiran',
 'released': '12 November 2009',
 'starring': 'Varun Sandesh,Neha Sharma',
 'studio': '',
 'writer': ''}
<END>
<QUE>
Python Reg expression to delete all text inside quotation marks
<ANS>
text = 'According to James, "we do not know" the source of the problem, "we are clueless".'
re.sub('".+?"', '', text)
<END>
<QUE>
python - forward iteration / extending list of tuples
<ANS>
L = [('a', [[0],[1]]), ('b', [[2],[3]]), ('c', [[4],[5]])]
prev = []
for i,el in enumerate(L):
    el_new = (el[0], prev + el[1])
    prev += el[1]
    L[i] = el_new
<END>
<QUE>
Enum converter in python
<ANS>
class Nationality:
        Poland='PL'
        Germany='DE'
        France='FR'

        def convertToCodeFromName(name):
                return getattr( Nationality, name )

        def convertToNameFromCode(code):
                lookFor = None

                for member in dir( Nationality ):
                        if ( getattr( Nationality, member ) == code ):
                                lookFor = member
                return lookFor

print( Nationality.convertToCodeFromName( "Poland" ) )
print( Nationality.convertToNameFromCode( "PL" ) )
<END>
<QUE>
close connection with uwsgi and websockets
<ANS>
return ['']
<END>
<QUE>
Changing Fast CGI to run a different version of python
<ANS>
#!/usr/bin/python26/python
<END>
<QUE>
Python XLWT - Insert Image aligned to top-right corner of cell
<ANS>
x = column_width - image_width

sheet.insert_bitmap(filepath_to_bmp, row, col, x)
<END>
<QUE>
Specifying amount of numbers to sum in loop
<ANS>
# reset the `totalintron` for the current `exonnumber`
totalintron = 0

# only iterate `exonnumber - 1` (which is guaranteed to be len(y) - 1 at max)
for index in range(exonnumber - 1):
    first_max = max(y[index])
    second_min = min(y[index + 1])
    intron = second_min - first_max
    # don???t print `intron`, we only care about the total
    totalintron = totalintron + intron

print totalintron
<END>
<QUE>
how to read JSON object from raw text file using python
<ANS>
import re
import json
for line in logs:
    for t in re.finditer(r"\{.*\}", line):
        try:
            json.loads(t.group())
        except ValueError:
            pass
<END>
<QUE>
Import a bunch of parameters as a dictionary?
<ANS>
import parms

parms.foo
parms.bar
parms.baz
<END>
<QUE>
Django: apply "same parent" constraint to ManyToManyField mapping to self
<ANS>
class TaskForm(forms.ModelForm):
   class Meta:
      model = Task

   def __init__(self, *args, **kwargs):
      super(TaskForm, self).__init__(*args, **kwargs)
      self.fields['prerequisites'].queryset = Task.objects.filter(job=self.instance.job)
<END>
<QUE>
Importing from models.py
<ANS>
__init__.py
<END>
<QUE>
Python 3: Getting information from list in list
<ANS>
# reading from file:
with open('cities.txt') as f:
    lines = f.readlines()

# pre-processing
indices = {line.split()[0]: i for i, line in enumerate(lines)}
distances = [line.split()[1:] for line in lines]

#user input:
start = input("Please enter starting point: ")
end = input("Now please enter ending point: ")

# evaluation:
distance = distances[indices[start]][indices[end]]

# output:
print("Distance between {start} and {end} is {distance} km.".format(**locals()))
<END>
<QUE>
How can limit a certain number of decimal places being shown without rounding?
<ANS>
v = 8.836333333333339
s = str(v)
print s[:s.find('.')+3]

# prints 8.83
<END>
<QUE>
Check if key/value is in JSON
<ANS>
def checkJson(jsonContents):
    bodyFlag = True if "body" in jsonContents["objects"][0]["data"] and jsonContents["objects"][0]["data"]["body"] == "Present" else False
    codeFlag = True if "code" in jsonContents["objects"][0]["data"] and jsonContents["objects"][0]["data"]["code"] == 200 else False

    return bodyFlag or codeFlag

print checkJson(result)
<END>
<QUE>
Python: check if value is in a list no matter the CaSE
<ANS>
check = "asdf"
checkLower = check.lower()

print any(checkLower == val.lower() for val in ["qwert", "AsDf"])

# prints true
<END>
<QUE>
BeautifulSoup get all the values of a particular column
<ANS>
from BeautifulSoup import BeautifulSoup
soup = BeautifulSoup(open("file.html",'r').read())
cols = [header.string for header in soup.find('thead').findAll('th')]
col_idx = cols.index('Username')
col_values = [td[col_idx].string for td in [tr.findAll('td') for tr in soup.find('tbody').findAll('tr')]]
print col_values
<END>
<QUE>
How to set up this Google analytics segment in Python API
<ANS>
segment='sessions::condition::ga:pagePath=@error=PAYPAL'
<END>
<QUE>
How to detect if python script is being run as a background process
<ANS>
import os
import sys


def main():
    if os.getpgrp() == os.tcgetpgrp(sys.stdout.fileno()):
        print 'Running in foreground.'
    else:
        print 'Running in background.'


if __name__ == '__main__':
    main()
<END>
<QUE>
Python - Most effective way to implement two's complement?
<ANS>
x=int(a,2)
num_bits = 10
print x - (1 << num_bits)
<END>
<QUE>
Python dictionary from excel
<ANS>
import csv

dictionary = {}
with open('data.csv', 'r') as f:
    reader = csv.DictReader(f)
    for row in reader:
        dictionary[row['Key']] = row['Value']
<END>
<QUE>
Python: group list items in a dict
<ANS>
res = {}
for item in l:
    res.setdefault(item['a'], []).append(item)
<END>
<QUE>
How to create a spinning command line cursor using python?
<ANS>
import sys
import time

def spinning_cursor():
    while True:
        for cursor in '|/-\\':
            yield cursor

spinner = spinning_cursor()
for _ in range(50):
    sys.stdout.write(spinner.next())
    sys.stdout.flush()
    time.sleep(0.1)
    sys.stdout.write('\b')
<END>
<QUE>
python feedparser with yahoo weather rss
<ANS>
import urllib2
import lxml.etree

url = "http://weather.yahooapis.com/forecastrss?w=24260013&u=c"
doc = lxml.etree.parse( urllib2.urlopen(url) ).getroot()
conditions = doc.xpath('*/*/yweather:condition',
                       namespaces={'yweather': 'http://xml.weather.yahoo.com/ns/rss/1.0'})
try:
    condition=conditions[0]
except IndexError:
    print('yweather:condition not found')
print(condition.items())
# [('text', 'Fair'), ('code', '33'), ('temp', '16'), ('date', 'Wed, 19 May 2010 9:55 pm EDT')]
<END>
<QUE>
Get all points of a straight line in python
<ANS>
def get_line(x1, y1, x2, y2):
    points = []
    issteep = abs(y2-y1) > abs(x2-x1)
    if issteep:
        x1, y1 = y1, x1
        x2, y2 = y2, x2
    rev = False
    if x1 > x2:
        x1, x2 = x2, x1
        y1, y2 = y2, y1
        rev = True
    deltax = x2 - x1
    deltay = abs(y2-y1)
    error = int(deltax / 2)
    y = y1
    ystep = None
    if y1 < y2:
        ystep = 1
    else:
        ystep = -1
    for x in range(x1, x2 + 1):
        if issteep:
            points.append((y, x))
        else:
            points.append((x, y))
        error -= deltay
        if error < 0:
            y += ystep
            error += deltax
    # Reverse the list if the coordinates were reversed
    if rev:
        points.reverse()
    return points
<END>
<QUE>
How to insert integers into a list without indexing using python?
<ANS>
unknown = list("46X90157")
unknown = ''.join(unknown)
for i in range(10):
    print([int(i) for i in unknown.replace("X", str(i))])
<END>
<QUE>
python : how to parse zipped xml file?
<ANS>
root = etree.fromstring(xmlstr)
<END>
<QUE>
How to build dynamic sql query in python and use executemany() to insert?
<ANS>
if batch:
        key =""
        key = '({})'.format(','.join(elem for elem in batch[0]))
        print key
        value ='({})'.format(','.join("'"+str(eleme)+"'" for eleme in batch[0].values()))
        print value
        sqlWrite = []
        sqlWrite.append("INSERT IGNORE INTO %s " %writeTable)
        sqlWrite.append("".join(key))
        sqlWrite.append(" VALUES ")
        sqlWrite.append("".join(value))
        sql="".join(sqlWrite)
        print sql
        if batch:
            writeCur.executemany(sql, batch)
            cnx2.commit()
<END>
<QUE>
Is it possible to find and delete orphaned blobs in the app engine blobstore?
<ANS>
blobs = BlobInfo.all().fetch(500)
for blob in blobs:
  if not MyModel.all().filter("blob_ref =", blob.key()).count(1):
    blob.delete()
<END>
<QUE>
How can I choose the default wx.Display in wxpython?
<ANS>
import wx

def set_frame_display(frame, display_index):
    display = wx.Display(display_index)
    x, y, w, h = display.GetGeometry()
    frame.SetPosition((x, y))

def main():
    app = wx.PySimpleApp()
    count = wx.Display_GetCount()
    for index in range(count):
        frame = wx.Frame(None, -1, 'Display %d of %d' % (index + 1, count))
        set_frame_display(frame, index)
        frame.Center()
        frame.Show()
    app.MainLoop()

if __name__ == '__main__':
    main()
<END>
<QUE>
Create list of object attributes in python
<ANS>
list_of_objects = [Object_1, Object_2, Object_3]
[x.time for x in list_of_objects]
<END>
<QUE>
How to change multiple variables ever iteration of a for loop
<ANS>
car1 = []
car2 = []
car3 = []
car4 = []
car5 = []
cars = [car1,car2,car3,car4,car5]
for i in range(5):
    rand0m = randint(1,5)
    cars[i].append(rand0m)
<END>
<QUE>
Assign value to a string that is the same as a variable name in Python
<ANS>
example_instance = example(**{var_under_study: value})
<END>
<QUE>
Python argparse: Make at least one argument required
<ANS>
if not (args.process or args.upload):
    parser.error('No action requested, add -process or -upload')
<END>
<QUE>
How to generate random variables and sum all them in python
<ANS>
import random
def rand_sum(i, j):    
    sum_list = []
    for rand_num in range(i, j+1):
        sum_list.append(random.random()) # Check random docs for a function that returns
    return sum(sum_list)                 # a different set of randoms if this isn't 
                                         # appropriate
<END>
<QUE>
open access file in python
<ANS>
import pyodbc

DBfile = 'Exam_BackUp.mdb'
conn = pyodbc.connect('FILEDSN='+DBfile)
cursor = conn.cursor()

# Do whatever you want with SQL selects, etc

cursor.close()
conn.close()
<END>
<QUE>
Reading a Django model's field options
<ANS>
from models import MyModel
try:
    max_length = MyModel._meta.get_field('source_url').max_length
except:
    max_length = None
<END>
<QUE>
Need some help with python string / slicing operations
<ANS>
verb, title, definition = myString.split (' ', 2)
<END>
<QUE>
Set string as variable name
<ANS>
inds = {'EUR': [whatever],
        'AFR': [foo],
        'ASN': [other]}

foos = inds['EUR']
<END>
<QUE>
SQLAlchemy - How to make "django choices" using SQLAlchemy?
<ANS>
import sqlalchemy.types as types

class ChoiceType(types.TypeDecorator):

    impl = types.String

    def __init__(self, choices, **kw):
        self.choices = dict(choices)
        super(ChoiceType, self).__init__(**kw)

    def process_bind_param(self, value, dialect):
        return [k for k, v in self.choices.iteritems() if v == value][0]

    def process_result_value(self, value, dialect):
        return self.choices[value]
<END>
<QUE>
Calling Python script with arguments from VBscript
<ANS>
currentCommand = "cmd /c " & Chr(34) & source_code_path & " " & variable1 & " " & variable2 & Chr(34)
<END>
<QUE>
Matplotlib suptitle printed over old suptitle
<ANS>
plt.close()
<END>
<QUE>
return pdf response from stdout with Django
<ANS>
popen = Popen(command_args, stdout=PIPE, stderr=PIPE)
body_contents = popen.stdout().read()
popen.terminate()
popen.wait()
r = HttpResponse(body_contents, mimetype='application/pdf')
<END>
<QUE>
GET .json from Helpscout API using Python
<ANS>
requests.get("https://api.helpscout.net/v1/conversations/{id}.json", auth=('{API_KEY}','X'))
<END>
<QUE>
How to replace XML with sub-elements
<ANS>
import re 

def find_subs(line):
    match = re.findall(">([aA-zZ\s]*)<",line)
    if len(match) != 0:
        new_line = '<ul class="bar">'
        for m in match:
            new_line += "<li>"+m+"</li>"
        new_line += "</ul>"
        return new_line
    else:
        return None

line = "<stats>Some line<br>Other line</stats>"
new = find_subs(line)
print new
<END>
<QUE>
summing elements of multiple dictionary lists with zip
<ANS>
d = {}
d['a']=[1,2,3]
d['b']=[2,4,6]

zipped_list = zip(d['a'],d['b'])
print map(lambda x: sum(x), zipped_list)
<END>
<QUE>
Sailfish: how to run on computer without gpu
<ANS>
platform.get_devices(device_type=cl.device_type.ALL)
<END>
<QUE>
Using netcat redirection in python to get data, after sending Ctrl C command
<ANS>
import socket

UDP_IP = "127.0.0.1"
UDP_PORT = 5005

sock = socket.socket(socket.AF_INET, # Internet
                 socket.SOCK_DGRAM) # UDP
sock.bind((UDP_IP, UDP_PORT))

while True:
    data, addr = sock.recvfrom(1024) # buffer size is 1024 bytes
    print "received message:", data
<END>
<QUE>
Iterative solution for :- Finding String permutations
<ANS>
def perms(word):
    stack = list(word)
    results = [stack.pop()]
    while len(stack) != 0:
        c = stack.pop()
        new_results = []
        for w in results:
            for i in range(len(w)+1):
                new_results.append(w[:i] + c + w[i:])
        results = new_results
    return results
<END>
<QUE>
How to build a python dictionary in a loop?
<ANS>
for alb in l.songs:
   if alb.album not in song_database:
       song_database[alb.album] = [alb.name]
   else:
       song_database[alb.album].append(alb.name)
<END>
<QUE>
Unpack Coordinates of Variable
<ANS>
if length > 1: 
    listPlace = overlap[1] - 3
    brick = bricklist[listPlace]
    # Get the coordinates
    bx1,by1,bx2,by2 = drawpad.coords(brick)
    # Now delete it
    drawpad.delete(brick)
    if x1 <= bx1 or x2 >= bx2:
        angle = -angle
    if y1 <= by1 or by2 >= y2:
        direction = -direction
<END>
<QUE>
Convert Django models to normal objects
<ANS>
from django_extensions.db.fields.json import JSONField
<END>
<QUE>
Custom Items in QListView
<ANS>
# create item widget
item = QListWidgetItem()
w = CustomItemWidget()
w.setTitle = "Title"
w.setDescription = "Blah blah"
# would have a QPixmap already cached
w.setBadgeImage = preCreatedPixmaps['thisBadge']  
listWidget.insertItem(item)
listWidget.setItemWidget(item, w)
<END>
<QUE>
Python HTTPConnection file send with httplib, retrieving progress
<ANS>
def prog_callback(param, current, total):
    pct = 100 - ((total - current ) *100 )/ (total) 
    print "Progress: %s " % pct    


datagen, headers = multipart_encode({
                                    "post": "1",
                                    "skin": "xmlhttprequest",
                                    "userlogin": "%s" % username,
                                    "password": "%s" % password,
                                    "item_type": "file",
                                    "title": "%s" % title.encode("utf-8"),
                                    "description": "%s" % description.encode("utf-8"),                                             
                                     "file": filename
                                     }, cb=prog_callback)    

opener = register_openers()

req = urllib2.Request(UPLOAD_URL, datagen, headers)
response = urllib2.urlopen(req)
return response.read()
<END>
<QUE>
Delaunay Triangulation of points from 2D surface in 3D with python?
<ANS>
import numpy as np
import matplotlib.pyplot as plt 
from mpl_toolkits.mplot3d import Axes3D
import matplotlib.tri as mtri

X = np.load('./mydatars.npy')
# My data points are strictly positive. This doesn't work if I don't center about the origin.
X -= X.mean(axis=0)

rad = np.linalg.norm(X, axis=1)
zen = np.arccos(X[:,-1] / rad)
azi = np.arctan2(X[:,1], X[:,0])

tris = mtri.Triangulation(zen, azi)

fig = plt.figure()
ax  = fig.add_subplot(111, projection='3d')
ax.plot_trisurf(X[:,0], X[:,1], X[:,2], triangles=tris.triangles, cmap=plt.cm.bone)
plt.show()
<END>
<QUE>
Sort a dictionary by length of the value
<ANS>
sorted_items = sorted(d.items(), key = lambda item : len(item[1]))
newd = dict(sorted_items[-2:])
<END>
<QUE>
How to place evenly spaced circles on an elliptical path?
<ANS>
def __init__(self, master, number_of_people, node_size):
    a = 350
    b = 140
    ellipsePoints = [(a * cos(theta), b * sin(theta))
                     for theta in (pi*2 * i/number_of_people for i in range(number_of_people))]
    DisplayFrame = Canvas(root, bg="white", width=725, height=320)
    DisplayFrame.grid(row=0, columnspan=7, column=0, sticky='W', padx=5, pady=5)
    for i in range(number_of_people):
            DisplayFrame.create_oval(ellipsePoints[i][0]+355, ellipsePoints[i][1]+155,
                                     ellipsePoints[i][0]+355+node_size, ellipsePoints[i][1]+155+node_size, fill="red")
<END>
<QUE>
Create a pseudo random table based on user input
<ANS>
key = "testtest12"
mapping = range(256)

keylen = len(key)
maplen = len(mapping)

for i, v in enumerate(mapping):
    c = ord(key[i % keylen])
    t = (i + c) % maplen
    mapping[i] = mapping[t]
    mapping[t] = v
<END>
<QUE>
Exit Python while loop with error
<ANS>
import sys
sys.exit("Your error message")
<END>
<QUE>
How do I write a 3d astropy table to a file
<ANS>
param_table.write(param.h5, format='hdf5')
<END>
<QUE>
Get results of autocompletion search
<ANS>
lxml.html
<END>
<QUE>
User signup leads to IntegrityError
<ANS>
post_save.connect(create_user_profile, sender=User, 
                    dispatch_uid="user_create_profile")
<END>
<QUE>
Find XPATH with namespace and based on parent element
<ANS>
start_times = node.xpath("//t:chapter/start_time/text()", 
                   namespaces={'t':'http://example.com/namespace'})
<END>
<QUE>
SQLAlchemy: How to change a MySQL server system variable using SQLAlchemy?
<ANS>
# change variable name and values to what you need
connection.execute("SET SESSION query_cache_type = OFF")
<END>
<QUE>
Python/AppEngine: Get client browser information
<ANS>
user_agent_string = self.request.headers['user-agent']
<END>
<QUE>
How to declare and call a model method navigating through relations in django?
<ANS>
def _free_places(self):
    places = 0
    for r in self.rooms:
        x = r.beds - ((r.tenant).size())
        places = places + x
    return places
free_places = property(_free_places)
<END>
<QUE>
Proper SQL request with psycopg2 in Python
<ANS>
for c in cols:
    if not re.match(r'^[A-Za-z][A-Za-z0-9$_-]+$', c):
            print "Argument is not a valid column name :", c
            sys.exit()
<END>
<QUE>
Python - Dictionnary and tuples, retrieving key after sorted()
<ANS>
top_score_id = sorted_tuple[0][0]
<END>
<QUE>
Upload image to png
<ANS>
def pictures_2png(file):
    buffer = StringIO()
    Image.open(file).save(buffer, "PNG")
    return InMemoryUploadedFile(buffer, None, 'test.png', 'image/png', buffer.len, None)
<END>
<QUE>
Pagerank for locally stored google search results
<ANS>
gurl = 'http://toolbarqueries.google.com/tbr?client=navclient-auto&ch=%s&features=Rank&q=info:%s' % (hsh,urllib.quote(URL))
<END>
<QUE>
Parsing XML data with nested tags in Python
<ANS>
d = collections.defaultdict(list)
for element in rootElement.iter():
    d[element.tag].append(element.text)
<END>
<QUE>
Sorting by name in django
<ANS>
class Episode(models.Model):
    episode_num = models.IntegerField()
    def __unicode__(self):
        return 'episode {}'.format(self.episode_num)

Episode.objects.order_by('episode_num')
<END>
<QUE>
How to disable button(or whole main window) in PyQt4 until the function returns 0
<ANS>
def fetchFuction():
    QtGui.QApplication.setOverrideCursor(QtGui.QCursor(QtCore.Qt.WaitCursor))
    # if incase function failed then restore it
    try:
        yourFetchFucn()
        QtGui.QApplication.restoreOverrideCursor()
    except:
        QtGui.QApplication.restoreOverrideCursor()
<END>
<QUE>
Using Python Script to post data to web server
<ANS>
import requests

url = 'http://url.com'
query = {'field': value}
res = requests.post(url, data=query)
print(res.text)
<END>
<QUE>
How to add random delays between the queries sent to Google to avoid getting blocked in python
<ANS>
from random import randint
from time import sleep

sleep(randint(10,100))
<END>
<QUE>
Django queryset ordering by _set
<ANS>
from django.db.models import Count
Image.objects.annotate(Count("person")).order_by("person__count")
<END>
<QUE>
creating file and folder loop
<ANS>
import os
for i in "abc":
    os.system ("mkdir "+i)
    for j in range (5):
            os.system ("touch "+str(i)+"/"+str(j)+".txt")
<END>
<QUE>
Multiple executions using MySQLdb
<ANS>
from contextlib import closing
with closing( conn.cursor() ) as cursor:
    cursor.execute("INSERT INTO...")
<END>
<QUE>
How do I get the values of a parsed query string in python?
<ANS>
querystring['param2']
<END>
<QUE>
(Python) algorithm to randomly select a key based on proportionality/weight
<ANS>
import random

def WeightedPick(d):
    r = random.uniform(0, sum(d.itervalues()))
    s = 0.0
    for k, w in d.iteritems():
        s += w
        if r < s: return k
    return k

def Test():
    k = {'A': 68, 'B': 62, 'C': 47, 'D': 16, 'E': 81}
    results = {}
    for x in xrange(10000):
        p = WeightedPick(k)
        results[p] = results.get(p, 0) + 1
    print results

Test()
<END>
<QUE>
How to send requests with JSONs in unit tests
<ANS>
response=self.app.post('/test_function', 
                       data=json.dumps(dict(foo='bar')),
                       content_type = 'application/json')
<END>
<QUE>
Draw images with canvas and use SimpleDocTemplate
<ANS>
site-packages/reportlab/platypus/doctemplate.py
<END>
<QUE>
How do I most efficienty check the unique elements in a list?
<ANS>
count = len(set(d["code"] for d in li))
<END>
<QUE>
Writing to a .wav file
<ANS>
scipy.io.wavfile
<END>
<QUE>
Pandas calculating age from a date
<ANS>
df1['age'] = now - datetime.strptime(df1['dob'], "%m%d%Y")
<END>
<QUE>
sorting a list of object based on an instance that is nearest to a number python
<ANS>
key=lambda x: abs(x._norm - number)
<END>
<QUE>
Python - how to read/parse csv like line?
<ANS>
yourstring= '"ABC", "XYZ,MNO", "KLM"
"ABC", "MN"
"ABC", "123", "10", "OPPA GANGNAM STYLE", "LADY"'

import csv
import StringIO

class MyDialect(csv.Dialect):
    strict = True
    skipinitialspace = True
    quoting = csv.QUOTE_ALL
    delimiter = ','
    quotechar = '"'
    lineterminator = '
'


b=StringIO.StringIO(yourstring)
r=csv.reader(b,MyDialect())

for i in r:
    print len(i), ':',' @ '.join(i)
<END>
<QUE>
Python list initialization in for loop
<ANS>
# Create a temporary list to hold new x values
result = []

for x, y in zip(list_x, list_y):
     # Populate the new list
     result.append(f(x, y))

# Name your new list same as the old one
list_x = result
<END>
<QUE>
how to disable cache for development in django?
<ANS>
CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.dummy.DummyCache',
   }
}
<END>
<QUE>
Finding items in quotes, but not escaped quotes, in python using re
<ANS>
import re
testString = r'this, is a test "one" it should only return the first item \"two\" and not the second'
pattern = r'(?<!\\)"([^"]*)(?<!\\)"'
          # ^^^^^^^        ^^^^^^^
print re.findall(pattern, testString)
<END>
<QUE>
Python select random date in current year
<ANS>
from datetime import date
import random

start_date = date.today().replace(day=1, month=1).toordinal()
end_date = date.today().toordinal()
random_day = date.fromordinal(random.randint(start_date, end_date))
<END>
<QUE>
Finding number of exact matches of string in file python
<ANS>
with open('file') as f:
    print(f.read().count(sequence))
<END>
<QUE>
Finding valid IP addresses with regex
<ANS>
import re
reValidIPv4 = re.compile(r"""
    # Match a valid IPv4 in the wild.
    (?:                                         # Group two start-of-IP assertions.
      ^                                         # Either the start of a line,
    | (?<=\s)                                   # or preceeded by whitespace.
    )                                           # Group two start-of-IP assertions.
    (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)    # First number in range 0-255 
    (?:                                         # Exactly 3 additional numbers.
      \.                                        # Numbers separated by dot.
      (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)  # Number in range 0-255 .
    ){3}                                        # Exactly 3 additional numbers.
    (?=$|\s)                                    # End IP on whitespace or EOL.
    """, re.VERBOSE | re.MULTILINE)

text = "10.0.0.1.1 but 127.0.0.256 1.1.1.1"
l = reValidIPv4.findall(text)
print(l)
<END>
<QUE>
How to get text file from a relative path?
<ANS>
import os
open(os.path.join(os.path.dirname(__file__), 'Directory', 'input.txt'))
<END>
<QUE>
Twisted redirect subdirectory to another domain
<ANS>
from twisted.web.util import Redirect
fooDotComResource.putChild("bar", Redirect("http://foobar.com/bar"))
<END>
<QUE>
python how to align data with pprint or another module
<ANS>
print('        %-40s%s' % (self.serverrqs()*int(self.nbpro), self.servernbrqs()))
<END>
<QUE>
Python web framework with low barrier to entry
<ANS>
import web

urls = (
    '/(.*)', 'hello'
)
app = web.application(urls, globals())

class hello:        
    def GET(self, name):
        if not name: 
            name = 'world'
        return 'Hello, ' + name + '!'

if __name__ == "__main__":
    app.run()
<END>
<QUE>
What is the best way of writing the number of occurrences of a word in a file for multiple files and writing the results to another file
<ANS>
os.system("cat * | grep -r -i -c 'Error' '%s' > '%s'" % (dir, errors_file))
<END>
<QUE>
How to filter a numpy array based on indices?
<ANS>
pt = (2, 2)
distance = 1
mask = (indices[0] - pt[0]) ** 2 + (indices[1] - pt[1]) ** 2 <= distance ** 2
result = my_array[mask]
<END>
<QUE>
Python - reading and deleting the top line of a file without loading it into memory
<ANS>
line1 = file1.readline()
line2 = file2.readline()
while file1_not_at_end and file2_not_at_end:
    if line1 < line2:
        file3.write(line1)
        line1 = file1.readline()
    else:
        file3.write(line2)
        line2 = file2.readline()

 # merge file 1 into file 3
 # merge file 2 into file 3
<END>
<QUE>
unittest- TypeError: this constructor takes no arguments
<ANS>
import unittest
class TestNothing(unittest.TestCase):
    def test_0010_test_nothing(self):
        self.assertEqual(200, 200)
<END>
<QUE>
How to create values from Zipf Distribution with range n in Python?
<ANS>
a=2
s = np.random.zipf(a, 1000)
result = (s/float(max(s)))*1000

print min(s), max(s)
print min(result), max(result)
<END>
<QUE>
use standard datastore index or build my own
<ANS>
get_by_id()
<END>
<QUE>
wxPython: Items in BoxSizer don't expand horizontally, only vertically
<ANS>
sizer = wx.BoxSizer(wx.VERTICAL)
sizer.Add(widget1, 0, wx.EXPAND)
sizer.Add(widget2, 1)
<END>
<QUE>
How to use columns of a key in a dict in Python?
<ANS>
dict['a'][:,1]
<END>
<QUE>
how to do 'knife client delete' and 'knife client create' using PyChef?
<ANS>
from chef import autoconfigure, Client
api = autoconfigure()
Client.delete('notcool.my.com')
Client.create('cool.my.com')
<END>
<QUE>
SGD - loss starts increasing after some iterations
<ANS>
def update_weights(w,x,y, learning_rate):
    inner_product = 0.0    
    for f_ in range(len(x)):
        inner_product += (w[f_] * x[f_])
    dloss = inner_product - y
    for f_ in range(len(x)):
        w[f_] += (learning_rate * (-x[f_] * dloss))
    return w
<END>
<QUE>
How do I make a matplotlib scatter plot square?
<ANS>
import matplotlib.pyplot as plt

fig, ax = plt.subplots()
x = [0, 0.2, 0.4, 0.6, 0.8]
y = [0, 0.5, 1, 1.5, 2.0]
colors = ['k']*len(x)
ax.scatter(x, y, c=colors, alpha=0.5)
ax.set_xlim((0,2))
ax.set_ylim((0,2))
x0,x1 = ax.get_xlim()
y0,y1 = ax.get_ylim()
ax.set_aspect(abs(x1-x0)/abs(y1-y0))
ax.grid(b=True, which='major', color='k', linestyle='--')
fig.savefig('test.png', dpi=600)
plt.close(fig)
<END>
<QUE>
Get indices of roughly equal sized chunks
<ANS>
def partitionIndexes(totalsize, numberofpartitions):
    # Compute the chunk size (integer division; i.e. assuming Python 2.7)
    chunksize = totalsize / numberofpartitions
    # How many chunks need an extra 1 added to the size?
    remainder = totalsize - chunksize * numberofpartitions
    a = 0
    for i in xrange(numberofpartitions):
        b = a + chunksize + (i < remainder)
        # Yield the inclusive-inclusive range
        yield (a, b - 1)
        a = b
<END>
<QUE>
Syntax error in a Python program
<ANS>
age = int(input("Thank you " + name + ", please enter your name to continue."))
<END>
<QUE>
How to open a text file in python and write only the first visible portion to the screen?
<ANS>
import os
import sys


filename = 'logo.txt'
# Use join instead of hard-coding file separators
path = os.path.join(os.getcwd(), filename)
# You need to specify some kind of delimiter so you know
# where the logo ends. I couldn't think of a better way to
# only print part of the file.
delimiter = '------'


with open(path, 'r') as f:
    for line in f:
        if delimiter in line:
            sys.stdout.write('Press any key to continue...')
            raw_input()
        else:
            sys.stdout.write(line)
<END>
<QUE>
How to distinguish the double click and single click of mouse in wxpython
<ANS>
import wx

TIMER_ID = 100

class Frame(wx.Frame):
    def __init__(self, title):
        wx.Frame.__init__(self, None, title=title, size=(350,200))
        self.timer = None
        self.Bind(wx.EVT_LEFT_DCLICK, self.OnDoubleClick)
        self.Bind(wx.EVT_LEFT_DOWN, self.OnLeftDown)

    def OnDoubleClick(self, event):
        self.timer.Stop()
        print("double click")

    def OnSingleClick(self, event):
        print("single click")
        self.timer.Stop()

    def OnLeftDown(self, event):
        self.timer = wx.Timer(self, TIMER_ID)
        self.timer.Start(200) # 0.2 seconds delay
        wx.EVT_TIMER(self, TIMER_ID, self.OnSingleClick)



app = wx.App(redirect=True)
top = Frame("Hello World")
top.Show()
app.MainLoop()
<END>
<QUE>
how to apply a specific regex to a specific line
<ANS>
with open ("my.ini", "r") as myfile:
    my_config = myfile.read()

lines = my_config.splitlines(True)
replacements = {"path_jamjs": {"changeUsername": "Te"},
                "path_php": {"changeUsername": "TeS"}}

for path, reps in replacements.items():
    for i, line in enumerate(lines):
        if line.startswith(path + ':'):
            for key, value in reps.items():
                line = line.replace('[' + key + ']', value)
            lines[i] = line

result = ''.join(lines)
<END>
<QUE>
Create a list of defaultdict in python
<ANS>
recordList = []
<END>
<QUE>
Find system folder locations in Python
<ANS>
import win32com.client
objShell = win32com.client.Dispatch("WScript.Shell")
allUserDocs = objShell.SpecialFolders("AllUsersDesktop")
print allUserDocs
<END>
<QUE>
python distutils: access to name of compiled extension
<ANS>
sysconfig.get_config_var('SO')
<END>
<QUE>
pygame rotating a line
<ANS>
import math
import pygame
from pygame.locals import *

radar = (100,100)
radar_len = 50
x = radar[0] + math.cos(math.radians(angle)) * radar_len
y = radar[1] + math.sin(math.radians(angle)) * radar_len

# then render the line radar->(x,y)
pygame.draw.line(screen, Color("black"), radar, (x,y), 1)
<END>
<QUE>
How can I create search terms with wildcards in Python?
<ANS>
import re
f=open('test.file.here', 'r')

pattern = re.compile("^[^\s]*ello[^\s]*\sWorld[^\s]*$")

for line in f:
  if pattern.match(line):
    print line,

f.close()
<END>
<QUE>
Updated: Apply (vectorized) function on each cell to interpolate grid
<ANS>
def f(x,y):
    '...some code...'
    single_value = array[x,y] # = dependent array (e.g. DEM)
    '...some code...'
    return z

x = np.arange(array.shape[0])
y = np.arange(array.shape[1])
xx, yy = np.meshgrid(x,y, sparse=True)

f_vec = np.vectorize(f) # vectorization of function f

tp_vec = f_vec(xx,yy).T
<END>
<QUE>
ctypes pointer to numpy array with custom dtype
<ANS>
one = np.ascontiguousarray(a['one'])
one.ctypes.data_as(ctypes.POINTER(ctypes.c_double))
<END>
<QUE>
Scikit-learn: How to run KMeans on a one-dimensional array?
<ANS>
from sklearn.cluster import KMeans
import numpy as np
x = np.random.random(13876)

km = KMeans()
km.fit(x.reshape(-1,1))  # -1 will be calculated to be 13876 here
<END>
<QUE>
Match files if it not ends with particular string
<ANS>
'^(aby|xyz)_.*?(?<!_Result)\.csv$'
<END>
<QUE>
Secondary_y range in a Pandas groupby function
<ANS>
axs = df_month.plot(secondary_y=['C'], mark_right=False)

for ax in axs:
    ax.right_ax.set_ylim((0,50)) # Set the y limits to 0 to 50
<END>
<QUE>
How to get RSS date using Universal Feed Parser
<ANS>
time.struct_time
<END>
<QUE>
Keep a process listening for intercommunication
<ANS>
class ProducerProcess(Process):

    def __init__(self, q, **kwargs):
        Process.__init__(self,)
        self.q = q

    def run():
        res = do_stuff()
        q.put(res)

class ConsumerProcess(Process):

    def __init__(self, q, **kwargs):
        Process.__init__(self,)
        self.q = q

    def run():
        while True:
            args = q.get(block=True) # wait until there is an item in the queue
            do_stuff(*args) # do stuff here


q = Queue()
p1 = ProducerProcess(q, **your_args)
p2 =ConsumerProcess(q, **extra_args)
p2.start()
p1.start()
# join the processes p1.join() p2.join() or use JoinableQueue depending what you need
<END>
<QUE>
How to execute long bash sequence with Python subprocess
<ANS>
subprocess.call('echo -e "root (hd0,1)
find /boot/grub/menu.lst
setup (hd0)
quit" | grub --batch', shell=True)
<END>
<QUE>
Reading bytes from Python String
<ANS>
mystring = "a1234f"
data = list(mystring)
<END>
<QUE>
create temporary table from cursor
<ANS>
sql.execute(connection, """
INSERT INTO blah VALUES %s;""" % (
    ", ".join("(%d)" % hid for hid in hids)))
<END>
<QUE>
Pandas Compare between Two DataFrames, flag what matches
<ANS>
columns = ['Facility', 'Category', 'ID', 'Part', 'Text']

# It's always a good idea to sort after creating a MultiIndex like this
df = df.set_index(columns).sortlevel()
df1 = df1.set_index(columns).sortlevel()

# You don't have to use Yes here, anything will do
# The boolean True might be more appropriate
df['MatchingFlag'] = "Yes"
df1['MatchingFlag'] = "Yes"

# Add them together, matching rows will have the value "YesYes"
# Non-matches will be nan
result = df + df1

# If you'd rather not have NaN's 
result.loc[:,'MatchingFlag'] = result.loc[:,'MatchingFlag'].replace('YesYes','Yes')
result.loc[:,'MatchingFlag'] = result['MatchingFlag'].fillna('No')
<END>
<QUE>
edit a file line by line interactively from user input in python
<ANS>
import os

sep = " "

with open("inline-t.txt", "rb+") as fd:
    seekpos = fd.tell()
    line = fd.readline()
    while line:
        print line
        next = raw_input(">>> ")
        if next == ":q":
            break
        if next:
            values = line.split(sep)
            newval = values[0] + sep + next + '
'
            if len(newval) == len(line):
                fd.seek(seekpos)
                fd.write(newval)
                fd.flush()
                os.fsync(fd)
            else:
                remaining = fd.read()
                fd.seek(seekpos)
                fd.write(newval + remaining)
                fd.flush()
                os.fsync(fd)
                fd.seek(seekpos)
                line = fd.readline()
        seekpos = fd.tell()
        line = fd.readline()
<END>
<QUE>
Django REST browser interface
<ANS>
from django.test.client import Client
client = Client()
resp = client.put('/employee/2/', data={'email': 'here@there.com'}, follow=True)
#... etc
<END>
<QUE>
Iterating through the same key in different items python dictionary
<ANS>
for key1 in dict:
    for key2 in dict[key1]:
       dict[key1][key2]['time'] = 'newTime'
<END>
<QUE>
Django: Model field for storing a list of floats?
<ANS>
comma_separated_float_list_re = re.compile('^([-+]?\d*\.?\d+[,\s]*)+$')
validate_comma_separated_float_list = RegexValidator(
              comma_separated_float_list_re, 
              _(u'Enter only floats separated by commas.'), 'invalid')

class CommaSeparatedFloatField(CharField):
    default_validators = [validators.validate_comma_separated_float_list]
    description = _("Comma-separated floats")

    def formfield(self, **kwargs):
        defaults = {
            'error_messages': {
                'invalid': _(u'Enter only floats separated by commas.'),
            }
        }
        defaults.update(kwargs)
        return super(CommaSeparatedFloatField, self).formfield(**defaults)
<END>
<QUE>
How to serve a wsgi app from within Pyramid?
<ANS>
from pyramid.wsgi import wsgiapp

# Enable TileStache tile server
import TileStache
tile_app = TileStache.WSGITileServer('tilestache/tilestache.cfg', autoreload=False)

@wsgiapp
def tileserver(environ, start_response):

    return tile_app(environ, start_response)
<END>
<QUE>
Selenium: retrieve data that loads while scrolling down
<ANS>
wd = webdriver.Firefox()
wd.implicitly_wait(3)

def get_items(items):
    print len(items)
    wd.execute_script("window.scrollTo(0, document.body.scrollHeight);")
    # len(items) and len(wd.find_elements-by...()) both always seem to return the same number
    # if I were to start the loop with while True: it would work, but of course... never end

    sleep(5) #seconds
    while len(wd.find_elements_by_class_name('stream-item')) > len(items):
        items = wd.find_elements_by_class_name('stream-item')
        print items
        wd.execute_script("window.scrollTo(0, document.body.scrollHeight);")
    return items

def test():
    get_page('http://twitter.com/')
    get_items(wd.find_elements_by_class_name('stream-item'))
<END>
<QUE>
Dynamic function building in Python
<ANS>
def foo(vals):
    def f(p,x):
        result=0
        for i,(av,ap) in enumerate(zip(vals,p)):
            result+=av*ap*(x**i)
        return result
    return f

print(foo([50])([2],3))
# f(p,x)=50*2
# 100
print(foo([50,60])([2,3],4))
# f(p,x)=50*2+60*3*x
# 820
<END>
<QUE>
I have a simple python dict why is a generator reference printed instead of the dict
<ANS>
print [procinfo for procinfo in procinfos]
<END>
<QUE>
Iterating over Instagram json
<ANS>
dataset = mydata['data']
for data in dataset:
   url = data['images']['standard_resolution']['url']
<END>
<QUE>
How to embed python tkinter window into a browser?
<ANS>
import numpy as np
import matplotlib
import mplh5canvas

matplotlib.use('module://mplh5canvas.backend_h5canvas')

import matplotlib.cbook as cbook
import matplotlib.image as image
import matplotlib.pyplot as plt


fig = plt.figure()

ax = fig.add_subplot(111)

ax.plot(np.random.rand(20), '-o', ms=20, lw=2, alpha=0.7, mfc='orange')

ax.grid()

plt.show(open_plot=True)
<END>
<QUE>
How to run an xpath over html page in python?
<ANS>
import lxml.html
page = lxml.html.parse('http://www.google.com').getroot()
print page.xpath('//a/@href')
<END>
<QUE>
In Python, Given a list of tuple, generate a list whose elements are sum of elements of contained tuples
<ANS>
a=input('Enter the list of tuples')
b=[]
for i in range(len(a)):
    b.append(sum(a[i]))
<END>
<QUE>
2D Lists in python
<ANS>
try:
    return self.object[row][column]
except IndexError:
    return "error"
<END>
<QUE>
Can't properly remove line from text file
<ANS>
with open('test.txt') as infile, open('test_2.txt', 'w') as outfile:
  for line in infile:
    if not line.startswith("I want"):
      outfile.write(line.strip())
<END>
<QUE>
Python/Numpy: Setting values to index ranges
<ANS>
faces[:,:,0,4] = 1

faces[:,:,0,4] = (1, 1, 1)
<END>
<QUE>
Django, Truncated incorrect DOUBLE value: '\x00' in ValueQuerySet
<ANS>
for r in Table1.objects.using('schema1').filter(column1=val1,column2=val2).values('column3').distinct('column3'):
    ltest.append(r['column3'])
for r in lookupTable(type).objects.using('schema1').filter(column3__in=ltest).values('column4').distinct('column4'):
    lTemp.append(r['column4'])
<END>
<QUE>
Selective Transaction Management with Django ORM
<ANS>
django.db.transaction.enter_transaction_management(using='primary')
django.db.transaction.managed(True, using='primary')

i = 0 
for record in records:
    i += 1
    r = PrimaryDBModel(**record)
    r.save() # This will no be committed until the end.
    if not i % 100:
        SecondaryDBModel.update()
        status = SecondaryDBModel(id=123)
        status.current_row = i
        status.save() # This will committed immediately.

django.db.transaction.commit(using='primary')
django.db.transaction.leave_transaction_management(using='primary')
<END>
<QUE>
find and return a node from a tree in Python
<ANS>
class WNode(object):

    def __init__(self,w):
        self._w=w
        self._content=[]

    def find(self, x):
        if self._w == x:
            return self
        else:
            y = None
            for i in self._content:
                y = i.find(x)
                if y:
                    break
            return y
        return None

if __name__ == '__main__':
    r = WNode(1)
    r._content = [WNode(2), WNode(3), WNode(4)]
    for i in xrange(1, 6):
        print('find({}) = {}'.format(i, r.find(i)))
<END>
<QUE>
matplotlib string to dates
<ANS>
datelist =  ['2014-05-06', '2014-05-07', '2014-05-08', '2014-05-09', '2014-05-10',    '2014-05-11', '2014-05-12', '2014-05-13']

import matplotlib
from matplotlib import pyplot
from matplotlib import dates
import datetime

converted_dates = map(datetime.datetime.strptime, datelist, len(datelist)*['%Y-%m-%d'])
x_axis = (converted_dates)
formatter = dates.DateFormatter('%Y-%m-%d')


y_axis = range(0,8)
pyplot.plot( x_axis, y_axis, '-' )
ax = pyplot.gcf().axes[0] 
ax.xaxis.set_major_formatter(formatter)
pyplot.gcf().autofmt_xdate(rotation=25)
pyplot.show()
<END>
<QUE>
Points on line with Python
<ANS>
A = [100,100,100,100]
Scale = 1

B= []
for idx, val in enumerate(A):
    B.append( (val*idx)/(len(A)-1) * Scale)
<END>
<QUE>
python selenium send css with !important
<ANS>
browser.execute_script(
    "arguments[0].style.setProperty('display', 'block', 'important');",
    browser.find_element_by_xpath("//div")
    )
<END>
<QUE>
Python xml : list all elements in item
<ANS>
def process_element(catalog, *args, **kwargs):
    for child in catalog.getchildren():
        print(child.text)
<END>
<QUE>
Python requests api
<ANS>
filehandle = open(PATH)

r = session.post(URL_IMPORT, data={},files = {'sync_config_import':filehandle})
<END>
<QUE>
Pandas Python: how to get values on data frame every 10 steps?
<ANS>
df.loc[[i for j, i in enumerate(df.index) if j % 10 == 0]]
<END>
<QUE>
Hardcoding values into ndb model
<ANS>
class DBExamplestart(Examplestart):
    variable = ndb.KeyProperty(kind=DBUser, default=ndb.Key(DBUser, 776))
    statement = ndb.StringProperty(indexed=False, default='First')
<END>
<QUE>
Define a long list of variables in python
<ANS>
COLUMN_VARIABLES = ['provider', 'language','subtype']
data = {}

for variable in COLUMN_VARIABLES:
    data[variable] = node.xpath("//%s/text()"%variable)[0]
<END>
<QUE>
python closure local variables
<ANS>
def SAD_singleton(cls):
    class tmp(object):
        def __init__(self):
            self.c = None
    instances = tmp()
    def getinstance():

        if instances.c is None:
            instances.c = cls()

        return instances.c
    return getinstance
<END>
<QUE>
Euclidean distance with weights
<ANS>
def weightedL2(a,b,w):
    q = a-b
    return np.sqrt((w*q*q).sum())
<END>
<QUE>
Opacity of individual widgets in WXPython
<ANS>
if button.CanSetTransparent():
    button.SetTransparent(100)
<END>
<QUE>
Find which python modules are being imported
<ANS>
sys.modules
<END>
<QUE>
Calculating distance travelled from gps track points using python
<ANS>
import math

def getDistance(lat1,lon1,lat2,lon2):
    # This uses the haversine formula, which remains a good numberical computation,
    # even at small distances, unlike the Shperical Law of Cosines.
    # This method has ~0.3% error built in.
    R = 6371 # Radius of Earth in km

    dLat = math.radians(float(lat2) - float(lat1))
    dLon = math.radians(float(lon2) - float(lon1))
    lat1 = math.radians(float(lat1))
    lat2 = math.radians(float(lat2))

    a = math.sin(dLat/2) * math.sin(dLat/2) + \
        math.cos(lat1) * math.cos(lat2) * math.sin(dLon/2) * math.sin(dLon/2)

    c = 2 * math.atan2(math.sqrt(a), math.sqrt(1-a))

    d = R * c * 0.621371 # Converting km to miles with "* 0.621371"

    return d
<END>
<QUE>
Using the For statement in python 3x
<ANS>
from string import ascii_lowercase
for character in ascii_lowercase:
    c = character
<END>
<QUE>
creating .exe file with cx_freeze for a tkinter interface
<ANS>
import sys
from cx_Freeze import setup, Executable

# Dependencies are automatically detected, but it might need fine tuning.
build_exe_options = {"includes": ["tkinter"]}

# GUI applications require a different base on Windows (the default is for a
# console application).
base = None
if sys.platform == "win32":
    base = "Win32GUI"

setup(
    name = "simple_Tkinter",
    version = "0.1",
    description = "Sample cx_Freeze Tkinter script",
    options = {"build_exe": build_exe_options},
    executables = [Executable("the timer.py", base = base)])

setup(  name = "guifoo",
        version = "0.1",
        description = "My GUI application!",
        options = {"build_exe": build_exe_options},
        executables = [Executable("guifoo.py", base=base)])
<END>
<QUE>
Q: Django - how to return data from other function on views.py
<ANS>
def gettext(request):
  if request.method == 'POST':
    form = UploadFileForm(request.POST, request.FILES)
    if form.is_valid():
        f = request.FILES['file']
        for chunk in f.chunks():
            text = chunk
            text = preprocessing(text)
        return render(request, 'ecs/index.html', {'text': text, 'form': form})      
    else:
        form = UploadFileForm()
return render_to_response('ecs/index.html', {'form': form})
<END>
<QUE>
my program wont run from command prompt
<ANS>
raw_input()
<END>
<QUE>
Switch Application to Unicode
<ANS>
import csv

with open("organizationTest.txt","rU") as f:
        reader = csv.reader(f)
        for row in reader:
            _, created = Company.objects.get_or_create(
                Name=row[0].decode('latin-1').encode('utf8'),
                Site=row[1].decode('latin-1').encode('utf8'),
                )
<END>
<QUE>
How can I define a constant for model and view in Django
<ANS>
const.py
<END>
<QUE>
How do I use PIL with Tkinter?
<ANS>
TK.Tk()
<END>
<QUE>
Annote and count posts related to a specific class, in Django
<ANS>
entry_count = Topic.objects.values('title').annotate(Count('entry')).order_by('-entry__count')
<END>
<QUE>
python library for splitting video
<ANS>
import cv

capture = cv.CaptureFromFile(filename)
while Condition1:
    # Need a frame to get the output video dimensions
    frame = cv.RetrieveFrame(capture) # Will return None if there are no frames
    # New video file
    video_out = cv.CreateVideoWriter(output_filenameX, CV_FOURCC('M','J','P','G'), capture.fps, frame.size(), 1)
    # Write the frames
    cv.WriteFrame(video_out, frame)
    while Condition2:
        frame = cv.RetrieveFrame(capture) # Will return None if there are no frames
        cv.WriteFrame(video_out, frame)
<END>
<QUE>
List of lists based on numbers in another list
<ANS>
b = [range(x) for x in a]
<END>
<QUE>
how to connect to a printer and print a png image using python and PIL library in Ubuntu
<ANS>
subprocess.call(['lp', 'foo.png'])
<END>
<QUE>
Numpy array, insert alternate rows of zeros
<ANS>
a=np.zeros((982,5)) 
b=np.random.randint(0,100,(491,5)) # your 491 row matrix
a[::2] = b
<END>
<QUE>
Pass data from python script to HTML
<ANS>
from flask import Flask
app = Flask(__name__)
data_loader = lambda: range(10) # this function should load your data from some external store
@app.route("/")
def main():
    body = "
".join(["<p>%s</p>" % datum for datum in data_loader()])
    page = """<html><body>%s
              <script>setTimeout(function(){
                 window.location.reload(1);
            }, 5000);</script></body></html>""" % body
    return page


if __name__ == "__main__":
    app.run()
<END>
<QUE>
GDB, python scripting to get return values from a function
<ANS>
import gdb

res = []
res.append(gdb.execute("call factorial(4)", False, True))
res.append(gdb.execute("call factorial(5)", False, True))
print res
<END>
<QUE>
Programmatically change image resolution
<ANS>
from PIL import Image

im = Image.open("test.png")
im.save("test-600.png", dpi=(600,600) )
<END>
<QUE>
Replace Character For All Rows using SQLAlchemy on Flask
<ANS>
from user.models import *
for u in User.query.all():
    # \u2013 is unicode for en-dash
    if u"\u2013" in u.occupation:
        # replace with normal hyphen
        u.occupation = u.occupation.replace(u"\u2013", "-")
        db.session.commit()
<END>
<QUE>
How to use a parameter to select one or more columns in a SELECT statement
<ANS>
"SELECT {} FROM a_table".format(','.join(parameter_list))
<END>
<QUE>
Reuse specific lines of code
<ANS>
def flip_member(x):
    if x == 1:
        x += 1
    else:
        x -= 1
    return x
<END>
<QUE>
Remove nonalphabet characters from a string
<ANS>
word = 'lake1!'
new_word = ''
for char in word:
    if char.isalpha():
        new_word += char
<END>
<QUE>
list comprenhension using two list
<ANS>
C = [ A[x] for x in range(len(A)) if B[x] ]
<END>
<QUE>
Place decimal before last two digits for an integer
<ANS>
print "%.2f" % (99990 / 100.0)
<END>
<QUE>
Reading and manipulating a file in python
<ANS>
def ints(filename):
        """A function that takes the filename of a file as an input arguement, computs and returns a list of
        integers of all the numbers in the file."""
        a = []
        f = open(filename, "r")
        lines = f.readlines()
        f.close()
        for line in lines:
            for character in line:
                try:
                    a.append(int(character))
                except ValueError:
                    pass
        return a
<END>
<QUE>
How to run python script from python with different interpreter version?
<ANS>
#my python3 script
import subprocess
subprocess.call(["python2", "python2scipt.py"])
<END>
<QUE>
Extracting HTML data fields with Python
<ANS>
from bs4 import BeautifulSoup
soup = BeautifulSoup('<html><body><a>bbb</a></body></html')
soup.find('a')
<END>
<QUE>
How to list all Python versions installed in the system?
<ANS>
from subprocess import *
from time import sleep

for i in range(2, 4):
    x = Popen('python' + str(i) + ' --version', shell=True, stdout=PIPE, stdin=PIPE, stderr=STDOUT)
    while x.poll() == None:
        sleep(0.025)
    print('Exit code of ' + str(i) + ' is:',x.poll())
    x.stdout.close()
    x.stdin.close()
<END>
<QUE>
aspect based sentiment using NLTK?
<ANS>
def accuracy(classifier, gold):
    results = classifier.classify_many([fs for (fs,l) in gold])
    correct = [l==r for ((fs,l), r) in zip(gold, results)]
    if correct:
        return float(sum(correct))/len(correct)
    else:
        return 0
<END>
<QUE>
data in my outputfile didn't print all result it should have
<ANS>
with open('newfile.txt','w') as fileinput:
    for start, end in searchPFAM(fname):
        print start, end  
        if start <= end:
            while start <= end:
                result = makeList[start]
                fileinput.write(result)
                start += 1
<END>
<QUE>
How to call from within Python an application with double quotes around an argument using subprocess?
<ANS>
output=subprocess.Popen(("certutil.exe -view -restrict  \"NotAfter<=now+30:00,NotAfter>=now+00:00\"" ),stdout=subprocess.PIPE).stdout
<END>
<QUE>
converting python list of integers to a hex number
<ANS>
def get_number(values):
    total = 0
    for val in reversed(values):
        total = (total << 8) + val
    return total
<END>
<QUE>
Need file dialog for code running in Enthought Canopy
<ANS>
from PySide import QtGui
fname, _ = QtGui.QFileDialog.getOpenFileName(None, 'Choose file','.')
<END>
<QUE>
Selenium webdriver find_element_by_xpath takes time
<ANS>
ff = webdriver.Firefox()
ff.implicitly_wait(10) # seconds
<END>
<QUE>
Using opencv / Numpy to find white pixels in a color image using python
<ANS>
(input_img == 255).all(axis=2)
<END>
<QUE>
How to add a calculated field to a Django model
<ANS>
from django.db import models
from django.contrib import admin

class Employee(models.Model):
    lastname = models.CharField("Last", max_length=64)
    firstname = models.CharField("First", max_length=64)
    middlename = models.CharField("Middle", max_length=64)
    clocknumber = models.CharField(max_length=16)

    def _get_full_name(self):
        "Returns the person's full name."
        return '%s, %s %s' % (self.lastname, self.firstname, self.middlename)
    full_name = property(_get_full_name)


    class Meta:
        ordering = ['lastname','firstname', 'middlename']

class EmployeeAdmin(admin.ModelAdmin):
    list_display = ('clocknumber','full_name')
    fieldsets = [("Name", {"fields":(("lastname", "firstname", "middlename"), "clocknumber")}),
]

admin.site.register(Employee, EmployeeAdmin)
<END>
<QUE>
Python: Inserting characters between other characters at random points
<ANS>
import random

lst = ['!','-','=','~','|']
string = 'Hello world. Hello world.'


print ''.join('%s%s' % (x, random.choice(lst) if random.random() > 0.5 else '') for x in string)
<END>
<QUE>
Python Print all from json
<ANS>
for i in data['topartists']['artist']:
    print (i['name'])
<END>
<QUE>
Generating a graph recursively - Python
<ANS>
hasht = \
{
    "A" : ["B", "D", "E"],
    "B" : ["C"],
    "C" : ["D", "E"], 
    "D" : ["C", "E"], 
    "E" : ["B"]
}

def recursive(start, finish):
    paths=[]
    def recursive_helper(path, finish):
        for i in hasht[path[-1]]:
            if i == finish:
                paths.append(path + [i])
                continue
            else:
                recursive_helper(path + [i], finish)
    recursive_helper([start], finish)
    return paths

print recursive("C", "C")
<END>
<QUE>
Unable to update Multiple cloums in a sql database table using pyodbc
<ANS>
cursor.execute("update Gps_table set longitude=?,latitude=? where gps_id=1", s1, s2)
<END>
<QUE>
python complex number print result different from shell output
<ANS>
print root11.__repr__()
<END>
<QUE>
how to post a new comment through a method in django?
<ANS>
comment = Comment.objects.create(**params)
<END>
<QUE>
Python - add a column to an existing tab separated file
<ANS>
import fileinput

for fl, line in zip(li, fileinput.input(['a.txt'], inplace=True)):
    print(line.strip() + '\t' + str(fl))
<END>
<QUE>
HTML Python Correct Syntax
<ANS>
print "<tr><td>Review </td><td><input type=\"textarea\" name=\"Review\" cols=\"50\" rows=\"5\" />"
print """
    Enter some text...
    </textarea>
    <br />

"""
<END>
<QUE>
Calling a method from another class in Python
<ANS>
# weapon.py
class Weapon:
    def __init__(self, name, dmg):
        self.name = name
        self.dmg  = dmg

    def attack(self, target):
        target.health -= self.dmg

# fighter.py
class Fighter:
    def __init__(self, name, weapon=None):
        self.name   = name
        self.weapon = weapon

    def attack(self, target):
        if self.weapon is None:
            # punch him
            target.health -= 2
        else:
            self.weapon.attack(target)
<END>
<QUE>
How can I change name of option in django select box
<ANS>
class Category(models.Model):
   name = models.CharField(max_length=30, unique=True)

   def __unicode__(self):
        return self.name
<END>
<QUE>
Python - Size problems with subplots in matplotlib
<ANS>
plt.savefig('test.png',  bbox_inches='tight', pad_inches=0.1)
<END>
<QUE>
Pandas DF and RE - Find a match Y. Then find the last occurence of X
<ANS>
import pandas as pd

data = []
for line in open('temp.text'):
    if line.startswith('/media/'):
        path = line[:-1]
    else:
        rights = line.split()[1]
        owner = re.match('.*.CN=([^.]+).*', line).groups()[0]
        row = {'path': path, 'right': rights, 'owner': owner}
        data.append(row)
df = pd.DataFrame(data)
df[df.owner=='Dog']
<END>
<QUE>
bottle python put equivalent to post for data
<ANS>
data = request.body.read()
<END>
<QUE>
Reading a file in python and creating a list turns out to an empty list
<ANS>
fin = open("foo1.txt")
G={}
for line in fin: # load data, create adj lists
    lst = line.split()
    lst = [int(x) for x in lst]
    G[lst[0] ]=lst[1:]
print(G)
<END>
<QUE>
Python - Creating a list of intergers and using recursion to add them up
<ANS>
def range_sum(nums, sum=0):
    if not nums:
        return sum
    sum += nums.pop()
    return range_sum(nums, sum)
<END>
<QUE>
Biasing Sklearn toward positives For MultinomialNB
<ANS>
from sklearn.metrics import f1_score
<END>
<QUE>
How to parse YouTube XML using Python?
<ANS>
for node in entry:
    video_title = node.getElementsByTagName('title')[0].firstChild.nodeValue
    print video_title
<END>
<QUE>
Deleting specific lines from text file
<ANS>
def get_name(line):
    return line[1:].rsplit('|', 1)[-1].strip()

with open('input.txt') as f, open('output.txt', 'w') as fout:
    name = ''

    # Phase 1: Find unavailable sequence
    unavailable = set()
    for line in f:
        if line.startswith('>'):
            name = get_name(line)
        else:
            if 'Sequence unavailable' in line:
                unavailable.add(name)

    # Phase 2: Filter avilable sequence
    f.seek(0)
    keep = False
    for line in f:
        if line.startswith('>'):
            name = get_name(line)
            keep = name not in unavailable
        if keep:
            fout.write(line)
<END>
<QUE>
Checkbuttons with Multiple Tkinter Windows
<ANS>
[Toplevel][1]
<END>
<QUE>
Getting all relations in DB by using rdflib
<ANS>
# Get a cursor for the entire collection
docs = db.collection.find()

for doc in docs:
    # Get all documents that have a common element
    related_docs = db.collection.find({"$or": [
        {"color": doc["color"]},
        {"name": doc["name"]},
        {"age": doc["age"]},
        ]})

    # Record the relationships in whatever structure you're using
    for related_doc in related_docs:
        store_relationship(doc, related_doc)
<END>
<QUE>
python simple parallel computation with joblib
<ANS>
from math import sqrt
from joblib import Parallel, delayed
import multiprocessing

if __name__ == '__main__':
    test = Parallel(n_jobs=2)(delayed(sqrt)(i ** 2) for i in range(10))
    print(test)
<END>
<QUE>
match pattern between symbols, after given pattern
<ANS>
re.findall(r"vcxproj.*?\{(.*?)\}", text)
<END>
<QUE>
How do I get the last numbers of a number variable?
<ANS>
num = 12345678
first_four = int(str(num)[:4])
last_four = int(str(num)[4:])
middle_two = int(str(num)[3:5])
<END>
<QUE>
Appending associative arrays in Python
<ANS>
if user not in data:
    data[user] = []
data[user].append({'item': row[0], 'time': row[1]})
<END>
<QUE>
My python method isn't working correctly, skipping items in a list (playfair cipher)
<ANS>
def makePlayFair(key, alpha):


    letters = []
    for letter in key + alpha:
        if letter not in letters:
            letters.append(letter)

    box = []
    for line_number in range(5):
        box.append( letters[line_number * 5: (line_number+1) * 5])
<END>
<QUE>
prints the string with enough leading spaces?
<ANS>
def right_justify(s):
    print "%70s" % s
<END>
<QUE>
Python - 'Subtract' Elements in 1 List From The End of The Elements in 2nd List. Elements are strings not integers
<ANS>
def depluralise(plurals, plural_endings):
    new_list = []
    for plural, plural_ending in zip(plurals, plural_endings):
        if plural.endswith(plural_ending):
            if plural_ending == '':
                new_list.append(plural)
            else:
                new_list.append(plural[:-len(plural_ending)])
    return new_list 


plural_string = "cell phones|sheep|oxen"
plurals = plural_string.split('|')
plural_endings_string = "s,,en"
plural_endings = plural_endings_string.split(',')

print depluralise(plurals, plural_endings)

plurals = ['children', 'brothers', 'fish', 'penguins']
plural_endings = ['ren', 's', '', 's']

print depluralise(plurals, plural_endings)
<END>
<QUE>
TypeError histogram of time
<ANS>
hour_list = [int(t[:2]) for t in time_new]
<END>
<QUE>
How to clear an entire Treeview with Tkinter
<ANS>
for i in tree.get_children():
    tree.delete(i)
<END>
<QUE>
Variable number of columns in Python data, multiple .exp files
<ANS>
import glob
import pandas as pd

combined = []
for filepath in glob.glob('path/to/your/files/*.exp'):
    combined.append(pd.read_table(filepath, sep='\t', header=None))
combined = pd.concat(combined, ignore_index=True)
<END>
<QUE>
how to make triangle using python 2.7
<ANS>
line = 5
print (line-1) * " " + "* "
for i in xrange(1,line-1):
    print (line-i-1)* " " +  "*" + (2*i -1)*" " + "* "
print (line) * "* "
<END>
<QUE>
Removal of whitespace and text in brackets - make my working code more elegant
<ANS>
#!/usr/bin/env python

import re

if __name__ == "__main__":
    lines = {' foo      (bar)    '}
    parens_regex = re.compile(r'\(.*?\)')  # Non-greedy
    space_regex =  re.compile(r'\s+')

    for line in lines:
        print 'Before: "%s"' % line
        line_tmp = parens_regex.sub('', line)  # Before space-regex so we also collapse space around parens
        line_tmp = space_regex.sub(' ', line_tmp)
        line_tmp = line_tmp.strip()
        print 'After: "%s"' % line_tmp  # Prints: "foo"
<END>
<QUE>
How to search keywords in 400+ PDF files?
<ANS>
import pyPdf

def getPDFContent(path):
    content = ""
    # Load PDF into pyPDF
    pdf = pyPdf.PdfFileReader(file(path, "rb"))
    # Iterate pages
    for i in range(0, pdf.getNumPages()):
        # Extract text from page and add to content
        content += pdf.getPage(i).extractText() + "
"
    # Collapse whitespace
    content = " ".join(content.replace("\xa0", " ").strip().split())
    return content

for f in filelist:
    print keyword in getPDFContent(f)
<END>
<QUE>
How to parse a wikipedia page in Python?
<ANS>
import urllib2
req = urllib2.urlopen("http://en.wikipedia.org/w/api.php?action=parse&page=China&format=json&prop=text")
content = req.read()
# content in json - use json or simplejson to get relevant sections.
<END>
<QUE>
How can I get a user's IP from a Blobstore upload handler?
<ANS>
create_upload_url()
<END>
<QUE>
Return a range of elements of each list inside a list of lists
<ANS>
newlist = [sublist[:2] for sublist in mylist]
<END>
<QUE>
How to automatically move specific MySQL tables from one machine to another?
<ANS>
print "mysqldump database",
for i in range(n):
    print "shard_"+str(2*i),
<END>
<QUE>
Dataframe Row Selection by Weekday of Index in Python
<ANS>
df.index = df.index.to_datetime()
<END>
<QUE>
draw a border around subplots in matplotlib
<ANS>
#!/usr/bin/env python
from pylab import *

def f(t):
    s1 = cos(2*pi*t)
    e1 = exp(-t)
    return multiply(s1,e1)

t1 = arange(0.0, 5.0, 0.1)
t2 = arange(0.0, 5.0, 0.02)
t3 = arange(0.0, 2.0, 0.01)

figure(figsize=(4, 4))
sub1 = subplot(211)
l = plot(t1, f(t1), 'bo', t2, f(t2), 'k--', markerfacecolor='green')
grid(True)
title('A tale of 2 subplots')
ylabel('Damped oscillation')

## I ADDED THIS
autoAxis = sub1.axis()
rec = Rectangle((autoAxis[0]-0.7,autoAxis[2]-0.2),(autoAxis[1]-autoAxis[0])+1,(autoAxis[3]-autoAxis[2])+0.4,fill=False,lw=2)
rec = sub1.add_patch(rec)
rec.set_clip_on(False)

subplot(212)
plot(t3, cos(2*pi*t3), 'r.')
grid(True)
xlabel('time (s)')
ylabel('Undamped')

savefig('test.png')
<END>
<QUE>
How can I dynamically create class methods for a class in python
<ANS>
# define a class object (your class may be more complicated than this...)
class A(object):
    pass

# a class method takes the class object as its first variable
def func(cls):
    print 'I am a class method'

# you can just add it to the class if you already know the name you want to use
A.func = classmethod(func)

# or you can auto-generate the name and set it this way
the_name = 'other_func' 
setattr(A, the_name, classmethod(func))
<END>
<QUE>
get first digit in a string in python
<ANS>
if m:  #only execute this if a match was found
   print m.group()  #m.group() is the portion of the string that matches your regex.
<END>
<QUE>
I am trying to make a file delete program
<ANS>
import shutil

path = input("Enter path to delete")

shutil.rmtree(path);
<END>
<QUE>
How to add logic to classview
<ANS>
class RegisterView(generic.CreateView):
    model = User
    form_class = forms.RegisterForm
    template_name = 'register.html'
    success_url = reverse_lazy('platforms')

    def get(self, request, *args, **kwargs):
        if request.user is not None:
            return redirect('home')
        # register logic
        return render(request, 'register.html', data)

    def form_valid(self, form):
        response = super(RegisterView, self).form_valid(form)
        user = authenticate(username=form.instance.username, password=form.cleaned_data['password'])
        login(self.request, user)
        return response
<END>
<QUE>
How to extract the n-th elements from a list of tuples in python?
<ANS>
[x[1] for x in elements]
<END>
<QUE>
Using multiple indicies for arrays in python
<ANS>
test_rec[(test_rec.age==1) & (test_rec.sex==1)]
<END>
<QUE>
Sending a list's values through a function
<ANS>
temp_input=raw_input()  #taking the input
lst=temp_input.split(";") # splitting the input and saving in a list
for i in lst: # iterating through the list
    parse(i) # calling parse() with single list element
<END>
<QUE>
Python ??? files from folder to a dict
<ANS>
import os

direc = os.getcwd() # Get current working directory
ext = '.txt' # Select your file delimiter

file_dict = {} # Create an empty dict

# Select only files with the ext extension
txt_files = [i for i in os.listdir(direc) if os.path.splitext(i)[1] == ext]

# Iterate over your txt files
for f in txt_files:
    # Open them and assign them to file_dict
    with open(os.path.join(direc,f)) as file_object:
        file_dict[f] = file_object.read()

# Iterate over your dict and print the key/val pairs.
for i in file_dict:
    print i, file_dict[i]
<END>
<QUE>
Converting to and from '<' and '>' automatically with Python
<ANS>
import cgi
escaped = cgi.escape(unescaped)
<END>
<QUE>
python - the index of the item where the next 10 items starts repeating
<ANS>
def find_convergence(iterable, count):
    current_count = 0
    last = None

    for i, x in enumerate(iterable):
        if x == last:
            current_count += 1

            if current_count == count:
                return i - count + 1
        else:
            last = x
            current_count = 1
<END>
<QUE>
Any solution for accelerating the reading of data from disk and converting them into numpy array for further processing?
<ANS>
from multiprocessing import Pool
from multiprocessing import cpu_count


def handle_tiff(some_file):
    data_open = gdal.Open(some_file)
    data_array = data_open.ReadAsArray().astype(np.float32) 
    return data_array

tiff_files = glob.glob('*.tif') 
p = Pool(cpu_count()- an_integer)
all_data = p.map(handle_tiff, tiff_files)
<END>
<QUE>
Create exchange Mailbox from python
<ANS>
import active_directory

homeMDB = "CN=UBER MAILBOX,CN=InformationStore,CN=UBERMAILSERVER,"\
        "CN=Servers,CN=Administrative Groups,CN=UBERORG,"\
        "CN=Microsoft Exchange,CN=Services,CN=Configuration,"\
        "DC=uber,DC=org,DC=uk"

user=active_directory.find_user("captain.awesomeface")
user.CreateMailbox(homeMDB)


user.Properties["mail"].Value = "captain.awesomeface@uberorg.com";

user.SetInfo()
<END>
<QUE>
How to parse datetime.date object into a float
<ANS>
# Import pyplot and dates from matplotlib
import matplotlib.pyplot as plt
import matplotlib.dates as mdates
# Set date format and major locator of x-axis
plt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y%m%d'))
plt.gca().yaxis.set_major_locator(mdates.DayLocator())
# Actually plot the data
plt.plot([x[0] for x in rows],[y[1] for y in rows])
# Fix ticklabels so they don't overlap in the figure
plt.gcf().autofmt_xdate()
<END>
<QUE>
Redirect an output command to a variable or file?
<ANS>
import subprocess
sp = subprocess.Popen(['ls', '-l'], stdout=subprocess.PIPE)
output, _ = sp.communicate()
print "Status:", sp.wait()
print "Output:"
print output
<END>
<QUE>
Python: maximum recursion depth exceeded while calling a Python object
<ANS>
def checkNextID(ID):
    global numOfRuns, curRes, lastResult
    while ID < lastResult:
        try:
            numOfRuns += 1
            if numOfRuns % 10 == 0:
                time.sleep(3) # sleep every 10 iterations
            if isValid(ID + 8):
                parseHTML(curRes)
                ID = ID + 8
            elif isValid(ID + 18):
                parseHTML(curRes)
                ID = ID + 18
            elif isValid(ID + 7):
                parseHTML(curRes)
                ID = ID + 7
            elif isValid(ID + 17):
                parseHTML(curRes)
                ID = ID + 17
            elif isValid(ID+6):
                parseHTML(curRes)
                ID = ID + 6
            elif isValid(ID + 16):
                parseHTML(curRes)
                ID = ID + 16
            else:
                ID = ID + 1
        except Exception, e:
            print "somethin went wrong: " + str(e)
<END>
<QUE>
Python video editing -- How to trim videos
<ANS>
def get_ffmpeg_bin():
    ffmpeg_dir = helper_functions.get_ffmpeg_dir_path()
    FFMPEG_BIN = os.path.join(ffmpeg_dir, "ffmpeg.exe")
    return FFMPEG_BIN


def split_vid_from_path(video_file_path, start_time, end_time):
    ffmpeg_binary =  get_ffmpeg_bin()
    output_file_name = get_next_file_name(video_file_path)
    pipe = sp.Popen([ffmpeg_binary,"-v", "quiet", "-y", "-i", video_file_path, "-vcodec", "copy", "-acodec", "copy",
                 "-ss", start_time, "-t", end_time, "-sn", output_file_name ])


    pipe.wait()
    return True


sample_vid = os.path.join(get_sample_vid_dir_path(), "Superman-01-The_Mad_Scientist.mp4")
split_vid_from_path(sample_vid, "00:00:00", "00:00:17")
<END>
<QUE>
get local path of an uploaded file in django
<ANS>
import os
os.path.abspath(file_csv.name)
<END>
<QUE>
Parse date and time from string with time zone using Arrow
<ANS>
arrow.get(s, 'YYYY/M/D HH:mm:ss').replace(tzinfo=dateutil.tz.gettz(tz))
<END>
<QUE>
How can i make sprites spawn on random locations using pygame?
<ANS>
random.randint(a, b)
<END>
<QUE>
Plot a tree-like graph with root node at the top
<ANS>
layout = g.layout_reingold_tilford(mode="in", root=0)
<END>
<QUE>
django template date filter format string question
<ANS>
{{ some_date|date:"j-M" }}
<END>
<QUE>
How do I override related_name in inherited/child objects?
<ANS>
class Blog(Module):
    def _get_posts(self):
        return Post.objects.filter(module=self)
    posts = property(_get_posts)
<END>
<QUE>
How do I right align monetary values with the "$" next to each number, not just at the margin?
<ANS>
for (name, amount) in cursor: 
    print("{}".format(name)+ "\t\t\t" + "{:>5}".format("$"+ "{:.0f}".format(amount).strip()))
<END>
<QUE>
PyQt - setText method of QTableWidget gets AttributeError
<ANS>
for x in xrange(5):
    item = QTableWidgetItem()
    item.setText("blah blah")
    self.tableWidget.setItem(n, 0, item)
<END>
<QUE>
how to print return function in Python
<ANS>
import scipy.cluster.vq as spa
print spk.kmeans2(dataset, 5)[0]  # for code
print spk.kmeans2(dataset, 5)[1]  # for label
<END>
<QUE>
How to see if there is one microphone active using python?
<ANS>
import ctypes
from ctypes import *

winmm= windll.winmm
print 'waveInGetNumDevs=',winmm.waveInGetNumDevs()
<END>
<QUE>
Calculate cosine similarity of two matrices - Python
<ANS>
from scipy import linalg, mat, dot
a = mat([-0.711,0.730])
b = mat([-1.099,0.124])

c = dot(a,b.T)/linalg.norm(a)/linalg.norm(b)
<END>
<QUE>
How can I do comparison in List of dictionaries for key values?
<ANS>
from itertools import groupby
from operator import itemgetter
dict(((u, sum(row['score'] for row in rows)) for u, rows in
    groupby(sorted(d, key=itemgetter('alias')), key=itemgetter('alias'))))
# {'2133232': 158, 'u234243': 416}
<END>
<QUE>
Overwriting a specific row in a csv file using Python's CSV module
<ANS>
import csv

bottle_list = []

# Read all data from the csv file.
with open('a.csv', 'rb') as b:
    bottles = csv.reader(b)
    bottle_list.extend(bottles)

# data to override in the format {line_num_to_override:data_to_write}. 
line_to_override = {1:['e', 'c', 'd'] }

# Write data to the csv file and replace the lines in the line_to_override dict.
with open('a.csv', 'wb') as b:
    writer = csv.writer(b)
    for line, row in enumerate(bottle_list):
         data = line_to_override.get(line, row)
         writer.writerow(data)
<END>
<QUE>
Inheritance in django models and saving data
<ANS>
user.save()
<END>
<QUE>
Get value from a dynamic url
<ANS>
import re
pattern = re.compile('prod/([\d_]+)/x/blah')
query   = "http://www.example.com/blah/prod/4_2343_234/x/blah.html"
result  = pattern.search(query).group(1)
print result
<END>
<QUE>
Python - Urllib2 Wait for page to load to scrape data
<ANS>
import urllib2
import time
url = 'Roblox url'
data = urllib2.urlopen(url)
time.sleep(10)
data = data.read()
<END>
<QUE>
how to show UART received data (on PIN 10, RX) of Raspberry pi on Tkinter Window
<ANS>
import serial, time, struct

ser = serial.Serial("/dev/ttyAMA0", 9600)



while True:

    count = 0
    AValue = []
    for ch in ser.read():
        if ch == "
":
            AValue = []
            time.sleep(0.1)

    while count < 4:
        for ch in ser.read():
            AValue.append(ch)
            count += 1
<END>
<QUE>
parsing unicoded tweet using json python
<ANS>
print "text : ", repr(singleTweetJson[index])
<END>
<QUE>
PyQt4 QSpinBox value format
<ANS>
class MySpinBox(QtGui.QSpinBox):
    def __init__(self, *args):
       QtGui.QSpinBox.__init__(self, *args)

       self.setRange(0,9999)

    def textFromValue(self, value):
       return "%04d" % value
<END>
<QUE>
Pythonic way to convert a dictionary to a numpy array
<ANS>
import pandas as pd
s = pd.Series({'a':1, 'b':2, 'c':3})
s.values # a numpy array
<END>
<QUE>
Using python 'requests' to send JSON boolean
<ANS>
import json 
payload = json.dumps({"on":True})
<END>
<QUE>
Passing control of console window to subprocess
<ANS>
from subprocess import Popen
Popen('gdb a.out', shell=True).communicate()
print 'test'
<END>
<QUE>
How often does python flush to a file?
<ANS>
bufsize = 0
f = open('file.txt', 'w', bufsize)
<END>
<QUE>
How to encode image to send over Python HTTP server?
<ANS>
def load_binary(file):
    with open(file, 'rb') as file:
        return file.read()
<END>
<QUE>
Set new `path` value for ImageField
<ANS>
for book in books:
        print "%d/%d" % (curr, total)
        if book.cover_url != "":
            new_path = string.replace(book.cover_url.path, "app-old/", "")
            book.cover_url = new_path
            book.save()
        curr+=1
<END>
<QUE>
Reference where a python script is located if being run from another location
<ANS>
os.path.dirname(__file__)
<END>
<QUE>
Using a function to retrieve specific data from text file. Python 3
<ANS>
f = open('your_file.txt')
lines = f.readlines()
res = [x for x in lines if str(year) in x.split()[1]]
print res
<END>
<QUE>
wxpython : Add Background picture and buttons
<ANS>
frame = wx.Frame( None, title="Hello wxPython", style = wx.CLOSE_BOX | wx.CAPTION | wx.RESIZE_BORDER )
<END>
<QUE>
Best way to loop/change some objects in object_list
<ANS>
threads = Thread.objects.all()[:30]
threads_by_pk = dict((t.pk, t) for t in threads)
# Extra info about threads that the user have visited
visited_threads = VisitedThread.objects.filter(pk__in=threads_by_pk.keys(), user=request.user)

# I want to loop the visited_threads and add info to thread in threads with new info
for visited_thread in visited_threads:
    thread = threads_by_pk[visited_thread.pk]
    thread.has_unread_post = thread.post_count > visited_thread.post_count
<END>
<QUE>
Filterig/removing/excluding private IPs with port from a nested list
<ANS>
dont_start_with_these = ('10.', '172.16.', '172.31.', '192.168')

filtered_ip = [ip for ip in fil2 if not ip[0].startswith(dont_start_with_these)]
<END>
<QUE>
How to allow resizing of QMessageBox in PyQt4
<ANS>
# Safe since everything in the namespace begins with 'Q'
from PyQt4.QtGui import *

class MyMessageBox(QMessageBox):

    # This is a much better way to extend __init__
    def __init__(self, *args, **kwargs):            
        super(MyMessageBox, self).__init__(*args, **kwargs)
        # Anything else you want goes below

    # We only need to extend resizeEvent, not every event.
    def resizeEvent(self, event):

        result = super(MyMessageBox, self).resizeEvent(event)

        details_box = self.findChild(QTextEdit)
        # 'is not' is better style than '!=' for None
        if details_box is not None:
            details_box.setFixedSize(details_box.sizeHint())

        return result
<END>
<QUE>
Function used to remove numbers with a repeating integer skips one entry and i dont know why
<ANS>
def repeat(x,Y):
    A = list(str(x)) #makes a list, A, of each digit: 101 becomes ['1','0','1']
    A = map(int,A)  #converts each value of the new list to integers
    print 'Proceessing', x
    for i in range(0,10):  
        b = A.count(i) #counts how many times each digit is present
        if b>1:         #if there is repetition
            print 'Removed', x
            Y.remove(x)


B = []
for i in range(100,1000):   #needs to be a 3 digit number (100 until 999)
    if i%17 == 0:
        B.append(i)         #creates list of factors of 17
print B

for j in B:                 #removes any values that have digits that occur more than once
    repeat(j,B)

print B
<END>
<QUE>
How to find all maximas if x and y values of the function are given as np.array
<ANS>
x=np.array([6,3,5,2,1,4,9,7,8])
y=np.array([2,1,3,5,7,9,8,10,7])

sort_idx = np.argsort(x)
y=y[sort_idx]
x=x[sort_idx]
minm=np.array([],dtype=int)
maxm=np.array([],dtype=int)
length = y.size
i=0

while i < length-1:
    if i < length - 1:
        while i < length-1 and y[i+1] >= y[i]:
            i+=1

        if i != 0 and i < length-1:
            maxm = np.append(maxm,i)

        i+=1

    if i < length - 1:
        while i < length-1 and y[i+1] <= y[i]:
            i+=1

        if i < length-1:
            minm = np.append(minm,i)
        i+=1


print minm,maxm
<END>
<QUE>
problem with python xgoogle library. How to increase the limit of 10 results?
<ANS>
from xgoogle.search import GoogleSearch, SearchError
try:
  page = 1
  gs = GoogleSearch("foo bar")  
  gs.results_per_page = 100
  results = []
  while page < 10:
      gs.page = page
      results += gs.get_results()
      page += 1
except SearchError, e:
  print "Search failed: %s" % e
for res in results:
    print res.url
<END>
<QUE>
How can I get the stanford NLTK python module?
<ANS>
import nltk
nltk.download()
<END>
<QUE>
Configuring logging level in python
<ANS>
[logger_root]
level=DEBUG
handlers=screen,file
<END>
<QUE>
Using Python To Autofit All Columns of an Excel Sheet
<ANS>
from win32com.client import Dispatch

excel = Dispatch('Excel.Application')
wb = excel.Workbooks.Open("D:\\output.xlsx")

#Activate second sheet
excel.Worksheets(2).Activate()

#Autofit column in active sheet
excel.ActiveSheet.Columns.AutoFit()

#Save changes in a new file
wb.SaveAs("D:\\output_fit.xlsx")

#Or simply save changes in a current file
#wb.Save()

wb.Close()
<END>
<QUE>
how can i do math operation on list elements in python?
<ANS>
nums = [3,51,34]
reduce(lambda x, y: [y] if not x else x + [y + x[-1]], nums, None)
# [3, 54, 88]
<END>
<QUE>
paste parts of picture - python, PIL module
<ANS>
box_top = (0, 0, x, y / 2)
top_part = im1.crop(box_top)
result = im2.copy()
result.paste(top_part, box_top)
<END>
<QUE>
Passing parameter in psycopg2
<ANS>
import psycopg2
from psycopg2.extensions import AsIs

column_list = ['id','name']
columns = ', '.join(column_list)

cursor.execute("SELECT %s FROM table", (AsIs(columns),))
<END>
<QUE>
pymongo: Add field containing a dict
<ANS>
ships.update(
  {'_id': 1}, 
  {"$set": {'staff': staff}},
  false,true
)
<END>
<QUE>
Python regex match in matched elements with one regex
<ANS>
from bs4 import BeautifulSoup

soup = BeautifulSoup(html)

table = soup.find('table', id='test_table')
for anchor in table.find_all('a'):
    print anchor['href'], anchor.string
<END>
<QUE>
summing string and integers in list in python
<ANS>
total = value[c1-1]+value[c2-1]
<END>
<QUE>
Converting Boolean value from Javascript to Django?
<ANS>
from django.utils import simplejson

def post(self, request, *args, **kwargs):
    isUpvote = simplejson.loads(request.POST.get('isUpvote'))
<END>
<QUE>
How to enable track_scores in elasticsearch-dsl python
<ANS>
s = s.extra(track_scores=True)
<END>
<QUE>
Python changes Integer in Float by itself
<ANS>
self.spawnPoint = [1, 0]
self.vel = self.spawnPoint # Does not make a copy!
self.vel[0] += 0.1
self.vel[1] += 0.2
<END>
<QUE>
Reversing a nested tuple in python using the function reversed
<ANS>
def my_reverser(x):
  try:
    x_ = x[::-1]
  except TypeError:
    return x
  else:
    return x if len(x) == 1 else tuple(my_reverser(e) for e in x_)
<END>
<QUE>
Unable to split a string with a back slash despite using escape character
<ANS>
string = r"asdasd\asdasd"
lhs, rhs = string.split("\\")
print rhs
<END>
<QUE>
Regex: how to match overlapping patterns (maybe Python specific)
<ANS>
pattern = r'(?<=X)([a-z])X'
<END>
<QUE>
Python use raw_input with a variable
<ANS>
value = raw_input('Please enter a value between 10 and' + str(max) + 'for percentage')
<END>
<QUE>
How to export javascript from html using python
<ANS>
import requests
import BeautifulSoup as bs

URL = "page to get"
pg = requests.get(URL).content
pg = bs.BeautifulSoup(pg)

scripts = bs.findAll('script')

for sc in scripts:
    try:
        print("External code at {}".format(sc['src']))
    except KeyError:
        print("Inline code:")
        print(sc.getText())
<END>
<QUE>
How to make tar backup using python
<ANS>
import os
import tarfile

home = '/home/'
backup_dir = '/backup/'

home_dirs = [ name for name in os.listdir(home) if os.path.isdir(os.path.join(home, name)) ]

for directory in home_dirs:
    full_dir = os.path.join(home, directory)
    tar = tarfile.open(os.path.join(backup_dir, directory+'.tar.gz'), 'w:gz')
    tar.add(full_dir)
    tar.close()
<END>
<QUE>
Python -- Matplotlib for elliptic curve with sympy solve()
<ANS>
import numpy as np
import pylab as pl

Y, X = np.mgrid[-10:10:100j, -10:10:100j]

def f(x):
    return x**3 -3*x + 5

px = -2.0
py = -np.sqrt(f(px))

qx = 0.5
qy = np.sqrt(f(qx))

k = (qy - py)/(qx - px)
b = -px*k + py 

poly = np.poly1d([-1, k**2, 2*k*b+3, b**2-5])

x = np.roots(poly)
y = np.sqrt(f(x))

pl.contour(X, Y, Y**2 - f(X), levels=[0])
pl.plot(x, y, "o")
pl.plot(x, -y, "o")

x = np.linspace(-5, 5)
pl.plot(x, k*x+b)
<END>
<QUE>
Python splitting text returns a str and a list of str
<ANS>
file = open("dizionario_della_vela.txt", "r")
data = file.read()
file.close()
data = data.split("
") # getting every line as seperate list
myDict = {}
for line in data:
    line = line.split(":")
    key = line[0] # getting first element as key
    value = ":".join(line[1:]) # joins elements (starting with second) with 
                               # ":". We need this because previous line 
                               # was splitted by ":" to get your key. This
                               # is where "string" value is produced.
    myDict[key] = value

for key in myDict.keys():
    print(myDict[key])
<END>
<QUE>
python: use tuples to re-arrange the contents of a list
<ANS>
a, b, c = (1, 2, 3)
<END>
<QUE>
Changing Label in toolbar using wxPython
<ANS>
#!/usr/bin/env python
# encoding: utf-8
"""
logClient2.py    
Created by Allister on 2010-11-30.
"""

import wx
import sqlite3

WINDOW_SIZE = (900,400)

class logClient(wx.Frame):
    def __init__(self, parent, id, title):

        wx.Frame.__init__(self, parent, id, title, size=WINDOW_SIZE)        

        self.toolbar = self.CreateToolBar()
        self.startLiveUpdate(None)

        self.Show(True)

    def startLiveUpdate(self, event):
        self.createToolbarItem("Refresh", "refresh.jpg", self.stopLiveUpdate)

    def stopLiveUpdate(self, event):
        self.createToolbarItem("Stop", "refresh2.jpg", self.startLiveUpdate)


    def createToolbarItem(self, label, imageName, method):
        self.toolbar.RemoveTool(1)
        self.toolbar.AddLabelTool(1, label, wx.Bitmap(imageName))
        self.toolbar.Realize()
        self.Bind(wx.EVT_TOOL, method, id=1)


if __name__ == '__main__':
    app = wx.App(False)
    logClient(None, -1, "Log Event Viewer")
    app.MainLoop()
<END>
<QUE>
Grabbing the output from the terminal
<ANS>
import os

os.system("my_util some_file.txt | grep 'Some data1' | awk '{print $2}'" )
<END>
<QUE>
django join-like expansion of queryset
<ANS>
(Person, Date, Comment)
<END>
<QUE>
Creating a Pylons Thread with Access to app_globals
<ANS>
config.get('pylons.app_globals') or config.get('pylons.g')
<END>
<QUE>
Sorting XML in python etree
<ANS>
import xml.etree.ElementTree as ET

def sortchildrenby(parent, attr):
    parent[:] = sorted(parent, key=lambda child: child.get(attr))

tree = ET.parse('input.xml')
root = tree.getroot()

sortchildrenby(root, 'NAME')
for child in root:
    sortchildrenby(child, 'NAME')

tree.write('output.xml')
<END>
<QUE>
how can i define variables in my function?
<ANS>
cm2 = compute_confusion_matrix(truth_dict,pred_dict,pos_tag='SPAM',neg_tag='OK')
return quality_score(cm2.tp,cm2.tn,cm2.fp,cm2.fn)
<END>
<QUE>
Scrapy with a nested array
<ANS>
item['a'] = x
item['_junk'] = {}
item['_junk']['b'] = y
item['_junk']['c'] = z
<END>
<QUE>
Add multiple images to a tweet with python and twitterApi?
<ANS>
from TwitterAPI import TwitterAPI

TWEET_TEXT = 'some tweet text'
IMAGE_PATH = './some_image.png'

api = TwitterAPI(CONSUMER_KEY,CONSUMER_SECRET,ACCESS_TOKEN_KEY,ACCESS_TOKEN_SECRET)

# STEP 1 - upload image
file = open(IMAGE_PATH, 'rb')
data = file.read()
r = api.request('media/upload', None, {'media': data})
print('UPLOAD MEDIA SUCCESS' if r.status_code == 200 else 'UPLOAD MEDIA FAILURE')

# STEP 2 - post tweet with a reference to uploaded image
if r.status_code == 200:
    media_id = r.json()['media_id']
    r = api.request('statuses/update', {'status':TWEET_TEXT, 'media_ids':media_id})
    print('UPDATE STATUS SUCCESS' if r.status_code == 200 else 'UPDATE STATUS FAILURE')
<END>
<QUE>
Dividing point clouds into quadrants in python
<ANS>
import numpy as np

def split_into_quadrants(points, idx=0):
    if idx < points.shape[-1]:
        positive = points[points[:, idx] >= 0]
        negative = points[points[:, idx] < 0]
        return (split_into_quadrants(positive, idx+1) +
                split_into_quadrants(negative, idx+1))
    else:
        return [points]

b = np.round(np.random.random((30,3))*20)
b = b - b.mean(axis=0)
print(split_into_quadrants(b))
<END>
<QUE>
Conversion of null terminated string to Int in Python
<ANS>
portnumber = int(portnumber.strip('\x00'))
<END>
<QUE>
How do I get a list of python libraries I've installed?
<ANS>
help('modules')
<END>
<QUE>
How to use method results from one class in another
<ANS>
class A:

    def x(self):
        #do stuff and call Class B
        n = 1
        n += B().y() #Instance B and call y method
        print n

class B:
    def y(self):
        #do stuff get results and pass results to Class A
        x = 10
        return x

a = A() #create a object with type A
a.x() #call x method of A class
<END>
<QUE>
Python reportlab paragraph function only draws a third of the input text to a pdf file
<ANS>
text.replace("<", "")
<END>
<QUE>
How to delete a fixed number of items from end of list in python
<ANS>
end_trimm = 3
myList = myList[:-end_trimm]
<END>
<QUE>
Python : Split Amount into Thousands and Lakhs
<ANS>
amount = 250000

thousands = amount % 100000
lakhs = amount - thousands
<END>
<QUE>
creating widgets in user defined slots
<ANS>
self.label.show()
<END>
<QUE>
How to remove a range from start to end enclusive from a list
<ANS>
def remove_section(alist, start, end):
    return alist[:start] + alist[end+1:]
<END>
<QUE>
Using Pymunk with Pyinstaller
<ANS>
import os, pymunk
pymunk_dir = os.path.dirname(pymunk.__file__)
chipmunk_libs = [
    ('chipmunk.dll', os.path.join(pymunk_dir, 'chipmunk.dll'), 'DATA'),
]
#... 
coll = COLLECT(exe,
               a.binaries + chipmunk_libs,
               a.zipfiles,
               a.datas,
               strip=None,
               upx=True,
               name=os.path.join('dist', 'basic_test'))
<END>
<QUE>
tkinter button command runs function without clicking?
<ANS>
choice1 = Button(master, text=question1[1].text, command=lambda : check(question1[1].value))
<END>
<QUE>
How to use key/value pairs in a Python dictionary
<ANS>
keyVal = map(str.strip,line.split('=')) #this will remove extra whitespace
<END>
<QUE>
How can I use python to load a browser session that posts values to a url?
<ANS>
import urllib
data = urllib.urlencode({"postField1" : "postValue1", "postField2" : "postValue2", "etc" : "etc"})
f = urllib.urlopen("http://www.domain.com/storePostData.php", data)
# At this point your storePostData.php file stores all the post 
# info in either an sql DB or temporary file so this can accessed later on and
# an uuid is passed back which we now read below. In may case I store all post        
# fields in a sql DB and each column represents each post field.
uuid = f.read()
# the uuid is the sql table id field which is auto_incremented.
# SO now we load the default browser below and send it the uuid so the php script
# can access the sql data. Once it has been accessed and the form fields have been 
# received then we delete that row as the information is useless to us now that we 
# have filled in the forms fields
import webbrowser
webbrowser.open_new("http://www.domain.com/someOtherUrl?uuid=" + uuid)
<END>
<QUE>
Python - Comparing 2 floats
<ANS>
cutoff = 0.00694444444444444
filtered_list = [ dt for dt in dtime_list if dt <= cutoff ]
<END>
<QUE>
matplotlib interactive plot with slices of image
<ANS>
import matplotlib.pyplot as plt
import numpy as np
from bubblegum.backend.mpl.cross_section_2d import CrossSection
fig= plt.figure()
cs= CrossSection(fig)
img= np.random.rand(100,100)
cs.update_image(img)
plt.show()
<END>
<QUE>
start python program in the background that can prompt the user for password
<ANS>
passwd = getpass.getpass()
pid = os.fork()
if pid:
  print 'Parent thinks passwd is', passwd
else:
  print 'Child thinks passwd is', passwd
<END>
<QUE>
Get updated MySQL table entries in python without closing connection
<ANS>
db.commit()
<END>
<QUE>
dynamodb row count via python, boto query
<ANS>
import boto
import boto.dynamodb2
from boto.dynamodb2.table import Table
from boto.dynamodb2.fields import HashKey, RangeKey

drivers = Table('current_fhv_drivers')
rowcountquery = drivers.query(
   number__eq = 'blah',
   expiration__eq = 'foo',
   count__eq = True,
  )
for x in rowcountquery:
 print x['Count']
<END>
<QUE>
Cleaner assignment in for loop (python)
<ANS>
for node in (n for n in nodelist if condition):
    node.x += 1
<END>
<QUE>
Creating non persistent objects with SQLAlchemy: wrong employment of backref in a relationship?
<ANS>
class Task(Base):
    __tablename__ = 'tasks'
    id = Column(Integer, primary_key=True)
    hostID = Column(Integer, ForeignKey('hosts.id'))
    name = Column(String)
    host = relationship("Host", backref=backref("tasks", cascade_backrefs=False))

    def __init__(self, host, name):
        self.host = host
        self.name = name
<END>
<QUE>
Empty response body with POST requests to Facebook Ads API
<ANS>
from facebookads.objects import AdImage

image = AdImage(parent_id='act_<AD_ACCOUNT_ID>')
image[AdImage.Field.filename] = './test.zip'
image.remote_create(batch=True)

# Output image hash.
print image[AdImage.Field.hash]
<END>
<QUE>
Creating a form from an object in python
<ANS>
template = '<input name="#key#" value="#value#">'
html = template
data = {key:value,key:value}
for key in data.keys():
    html = html.replace("#key#", key).replace("#value#", data[value]) + "
"
    html = html + template
#there's an extra template line here that you'll have to get rid of.
html = "
".join(html.split("
")[0:-1])
<END>
<QUE>
Producer-Consumer algorithm in python
<ANS>
def op(self):
        self.start()
        while True:
            time.sleep(self.waiting_time)
            if not self.q.empty():
                print("Outputting: ", self.q.get())
            else:
                break
<END>
<QUE>
Can't display unicode character for subscript 2 on Windows
<ANS>
import sys
from PyQt4 import QtGui

app = QtGui.QApplication(sys.argv)
widget = QtGui.QWidget()

unicode_font = QtGui.QLabel(u"Unicode Font: H\u2082O")
unicode_font.setStyleSheet("font-family: 'Arial Unicode MS', Arial, sans-serif; font-size: 15px;") 

normal_font = QtGui.QLabel(u"Normal Font: H\u2082O")
normal_font.setStyleSheet("font-family: Arial, sans-serif; font-size: 15px;")


layout = QtGui.QVBoxLayout()
layout.addWidget(unicode_font)
layout.addWidget(normal_font)
widget.setLayout(layout)
widget.show()
sys.exit(app.exec_())
<END>
<QUE>
How to count elapsed time on Python
<ANS>
import datetime

if __name__ == "__main__":
    d1 = datetime.datetime.now()
    data = port.read()
    # Do more things ...
    tdelta = datetime.datetime.now() - d1
    print(tdelta.total_seconds()) # This is your answer
<END>
<QUE>
Erase previously drawn content from a pyplot drawing
<ANS>
import matplotlib.pyplot as plt
import numpy as np

x = np.arange(10)
np.random.seed(101)
y = np.random.rand(10)

small = [i for i in range(len(x)) if y[i] < .5 ]
big = [i for i in range(len(x)) if y[i] > .5 ]

fig = plt.figure()
ax = fig.add_subplot(111)

ax.scatter(x,y)
# user wants to plot lines connecting big values (>.5)
ax.plot(x[big],y[big])

#plt.show()
# now user wants to delete the first (and only) line
del ax.lines[0]

# so that they can plot a line only showing small values
ax.plot(x[small],y[small])

plt.show()
<END>
<QUE>
removing custom stop words form a phrase in python
<ANS>
stop_words_lst = ['yo', 'so', 'well', 'um', 'a', 'the', 'you know', 'i mean']
s = "you know what i mean so just turn the lights on"

import re
for w in stop_words_lst:
    pattern = r'\b'+w+r'\b'
    s = re.sub(pattern, '', s)
    print (s)
<END>
<QUE>
Python HTML Table
<ANS>
#!/usr/local/bin/python3

print('Content-type: text/html
')

def fib(n):
    a, b = 0, 1
    for i in range(n):
        a, b = b, a + b
    return a

print('''
    <table>
        <tr>
        <th>Index Number</th>
        <th>Decimal</th>
        <th>Hexadecimal</th>
        <th>Octadecimal</th>
        <th>float</th>
    </tr>
''')

for i in range (0, 51):
    print('''
    <tr>
        <td>{0}</td>
        <td>{1}</td>
        <td>{1:x}</td>
        <td>{1:o}</td>
        <td>{1:.2f}</td>
    </tr>'''.format(i, fib(i)))

print('</table>')
<END>
<QUE>
Google Oauth2.0 with Python: How do I limit access to a specific domain?
<ANS>
google = oauth.remote_app('google',
                      base_url='https://www.google.com/accounts/',
                      authorize_url='https://accounts.google.com/o/oauth2/auth',
                      request_token_url=None,
                      request_token_params={'scope': 'https://www.googleapis.com/auth/userinfo.email',
                                            'response_type': 'code',
                                            'hd':'domain.com'},
                      access_token_url='https://accounts.google.com/o/oauth2/token',
                      access_token_method='POST',
                      access_token_params={'grant_type': 'authorization_code'},
                      consumer_key=GOOGLE_CLIENT_ID,
                      consumer_secret=GOOGLE_CLIENT_SECRET)
<END>
<QUE>
How to override the stack trace template in django?
<ANS>
views/debug.py
<END>
<QUE>
Pandas get date from datetime stamp
<ANS>
df[df['date_time'].str.startswith('2014-02-21')]
<END>
<QUE>
How to group related .tif files?
<ANS>
grouped = [list(g) for _, g in itertools.groupby(test, lambda x: x.split('_')[2])]
<END>
<QUE>
How to insert a string of characters into a text file using python?
<ANS>
#!/usr/bin/python
filename='thefile.txt'
search="class Parking(models.Model):"
add="
    layer_id= models.ForeignKey('sdr_layer.id')"
content=open(filename,'r').read()
content=content.replace(search,search+add)
fp=open(filename,'w')
fp.write(content)
fp.close()
<END>
<QUE>
Putting a `Cookie` in a `CookieJar`
<ANS>
import requests
import cookielib


URL = '...whatever...'
jar = cookielib.CookieJar()
r = requests.get(URL, cookies=jar)
r = requests.get(URL, cookies=jar)
<END>
<QUE>
Extracting Columns of a .csv file and finding their index
<ANS>
import csv

with open('/Users/stephan/Desktop/cities.csv', "r") as f:
    mycsv = csv.DictReader(f)
    for row in mycsv:
        for col in FIELDS:
            try:
                print(row[col])
            except KeyError:
                pass
<END>
<QUE>
How to unpack optional items from a tuple?
<ANS>
foo, bar, baz == (list(a) + [None]*3)[:3]
<END>
<QUE>
Python textfile formatting
<ANS>
f = open('apple.txt')
lines = f.readlines()
f.close()
things = []
printtofile = []
for i in lines:
    things.append(i)
    if i.startswith('date'):
        things.pop()
        for x in things:
            if i[:-1] == '
':
                printtofile.append(x[:-1]+'|'+i[:-1])
            else: 
                printtofile.append(x[:-1]+'|'+i)
        things = []
print printtofile
writefile = open('file.txt', 'w')
writefile.writelines(printtofile)
writefile.close()
<END>
<QUE>
Combine three Python dictionaries together
<ANS>
finaldict = {}
for key in dict1.keys():
    finaldict[key] = {}
    for key2 in dict1[key]:
        finaldict[key][key2] = {}
        for key3 in dict2[key2]:
            finaldict[key][key2][key3] = dict3[key3]
print finaldict
<END>
<QUE>
List of tuples to Numpy recarray
<ANS>
np.rec.fromrecords(tab)

rec.array([('a', 1), ('b', 2)], 
          dtype=[('f0', '|S1'), ('f1', '<i4')])
<END>
<QUE>
Running Python from a virtualenv with Apache/mod_wsgi, on Windows
<ANS>
activate_this = '/path/to/env/bin/activate_this.py'
execfile(activate_this, dict(__file__=activate_this))
<END>
<QUE>
How do I format text from a file in Python?
<ANS>
def print_table(lines, col_num, col_width):
    for line_ix in range(0, len(lines), col_num):
        print ' -- '.join([line.strip().ljust(col_width) for line in lines[line_ix:line_ix+col_num]])
<END>
<QUE>
Python - Remove square brackets from list
<ANS>
"/ ".join([item for sublist in list1 for item in sublist])
<END>
<QUE>
Python program to extract data from JSON files
<ANS>
with open("tmp.json") as json_file:
    json_data = json.load(json_file)
    for i, data_item in enumerate(json_data['data']):
        fname = 'data_%s' % i
        with open(fname, 'w') as outfile:
            json.dump(data_item, outfile)
<END>
<QUE>
conditional cumulative sum for pandas array
<ANS>
import pandas as pd
df = pd.DataFrame({
    'A': [['a','b','c','d'],['a','b','c'],['x','y','z','q'],['x','l']],
    'B': [12,7,2,9]
    })
print(df)

#               A   B
# 0  [a, b, c, d]  12
# 1     [a, b, c]   7
# 2  [x, y, z, q]   2
# 3        [x, l]   9

def cumulative_frequence(df, nodes):
    nodes = set(nodes)
    mask = df['A'].apply(lambda group: not nodes.isdisjoint(group))
    return df.ix[mask, ['B']].sum().item()

print(cumulative_frequence(df, ['a']))
print(cumulative_frequence(df, ['a','b']))
# 19
# 19
<END>
<QUE>
Join string and None/string using optional delimiter
<ANS>
FullName = LastName + (", " + FirstName if FirstName else "")
<END>
<QUE>
Python-Raspberry pi: get int from popen result
<ANS>
from subprocess import Popen, PIPE

cmdline = ['hipi-i2c', 'r', '1', '0x1D', '0x01']
result = Popen(
    cmdline
    , stdin=PIPE
    , stdout=PIPE
    , stderr=PIPE
)
output = result.stdout.readlines()
try:
    X = int(output[0])
except:
    pass

print X
<END>
<QUE>
How do I generate a sitemap.xml file with sphinx?
<ANS>
# Import guzzle theme https://github.com/guzzle/guzzle_sphinx_theme
# Not actually using the theme but intead using the
# sitemap functionality and overriding the theme/templates in source/
html_translator_class = 'guzzle_sphinx_theme.HTMLTranslator'
html_theme_path = guzzle_sphinx_theme.html_theme_path()
html_theme = 'guzzle_sphinx_theme'
extensions.append("guzzle_sphinx_theme")
html_theme_options = {
    "base_url": "YOURSITEURL"
}
<END>
<QUE>
How to run PyCharm in Ubuntu - "Run in Terminal" or "Run"?
<ANS>
bin/pycharm.sh
<END>
<QUE>
Change the start of the year in the datetime module of Python?
<ANS>
from datetime import datetime, timedelta
fourweeks = datetime.now() + timedelta(weeks=4)
<END>
<QUE>
How to remove read-only attrib directory with Python in Windows?
<ANS>
import os, shutil, stat

def on_rm_error( func, path, exc_info):
    # path contains the path of the file that couldn't be removed
    # let's just assume that it's read-only and unlink it.
    os.chmod( path, stat.S_IWRITE )
    os.unlink( path )

shutil.rmtree( TEST_OBJECTS_DIR, onerror = on_rm_error )
<END>
<QUE>
How can I stop IDLE from printing giant lists?
<ANS>
def my_print(obj):  
    if hasattr(obj, '__len__') and len(obj) > 100:  
        print '... omitted object of %s with length %d ...' % (type(obj), len(obj))  
    else: print obj
<END>
<QUE>
Adding to a file instead of overwriting data on multiple function calls
<ANS>
outfile = open('scorefiles.txt', 'a')
<END>
<QUE>
How to create Library project
<ANS>
import clr
files = [ 'file1.py', 'file2.py' ]    # Look into os.walk() if you have more than a few files
clr.CompileModules('Foo.dll', *files)
<END>
<QUE>
Variables as a part of calling a method in python
<ANS>
method = getattr(myPotatoHead, 'play_' + toy)
method()
<END>
<QUE>
Lookup table for unhashable in Python
<ANS>
def __hash__(self):
    return hash(frozenset(self.iteritems()))
<END>
<QUE>
Python 3: ftplib - nlst command does not show files starting with a point
<ANS>
ftp.retrlines("LIST -a")
<END>
<QUE>
Working with pointers to struct
<ANS>
memory_ptr =  pointer(memory)
ReadMem(0x20000000, 100, memory_ptr)
<END>
<QUE>
Pandas: Map a function using multiple columns
<ANS>
df['d'] = df.apply(lambda x: some_func(a = x['a'], b = x['b'], c = x['c']))
<END>
<QUE>
Sharing local variable between nested functions in python
<ANS>
def f1():
    def f2():
        print g[0]
        g[0] = 1
        print g[0]
    g =[0]
    print g[0]
    f2()
    print g[0]

    f1()
<END>
<QUE>
How to change a django QueryDict to Python Dict?
<ANS>
myDict = dict(queryDict.iterlists())
<END>
<QUE>
How to find a word in a string in a list? (Python)
<ANS>
def findLines():
    myWord = 'someWordIWantToSearchFor'
    answer = []
    with open('daily.txt') as myfile:
        lines = myfile.readlines()
    for line in lines:
        if myWord in line:
            answer.append(line)
    return answer
<END>
<QUE>
python dictionary divide each value in value list by total
<ANS>
for key in d:
    ddd[key] = [val/sum(d[key]) for val in d[key]]
print list(ddd.items())
<END>
<QUE>
Python - urllib2 > how to escape HTTP errors
<ANS>
import urllib2
try:
    fh = urllib2.urlopen('http://example.com/check.txt')
    print fh.read()
except urllib2.HTTPError, e:
    print e.code 
except urllib2.URLError, e:
    print e.code
<END>
<QUE>
Python - Parse string in "0xDE 0xAD 0xBE 0xEF" form to a bytearray
<ANS>
3>> bytes(int(x, 16) for x in '0xDE 0xAD 0xBE 0xEF'.split())
b'\xde\xad\xbe\xef'
<END>
<QUE>
Operating on a file's content despite a failure in the 'with' block
<ANS>
content = ''
with open(filename, 'rt') as f:
    content = f.read()

matches = re.findall(REGEX, content)
<END>
<QUE>
Python - Searching index of lists in list containing one element
<ANS>
for index, item in enumerate(L):
  if a in item or b in item:
    r.append(index)
<END>
<QUE>
Removing PHP Lines from an HTML File Using Python
<ANS>
import re

with open('php_file.txt', 'r') as f:
    html = re.sub('<\?.*?\?>', '', f.read(), re.MULTILINE)

with open('html_file.txt', 'w') as f:
    f.write(html)
<END>
<QUE>
Updating the x-axis values using matplotlib animation
<ANS>
import matplotlib.pylab as plt
import matplotlib.animation as animation
import numpy as np

#create image with format (time,x,y)
image = np.random.rand(100,10,10)

#setup figure
fig = plt.figure()
ax1 = fig.add_subplot(1,2,1)
ax2 = fig.add_subplot(1,2,2)
#set up viewing window (in this case the 25 most recent values)
repeat_length = (np.shape(image)[0]+1)/4
ax2.set_xlim([0,repeat_length])
#ax2.autoscale_view()
ax2.set_ylim([np.amin(image[:,5,5]),np.amax(image[:,5,5])])

#set up list of images for animation


im = ax1.imshow(image[0,:,:])
im2, = ax2.plot([], [], color=(0,0,1))

def func(n):
    im.set_data(image[n,:,:])

    im2.set_xdata(np.arange(n))
    im2.set_ydata(image[0:n, 5, 5])
    if n>repeat_length:
        lim = ax2.set_xlim(n-repeat_length, n)
    else:
        # makes it look ok when the animation loops
        lim = ax2.set_xlim(0, repeat_length)
    return im, im2

ani = animation.FuncAnimation(fig, func, frames=image.shape[0], interval=30, blit=False)

plt.show()
<END>
<QUE>
How do you get number frequencies in a list, then index into another list?
<ANS>
for n in numbers:
    frequencies[n] += 1
<END>
<QUE>
Add values together in for loop (Python)
<ANS>
sum(SCORES[letter] for letter in word)
<END>
<QUE>
Search from end of string and split
<ANS>
re.split(r'\s+-\s*|\s*-\s+', description)
<END>
<QUE>
What's the best django way to do a query that spans several tables?
<ANS>
Recommendation.objects.filter(user__publication_set__subscriber=request.user).select_related()
<END>
<QUE>
Elegant way to modify a list of variables by reference in Python?
<ANS>
for x in ['a', 'b', 'c', 'd', 'e']:
    setattr(i, x, f(getattr(i, x)))
<END>
<QUE>
Storing a list of strings to a HDF5 Dataset from Python
<ANS>
asciiList = [n.encode("ascii", "ignore") for n in strList]
h5File.create_dataset('xxx', (len(asciiList),1),'S10', asciiList)
<END>
<QUE>
Python - Delete Conditional Lines of Chat Log File
<ANS>
name = 'My Name'
skipLines = False
results = []
for x in chatLog:
    if x == name:
        skipLines = True
    elif not x[0].isdigit():
        skipLines = False

    if not skipLines:
        results.append(x)
<END>
<QUE>
Sizing a frame to an image in WxPython
<ANS>
import wx

class Frame(wx.Frame):
  def __init__(self, parent, id, title, img_path):
    wx.Frame.__init__(self, parent, id, title, 
                      style=wx.DEFAULT_FRAME_STYLE ^ wx.RESIZE_BORDER)

    image = wx.StaticBitmap(self, wx.ID_ANY)
    image.SetBitmap(wx.Bitmap(img_path))

    sizer = wx.BoxSizer()
    sizer.Add(image)
    self.SetSizerAndFit(sizer)

    self.Show(True)

app = wx.App()
frame = Frame(None, wx.ID_ANY, 'Image', '/path/to/file.png')
app.MainLoop()
<END>
<QUE>
Twisted network client with multiprocessing workers?
<ANS>
from twisted.application.service import Service

class MultiprocessingService(Service):
    def startService(self):
        self.pool = multiprocessing.Pool(processes=processes)

MultiprocessingService().setServiceParent(application)
<END>
<QUE>
Is it possible to put a python dictionary in AMQP?
<ANS>
json.dumps()
<END>
<QUE>
Identify duplicates in a list of lists and sum up their last items
<ANS>
from collections import defaultdict

data = [['a', 'b', 2], ['a', 'c', 1], ['a', 'b', 1]]

result = collections.defaultdict(int) # new keys are auto-added and initialized as 0
for item in data:
    a, b, value = item
    result[(a,b)] += value
print result
# defaultdict(<type 'int'>, {('a', 'b'): 3, ('a', 'c'): 1})
print dict(result)
# {('a', 'b'): 3, ('a', 'c'): 1}
print [[a, b, total] for (a, b), total in result.items()]
# [['a', 'b', 3], ['a', 'c', 1]]
<END>
<QUE>
split a comma separated list with links in with beautifulsoup
<ANS>
import BeautifulSoup

soup = BeautifulSoup.BeautifulSoup('''<table>
  <tr>
    <td>Names</td>
    <td>Fred, John, Barry, <a href="http://www.example.com/">Roger</a>, James</td>
  </tr>
</table>''')

result = []
for tag in soup.table.findAll('td')[1]:
  if isinstance(tag, BeautifulSoup.NavigableString):
    for name in tag.string.split(','):
      name = name.strip()
      if name:
        result.append({ 'name': name })
  else:
    result.append({ 'name': tag.string.strip(), 'url': tag["href"] })

print result
<END>
<QUE>
Count every word in a text file python
<ANS>
def parse_file():
  with open('SOMETHING.txt', 'r') as f:
    c1 = 0
    c2 = 0
    for i in f:
      w = i.split()
      c1 += len(w)
      for j in w:
        if j.endswith('LY'):
          c2 += 1
    return {'Total words': c1, 'Words ending with LY': c2}
<END>
<QUE>
Matplotlib log scale formatting
<ANS>
import matplotlib.pyplot as pl
from matplotlib.ticker import ScalarFormatter

fig = pl.figure()
ax = fig.add_subplot(111)

ax.set_xscale('log')
ax.set_xticks([1,2,5,10])
ax.get_xaxis().set_major_formatter(ScalarFormatter())
ax.set_xlim([1., 10.])
<END>
<QUE>
Launching multiple processes of shell
<ANS>
class PopenThread(threading.Thread):

    def __init__(self, port):
        threading.Thread.__init__(self)
        self.port=port

    def run(self):
        Popen('ant -Dport='+str(self.port)+ ' -Dhost='+GetIP()+ 
                ' -DhubURL=http://192.168.1.113:4444' 
                ' -Denvironment=*firefox launch-remote-control'
                ' $HOME/selenium-grid-1.0.8', shell=True)

if '__main__'==__name__:
    PopenThread(5555).start()
    PopenThread(5556).start()
    PopenThread(5557).start()
<END>
<QUE>
Google App Engine ndb query
<ANS>
__author__ = 'vinayjoseph'

from google.appengine.ext import ndb
import logging
from datetime import datetime

class Event(ndb.Model):
    """Models an individual event at xxx xxx """
    Date = ndb.DateTimeProperty()
    Location = ndb.StringProperty()
    Address = ndb.StringProperty()
    Name = ndb.StringProperty()


def get_meeting_date():
    """gets the next meeting date from the No SQL Schemaless Google Datastore
    """
    qry = Event.query(Event.Name == 'Next Meeting Location')
    for event in qry.fetch(1):
        logging.info("Meeting is on %s at %s" % (str(event.Date), event.Address))
<END>
<QUE>
Changing renamed global variables from inside a function (python)
<ANS>
class Player:
  def __init__(self, name, hp):
    self.name = name
    self.hp = hp
<END>
<QUE>
Performing an action whenever a unit test fails
<ANS>
def setUp(self):
    self.test_passed = false

def tearDown(self):
    if not self.test_passed:
        log()

def test_something(self):
    self.assertEquals(something())
    self.test_passed = true
<END>
<QUE>
Django Forms : I need to add a field that is a multiple of other fields?
<ANS>
class exampleForm(forms.Form):
 item_price = forms.IntegerField(label = 'item price')
 item_quantity = forms.IntegerField(label = 'quantity')
 item_total = forms.IntegerField(label = 'total')

 def clean_item_total(self):
   total = self.cleaned_data.get("item_price", 0)+self.cleaned_data.get("item_quantity", 0)
   return total
<END>
<QUE>
how to get or set object's attribute from a list in maya python?
<ANS>
sel = selected()

for i in sel:
    print i.ty.get()
    i.ty.set(i.ty.get() + 1)
<END>
<QUE>
Python splitting string by parentheses
<ANS>
re.findall('\[[^\]]*\]|\([^\)]*\)|\"[^\"]*\"|\S+',strs)
<END>
<QUE>
Selenium Python how to get text(html source) from <div>
<ANS>
re.search(r'<div.*?>(*.?)</div>', price.get_attribute('innerHTML')).group(1)
<END>
<QUE>
How do I add a comma after each word in a list with a single long string of words in Python?
<ANS>
mylist=['I am fabulous']

mylist[0] = mylist[0].replace(' ', ', ')

print mylist
<END>
<QUE>
Load Listbox Selection into Entry Box with Sqlite3 Connection
<ANS>
#Bind listbox selection into entry field 
def get_list(event):
    index = listbox1.curselection()[0]
    seltext = listbox1.get(index)
    enter1.delete(0, 50)
    enter1.insert(0, seltext)

#Bind entry text into listbox    
def set_list(event):
    try:
        index = listbox1.curselection()[0]
        listbox1.delete(index)
    except IndexError:
        index = tk.END
    listbox1.insert(index, enter1.get())

listbox1 = tk.Listbox(root, width=50, height=6)
listbox1.grid(row=0, column=0)

enter1 = tk.Entry(root, textvariable=source, width=50)
enter1.insert(0, 'Click on Fetch Button, then select item in the listbox')
enter1.grid(row=1, column=0)

enter1.bind('<Return>', set_list)
enter1.bind('<Double-1>', set_list)

listbox1.bind('<ButtonRelease-1>', get_list)
<END>
<QUE>
imagemagick wand save pdf pages as images
<ANS>
def convert_pdf_to_png(blob):
    pdf = Image(blob=blob)

    pages = len(pdf.sequence)

    image = Image(
        width=pdf.width,
        height=pdf.height * pages
    )

    for i in xrange(pages):
        image.composite(
            pdf.sequence[i],
            top=pdf.height * i,
            left=0
        )

    return image.make_blob('png')
<END>
<QUE>
sort two joined querysets - django
<ANS>
sorted_qs = sorted(chain(fqs, sqs), key=lambda obj: obj.added)
<END>
<QUE>
Referencing a python package installed with pip
<ANS>
import importlib
themodule = importlib.import_module('django-google-storage')
<END>
<QUE>
Common characters within strings in 2 lists in Python
<ANS>
c = [item for item in a
     if any(name in item for name in b)]
<END>
<QUE>
list named with a function argument in python
<ANS>
hands = {} # Create a new dictionary to hold the hands.
hands["flush"] = make_hand(deck) # Generate some hands using your function.
hands["straight"] = make_hand(deck) # Generate another hand with a different name.
print hands["flush"] # Access the hand later.
<END>
<QUE>
Cannot JSON serialize python Appengine GeoModel subclass using simple json
<ANS>
return json.dumps({'lat': result.lat, 'lon': result.lon})
<END>
<QUE>
Memory error while parsing files in a folder
<ANS>
linecache.clearcache()
<END>
<QUE>
How can I create an ordered dictionary from json in Python
<ANS>
json.loads(request.POST.get('myd'), object_pairs_hook=collections.OrderedDict)
<END>
<QUE>
GTK: Modify bg color of a CheckButton
<ANS>
button.modify_base(gtk.STATE_NORMAL, gtk.gdk.color_parse("red"))
<END>
<QUE>
ValueError when attempting to parse JSON
<ANS>
[["A", "B", 1.3750], ["X", "Y", 0.7097]]
<END>
<QUE>
Python: removing first item in each list of a group of lists, starting with the second list
<ANS>
newList = [row[0] for row in data[1:]]
<END>
<QUE>
how to sequentially read two txt files and write into a new file in python?
<ANS>
from itertools import islice
with open('target.txt', 'w') as target:
    f1, f2 = open('f1.txt'), open('f2.txt')
    while True:
        ls1 = islice(f1, 32)
        if not ls1:
            # will not happen in this case
            target.write('
' + f2.read())
            break
        ls2 = islice(f2, 64)
        if not ls2:
            target.write('
' + f1.read())
            break
        target.write('
'.join('
'.join(ls) for ls in [ls1, ls2]))
    f1.close()
    f2.close()
<END>
<QUE>
pandas hpw to perform comparison on column
<ANS>
df[(1.5 <= df.two) & (df.two <= 3.5)]
<END>
<QUE>
using re to find nested results in strings
<ANS>
from bs4 import BeautifulSoup

html = """<tr> <stuff1> <tr><stuff2> </tr> </tr>"""
soup =BeautifulSoup(html)

print(soup.find_all("tr"))
<END>
<QUE>
Occasional ctypes error importing numpy from mod_wsgi django app
<ANS>
# XXX for whatever reasons, creating the first instance of a callback
# function is needed for the unittests on Win64 to succeed.  This MAY
# be a compiler bug, since the problem occurs only when _ctypes is
# compiled with the MS SDK compiler.  Or an uninitialized variable?
CFUNCTYPE(c_int)(lambda: None)
<END>
<QUE>
In Django, how can I reuse settings.py in a new app outside of the project
<ANS>
django.conf.settings
<END>
<QUE>
http.server: decoding POST request to JSON
<ANS>
import json
payload={'text': 'bi ba buzemann!',
         'nouns': ['streetlight', 'situation'],
         'states': ['solid', 'fluid']
        }
requests.post(url, data=json.dumps(payload))
<END>
<QUE>
Plotting a Pandas DataSeries.GroupBy
<ANS>
import matplotlib.pyplot as plt

for i, group in df.groupby('ModelID'):
    plt.figure()
    group.plot(x='saleDate', y='MeanToDate', title=str(i))
<END>
<QUE>
How to compare two timezones in python?
<ANS>
from datetime import datetime
today = datetime.today()
b.utcoffset(today) == c.utcoffset(today)
<END>
<QUE>
How do I turn a python datetime into a string, with readable format date?
<ANS>
my_datetime.strftime("%B %d, %Y")
<END>
<QUE>
How to make X axis in matplotlib/pylab to NOT sort automatically the values?
<ANS>
fig, ax = plt.subplots(1,2, figsize=(10,4))

x = [2,4,3,6,1,7]
y = [1,2,3,4,5,6]

ax[0].plot(x, y)

ax[1].plot(np.arange(len(x)), y)
ax[1].set_xticklabels(x)
<END>
<QUE>
Putting integers in lists in python
<ANS>
in_str  = "1, 2, 3, 4"
listed = [int(x) for x in in_str.split(',')]
<END>
<QUE>
upload image using image Path in flask
<ANS>
if request.method == "POST":
    image = request.files['myfile'] #myfile is name of input tag
    config ={
            'album':album,
            'name':'Catastrophe!',
            'title':'Catastrophe!'
    }
    print "uploading image..."
    filename = secure_filename(image.filename)
    file.save(os.path.join('/home/suraj/Pictures', filename))
    print os.path.realpath(image.filename)
<END>
<QUE>
How to deploy a simple python webserver in a right way?
<ANS>
import web

class MyApplication(web.application):
    def run(self, port=8080, *middleware):
        func = self.wsgifunc(*middleware)
        return web.httpserver.runsimple(func, ('0.0.0.0', port))

urls = (
   '/(.*)', 'hello'
)

class hello:
    def GET(self, name):
        if not name:
            name = 'World'
        return 'Hello, ' + name + '!'

if __name__ == "__main__":
    app = MyApplication(urls, globals())
    app.run(port=8888)
<END>
<QUE>
Is there a way to define which fields in the model are editable in the admin app?
<ANS>
def save(self):
    from django.template.defaultfilters import slugify

    if not self.slug:
        self.slug = slugify(self.title)

    super(Your_Model_Name,self).save()
<END>
<QUE>
How do I select a column by its name? (Python & SQLite3)
<ANS>
sqlite3.Row
<END>
<QUE>
Stop argparse from globbing filepath
<ANS>
parser.add_argument('path', nargs=1, help='File path to process')
<END>
<QUE>
Creating plots from 2-D values generated in a for loop in Python
<ANS>
xarr, yarr = [], []
for i in range(1,n):
    dx = random.uniform(-2,2)
    x = x+dx
    y += ((v**2 - dx**2)**(0.5))*(random.randint(-1,1))
    xarr.append(x)
    yarr.append(y)
pl.plot(xarr,yarr)

pl.show()
<END>
<QUE>
Removing Question marks from string
<ANS>
"What is your name?".replace("?","") #this is the most clear
#or
filter(lambda x:x!= "?","What is your name?")
#or
"".join(x for x in "What is your name?" if x != "?")
#or
"What is your name?".translate(None,"?") #this is my favorite
<END>
<QUE>
How to get average value from a dict like below?
<ANS>
d ={'idx1':{'tokenA': 0.1,
            'tokenB': 1.3,
            'tokenD': 2.3},
      'idx2':{'tokenC': 0.9,
            'tokenE': 3.4},
      'idxn':{'tokenA': 0.3,
            'tokenF': 0.4,
            'tokenZ': 7.4}
      }

from collections import Counter

token_sums   = sum((Counter(v       ) for k,v in d.iteritems()), Counter())
token_counts = sum((Counter(v.keys()) for k,v in d.iteritems()), Counter())
token_mean   = {k:token_sums[k]/token_counts[k] for k in token_sums}
print token_mean
<END>
<QUE>
Python 3.3 Mysql Connector
<ANS>
"""This pure Python MySQL client provides a DB-API to a MySQL database by talking directly to the server via the binary client/server protocol."""

import pymysql
conn = pymysql.connect(host='127.0.0.1', unix_socket='/tmp/mysql.sock', user='root', passwd=None, db='mysql')
cur = conn.cursor()
cur.execute("SELECT Host,User FROM user")
for response in cur:
    print(response)
cur.close()
conn.close()
<END>
<QUE>
Plot pandas dates in matplotlib
<ANS>
#! /usr/bin/env python
import pandas as pd
import matplotlib.pyplot as plt
data = pd.read_fwf('myfile.log',header=None,names=['time','amount'],widths=[27,5])
data.time = pd.to_datetime(data['time'], format='%Y-%m-%d %H:%M:%S.%f')
data.set_index(['time'],inplace=True)
data.plot()

#OR 
plt.plot(data.index, data.amount)
<END>
<QUE>
pass terminal output to GUI using wxpython
<ANS>
import subprocess
import wx

def main():
    p = subprocess.Popen(['ls', '-a'], stdout = subprocess.PIPE)
    text = p.stdout.readlines()
    text = "".join(text)

    wx.MessageBox("file names:
%s" % text, "info")

if __name__ == '__main__':
    app = wx.PySimpleApp()
    main()
<END>
<QUE>
programatically list all variables of a netCDF file using netCDF4 and python
<ANS>
import netCDF4
dset = netCDF4.Dataset('test.nc')
dset.variables
<END>
<QUE>
Python: Get file path from a text file
<ANS>
myvars = {}

# iterate through all the lines
for line in open('SampleText.txt').readlines():
    # skip this line if it doesn't look like an assignment
    if not '=' in line: continue

    # split it into left and right pieces
    left, right = line.split('=', 1)

    # keep it around in a dictionary
    myvars[left.strip()] = right.strip()

# now you can query it to get stuff:
myvars['efgh']   # returns /home/user/targetfile1.txt
<END>
<QUE>
How to decide creating a child class without using 'if' statement
<ANS>
import re
lookup = {re.search('([A-Z][A-Za-z_]*$)', cls.__name__).group(1): cls for cls in BaseCls.__subclasses__()}
# {'A': <class '__main__.ChildClsA'>, 'B': <class '__main__.ClildClsB'>}

input_str = raw_input('Please enter one of {}:'.format(', '.join(lookup)))
new_class = lookup[input_str]()
<END>
<QUE>
Finding most frequent values in column of array in SQL Alchemy
<ANS>
from sqlalchemy import func, desc
session.query(
    func.count(tablename.id).label('qty')
    ).group_by(tablename.category
    ).order_by(desc('qty'))
<END>
<QUE>
Searching through IMAP folder for multiple criterion (python)
<ANS>
import datetime
date = (datetime.date.today() - datetime.timedelta(1)).strftime("%d-%b-%Y")
result, data = mail.uid('search', None, '(SENTSINCE {date})'.format(date=date))
<END>
<QUE>
access all xml value in python, where there's several that have the same name
<ANS>
try:
    dico["title"] = unicode(xml.Items.Item.ItemAttributes.Title)
except AttributeError:
    dico["title"] = ''
<END>
<QUE>
Broken models imports in Django when specifying app verbose_name
<ANS>
default_app_config = 'apps.cliente.config.ClienteConfig'
<END>
<QUE>
Averaging values in a list of a list of a list in Python
<ANS>
totalData = [ [['Test1',5,2,1,8],['Test2',10,4,3,2]],
                  [['Test1',2,4,5,1],['Test2',4,6,10,3]] ]
for t in range(len(totalData[0])): #tests
    result = [totalData[0][t][0],]
    for i in range(1,len(totalData[0][0])): #numbers
        sum = 0.0
        for j in range(len(totalData)):
            sum += totalData[j][t][i]
        sum /= len(totalData)
        result.append(sum)
    print result
<END>
<QUE>
Is there a better way to convert a Model to a well formatted JSON string?
<ANS>
# In models.py, add as_dict() method to all models
# Example for class Book
def as_dict(self):
    d = {
        "id": self.id,
        "publisher": self.publisher.as_dict(), # avoid this
        "title": self.title,        
        "publication_date": str(self.publication_date),  
        "publisher": self.publisher,  
        "authors": [author.as_dict() for author in self.authors.all()] # avoid this
    }

# then in views.py
def getAllBooks(request):
    book_list = [book.as_dict() for book in Book.objects.all().select_related()]
    return HttpResponse(simplejson.dumps(book_list), 
                        content_type="application/json")
<END>
<QUE>
matplotlib: data points connected in wrong order in line graph
<ANS>
data.sort('COL1', inplace=True)
<END>
<QUE>
Django manytomany relationship over 2 apps
<ANS>
class Client(Person):
   favorite_stores = models.ManyToManyField('store.Store')
   favorite_vendors = models.ManyToManyField(Vendor)
<END>
<QUE>
Dictionary-like efficient storing of scipy/numpy arrays
<ANS>
dset.attrs["Name"] = "My Dataset"
<END>
<QUE>
python+postgresql: Convert string literal to regex
<ANS>
print '.{0,3}'.join(re.escape(part) for part in s.split('?')) + '.*'
<END>
<QUE>
(Python) Set a specific palette in an image using PIL or PyPNG
<ANS>
colormap = PythonMagick.Image("colors256.png")
original.map(colormap)
<END>
<QUE>
Python: How to multiply values of a Counter object?
<ANS>
for k in a.keys():
     a[k] = a[k] * 2
<END>
<QUE>
one scale controls other scale values in tkinter python3
<ANS>
def sc1(self, *argv):
        self.a = float(argv[0]) 
        # rather than re-request the value resulting in more function calls
        # i'm using the value that is passed in during the callback
        if not hasattr(self, "a_prev"): # this is a hacky method to 
            self.a_prev = 1             # remember the previous value

        b_diff = self.scale_2.get() - self.a_prev 
        c_diff = self.scale_3.get() - self.a_prev
        # calculate the differences to the previous value

        self.scale_2.set(self.a+b_diff) # set the scales
        self.scale_3.set(self.a+c_diff)
        self.a_prev = self.a # remember current value as the new previous
<END>
<QUE>
How to profile PyCuda code with the Visual Profiler?
<ANS>
#!/usr/bin/env python
<END>
<QUE>
Wand (imagemagick) draw colored points on top of greyscale sun raster image
<ANS>
from wand.image import Image
from wand.display import display
from wand.drawing import Drawing
from wand.color import Color
img=Image(filename='../../rmli_fr/rmli_fr.ave.ras')

color = Color('red')
draw = Drawing()
draw.fill_color = color
for i in pts_comp:
    draw.line((i[0], i[1]), (i[0], i[1]))
    draw(img)

img.save(filename='rmli.ras')
<END>
<QUE>
How to copy a file in Python?
<ANS>
import os
import sys
import shutil

source = raw_input("Enter source file path: ")
dest = raw_input("Enter destination path: ")

if not os.path.isfile(source):
    print "Source file %s does not exist." % source
    sys.exit(3)

try:
    shutil.copy(source, dest)
except IOError, e:
    print "Could not copy file %s to destination %s" % (source, dest)
    print e
    sys.exit(3)
<END>
<QUE>
looking for reading audio wave values in python
<ANS>
import numpy as np
from scipy.io import wavfile

fs = 44.1e3
t = np.arange(0, 1.0, 1.0/fs)

f1 = 440
f2 = 600

x = 0.5*np.sin(2*np.pi*f1*t) + 0.5*np.sin(2*np.pi*f2*t)

fname = 'output.wav'
wavfile.write( fname, fs, x )


fs, data = wavfile.read( fname )

print fs, data[:10]
<END>
<QUE>
numpy: broadcast matrix multiply accross array
<ANS>
U = np.random.rand(3,24,5) 
R = np.eye(3,3)
result = np.einsum( "ijk,il", U,R )
<END>
<QUE>
Python/PIL Resize all images in a folder
<ANS>
#!/usr/bin/python
from PIL import Image
import os, sys

path = "/root/Desktop/python/images/"
dirs = os.listdir( path )

def resize():
    for item in dirs:
        if os.path.isfile(path+item):
            im = Image.open(path+item)
            f, e = os.path.splitext(path+item)
            imResize = im.resize((200,200), Image.ANTIALIAS)
            imResize.save(f + ' resized.jpg', 'JPEG', quality=90)

resize()
<END>
<QUE>
Python how to sort this list?
<ANS>
sorted(lst, reverse=True)
<END>
<QUE>
My sprite has a weird white pixelated border around it
<ANS>
R = (R - A) / (1 - A)
G = (G - A) / (1 - A)
B = (B - A) / (1 - A)
<END>
<QUE>
how to input many times in python?
<ANS>
print "Enter 100 words:"
words = [] # create a list
for x in range(100): # loop through all the numbers from 0 to 100
  words.append(raw_input("Word {}".format(x + 1))) # ask for the word,
                                                   # then add it to the list
<END>
<QUE>
Python 2: export class attributes from a local variable to the class itself
<ANS>
def __getattr__(self, name):
    if hasattr(self.st, name):
        return getattr(self.st, name)
    else:
        raise AttributeError
<END>
<QUE>
Getting the "zero value" corresponding to a given value
<ANS>
def zero_value(x):
    if x is None:
        return None
    return type(x)()
<END>
<QUE>
AWS boto: how to get a list of all Internet gateways attached to a VPC
<ANS>
gws = conn.get_all_internet_gateways(filters={'attachment.vpc-id': vpc.id})
<END>
<QUE>
How to strip an individual list item (string)?
<ANS>
ip_string = ",".join(IPsToPING)
subprocess.call('Fping.exe -H %s ...' % ip_string)
<END>
<QUE>
Perform actions on dictionary values that match items in a list?
<ANS>
#!/usr/bin/env python

d = {
    'key1' : ['A', 'B', 'C'], 
    'key2' : ['B', 'A', 'G'], 
    'key3' : ['Z', 'H', 'I']
}

l = ['A', 'A', 'B', 'D']

uniq_l = set(l) # you don't need to check duplicates twice

for key, value in d.items():
    if value[0] in uniq_l:
        print "Match", key, value

# Output:
# Match key2 ['B', 'A', 'G']
# Match key1 ['A', 'B', 'C']
<END>
<QUE>
django product of annotate
<ANS>
Location.objects.annotate(encounter_count=Count('subject__encounter'))
<END>
<QUE>
How to enter a neo4j Cypher query using Bulbs?
<ANS>
inrels = graph.cypher.query('START strt=node({mynode}) \
                            MATCH strt<-[r:follows]-neighbor \
                            WHERE neighbor.attr = {myattr} \
                            RETURN r', {'mynode': self.eid, 'myattr': someattr})

firstrel = inrel.next()
<END>
<QUE>
I would like to make/have a scala like 'future' async API for python
<ANS>
from rx.executors import ThreadPoolExecutor
from rx.futures import Future

with ThreadPoolExecutor(10) as tp:
    futures = [tp.submit(foo, i) for i in range(10)] # list of futures
    future_all = Future.all(futures) # combines into single future with list of results
    future_all_sum = future_all.map(sum) # maps result list to sum of elements
    print(future_all_sum.result(timeout=10))
<END>
<QUE>
Sorting uniques in multiple lists
<ANS>
lines = tuple(open('/var/log/fail2ban.log', 'r'))
seen = set()    
for item in lines:
  item = item.strip('
')
  if "fail2ban.actions:" in item and "[postfix]" in item and "Ban" in item:
    item = item.split(' ')
    if item[6] not in seen:
      seen.add(item[6])
      print item
<END>
<QUE>
Removing the second line from a text file
<ANS>
lines = []

with open('file.txt', 'r') as f:
    lines = f.readlines()

with open('file.txt', 'w') as f:
    f.writelines(lines[:1] + lines[2:]) # This will skip the second line
<END>
<QUE>
Django: How to detect if translation is activated?
<ANS>
import django.utils.translation.trans_real as trans
from django.utils.thread_support import currentThread

def isactive():
  return currentThread() in trans._active
<END>
<QUE>
How to draw histogram with same bins width for unequally spaced bins in matplotlib
<ANS>
aa1 = [0,1,1,2,3,3,4,4,5,9]
aa2 = [0,1,3,3,4,4,4,4,5,6,7,9]
bins = [0,3,9]
height = [np.histogram( xs, bins=bins)[0] for xs in [aa1, aa2]]
left, n = np.arange(len(bins)-1), len(height)

ax = plt.subplot(111)
color_cycle = ax._get_lines.color_cycle

for j, h in enumerate(height):
    ax.bar(left + j / n, h, width=1.0/n, color=next(color_cycle))

ax.set_xticks(np.arange(0, len(bins)))
ax.set_xticklabels(map(str, bins))
<END>
<QUE>
Creating Regular Expressions in Python
<ANS>
p = re.compile(r'([a-zA-Z0-9\-\+\.]+)\ ([0-9][0-9a-zA-Z\:\.\-]+)')
iterator = p.finditer("amd64 build of dvdrip software 1:0.98.10-0.2svn20090909 in archive")
for match in iterator:
    print match.group()
# Prints: software 1:0.98.10-0.2svn20090909
<END>
<QUE>
Save image from url to special folder
<ANS>
def get_img(html):
    soup = BeautifulSoup(html)
    img_box = []
    imgs = soup.find_all('div', class_= 'pthumb')

    for img in imgs:
        img_box.append(get_domain(BASE_URL) + img.img['src'])

    my_path = '/home/<username>/Desktop'  # use whatever path you like
    for img in img_box:
        urllib.request.urlretrieve(img, os.path.join(my_path, os.path.basename(img)))
<END>
<QUE>
Python, Matplotlib, Scatter plot, Change color on the clicked point
<ANS>
import sys
import numpy as np
import matplotlib.pyplot as plt

testData = np.array([[0,0], [0.1, 0], [0, 0.3], [-0.4, 0], [0, -0.5]])
fig, ax = plt.subplots()
coll = ax.scatter(testData[:,0], testData[:,1], color=["blue"]*len(testData), picker = 5, s=[50]*len(testData))
plt.grid(True)
plt.axis([-0.5, 0.5, -0.5, 0.5])

def on_pick(event):
    print testData[event.ind], "clicked"
    coll._facecolors[event.ind,:] = (1, 0, 0, 1)
    coll._edgecolors[event.ind,:] = (1, 0, 0, 1)
    fig.canvas.draw()

fig.canvas.mpl_connect('pick_event', on_pick)
plt.show()
<END>
<QUE>
Extract the tuple with the largest item from sublist (find most recent report in directory)
<ANS>
for key,group in itertools.groupby(dirtup2,operator.itemgetter(2)):
    newlist=sorted(group,key=operator.itemgetter(1),reverse=True)
    tuple_with_max=newlist[0]
    print tuple_with_max
<END>
<QUE>
Using Osmconvert with Python
<ANS>
cmd = r"""c:\temp\osmconvert.exe c:\temp\770.osc.gz -b=1,1,3,3 -o=c:\temp\extract.o5m"""
<END>
<QUE>
Generate random value once for every issue Python
<ANS>
from pages.view_consignments import ViewConsignmentsPage

class AddConsignmentPage(BasePage):

    def __init__(self, driver):
        super(AddConsignmentPage, self).__init__(driver, self._title)
        self._title_uuid = get_random_uuid(7)
        ViewConsignmentsPage._title_uuid = self._title_uuid
<END>
<QUE>
How do I keep the mask when slicing a masked array in Numpy?
<ANS>
orig_arr = ma.array([[11,12],[21,22]])
orig_arr[1,:] = ma.masked

print orig_arr
## Prints: [[11 12]
##          [-- --]]

view_arr = orig_arr[1,:]
print view_arr
## Prints: [-- --]

view_arr.mask=False # or [True, False] 


view_arr[:] = [31,32] 
print view_arr
## Prints: [31 32] #or [-- 32]

print orig_arr
## Prints: [[11 12]
##          [31 32]] # or [-- 32]
<END>
<QUE>
How to find the filename of a script being run when it is executed from a symlink on linux
<ANS>
os.path.realpath()
<END>
<QUE>
Python ftplib - uploading multiple files?
<ANS>
import os
for root, dirs, files in os.walk('path/to/local/dir'):
    for fname in files:
        full_fname = os.path.join(root, fname)
        ftp.storbinary('STOR remote/dir' + fname, open(full_fname, 'rb'))
<END>
<QUE>
looks like a valid python syntax to me but gives me invalid error using in django
<ANS>
from urlparse import urlparse
url = "http://stackoverflow.com/questions/34446468/looks-like-a-valid-python-syntax-to-me-but-gives-me-invalid-error-using-in-djang"
long_url = urlparse(url).netloc if url else "be kind to one another"
long_url.split('.', 1)[1] if long_url.split('.', 1)[0] == 'www' else long_url
<END>
<QUE>
Multidimensional Eucledian Distance in Python
<ANS>
scipy.spatial.distance.euclidean
<END>
<QUE>
Sending email from gmail using Python
<ANS>
import smtplib

def sendmail(sender, recipient, subject, body, server="localhost"):
    "Sends an e-mail to the specified recipient."

    body = "<html><head></head><body><pre>" + body + "</pre></body></html>"

    headers = ["From: " + sender,
               "Subject: " + subject,
               "To: " + recipient,
               "MIME-Version: 1.0",
               "Content-Type: text/html"]
    headers = "\r
".join(headers)

    session = smtplib.SMTP(server)
    session.sendmail(sender, recipient, headers + "\r
\r
" + body)                
    session.quit()
<END>
<QUE>
How to print out the rank number of a word?
<ANS>
for i, (word, frequency) in enumerate(top_words, start=1):
    print("%s %d %d" % (word, i, frequency))
<END>
<QUE>
Close pyplot figure using the keyboard on Mac OS X
<ANS>
import matplotlib
matplotlib.use('TKAgg')
<END>
<QUE>
cherrypy catch all route
<ANS>
#!/usr/bin/env python
# -*- coding: utf-8 -*-


import cherrypy


config = {
  'global' : {
    'server.socket_host' : '127.0.0.1',
    'server.socket_port' : 8080,
    'server.thread_pool' : 4
  }
}


class App:

  @cherrypy.expose
  def default(self, *args, **kwargs):
    return u'It is me again at {0} with {1}'.format(args, kwargs)


if __name__ == '__main__':
  cherrypy.quickstart(App(), '/', config)
<END>
<QUE>
Python: Logging TypeError: not all arguments converted during string formatting
<ANS>
logging.info('date={}'.format(date))
<END>
<QUE>
Python, tuple index out of range
<ANS>
w = Canvas(root)
w.pack()
w.create_image(0, 0, image=photo, anchor="nw")
<END>
<QUE>
Tastypie building data bundle from canonical_resource_for('object')
<ANS>
def get_detail(self, slug):
    qr = v1_api.canonical_resource_for('question')
    try:
        question = qr.cached_obj_get(slug=slug)
    except Question.DoesNotExist:
        raise Http404

    bundle = qr.full_dehydrate(qr.build_bundle(obj=question))

    # create response
    desired_format = qr.determine_format(self.request)
    serialized = qr.serialize(self.request, bundle, desired_format)
    return serialized
<END>
<QUE>
How to execute tasks in (FIFO) order using Google App Engine Task Queues?
<ANS>
class LogWaitLogInOrder(pipeline.Pipeline):

  def run(self, message1, message2, delay):
    with pipeline.InOrder():
      yield LogMessage(message1)
      yield Delay(seconds=delay)
      yield LogMessage(message2)

    yield LogMessage('This would happen immediately on run')
<END>
<QUE>
Histogram Equalization of matplotlib color tables
<ANS>
import pylab
import matplotlib.colors
import numpy

im = pylab.imread('lena.png').sum(axis=2) # make grayscale
pylab.imshow(im, cmap=pylab.cm.gray)
pylab.title('orig')
imvals = numpy.sort(im.flatten())
lo = imvals[0]
hi = imvals[-1]
steps = (imvals[::len(imvals)/256] - lo) / (hi - lo)
num_steps = float(len(steps))
interps = [(s, idx/num_steps, idx/num_steps) for idx, s in enumerate(steps)]
interps.append((1, 1, 1))
cdict = {'red' : interps,
         'green' : interps,
         'blue' : interps}
histeq_cmap = matplotlib.colors.LinearSegmentedColormap('HistEq', cdict)
pylab.figure()
pylab.imshow(im, cmap=histeq_cmap)
pylab.title('histeq')
pylab.show()
<END>
<QUE>
python: can i set a variable to equal a function of itself?
<ANS>
def f(x):
    return x+1

var1 = 5
var1 = f(var1)
# var1 is now 6
<END>
<QUE>
No 'iDisplayStart' key in GET request dictionary
<ANS>
config.add_route('simple_example', '/simple_example')
config.add_route('test', '/test')

@view_config(route_name='test', renderer='templates/main.html')
def test(request):
    partial = ["Custom/test.html"]
    return dict(partial=partial)
<END>
<QUE>
Python-How to add a struct.pack value to an integer that would be sent through the serial port
<ANS>
POS_SERVO = struct.pack('<h', int(posicion))
<END>
<QUE>
Creating QuerySet object from last 7 days
<ANS>
from datetime import datetime, timedelta

posts = Post.objects.filter(author=member.user, xyz=xzy_id, pub_date__gte=datetime.now()-timedelta(days=7))
<END>
<QUE>
different values for class variables in each subclass in python
<ANS>
class BaseAttrEnforcer(type):
    def __init__(cls, name, bases, d):
        if 'loglevel' not in d:
            raise ValueError("Class %s doesn't define loglevel attribute" % name)
        type.__init__(cls, name, bases, d)

class Base(object):
    __metaclass__ = BaseAttrEnforcer
    loglevel = None

class d1(Base):
    logfile = "d1.log"
    loglevel = "debug"

class d2(Base):
    logfile = "d2.log"
    loglevel = "info"

class d3(Base):
    logfile = "d3.log"
    # I should fail
<END>
<QUE>
Extracting frequency from list
<ANS>
title_count = Counter(titles).most_common()
for name,count in title_count:
    print('{} was found {} times'.format(name, count))
<END>
<QUE>
How to Download Files using Python?
<ANS>
import urllib
urllib.urlretrieve("http://www.example.com/songs/mp3.mp3", "/home/download/mp3.mp3")
<END>
<QUE>
Write to a file from another file and delete line from file
<ANS>
fp = codecs.open('outputfile6.txt', encoding='utf-8')
lines1 = fp.readlines()
fp.close()
fb = codecs.open('outputfile6.txt', 'w')
for j in range(0,len(lines1)):
    if j>end:
        fb.write(lines1[j].encode('UTF-8'))

fb.close()
<END>
<QUE>
Flask-Sqlalchemy, Primary key for secondary table in many-to-many relationship
<ANS>
authors_books = db.Table(
    'authors_books',
    db.Column('id', UUID(as_uuid=True), primary_key=True, default=lambda: uuid.uuid4().hex),
    db.Column('author_id', UUID(as_uuid=True), db.ForeignKey('authors.id')),
    db.Column('book_id', UUID(as_uuid=True), db.ForeignKey('books.id')),
)
<END>
<QUE>
Filter objects within two seconds of one another using SQLAlchemy
<ANS>
from sqlalchemy.sql import between
import datetime
# [all other relevant imports]

td = datetime.timedelta(seconds=2)
t1_entry = session.query(table_1).filter(table_1.name == 'the_name').first()
if t1_entry is not None:
 tmin = t1_entry.date - td
 tmax = t1_entry.date + td
 t2_entry = session.query(table_2).filter(between(table_2.date, tmin, tmax)).first()
 return (t1_entry, t2_entry)
return None
<END>
<QUE>
Numpy Array to base64 and back to Numpy Array - Python
<ANS>
import base64
import numpy as np

t = np.arange(25, dtype=np.float64)
s = base64.b64encode(t)
r = base64.decodestring(s)
q = np.frombuffer(r, dtype=np.float64)

print(np.allclose(q, t))
# True
<END>
<QUE>
Randomize 2 lists for a for loop
<ANS>
import random

def shuffled(seq):
  copy = list(seq)
  random.shuffle(copy)
  return copy

def rand_repeat(seq):
  while True:
    for el in shuffled(seq):
      yield el

list1 = ['tom', 'mary', 'frank', 'joe', 'john', 'barry']
list2 = [1, 2, 3, 4]

print zip(shuffled(list1), rand_repeat(list2))
<END>
<QUE>
In python how do I assign a series of commands to one variable?
<ANS>
def print_message(message):
    print "
"
    print "-"*10
    print message
    print "-"*10
    print "
"

print_message('This is a test of the %s system' % codes[0])
print_message('This is not a test of the %s system and all is good'% codes[1])
<END>
<QUE>
How can you employ multi-digit wildcards in python to parse a string using varying patterns?
<ANS>
for line in infline:
     #re.sub("pattern","replacement", "string")
     line =re.sub(r"([a-zA-Z]+:[0-9\.]+)",r"\1 STRING", line)
     print line
<END>
<QUE>
How to do a memset with Python buffer object?
<ANS>
def memsetObject(bufferObject):
    "Note, dangerous"
    import ctypes
    data = ctypes.POINTER(ctypes.c_char)()
    size = ctypes.c_int()  # Note, int only valid for python 2.5
    ctypes.pythonapi.PyObject_AsCharBuffer(ctypes.py_object(bufferObject), ctypes.pointer(data), ctypes.pointer(size))
    ctypes.memset(data, 0, size.value)

testObject = "sneakyctypes"
memsetObject(testObject)
print repr(testObject)
# '\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
<END>
<QUE>
List Changing In Python
<ANS>
L = [(x, y[0]) for x, y in L]
<END>
<QUE>
set post data python apache
<ANS>
from mod_python import Cookie
ID = Cookie.get_cookie(req, 'ID')
if ID:
    ID.expires = time.time() + 60*120
    Cookie.add_cookie(req, ID)
    ID = ID.value
else:
    ID = None
<END>
<QUE>
Python send UDP packet
<ANS>
print("UDP target IP:", UDP_IP)
print("UDP target port:", UDP_PORT)
print("message:", MESSAGE)

sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) # UDP
sock.sendto(bytes(MESSAGE, "utf-8"), (UDP_IP, UDP_PORT))
<END>
<QUE>
Extract a part of URL - python
<ANS>
url.split('/')[-1]
<END>
<QUE>
How to remove an item of embedded document in another embedded document of a document in mongoengine
<ANS>
state_obj = State.objects.get(name="Alaska")
province_obj = state_obj.provinces({"name": "Juneau"})
for city in province_obj.cities:
    if city.name == "Test_City" and city.population == 10000:
        province_obj.cities.remove(city)
<END>
<QUE>
How to automatically remove certain preprocessors directives and comments from a C header-file?
<ANS>
#!/usr/bin/env python

import re

# uncomment/comment for test with a real file ...
# header = open('mycfile.c', 'r').read()
header = """

#if 0
    whatever(necessary)
    and maybe more

#endif

/* 
 * This is an original style comment
 *
 */

int main (int argc, char const *argv[])
{
    /* code */
    return 0;
}

"""

p_macro = re.compile("#if.*?#endif", re.DOTALL)
p_comment = re.compile("/\*.*?\*/", re.DOTALL)

# Example ...
# print re.sub(p_macro, '', header)
# print re.sub(p_comment, '', header)
<END>
<QUE>
Django JSON string to json object
<ANS>
data = list(Data.objects.all().values('deviceId','payload'))
<END>
<QUE>
Is it possible to check whether a context variable is already set in a view within a custom context processor definition?
<ANS>
class GuildMiddleware(object):
    def process_request(self, request):
        request.G = figure_out_what_G_is()
        return None
<END>
<QUE>
django - import different module when variable change
<ANS>
module_name = 'a.foo'
module = __import__(module_name, globals(), locals(), ['*'])
<END>
<QUE>
How to iterate over two different iterable objects
<ANS>
import csv

from itertools import chain

reader = csv.DictReader(f, delimiter='\x01', lineterminator="\x02")
my_dict_of_values = {}  # whatever goes here

for line in chain(reader, my_dict_of_values):
    do_something(line)
<END>
<QUE>
Add torrent with web api
<ANS>
import requests
import re

UTORRENT_URL = 'http://%s:%s/gui/' % ('192.168.1.80', '55655')
UTORRENT_URL_TOKEN = '%stoken.html' % UTORRENT_URL
REGEX_UTORRENT_TOKEN = r'<div[^>]*id=[\"\']token[\"\'][^>]*>([^<]*)</div>'

auth = requests.auth.HTTPBasicAuth('x', 'x')
r = requests.get(UTORRENT_URL_TOKEN, auth=auth)
token = re.search(REGEX_UTORRENT_TOKEN, r.text).group(1)
guid = r.cookies['GUID']
cookies = dict(GUID = guid)

params = {'action':'add-file','token': token}
files = {'torrent_file': open('C:\\x.torrent', 'rb')}
r = requests.post(url=UTORRENT_URL, auth=auth, cookies=cookies, params=params, files=files)
<END>
<QUE>
How can I perform a HEAD request with the mechanize library?
<ANS>
import mechanize

class HeadRequest(mechanize.Request):
    def get_method(self):
        return "HEAD"

request = HeadRequest("http://www.example.com/")
response = mechanize.urlopen(request)

print response.info()
<END>
<QUE>
How to convert image data type from windows sql server to image using python?
<ANS>
from PIL import Image
import StringIO
import binascii

# In your case, 's' will be the string from the field
# in the database.
s = open("chenchi.txt").read()

# chop off the '0x' at the front.
s = s[2:] 

# Decode it to binary.
binary = binascii.unhexlify(s)

# Wrap the bytes in a memory stream that can be read like a file.
bytes = StringIO.StringIO(binary)

# Use pillow to read the memory stream into an image (it autodetects the format).
im = Image.open(bytes)

# And show it. Or you could .save() it.
im.show()
<END>
<QUE>
Need to get output as lists rather than strings in Popen or any other system commands
<ANS>
from subprocess import PIPE
import subprocess
pro = subprocess.Popen("ifconfig", stdout=PIPE, stderr=PIPE)
data = pro.communicate()[0].split()
for line in data:
    print "THIS IS A LINE"
    print line
    print "**************"
<END>
<QUE>
how to restart "for" loop in python ?
<ANS>
x = [1,2,3,4,5,6]
restart = True
while restart:
    for i in x:
        # add any exit condition!
        # if foo == bar:
        #   restart = False
        #   break
        if i == 4:
           break
        else:
            print i
<END>
<QUE>
Django Tastypie - Resource with object details only
<ANS>
#Django
from django.contrib.auth.models import User
from django.conf.urls import url

#Tasty
from tastypie.resources import ModelResource

class UserResource(ModelResource):
    class Meta:
        queryset = User.objects.all()
        resource_name = 'users'

        #Disallow list operations
        list_allowed_methods = []
        detail_allowed_methods = ['get', 'put', 'patch']

        #Exclude some fields
        excludes = ('first_name', 'is_active', 'is_staff', 'is_superuser', 'last_name', 'password',)

    #Apply filter for the requesting user
    def apply_authorization_limits(self, request, object_list):
        return object_list.filter(pk=request.user.pk)

    #Override urls such that GET:users/ is actually the user detail endpoint
    def override_urls(self):
        return [
            url(r"^(?P<resource_name>%s)/$" % self._meta.resource_name, self.wrap_view('dispatch_detail'), name="api_dispatch_detail"),
        ]
<END>
<QUE>
How do I extend a list within a list in Python?
<ANS>
some_list = [l + [10, 11] for l in some_list]
<END>
<QUE>
Grouping touples in a list based on key/value (python)
<ANS>
from collections import defaultdict

d = defaultdict(list)
for key, value in yourlist:
    d[key].append(value)

result = [[key] + value for key, value in d.items()]
<END>
<QUE>
How do I get queryset containing all referenced objects with a specific user field?
<ANS>
ContactDetails.objects.filter(server__user=request.user)
<END>
<QUE>
text aligning, python
<ANS>
"%-140.140s" % some_text
<END>
<QUE>
How to inspect and cancel Celery tasks by task name
<ANS>
# Retrieve tasks
# Reference: http://docs.celeryproject.org/en/latest/reference/celery.events.state.html
query = celery.events.state.tasks_by_type(your_task_name)

# Kill tasks
# Reference: http://docs.celeryproject.org/en/latest/userguide/workers.html#revoking-tasks
for uuid, task in query:
    celery.control.revoke(uuid, terminate=True)
<END>
<QUE>
MySQLdb with multiple transaction per connection
<ANS>
conn = MySQLdb.connect(host="1.2.3.4", port=1234, user="root", passwd="x", db="test")

for j in range(10):
    try:
        for i in range(10):
            cur = conn.cursor()
            query = "DELETE FROM SomeTable WHERE ID = %d" % i
            cur.execute(query)
            cur.close()
        conn.commit()
    except Exception:
        conn.rollback()

conn.close()
<END>
<QUE>
Plot multidimensional data
<ANS>
import scipy, pylab
names = ['Alice', 'Bob', 'Carol', 'David']
interests = [['Football', 'Swimming'], ['Swimming', 'Jooga', 'Jogging'], 
             ['Cycling', 'Football'], ['Football', 'Tennis', 'Cycling']]
allinterests = list(set(reduce(lambda x,y:x+y, interests)))
X = scipy.zeros((len(interests), len(allinterests)))
for i, indinterests in enumerate(interests):
    for x in indinterests:
        X[i, allinterests.index(x)] = 1
pylab.matshow(X, interpolation='nearest', cmap=pylab.cm.gray_r)
pylab.show()
pylab.yticks(range(len(names)), names)
pylab.ylim([len(names)-0.5, -0.5])
pylab.xticks(range(len(allinterests)), allinterests)
pylab.savefig('interests.png')
<END>
<QUE>
Outcome doesn't make sense for list of most common POS
<ANS>
text2=corpus
text4=nltk.word_tokenize(text2)
tags=nltk.pos_tag(text4)
counter2={}
for a,b in tags:
    counter2[b] = counter2.get(b,0)+1
list5=sorted([(freq,word) for word, freq in counter2.items()], reverse=True)[:3]
print [word for freq,word in list5]
<END>
<QUE>
Regex for matching any occurrence of ABC following XYZ anywhere in the string 
<ANS>
s = "Some ABC text followed by XYZ followed by multiple ABC, more ABC, more ABC"

pattern = re.compile(r'(?<=XYZ)(.*?)ABC')
while pattern.search(s):
   s = pattern.sub(r'\1REPLACED', s)

print s
<END>
<QUE>
Need help assigning parameters to my definitions
<ANS>
def main():
    phrase = input("Enter a phrase: ")
    print("Number of characters: ",len(phrase))
    count = wordCount(phrase)
    average(phrase,count)
    freqWords(phrase)

def wordCount(phrase):
    words = phrase.split()
    wordCount = len(words)
    print("Number of words: ",wordCount)
    return wordCount

def average(phrase, wordCount):
    avg = len(phrase)/wordCount
    print("The average word length: %.01f" % avg)

def freqWords(phrase):
    freqLetter = phrase[0]
    max = phrase.count(phrase[0])
    for char in phrase:
        if char is not " ":
            if phrase.count(char) > max:
                freqLetter = char
                max = phrase.count(char)

    print("The most frequent letter: ", freqLetter)

main()
<END>
<QUE>
How to find the list of all the class name in a file in python?
<ANS>
source = """
class test:
    class inner_class:
        pass
    pass

class test2:
    pass
"""

import ast
p = ast.parse(source)
classes = [node.name for node in ast.walk(p) if isinstance(node, ast.ClassDef)]
# ['test', 'test2', 'inner_class']
<END>
<QUE>
Checking That All Files Are Present
<ANS>
import os.path
with open('idfile') as fin:
     header = next(fin) #read the `#ID` comment header line.  Don't use it.
     for line in fin:
         fname = 'datafileID{0}.csv'.format(line.strip())
         if not os.path.exists(fname):
             print fname
<END>
<QUE>
BioPython: How to convert the amino acid alphlabet to
<ANS>
# Import required alphabet
from Bio.Alphabet import IUPAC

# Pass imported alphabet as an argument for `SeqIO.parse`:
records = list(SeqIO.parse(handle, 'fasta', IUPAC.extended_protein))
<END>
<QUE>
Printing numbers in a diamond shape
<ANS>
size = 10
maxlen = len(str(size * size))
m = size * 2 - 1
matrix = [[' ' * maxlen] * m for _ in range(m)]

for n in range(size * size):
    r = n // size
    c = n % size
    matrix[c + r][size - r - 1 + c] = '{0:{1}}'.format(n + 1, maxlen)

print '
'.join(''.join(row) for row in matrix)
<END>
<QUE>
Python get URL from Apache
<ANS>
def index():  
    return "Python works!"

def command(command):  
    return "this is a command %s!" %command
<END>
<QUE>
read next line after a matching line in python
<ANS>
with open(inpf, "r") as ifile:
    for line in ifile:
        if line.startswith("lattice parameters"):
            print(next(ifile, '').strip())
<END>
<QUE>
Reading columns of a csv file with python
<ANS>
def strip_unwanted(line):
    title = str(line['title']).replace(' ', '-').replace("??", "")
    title = ''.join((c for c in unicodedata.normalize('NFD', s) if unicodedata.category(c) != 'Mn'))
    line['title'] = title
    return line

with open("output.csv", encoding = "utf8") as input:
    dic_entries = csv.DictReader(input)
    # use the 'map' function
    new_entries = map(strip_unwanted, dic_entries)

    with open('some.csv', 'wb') as output:
        writer = csv.DictWriter(output)
        writer.writerows(new_entries)
<END>
<QUE>
Pythonic way to check if: all elements evaluate to False -OR- all elements evaluate to True
<ANS>
def unanimous(it):
  it1, it2 = itertools.tee(it)
  return all(it1) or not any(it2)
<END>
<QUE>
python: sum similar values in list
<ANS>
from collections import Counter
[x*c for x,c in Counter([1, 2, 1, 3, 3]).items()]
<END>
<QUE>
How to add a location filter to tweepy module
<ANS>
import sys
import tweepy

consumer_key=""
consumer_secret=""
access_key=""
access_secret=""

auth = tweepy.OAuthHandler(consumer_key, consumer_secret)
auth.set_access_token(access_key, access_secret)
api = tweepy.API(auth)


class CustomStreamListener(tweepy.StreamListener):
    def on_status(self, status):
        if 'manchester united' in status.text.lower():
            print status.text

    def on_error(self, status_code):
        print >> sys.stderr, 'Encountered error with status code:', status_code
        return True # Don't kill the stream

    def on_timeout(self):
        print >> sys.stderr, 'Timeout...'
        return True # Don't kill the stream

sapi = tweepy.streaming.Stream(auth, CustomStreamListener())    
sapi.filter(locations=[-6.38,49.87,1.77,55.81])
<END>
<QUE>
Import multiple lists in MySQL using pymysql (Python)
<ANS>
cursor.executemany("insert into table (var1,var2,var3) values (%s, %s, %s)", [list1,list2,list3])
<END>
<QUE>
Take screenshot in Python on Mac OS X
<ANS>
os.system("screencapture screen.png")
<END>
<QUE>
How to write list of lists to CSV file Python?
<ANS>
import pandas as pd
data = [('a', 'b', 'c'), ('d', 'e', 'f')]
df = pd.DataFrame(data)
df.to_csv('test.csv', index=False, header=False)
<END>
<QUE>
Validation on ManyToManyField before Save in Models.py
<ANS>
admin.py
class PermissionInline(admin.TabularInline):
    form = PermissionForm
    model = Permission
    extra = 3

forms.py
class PermissionForm(forms.ModelForm):
    class Meta:
        model = Permission

    def clean(self):
        cleaned_data = self.cleaned_data
        user = cleaned_data['user']
        role = cleaned_data['role']
        if role.id != 1:
            folder = cleaned_data['application'].folder
            if len(filter(lambda x:x in user.profile.company.all(),folder.company.all())) > 0: # this is an intersection
                raise forms.ValidationError("One of the users of this Application works for one of the Repository's organisations!")
        return cleaned_data
<END>
<QUE>
How to model "One or Many" relationship in Django?
<ANS>
from django.db import IntegrityError

class Property(models.Model):
    owner = models.ForeignKey(Owner)

    def save(self, *args, **kwargs):
        if self.owner.type == "Individual":
            if Property.objects.filter(owner=self.owner).exists():
                raise IntegrityError
        super(Property, self).save(*args, **kwargs)
<END>
<QUE>
Need more elegant solution to even string length
<ANS>
str = "WooHoo"   
str = str[:-len(str)/2]
<END>
<QUE>
Python doesn't save file with unicode characters
<ANS>
# -*- coding: utf-8 -*-
<END>
<QUE>
How to unescape a query string
<ANS>
import urllib

print urllib.unquote("cmd%5Blogin_user%5D%5Busername%5D=dfdsfdsf&cmd%5Blogin_user%5D%5Bpassword%5D=dsfsdf")
<END>
<QUE>
python 2 xml to sort and remove duplicates
<ANS>
#!/usr/bin/env python
# -*- coding: utf-8 -*-
from xml.dom.minidom import *
xml = parse('1.xml')
name = xml.getElementsByTagName('type_id')
hashes = set()
for node in name:
    hashes.add(node.childNodes[0].data.encode('utf-8'))

print "
".join(sorted(hashes))
<END>
<QUE>
Extracting the key from dictionary using get()
<ANS>
inverse_namelist = {v: k for k, v in namelist.items()}
<END>
<QUE>
Is there a faster way to search a numpy array
<ANS>
numpy.searchsorted
<END>
<QUE>
How to pass complex arguments in netcdf python
<ANS>
self.EIG2D = numpy.vectorize(complex)(EIG2Dtmp[...,0], EIG2Dtmp[...,1])
<END>
<QUE>
How to open and edit an existing file in Python?
<ANS>
# Open a file
fo = open("foo.txt", "a") # safer than w mode
fo.write( "Python is a great language.
Yeah its great!!
");

# Close opend file
fo.close()
<END>
<QUE>
Mongoengine - How to perform a "save new item or increment counter" operation?
<ANS>
ImagesUrl.objects(src=self.src).update_one(
                                  upsert=True, 
                                  inc__counter=1, 
                                  set__src=self.src)
<END>
<QUE>
Select values which not in another table with Django
<ANS>
inner_qs = table2.objects.all()
results = table1.objects.exclude(field1__in=inner_qs)
<END>
<QUE>
Python String List additions
<ANS>
mylist[:4] = szResult.split()
<END>
<QUE>
Extracting indices from numpy array python
<ANS>
print n[-4::]
<END>
<QUE>
how to select columns from R dataframe in rpy2 in python?
<ANS>
# cols to select
c = rpy2.robjects.IntVector((1,3))
# selection from df
mydf.rx(True, c)
<END>
<QUE>
Django ORM Table Relationships
<ANS>
from django.db.models import Count
Games.objects.filter(owned=0).annotate(vote=Count('votes')).order_by('-vote')
<END>
<QUE>
how to make a cell in a QTableWidget read only?
<ANS>
def createtable(self):
     rows = self.tableName.rowCount()
     columns = self.tableName.columnCount()
     for i in range(rows):
         for j in range(columns):
             item = self.cell("text")
             # execute the line below to every item you need locked
             item.setFlags(QtCore.Qt.ItemIsEnabled)
             self.ui.tableName.setItem(i, j, item)
<END>
<QUE>
Is there a way to create a .ipynb from a .py file command line?
<ANS>
import IPython.nbformat.current as nbf
nb = nbf.read(open('test.py', 'r'), 'py')
nbf.write(nb, open('test.ipynb', 'w'), 'ipynb')
<END>
<QUE>
Big-O of a while loop
<ANS>
list.pop(0)
<END>
<QUE>
How to find a string between to special characters in python?
<ANS>
x = info.split(';',2)[1]
<END>
<QUE>
Accessing all elements in an iterated list under a loop in Python
<ANS>
#circle.circle_computation()
if circle_create == True:
    #circle_list[i].draw_circle()
    for j in xrange(i):
        circle_list[j].draw_circle()
<END>
<QUE>
how to check for platform incompatible folder (file) names in python
<ANS>
ILLEGAL_NTFS_CHARS = "[<>:/\\|?*\"]|[\0-\31]"
def __removeIllegalChars(name):
    # removes characters that are invalid for NTFS
    return re.sub(ILLEGAL_NTFS_CHARS, "", name)
<END>
<QUE>
How to get all unique characters in a textfile? unix/python
<ANS>
fh = open('my.txt','r').read()
unique_chars = set(fh)
len(unique_chars) #for the length.
<END>
<QUE>
How to find matching rows in Pandas DataFrame with identical values with same/opposite signs in certain columns?
<ANS>
ndf = merge(left=df1,right=df1,on=('c','d'),how='inner')
out = ndf[(ndf.a_x == (-1)*ndf.a_y) & (ndf.b_x == (-1)*ndf.b_y)]
<END>
<QUE>
django unsupported locale setting on Mac OS X
<ANS>
try:
    import locale
    locale.setlocale(locale.LC_ALL, 'en_US.utf8')
except Exception:
    try:
        locale.setlocale(locale.LC_ALL, 'en_US.UTF-8')
    except Exception as e:
        messages.error(request, 'An error occurred: {0}'.format(e))
<END>
<QUE>
writing urlpattern in django for rendering an image
<ANS>
urlpatterns = patterns("myapp.views",
    url(r'^$', 'index',dict(template_name = 'myapp/index.html'), name = 'home'),
    url(r'^kick-ass-chart/$', 'render_chart', name='myapp_render_chart'),
)
<END>
<QUE>
Parse a map of int -> list from a string
<ANS>
dict((k, v.split(',')) for k,v in (x.split(':') for x in s.split('::')))
<END>
<QUE>
converting a list of times to total time
<ANS>
s = sum(hours)*3600+sum(minutes)*60+sum(seconds)
return '%d hours %d minutes %d seconds'%( s/3600, (s%3600)/60, s%60)
<END>
<QUE>
how to access settings variable from different project in the same folder in django
<ANS>
from A import settings as A_settings
<END>
<QUE>
How to get the screen size in Tkinter?
<ANS>
import tkinter as tk

root = tk.Tk()

screen_width = root.winfo_screenwidth()
screen_height = root.winfo_screenheight()
<END>
<QUE>
how do i access lists values stored in a dictionary key?
<ANS>
lower, upper = dictionary1[key]
<END>
<QUE>
to get number of frames between a time range?
<ANS>
import wave

start_time = 5.43
stop_time = 5.81
time_period = stop_time - start_time
wav = wave.open('test.wav')
time_period_frames = time_period * wav.getnframes()
<END>
<QUE>
in openerp fields.function takes the dictionry as a arugument
<ANS>
def _total_resources(self, cr, uid, ids, field_name, arg, context):
    res = {}
    reqrd_bffr = 0
    trng_bffr = 0
    billable = 0
    for id in ids:
        res[id] = {
            'total_resources' : 0,
            'req_buffr':0,
            'trng_buffr': 0,
            'billable' : 0
        }
        list_resources = self.browse(cr,uid,ids[0]).resource_all_id
        print"list_resources",list_resources
        for status_chk in list_resources :
            status_resrc = status_chk.status_id.name
            if status_resrc == 'Required Buffer':
                reqrd_bffr=reqrd_bffr + 1
            elif status_resrc == 'Training Buffer':
                trng_bffr=trng_bffr + 1
            elif status_resrc == 'Billable':
                billable=billable + 1
        total = len(list_resources)
        res[id] = {'total_resources' : total,'req_buffr':reqrd_bffr,'trng_buffr': trng_bffr, 'billable' : billable}
    return res
<END>
<QUE>
How to eliminate redundancy when creating variants of a dictionary
<ANS>
values = {
        'order_line_id': order.id,
        'product_id': product.id,
}
if field == 0:
    values['new_line'] = line.id
<END>
<QUE>
Copy over values to new column with formula
<ANS>
def copy_function(row):
    if row['col2']==1:
        return row['col2'] 
    else: 
        return row['col1']
df['col3'] = df.apply(copy_function, axis=1)
<END>
<QUE>
Pythonmodule to make a loop run exactly every n seconds
<ANS>
interval = 2
while True:
    next_run = time.time() + interval
    do_something()
    delta = next_run - time.time()
    if delta < 0:
        skipped(delta/-interval)
    else:
        time.sleep(delta)
<END>
<QUE>
Append a string to a list after checking
<ANS>
user_input = raw_input("Please enter a word: ")
ls = ["a", "f" , "x" , "u"]
user_list = []
inDict = True

for i in user_input:
    if not(i in ls):
        inDict = False
        break
if(inDict):    
    user_list.append(user_input)
<END>
<QUE>
Concatenating with empty numpy array
<ANS>
x = np.concatenate((x, new_x))
<END>
<QUE>
Django deserialize JSON request with nested dictionary
<ANS>
for k, v in user_actions.iteritems():
    print v['notes']
<END>
<QUE>
Django: how do i request username in SessionWizardView?
<ANS>
class ContactWizard(SessionWizardView):
    template_name = "invite.html"

    def done(self, form_list, **kwargs):
        form_data = process_form_data(form_list, self.request.user)

        return render_to_response('invitedone.html', {'form_data': form_data})
<END>
<QUE>
How to track the caller details inside callee in python
<ANS>
def test_envconfig():
     import inspect
     for frame, filename, line_num, func, source_code, source_index in inspect.stack():
         if 'tests/unittests/capital/' in filename:
             print 'The Test env is activated for %s' % (filename)
     return "user"
<END>
<QUE>
Get Primary Key after Saving a ModelForm in Django
<ANS>
def contact_create(request):
    if request.method == 'POST':
        form = ContactForm(request.POST)
        if form.is_valid():
            new_contact = form.save()
            return HttpResponseRedirect(reverse(contact_details, args=(new_contact.pk,)))
    else:
        form = ContactForm()
<END>
<QUE>
How get length of Navigation Mesh?
<ANS>
import bpy, mathutils

plane = bpy.data.objects["Plane"]
previous = None

for poly in plane.data.polygons:
  center = mathutils.Vector(poly.center)
  if previous:
    previous -= center
    #print length and center
    print(previous.length, center)
  previous = center
<END>
<QUE>
Change color of nodes when in a spring layout+ networkx
<ANS>
import random
import matplotlib.pyplot as plt
import networkx as nx
G=nx.Graph()
G.add_edges_from([('a','b'),('b','d'),('c','e'),('b','e')])
pos=nx.spring_layout(G)
nodes=G.nodes()
random.shuffle(nodes)
blue=nodes.pop()
nx.draw_networkx_nodes(G,pos,nodelist=[blue],node_color='b')
nx.draw_networkx_nodes(G,pos,nodelist=nodes,node_color='r')
nx.draw_networkx_edges(G,pos)
plt.show()
<END>
<QUE>
Calculating day of the week from csv files, how to select one field in csv file
<ANS>
df["DATE"].irow(0)
<END>
<QUE>
Python - openpyxl read xlsx data after writing on existing xlsx with formula
<ANS>
data_only=True
<END>
<QUE>
Django custom user field clashes with AbstractBaseUser
<ANS>
column_name='last_login_date'
<END>
<QUE>
Python : Variable size problems with Pyscripter
<ANS>
mylist = []
for i in range(million):
    mylist.append(something)
mytup = tuple(mylist)
<END>
<QUE>
merge python dictionary of sets
<ANS>
import itertools
def update_dict(A, result): #update vaules to the same set
    for k in A:
        result[k] = result.get(k, {k}).union(set(A[k]))
        tmp = None
        for i in result[k]:
            tmp = result.get(k, {k}).union(result.get(i, {i}))
        result[k] = tmp
        for i in result[k]:
            result[i] = result.get(i, {i}).union(result.get(k, {k}))

A = {0:('b',), 1:('c',), 2:('c',), 3:('c',)}
B = {'a':(3,), 'b':(0,), 'c':(1,2,3)}
result = dict()
update_dict(A, result)
update_dict(B, result)
update_dict(A, result) #update to fix bugs
update_dict(B, result)

k = sorted([sorted(list(v)) for v in result.values()]) 
k = list( k for k, _ in itertools.groupby(k))  #sort and remove dumplicated set

final_result = dict()
for v in k: #merge the result as expected
    final_result.update({tuple([i for i in v if isinstance(i, int)]):tuple([i for i in v if not isinstance(i, int)])})
print final_result

#output
{(0,): ('b',), (1, 2, 3): ('a', 'c')}
<END>
<QUE>
Is it possible to inject a variable into python logger Filter
<ANS>
class A(object):

  def __init__(self):
    self.logger = logging.LoggerAdapter(log, {'session_id': random(1024)})

  def process(self):
    self.logger.info('hello')
<END>
<QUE>
variable regex python
<ANS>
command = re.search("(" + re.escape(MyDir) + ")", body).group(1)
<END>
<QUE>
How to extract necessary content from file in python?
<ANS>
pk = open( 'file.txt', 'r' ).readlines() #or 'rb' if there's a need

if len(pk) > 2:
    for line in pk[1:-1]:
        print line,
        #or do anything you like to do with line
<END>
<QUE>
How to call variables generated in loop
<ANS>
dict1 = {'imp_local'+str(k):700 for k,val in enumerate(nBottom)}
dict2 = {'imp_global'+str(k):600 for k,val in enumerate(nBottom)}
<END>
<QUE>
Python-Hotshot error trying to profile a simple program
<ANS>
runcall(main, self.argv)
<END>
<QUE>
Closing a generic pop up in Selenium
<ANS>
driver.find_element_by_xpath('//div[contains(@class,"ui-dialog") and @aria-describedby="dialogContent2"]//button[@title="Close"]').click()
<END>
<QUE>
EOFError Opening/Reading Pickled File
<ANS>
here = pickle.load(open("1965.pkl", 'rb'))
<END>
<QUE>
apply a bit mask in python
<ANS>
print (int(hexlify(corr),16))&0x01
<END>
<QUE>
add to a list in tuple with search in python
<ANS>
for i in clslist:
    if i.str1 == A and i.str2 == B:
        i.strlist.append(whatever)
<END>
<QUE>
Python printing from non returning functions
<ANS>
print 'Word is',     #Notice the trailing comma. This will not print a newline char
faultyPrint()
<END>
<QUE>
How to pickle a CookieJar?
<ANS>
from cPickle import dumps
from cookielib import CookieJar
import threading

class MyCookieJar(CookieJar):
    def __getstate__(self):
        state = self.__dict__.copy()
        del state['_cookies_lock']
        return state

    def __setstate__(self, state):
        self.__dict__ = state
        self._cookies_lock = threading.RLock()

class Person(object):
    def __init__(self, name):
        self.name = name
        self.cookies = MyCookieJar()

bob = Person("bob")
print dumps(bob)
<END>
<QUE>
Extracting only a specific subfolder 7zip
<ANS>
os.system("7z x install.zip subfolder -y -r -oc:\\\"Program Files (x86)\\\"Calibre2")
<END>
<QUE>
Print result right after each unit test
<ANS>
runner = unittest.TextTestRunner(verbosity=2)
<END>
<QUE>
python web-client multipile set-cookie header, get raw set-cookie header
<ANS>
import requests
r = requests.get("http://localhost:5000")  
# a flask application there sets two cookies 'first' and 'second'

r.cookies.keys()
# returns ['first', 'second']

r.headers['Set-Cookie']
# returns 'first=4; Path=/, second=42; Path=/'
<END>
<QUE>
Trying to upload with ftplib, can connect just fine, but I'm messing something up at some point.
<ANS>
basename = os.path.basename(file)
if ext in (".txt", ".htm", ".html"):
    ftp.storlines("STOR " + basename, open(file))
else:
    ftp.storbinary("STOR " + basename, open(file, "rb"), 1024)
<END>
<QUE>
Add certain lines from contourplot in colorbar
<ANS>
levels = np.logspace(0,np.log10(Z.max()), 100 )[30:80]
levels_black = [level for i,level in enumerate(levels) if (i+5) % 10 != 0]
levels_red =  [level for i,level in enumerate(levels) if (i+5) % 10 == 0]

CS2_black = pyplot.contour(X,Y,Z,locator=ticker.LogLocator(), colors='k', levels=levels_black, lw=2,norm=colors.LogNorm(),vmin=1,vmax =Z.max())
CS2_red = pyplot.contour(X,Y,Z,locator=ticker.LogLocator(), colors='r', levels=levels_red, lw=2,norm=colors.LogNorm(),vmin=1,vmax =Z.max())

cbar.add_lines(CS2_red)
<END>
<QUE>
How do I get live data from my production App Engine app to my local dev app?
<ANS>
from google.appengine.ext.remote_api import remote_api_stub

def auth_func():
   return ('your_username', 'your_password')

remote_api_stub.ConfigureRemoteApi(None, '/_ah/remote_api', auth_func, 'your-app-id.appspot.com')
<END>
<QUE>
Any way to create a NumPy matrix with C API?
<ANS>
numpy.matrix
<END>
<QUE>
create a standalone py server application for mac
<ANS>
from Tkinter import *
import sys
master = Tk()    
def callback():
    master.destroy()
    sys.exit()    
b = Button(master, text="Click to close", command=callback)
b.pack()    
mainloop()
<END>
<QUE>
Loading document as raw string in yaml with PyYAML
<ANS>
raw = open(filename).read()
docs = []
for raw_doc in raw.split('---'):
    try:
        docs.append(yaml.load(raw_doc))
    except SyntaxError:
        docs.append(raw_doc)
<END>
<QUE>
Get an element and its parent ONLY, using BeautifulSoup in Python
<ANS>
from bs4 import BeautifulSoup

txt = """<div name="div1">
        <li>Test 1</li>
        <li>Test 2</li>
        </div>"""

def clone(soup, tag):
   newtag = soup.new_tag(tag.name)
   for attr in tag.attrs:
      newtag[attr] = tag[attr]
   return newtag

soup = BeautifulSoup(txt)
tags = soup.find_all("li")
for tag in tags:
   print tag.wrap(clone(soup, tag.parent))
<END>
<QUE>
obtain list of files in python
<ANS>
from glob import glob

with open('C:/test/out_file/out_file.txt', 'w') as out_file:
    out_file.write('
'.join(glob('C:/test/*.txt')))
<END>
<QUE>
uwsgi error : Requested setting DEBUG, but settings are not configured
<ANS>
import os
import sys

sys.path.append('/home/ubuntu/web/lightea.com/elderlytracking/django_test')
os.environ.setdefault("DJANGO_SETTINGS_MODULE", "django_test.settings") # here django_test is a directory within django_test project 

from django.core.wsgi import get_wsgi_application
application = get_wsgi_application()
<END>
<QUE>
Calculate number of NaN's based on two separate unique columns
<ANS>
from csv import reader
nan_counts = {}
with open('/path/to/file') as file:
    file_reader = reader(file)
    next(file_reader)  # Skip the first row of headers
    for row in file_reader:
        year, data = row[1], row[4:]
        nan_counts[year] = data.count('NaN') + nan_counts.get(year, 0)
<END>
<QUE>
for loop data , iteration and some statistic calculations in python
<ANS>
start = 0
calculated_mean = float('inf')
while calculated_mean > set_mean:
    energies = []
    for i in range(start, start + 1000): 
        system = moves.move(system, 50, true)
        energy = system.energies()
        energies.append(energy)
        print("%d: %s" % (i, energy))
    calculated_mean = sum(energies[-10:]) / 10
<END>
<QUE>
Comparing two numbers without loops or branching in Python
<ANS>
c = round(((a + b) - abs(a - b)) / 2)
<END>
<QUE>
Mark a specific level in contour map on matplotlib
<ANS>
plt.figure()

CS = plt.contour(X, Y,log_mu,levels = [-7,-8],
                 colors=('k',),linestyles=('-',),linewidths=(2,))
CSF = plt.contourf(X, Y,log_mu)
plt.clabel(CS, fmt = '%2.1d', colors = 'k', fontsize=14) #contour line labels
CB = plt.colorbar(CSF, shrink=0.8, extend='both')

plt.xscale('log')
plt.yscale('log')

plt.show()
<END>
<QUE>
Flask-wtf: Using a kwarg to set the initial value for a field
<ANS>
kwargs = {"childWrapper": {"inputFIeld": "Example2"}}
form = ParentForm(**kwargs)
<END>
<QUE>
Can't change the values of fields of model objects in lists
<ANS>
profile = list(profile)
<END>
<QUE>
How to check if an data already present in a CSV file using Python
<ANS>
ip="192.168.1.1"
for line in csv_file:
    if ip in line:
        found = True
        break
<END>
<QUE>
Span models in Django without a ForeignKey
<ANS>
def get_values(self, env):
    class ValUsers(models.Model):
        name = models.TextField(max_length=64)
        value = models.TextField(max_length=2048)
    ret = EnvUsers.objects.raw(
        'SELECT a.id, a.name, v.value '
        ' FROM Authorization a, Value v ' 
        ' WHERE a.user_root = v.parent '
        '      and a.active = %s '
        '      and v.active = %s '
        '      and v.name = %s ',
        [True, True, env]
    )

    return {u.name: u.value for u in ret}
<END>
<QUE>
Super with sqlalchemy mixins for default values
<ANS>
def _example_id_default():
    return HMAC("{}".format(urandom(32).encode('base_64'))).hexdigest()

class ExampleMixin(object):
    """Mixin for `AnExample`"""

    example_id = Column(String(255), default=_example_id_default)
<END>
<QUE>
Python: How to write a dictionary of tuple values to a csv file?
<ANS>
import csv
with open("data.csv", "wb") as f:
    csv.writer(f).writerows((k,) + v for k, v in maxDict.iteritems())
<END>
<QUE>
How to make doxygen ignore the first line of a Python script?
<ANS>
FILTER_SOURCE_FILES = YES
INPUT_FILTER = "python path/to/doxypy.py"
<END>
<QUE>
How to update Tkinter labels?
<ANS>
from Tkinter import *
import sys

def write():
    new_player = e1_var.get() + " " + e2_var.get()
    with open('stats', 'a') as file:
        file.write("
" + new_player + "
")

    players[new_player] = Label(text=new_player).grid(column=0)
    e1_var.set("")
    e2_var.set("")

root=Tk()
root.title("Basketball Stats")
l1=Label(text="Player").grid(column=0, row=0)
l2=Label(text="Number").grid(column=0, row=1)

e1_var = StringVar()
e1 = Entry(textvariable=e1_var).grid(column=1, row=0)

e2_var = StringVar()
e2 = Entry(textvariable=e2_var).grid(column=1, row=1)

b1=Button(text="Submit", command=write).grid(column=1, row=3)

players = {}
with open("stats", "r") as file:
    for line in file.read().split('
'):
        players[line] = Label(text=line).grid(column=0)

root.mainloop()
<END>
<QUE>
Matplotlib - Add labels aligned to bottom of axis
<ANS>
import matplotlib.transforms as transforms

fig = plt.figure()
ax = fig.add_subplot(111)

trans = transforms.blended_transform_factory(
    ax.transData, ax.transAxes)

ax.plot(range(50))
ax.axvline(20)

ax.text(20, 0.05, 'test', transform=trans, rotation='vertical', ha='right')
<END>
<QUE>
How do I remove 2nd and rest digits after a period from column one of lines?
<ANS>
for line in fname:
    line = re.sub('[\(\)\{\}\'\'\,<>]','', line)
    line = re.sub(r"(\.\d)\d*_?\d*", r"\1", line, 1)
    fields = line.rstrip("
").split()
    outfile.write('%s  %s  %s  %s  %s  %s
' % (fields[0],fields[1],fields[2],fields[3],fields[4],(fields[5])))
<END>
<QUE>
Remove empty sets from a dict inside a list (python 2.7)
<ANS>
filtered_clue = filter(lambda x: len(x['number']), clue)
<END>
<QUE>
Datetime in Google Cloud SQL [GAE + Python]
<ANS>
import pytz
import datetime

fecha_actual_Madrid = pytz.timezone('Europe/Madrid')    
logging.info('time is %s', datetime.datetime.now(fecha_actual_Madrid ))
<END>
<QUE>
How can a function set the value of a variable without returning the value of that variable?
<ANS>
import contextlib
@contextlib.contextmanager
def argv_tmp():
    tmp = sys.argv
    sys.argv = []
    try:
        yield
    finally:
        sys.argv = tmp

with argv_tmp():
    from ROOT import *
<END>
<QUE>
Slicing a dictionary by keys that start with a certain string
<ANS>
def slicedict(d, s):
    return {k:v for k,v in d.iteritems() if k.startswith(s)}
<END>
<QUE>
How do I check for a particular subparser?
<ANS>
import argparse

def do_things(args):
    print args
    # Do your stuff

mainparser = argparse.ArgumentParser()
submainadder = mainparser.add_subparsers(title='subcommands')
parser_ut = submainadder.add_parser('unittest')
parser_ut.set_defaults(func=do_things)

if __name__ == "__main__":
    stuff = mainparser.parse_args()
    stuff.func(stuff)
<END>
<QUE>
How to return some variable once in few seconds to client?
<ANS>
class MyHandler(tornado.web.RequestHandler):
    @tornado.web.asynchronous
    def get(self):
        self._pcb = tornado.ioloop.PeriodicCallback(self._cb, 1000)
        self._pcb.start()

    def _cb(self):
        self.write('Kapooya, Kapooya!')
        self.flush()

    def on_connection_close(self):
        self._pcb.stop()
<END>
<QUE>
Process RGBA data efficiently using python?
<ANS>
import numpy

def rgba_unpremultiply(data):
    a = numpy.fromstring(data, 'B') # Treat the string as an array of bytes
    a = a.astype('I') # Cast array of bytes to array of uints, since temporary values needs to be larger than byte
    alpha = a[3::4] # Every 4th element starting from index 3
    alpha = numpy.where(alpha == 0, 255, alpha) # Don't modify colors where alpha is 0
    a[0::4] = a[0::4] * 255 // alpha # Operates on entire slices of the array instead of looping over each element
    a[1::4] = a[1::4] * 255 // alpha
    a[2::4] = a[2::4] * 255 // alpha
    return a.astype('B').tostring() # Cast back to bytes
<END>
<QUE>
Python - Access denied error on windows 8
<ANS>
setup(console=[{'script':"process.py",'uac_info': "requireAdministrator"}])
<END>
<QUE>
Automatically setting properties in SQLAlchemy declarative models
<ANS>
from sqlalchemy import event
@event.listens_for(Person.home_addresses, 'append')
def receive_append(target, value, initiator):
    # set the address type to home
    value.type = 'home'
    return value
<END>
<QUE>
Sorting a list of names in python
<ANS>
L = ['Chris Terman', 'Tom Brady', 'Eric Grimson', 'Gisele Bundchen']

print sorted(L,key=lambda x:x.split()[-1]) # sorted by last name
['Tom Brady', 'Gisele Bundchen', 'Eric Grimson', 'Chris Terman']

print sorted(L)# sorted first name
['Chris Terman', 'Eric Grimson', 'Gisele Bundchen', 'Tom Brady']
<END>
<QUE>
python : replace words in string
<ANS>
for i, word in enumerate(z):
    if "-" not in word:
        if word in d.keys():
            z[i] = str(d[word])
        else:
            count = count + 1
            d[word] = count
            z[i] = str(count)
<END>
<QUE>
Generate pdf with reportlab
<ANS>
p.drawString(10, 800, "Name")
p.drawString(10, 790, "Address")
p.drawString(10, 780, "School")
<END>
<QUE>
join or merge values calculated on grouped pandas dataframe
<ANS>
df['bins'] = df.groupby(df.hours).density.transform(func)
<END>
<QUE>
Python/WebApp Google App Engine - testing for user/pass in the headers
<ANS>
class MYREALM_securepage(webapp.RequestHandler):
  def get(self):
      if not 'Authorization' in self.request.headers:
          self.response.headers['WWW-Authenticate'] = 'Basic realm="MYREALM"'
          self.response.set_status(401)
          self.response.out.write("Authorization required")
      else:
          auth = self.request.headers['Authorization']
          (username, password) = base64.b64decode(auth.split(' ')[1]).split(':')
          # Check the username and password, and proceed ...
<END>
<QUE>
Easy way to determine a nesting level of nested tuples, in Python
<ANS>
def depth(t):
    try:
        return 1+max(map(depth,t))
    except:
        return 0

t = (4, (3, 5, (2, 4, 6, (1, 3, 5, 7))))
print(depth(t)) # 4
t = tuple(tuple(range(k)) for k in range(1,200))
print(depth(t)) # 2
<END>
<QUE>
Right way to load data from json file in python
<ANS>
import json

f = open('data/convertcsv.json');

data = json.loads(f.read())

f.close()

for row in data:
        print row['sentiment']
<END>
<QUE>
Finding mean of a values in a dictionary
<ANS>
G={'E': 18.0, 'D': 17.0, 'C': 19.0, 'B': 15.0, 'A': 0}


count = 0
_sum = 0
for key in G:
    count += 1
    _sum += G[key]

print('this is the mean: ', _sum/count)
<END>
<QUE>
Python: replacing an element in an array without changing array shape
<ANS>
AA[1,2]='K'
<END>
<QUE>
Creating lists with loops in Python
<ANS>
with open('ProjectEuler11Data.txt') as numbers:
    data = numbers.readlines()
lines = [line.split() for line in data]
<END>
<QUE>
In python, how to generate a random integer in a range, excluding some numbers in a list?
<ANS>
values = range(10)
random.shuffle(values)

def get_value():
    return values.pop()
<END>
<QUE>
How to scrape dynamic webpages by Python
<ANS>
from selenium import webdriver
driver = webdriver.Firefox()
driver.get('http://example.com')
element = driver.find_element_by_class_name("yourClassName") #or find by text or etc
element.click()
<END>
<QUE>
From string to datetime with or without millisecond
<ANS>
l = ['03:18:45.2345', '03:19:23']
for item in l:
    time_format = "%H:%M:%S.%f" if '.' in item else "%H:%M:%S"
    print datetime.datetime.strptime(item, time_format)
<END>
<QUE>
Is there a way to find the second longest word in a sentence in Python?
<ANS>
second_longest = sorted(sentence.split(), key=len)[-2]
<END>
<QUE>
merge two lists in python - but sort them during merge
<ANS>
all_res = sorted(list(fq) + list(sq), key = lambda x: (x[-1], x[0]))
<END>
<QUE>
Accurate line ends with matplotlib
<ANS>
overlapped = plot(xdata[-2:-1],ydata[-2:-1],'-',lw=4.5)

for item in overlapped:
    item.set_solid_capstyle('butt')
<END>
<QUE>
matplotlib: using a colormap to color table-cell background
<ANS>
from matplotlib import pyplot as plt
import numpy as np
randn = np.random.randn
from pandas import *

idx = Index(arange(1,11))
df = DataFrame(randn(10, 5), index=idx, columns=['A', 'B', 'C', 'D', 'E'])
vals = np.around(df.values,2)
normal = plt.normalize(vals.min()-1, vals.max()+1)

fig = plt.figure(figsize=(15,8))
ax = fig.add_subplot(111, frameon=True, xticks=[], yticks=[])

the_table=plt.table(cellText=vals, rowLabels=df.index, colLabels=df.columns, 
                    colWidths = [0.03]*vals.shape[1], loc='center', 
                    cellColours=plt.cm.hot(normal(vals)))
<END>
<QUE>
Django inheritance from models.CharField with choices gives error
<ANS>
def __eq__(self, value):
    return self.value == value

def __len__(self):
    return len(self.value)
<END>
<QUE>
Adjust the distance only between two subplots in matplotlib
<ANS>
from mpl_toolkits.axes_grid1 import make_axes_locatable 

ax1 = plt.subplot2grid((1,1), (0,0))
divider = make_axes_locatable(ax1) 
ax2 = divider.append_axes("bottom", size="100%", pad=0.5)
ax3 = divider.append_axes("bottom", size="100%", pad=1)
<END>
<QUE>
"Slice" out one element from a python dictionary
<ANS>
def take(dictionary, key):
    return {key: dictionary[key]}

R = take(D, k)
<END>
<QUE>
How to open file and save as csv
<ANS>
import pandas as pd
data_xls = pd.read_excel('export.csv', 'Sheet1', index_col=None)
data_xls.to_csv('exceltocsv.csv', encoding='utf-8')
<END>
<QUE>
Python/MySQL- How to properly use %s for counting rows
<ANS>
query = "SELECT COUNT(*) from `%s`" %table
cursor.execute(query)             #execute query separately
res = cursor.fetchone()
total_rows = res[0]      #total rows
<END>
<QUE>
Data binning: irregular polygons to regular mesh
<ANS>
from shapely.geometry import box, Polygon

for pixel in pixels:
    # say the pixel has llx, lly, urx, ury values.
    pixel_shape = box(llx, lly, urx, ury)

    for polygon in approximately_overlapping:
        # say the polygon has a ``value`` and a 2-D array of coordinates 
        # [[x0,y0],...] named ``xy``.
        polygon_shape = Polygon(xy)
        pixel_value += polygon_shape.intersection(pixel_shape).area * value
<END>
<QUE>
Google App Engine Python simplejson escaping?
<ANS>
if json.encoder.ESCAPE_DCT.get('/') != '/':
    json.encoder.ESCAPE_DCT['/'] = '/'
<END>
<QUE>
need help optimizing a geo algorithm using a map() operation, lists, floats and some validation
<ANS>
approved_rides = [ride for ride in initial_rides if any(
          (lat_min < step.latitude< lat_max and \
           lng_min< step.longitude< lng_max) for step in ride.route.steps.all())]
<END>
<QUE>
Setting a value to a dictionary's dictionary value
<ANS>
mydict = dict((key, {}) for key in keylist)
<END>
<QUE>
Normalize sub array lengths in a numpy array to do math on them
<ANS>
peaks_np = array([s.max() for s in segments])
<END>
<QUE>
Plotting 3D Polygons in python-matplotlib
<ANS>
from mpl_toolkits.mplot3d import Axes3D
from mpl_toolkits.mplot3d.art3d import Poly3DCollection
import matplotlib.pyplot as plt
fig = plt.figure()
ax = Axes3D(fig)
x = [0,1,1,0]
y = [0,0,1,1]
z = [0,1,0,1]
verts = [zip(x, y,z)]
ax.add_collection3d(Poly3DCollection(verts))
plt.show()
<END>
<QUE>
Python string trimming
<ANS>
import re

s = "5+5.[)]1"
s = re.search("\d+\+\d+", s).group()
print(s) # 5+5
<END>
<QUE>
How to substitute values in a MAP to string template in Python
<ANS>
values = {'what': 'surreal', 'punctuation': 'is'}
template=" Hello, {what} world {punctuation} One of Python least-used functions is "
t = template.format(**values)
print(t)
# Hello, surreal world is One of Python least-used functions is
<END>
<QUE>
Finding a line in a file then reading next few lines in Python
<ANS>
with open('rooms') as f:
    chunks = f.read().split('

')

people_by_id = {}

for chunk in chunks:
    data = dict(row.split('=', 1) for row in chunk.split('
'))
    people_by_id[data['id']] = data
    del data['id']

def get_person_by_id(id):
    return people_by_id.get(id)
<END>
<QUE>
Toggle low state won't be sent to python cgi
<ANS>
form.getvalue('toggle-event')
<END>
<QUE>
Extract data from tsv file python
<ANS>
with open('/tmp/test.tsv') as infile, open('/tmp/test2.tsv', 'w') as outfile:
    for line in infile:
        tsplit = line.split("\t")
        firstcolumns = tsplit[:-1]
        lastitems = tsplit[-1].strip().split(";")
        for item in lastitems:
            allcolumns = firstcolumns + item.split("=")
            outfile.write("\t".join(allcolumns) + "
")
<END>
<QUE>
How do I create a data structure that will be serialized this JSON format in python?
<ANS>
from collections import defaultdict
import json

d = defaultdict(dict)
for date in dates:
    d[date.year][date.month] = info_for_date(date)
json.dumps(d)
<END>
<QUE>
Python PyQt QFileSystemModel Root Path
<ANS>
view.setRootIndex(model.index("C:\Myfolder"))
<END>
<QUE>
loglog plots with inverted x_axis in python
<ANS>
fig = plt.figure()
ax = fig.add_axes()
ax.invert_xaxis()
<END>
<QUE>
Python: How to find scrambled words in a wordlist
<ANS>
random.shuffle()
<END>
<QUE>
maya python print state of checkbox?
<ANS>
def GetSelectedNodes(self,*args):
    cal = cmds.checkBox(self.xAxis,q = True, v = True)
    print cal
<END>
<QUE>
Equivalent of __func__ (from C) in Python
<ANS>
import sys

def foobar():
    print sys._getframe().f_code.co_name
<END>
<QUE>
How to center a tkinter widget in a sticky frame
<ANS>
self.root.grid_columnconfigure(0, weight=1)
self.root.grid_rowconfigure(0, weight=1)
self.contentFrame.grid_columnconfigure(0, weight=1)
self.contentFrame.grid_rowconfigure(0, weight=1)
self.topBar.grid_columnconfigure(0, weight=1)
self.topBar.grid_rowconfigure(0, weight=1)
<END>
<QUE>
Difficulties with the % Operator in Python
<ANS>
print("%s %s" % (hello, myvar))
<END>
<QUE>
How do I get the key value of a db.ReferenceProperty without a database hit?
<ANS>
class Comment(db.Model):
    series = db.ReferenceProperty(reference_class=Series);

    def series_id(self):
        return Comment.series.get_value_for_datastore(self)
<END>
<QUE>
how to issue a "show dbs" from pymongo
<ANS>
from pymongo import MongoClient
# Assuming youre running mongod on 'localhost' with port 27017
c = MongoClient('localhost',27017)
c.database_names()
<END>
<QUE>
fitdistr in rpy2
<ANS>
from rpy2.robjects.packages import importr

MASS = importr('MASS')

# the function is now at MASS.fitdistr
<END>
<QUE>
Python: pair a single element with every element in a list
<ANS>
myList = ['a','b','c']
myStr = 'z'
res = [[myStr, x] for x in myList]
<END>
<QUE>
Model boolean variables in Python
<ANS>
class myBool():
    def __init__(self, val):
        self.value = val

    def __repr__(self):
        return self.value

    def __invert__(self):
        if self.value == 'A':
            return 'B'
        else:
            return 'A'

def main():
    a = myBool('A')
    print(a)
    print(~a)

if __name__ == '__main__':
    main()
<END>
<QUE>
Python - Unable to Edit Table Contents in Microsoft Word using win32com
<ANS>
doc.Tables(1).Rows(1).Delete()
<END>
<QUE>
Color in red diffrencies between two pictures
<ANS>
from PIL import Image
from PIL import ImageChops

a = Image.open("pict1.jpg")
b = Image.open("pict2.jpg")
diff = ImageChops.difference (a, b)
RED = ('red')
RL = Image.new('RGB', diff.size, RED) # Make a red layer the same size
RedDiff = ImageChops.multiply(RL, diff)
Result = ImageChops.blend(RedDiff, b, 0.7)
Result.show()
<END>
<QUE>
Filtering Django admin changelist to show specific rows based on the logged-in user
<ANS>
class TourAdmin(admin.ModelAdmin):
   def queryset(self, request):
      qs = super(TourAdmin, self).queryset(request)
      if request.user.is_superuser:
            return qs
      return qs.filter(ActionUserCode=request.user)
admin.site.register(Tour,TourAdmin)
<END>
<QUE>
Django Model: How to use mixin class to override django model for function likes save
<ANS>
super(SyncableMixin, self).save(*args, **kwargs)
<END>
<QUE>
How to serve file with cherrypy and delete the file from server?
<ANS>
result = serve_fileobj(RETURN_FILE,disposition='attachment',
                         content_type='.txt',name=filename)
os.unlink(filename)
return result
<END>
<QUE>
How to remove all of the data in a table using django
<ANS>
def delete_everything(self):
    Reporter.objects.all().delete()

def drop_table(self):
    cursor = connection.cursor()
    table_name = self.model._meta.db_table
    sql = "DROP TABLE %s;" % (table_name, )
    cursor.execute(sql)
<END>
<QUE>
Scipy - Executing part of function only when function input values change
<ANS>
(mE, a)
<END>
<QUE>
Custom Matplotlib ColorBar for Scatterplot
<ANS>
cmap = matplotlib.colors.ListedColormap(['green', 'blue', 'red'])
bounds=[0,125,200,400]
cax = inset_axes(ax3, width="8%", height='70%', loc=4)
cbar = matplotlib.colorbar.ColorbarBase(cax, cmap=cmap, boundaries=bounds)
cax.yaxis.set_ticks_position('left')
cbar.ax.set_yticklabels(['0', '125', '200', '200+'])
cax.yaxis.set_label_position('left')
cbar.set_label('Income (,000s)')
<END>
<QUE>
DBSCAN in Python: Unexpected result
<ANS>
metric="precomputed"
<END>
<QUE>
How does one handle zero datetime in python pandas?
<ANS>
pd.to_datetime(data['Deadline Time'], coerce=True)
<END>
<QUE>
register function for all urls in flask
<ANS>
def adminhome():
    row1 =''
    try:
        db = connect_db()
        rows=g.db.query("SELECT * FROM `auth_user` order by id DESC ")
        rows1 = list(rows)
        data=''
        if len(rows1) > 0:
            users = rows1
        #close_db(db)
    except Exception as e:
        users = e
    return users

@app.context_processor
def inject():
    return dict(adminhome=adminhome)
<END>
<QUE>
How to extract vector from 3d numpy array?
<ANS>
stackOfImages = np.array((image1, image2)) #iterate over these if many more
redData = stackOfImages[:, N-1, M-1]
<END>
<QUE>
Django equivalent for count and group by
<ANS>
query_set = Item.objects.extra(select={'count': 'count(1)'}, 
                               order_by=['-count']).values('count', 'category')
query_set.query.group_by = ['category_id']
<END>
<QUE>
Getting a Caught NoReverseMatch error in django
<ANS>
urlpatterns = patterns('tiptop.views',
    (r'^(\d+)/(\d*)$', 'test_items'),
)
<END>
<QUE>
Retrive data where date and time are more than tomorrow
<ANS>
import datetime

tomorrow = datetime.datetime.today()+datetime.timedelta(days=1) 

upcoming_obj = Events.objects.filter(start_date__gt = tomorrow)
<END>
<QUE>
How can I re-order the values of a dictionary in python?
<ANS>
dict = { 'a': [ "hello", "hey", "hi" ] }
<END>
<QUE>
Python text into dictionary
<ANS>
dictionary = {}
with open('filename') as f:
    for line in f:
        dictionary[line[0]] = line[1]
<END>
<QUE>
Call method from string
<ANS>
getattr(CallMe, variable)()
<END>
<QUE>
Best practices for caching front page queries for Google App Engine (GAE)
<ANS>
class Foo(ndb.Model):
  CACHE_KEY = 'bla_cache'
  bla = ndb.StringProperty()

  @clasmethod
  def build_page(cls):
    result = memcache.get(CACHE_KEY)
    if result is None:
      result = cls.query().fetch(100)
    return result

  def _post_put_hook(self, future):
    memcache.delete(CACHE_KEY)
<END>
<QUE>
Fixing axes ranges in pyplot subplots
<ANS>
import matplotlib.pyplot as plt
from numpy import *
xx = arange(0,700,30)
tt = arange(0,100,5)
U = outer(xx,tt)
V = outer(xx**(1/2),tt/4)
plt.subplot(121)
plt.pcolor(tt,xx,U)
plt.colorbar()
#plt.axes([0,600,0,100])

plt.xlim(0,100)
plt.ylim(0,600)

plt.subplot(122)
plt.pcolor(tt,xx,V)
plt.colorbar()

plt.show()
<END>
<QUE>
Python: read all files from directory
<ANS>
data = {}

for dir_item in os.listdir(path):
    dir_item_path = os.path.join(path, dir_item)
    if os.path.isfile(dir_item_path):
        with open(dir_item_path, 'r') as f:
            data[dir_item] = f.read()
            for part in data[dir_item].split():
                if part.startswith('color='):
                    print part[6:]
<END>
<QUE>
How do I get integers from a tuple in Python?
<ANS>
int1, int2 = tuple
<END>
<QUE>
Extracting specific values from .npy file
<ANS>
data = np.load(filename, mmap_mode='r')
<END>
<QUE>
Using a SQLAlchemy session from a separate python file
<ANS>
from main import Session, User
<END>
<QUE>
Python: interpolate matrix for figure
<ANS>
from scipy.ndimage.interpolation import zoom

plt.pcolor(R,cmap='RdBu')
plt.show()

R2 = zoom(R,2)
plt.pcolor(R2,cmap='RdBu')
plt.show()

R5 = zoom(R,5)
plt.pcolor(R5,cmap='RdBu')
plt.show()

R10 = zoom(R,10)
plt.pcolor(R10,cmap='RdBu')
plt.show()
<END>
<QUE>
Is a mutex really necessary in this piece of code?
<ANS>
def increment(self, seconds):
    with self._mutex:
        self._countdownInSec += seconds
<END>
<QUE>
Write UTF-8 strings to file with pprint
<ANS>
MyPrettyPrinter(stream=f).pprint(d)
<END>
<QUE>
Create a single face in VPython?
<ANS>
from visual import *

scene.title = "Faces example"
scene.width = 600
scene.height = 400

f = frame()
tri = faces(
    pos = [
        [0.,0.,0.], [1.,0.,0.], [0.,1.,0.],   # first tri - vertices
        [0.,0.,0.], [-1.,0.,0.], [0.,-1.,0.]  # second tri - vertices
    ],
    color = [
        [1.,0.,0.], [0.5,0.5,0.], [0.,1.,0.], # first tri - colors
        [0.,0.,1.], [0.,0.5,0.5], [0.,1.,0.]  # second tri - colors
    ],
    frame = f
)

tri.make_normals()
tri.make_twosided()

while True:
    rate(100)
    f.rotate(angle=0.01)
<END>
<QUE>
Creating an Instance of a Class with a variable in Python
<ANS>
class Foo(object):
    pass

class Bar(object):
    pass

dispatch_dict = {"Foo": Foo, "Bar": Bar}
dispatch_dict["Foo"]() # returns an instance of Foo
<END>
<QUE>
Python - while a long-running loop is going, how to have a thread periodically "do something" in the same scope?
<ANS>
import thread, time

def takes_a_while():

    def print_status():
        while True:
            print i   # print current i every two seconds
            time.sleep(2)

    status_thread = thread.start_new_thread(print_status, ())
    for i in xrange(10000000):
        print '*',
        time.sleep(0.1)
    status_thread.exit()

takes_a_while()
<END>
<QUE>
How to parse ini files and choose appropriate function with python
<ANS>
import ConfigParser

config = ConfigParser.ConfigParser()
config.read('conf.ini')

try:
    val = config.get('section1', 'var1')
except:
    sys.exit(1)

print val
<END>
<QUE>
Fading Text in Python Turtle
<ANS>
import turtle

turtle.colormode(255)

for i in range(0,255,15):
    turtle.pencolor(i,i,i)
    turtle.write("Hello")
    turtle.delay(100)
<END>
<QUE>
Print the first two rows of a csv file to a standard output
<ANS>
#!/usr/bin/env python
import csv
afile = open('<directory>/*.csv', 'r+')
csvReader1 = csv.reader(afile)
for i in range(2):
    print csvReader1.next()
<END>
<QUE>
using unix timestamp generate timedelta for babel's format_timedelta
<ANS>
import datetime

td = datetime.timedelta(seconds=time.time()-a_unix_timestamp)
<END>
<QUE>
How to read users input when in loop (and without blocking work in this loop)?
<ANS>
import threading
import time

value = 3

def process():
    while True:
        print(value)
        time.sleep(1)

thread = threading.Thread(target=process)
thread.start()

while True:
    value = input('Enter value: ')
<END>
<QUE>
Python, print names and values of all bound variables
<ANS>
from pprint import pprint

def getCurrentVariableState():
    pprint(locals())
    pprint(globals())
<END>
<QUE>
Writing a set plus a formatted string to a CSV?
<ANS>
import csv
testSet = set(['thissucks.in', 'whateverlife.in', 'crapface.in', 'lasttry.in'])
with open('mag.csv', 'ab+') as f:
    writer = csv.writer(f ,dialect= 'excel', delimiter= ',')
    for domain in testSet:
        writer.writerow([domain, '', 'Related'] )
<END>
<QUE>
Process the data after using str.split
<ANS>
foo,bar,baz,qux
<END>
<QUE>
python modify Tkinter.Listbox parameter
<ANS>
from Tkinter import *
master = Tk()
listbox = Listbox(master, selectbackground="red")
<END>
<QUE>
Multiple parameters for the __contains__ function
<ANS>
list1 = [0,1,4,8,87,6,4,7,5,'a','f','er','fa','vz']
tuple1 = (8,5,'f')

def my_contains(first, second):
    return bool(set(first).intersection(second))

my_contains(list1, tuple1) # True
my_contains(list1, [1]) # True
my_contains(list1, (125,178,999)) # False
<END>
<QUE>
Regex for string matching with special escaping rule
<ANS>
regex = re.compile(r'"(?:[^"]|"")*"')
<END>
<QUE>
How to deal with "None" DB values in Django queries
<ANS>
query = Q()
for search in (prefs.address1, prefs.address2):
    if search:
        query |= Q(title__icontains=search)
results = Stores.objects.filter(query)
<END>
<QUE>
Program that simulates rolling a dice, and tells you how many times you roll each number
<ANS>
dice=random.randint(1,7)
<END>
<QUE>
Accessing module installed on Pythonanywhere in Web2py
<ANS>
import sys
sys.path.append('/home/markstadt/.local/lib/python/site-packages')
import soundcloud
<END>
<QUE>
Changing axis options for Polar Plots in Matplotlib/Python
<ANS>
#!usr/bin/env python
import matplotlib.pyplot as plt
import numpy as np

x = np.arange(-180.0,190.0,10)
theta = (np.pi/180.0 )*x    # in radians

offset = 2.0

R1 = [-0.358,-0.483,-0.479,-0.346,-0.121,0.137,0.358,0.483,0.479,0.346,0.121,\
-0.137,-0.358,-0.483,-0.479,-0.346,-0.121,0.137,0.358,0.483,0.479,0.346,0.121,\
-0.137,-0.358,-0.483,-0.479,-0.346,-0.121,0.137,0.358,0.483,0.479,0.346,0.121,\
-0.137,-0.358]

fig1 = plt.figure()
ax1 = fig1.add_axes([0.1,0.1,0.8,0.8],polar=True)
ax1.set_ylim(-2,2)
ax1.set_yticks(np.arange(-2,2,0.5))
ax1.plot(theta,R1,lw=2.5)
<END>
<QUE>
Converting \x00 with a space
<ANS>
content = b'cmd\x00arg1\x00arg2\x00'
print(content.replace("\x00", " "))
<END>
<QUE>
ImportError: No module named b - Python
<ANS>
__init__.py
<END>
<QUE>
Change the color of text in python shell?
<ANS>
print " "+ "\033[01;41m" + " " +"\033[01;46m" + " " + "\033[01;42m"
<END>
<QUE>
Python, handling session in CGI
<ANS>
if not 'seen' in session.data:
    # new session, set a flag
    session.data['seen'] = True
<END>
<QUE>
Anyone benchmarked virtual machine performance for build servers?
<ANS>
(await-svctim)/await*100
<END>
<QUE>
Python & Pygame: Updating all elements in a list under a loop during iteration
<ANS>
for circle in circles[:]:
    circle.update()
<END>
<QUE>
Kivy - How to make an object accessible from both Kv Language child widgets and Python widget's classes?
<ANS>
class MyLayout(BoxLayout):
    def getPerson1Name(self):
        return App.get_running_app().person2.getName()
<END>
<QUE>
From spreadsheet to dictionary in ipython/python & more?
<ANS>
import subprocess # This is how we're going to call the commands.

samples = {} # Empty dict
with open('inputfile','r') as f:
    for line in f:
        # Extract sampleID, other things depending on file format...

        samples[sampleID] = [rgid, rglb, grpl, rgpu, rgsm] # Populate dict

for sampleID in samples:
    rgid, rglb, grpl, rgpu, rgsm = samples[sampleID]

    # Now you can run your commands using the subprocess module.
    # Remember to add a change based on sampleID if e.g. the IO files differ.
    subprocess.call(['picard-tools', 'AddOrReplaceReadGroups', 'I=input.bam', 
        'O=output.bam', 'RGID=%s' % rgid, 'RGLB=%s' % rglb, 'RGPL=%s' %rgpl,
        'RGPU=%s' % rgpu, 'RGSM=%s' % rgsm, 'VALIDATION_STRINGENCY=SILENT', 
        'SORT_ORDER=coordinate', 'CREATE_INDEX=true'])
<END>
<QUE>
Writing date format using xlwt
<ANS>
from datetime import datetime

date_format = XFStyle()
date_format.num_format_str = 'dd/MM/yyyy'
plan.write(1, 4, datetime.strptime("01/01/2014", "%d/%M/%Y"), date_format)
<END>
<QUE>
Getting a better answer from sympy inverse laplace transform
<ANS>
from sympy import *
s = symbols("s")
t = symbols("t", positive=True)
h = 1/(s**3 + s**2/5 + s)
inverse_laplace_transform(h,s,t).evalf().simplify()
<END>
<QUE>
If column A repeats, sum column 2
<ANS>
A1 = [1, 2, 3, 3, 4, 4, 4]
B1 = [1, 2, 3, 4, 5, 6, 7]
A2 = []
B2 = []

for i in range(len(A1)):
    if A1[i] != A1[i + 1]:
        A2.append(A1[i])
        B2.append(B1[i])
    else:
        j = i + 1
        sum = B1[i]
        while j < len(A1) and A1[i] == A1[j]:
            sum += B1[j]
            del A1[j]
            del B1[j]
        A2.append(A1[i])
        B2.append(sum)
        if j >= len(A1):
            break

print A2
print B2
<END>
<QUE>
MongoEngine ListField within a EmbeddedDocument throws TypeError on validation
<ANS>
class Features(EmbeddedDocument):
    version = FloatField()
    data = ListField(StringField())
<END>
<QUE>
Google Python Image Library - How to resize an image based on its width?
<ANS>
images.resize(data, width=188)
<END>
<QUE>
Enable to use django-extensions with pygraphviz
<ANS>
python-pygraphviz
<END>
<QUE>
Python Increment a number in a function called with multiprocessing.pool.map()
<ANS>
import time
from multiprocessing import Pool, Value, Lock
import decimal
import random

number = Value('i', 0)
lock = Lock()
lists = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h','i', 'j', 'k']

def thefunction(listi):
    time.sleep(decimal.Decimal(random.random()))
    with lock:
        number.value += 1
        print time.strftime('%H:%M:%S'), number.value, listi

def initializer(*args):
    global number, lock
    number, lock = args

pool = Pool(4, initializer, (number, lock))
pool.map(thefunction, lists)
print number.value
<END>
<QUE>
python return ydata from matplotlib click
<ANS>
import matplotlib.pyplot as plt
import numpy as np
fig = plt.figure()
ax = fig.add_subplot(111)
ax.plot(np.random.rand(10))

retval = -1
def onclick(event):
    print 'button=%d, x=%d, y=%d, xdata=%f, ydata=%f'%(event.button, event.x, event.y, event.xdata, event.ydata)
    # Record the x location of the user's click in the global variable and close the figure
    global retval
    retval = event.xdata
    plt.close()

cid = fig.canvas.mpl_connect('button_press_event', onclick)
# Bring up the figure (and wait)
plt.show()

print 'User selected point {0}'.format( retval )
<END>
<QUE>
How should I format a long url in a python comment and still be PEP8 compliant
<ANS>
# A Foolish Consistency is the Hobgoblin of Little Minds [1]
# [1]: http://www.python.org/dev/peps/pep-0008/#a-foolish-consistency-is-the-hobgoblin-of-little-minds
<END>
<QUE>
ArcPy Mapping: batch symbolizing layers and exporting each as a JPEG (ArcGIS 10.2)
<ANS>
ListLayers (map_document_or_layer, {wildcard}, {data_frame})
<END>
<QUE>
python function with optional arguments
<ANS>
obj.some_function( '1', 2, '3', g="foo", h="bar" )
<END>
<QUE>
Tokenizing with different delimiters
<ANS>
with open("Input.txt") as inFile:
    for item in inFile:
        datePart, holiday = item.split(", ", 1)
        month, day = datePart.split()
<END>
<QUE>
Python- Read from Multiple Files
<ANS>
import glob
results = [open(f) for f in glob.glob("*.data")]
sep = ","
# Uncomment if your Excel formats decimal numbers like 3,14 instead of 3.14
# sep = ";"

with open("res.csv", 'w') as fout:
    for row in range(21):
        iterator = (f.readline().strip().replace("\t", sep) for f in results)
        line = sep.join(iterator)
        fout.write("{0}
".format(line))
<END>
<QUE>
Python Imports From The Directory Above
<ANS>
import sys
sys.path.append('/your/dir/goes/here')
from base import foo
<END>
<QUE>
Python - How to read file one character at a time?
<ANS>
f = open('test.dat', 'r')
while True:
    ch=f.read(1)
    if not ch: break
    print ch
<END>
<QUE>
Removing item from dictionary of lists
<ANS>
edge_list = []
delete_these = []
for point, edges in edges_per_point.items():
    edge_list.append(edges.pop(0))
    if edges:
        edges_per_point[point] = edges
    else:
        delete_these.append(point)

for point in delete_these:
    del edges_per_point[point]
<END>
<QUE>
Deleting multiple elements from a list
<ANS>
indices = 0, 2
somelist = [i for j, i in enumerate(somelist) if j not in indices]
<END>
<QUE>
how to remove the unecessay straight line in the plot?
<ANS>
mask = freq>=0
pl.plot(freq[mask]*2*np.pi, np.sqrt(sp[mask].real**2+sp[mask].imag**2))
pl.plot(freq[~mask]*2*np.pi, np.sqrt(sp[~mask].real**2+sp[~mask].imag**2))
<END>
<QUE>
NetworkX - Plot Graphs without labels
<ANS>
nx.draw_networkx(G,with_labels=False)
<END>
<QUE>
How can I use UUIDs in SQLAlchemy?
<ANS>
import sqlalchemy.types as types

class UUID(types.TypeEngine):
    def get_col_spec(self):
        return "uuid"

    def bind_processor(self, dialect):
        def process(value):
            return value
        return process

    def result_processor(self, dialect):
        def process(value):
            return value
        return process

table = Table('foo', meta,
    Column('id', UUID(), primary_key=True),
)
<END>
<QUE>
String to Dictionary Python
<ANS>
x='iamonlywhoknock BREAKINGBAD
'.split(" ")
mydict={x[0]:x[1]}
<END>
<QUE>
How can I dump a MySQL database without using mysqldump in Python
<ANS>
import MySQLdb
import os
import datetime

con = MySQLdb.connect(host='localhost', user='root', passwd='password', db='test')
cur = con.cursor()

cur.execute("SHOW TABLES")
data = ""
tables = []
for table in cur.fetchall():
    tables.append(table[0])

for table in tables:
    data += "DROP TABLE IF EXISTS `" + str(table) + "`;"

    cur.execute("SHOW CREATE TABLE `" + str(table) + "`;")
    data += "
" + str(cur.fetchone()[1]) + ";

"

    cur.execute("SELECT * FROM `" + str(table) + "`;")
    for row in cur.fetchall():
        data += "INSERT INTO `" + str(table) + "` VALUES("
        first = True
        for field in row:
            if not first:
                data += ', '
            data += '"' + str(field) + '"'
            first = False


        data += ");
"
    data += "

"

now = datetime.datetime.now()
filename = str(os.getenv("HOME")) + "/backup_" + now.strftime("%Y-%m-%d_%H:%M") + ".sql"

FILE = open(filename,"w")
FILE.writelines(data)
FILE.close()
<END>
<QUE>
Remove <br> tags from a parsed Beautiful Soup list?
<ANS>
for e in soup.findAll('br'):
    e.extract()
<END>
<QUE>
How to filter based on two columns where one column may not be defined using SQLAlchemy?
<ANS>
from sqlalchemy import and_, or_

db.query(ShippingRate).filter(or_( \
    and_(ShippingRate.minimum == None, ShippingRate.maximum == None), \
    and_(ShippingRate.minimum != None, ShippingRate.maximum != None,  literal(myVal).between(ShippingRate.minimum, ShippingRate.maximum)), \
    and_(ShippingRate.minimum == None, myVal < ShippingRate.maximum), \
    and_(ShippingRate.maximum == None, myVal > ShippingRate.minimum)))
<END>
<QUE>
Python, how to code a read statement onto multiple lines?
<ANS>
mylist = re.findall(r'''(?x)                    # verbose mode
                        <span\ info=".+</span>| # allows you to comment the regex
                        Name:\ .+<br>|          # for even better readability
                        <span\ id="Phone"\ info="phonenumber">.+</span>''', file)
<END>
<QUE>
How to provision an EC2 Server programmatically and configure default settings
<ANS>
#cloud-config
<END>
<QUE>
Trying to append items to a list in python but its acting odd
<ANS>
class Event:
    def __init__(self, name):
        self.name = name
        self.people = []
<END>
<QUE>
Navigating to next page using beautiful soup
<ANS>
from Bio import Entrez, Medline

# Always tell NCBI who you are  
Entrez.email = "your_address@example.com"  

term="((oncology) AND breast cancer) AND resulted in"

handle = Entrez.esearch(db="pubmed", retmax=10, term=term)
record = Entrez.read(handle)

print record['Count']  # see how many hits in your search

for ref in record['IdList']:
    handle = Entrez.efetch(db="pubmed", id=ref, 
                           rettype="Medline", 
                           retmode="text")
    paper = Medline.read(handle)
    # Medline returns a dict from which we can extract the 
    # fields we desire
    print '-' * 30
    print paper['TI']
    print
    print paper['AB']
<END>
<QUE>
How can I extract a wrapped C++ type from a Python type using boost::python?
<ANS>
pModule = PyImport_Import(PyString_FromString("cpp_interface"));
<END>
<QUE>
How to create an in-memory zip file with directories without touching the disk?
<ANS>
from zipfile import ZipFile
from StringIO import StringIO

inMemoryOutputFile = StringIO()

zipFile = ZipFile(inMemoryOutputFile, 'w') 
zipFile.writestr('OEBPS/content.xhtml', 'hello world')
zipFile.close()

inMemoryOutputFile.seek(0)
<END>
<QUE>
How to search multiple files for textblocks and write those textblocks to another file
<ANS>
import os, re
path = 'C:/Temp/Folder1/allTexts'
listing = os.listdir(path)
for infile in listing:
    text = open(path + '/' + infile).read()
    match = re.search('<div id="text-interesting1">', text)
    if match is None:
        continue
    start = match.start()
    end = re.search('<div id="text-interesting2">', text).start()
    print text[start:end]
<END>
<QUE>
Combine two pandas dataframes with the same index
<ANS>
pandas.concat([df1, df2], axis=1)
<END>
<QUE>
Clicking visible close button inside a dialog
<ANS>
from selenium import webdriver
from selenium.webdriver.support.ui import WebDriverWait

driver = webdriver.Firefox()
driver.get("http://www.saksoff5th.com/")

driver.implicitly_wait(10) # seconds

driver.find_element_by_css_selector(".sign-in > span").click()
driver.find_element_by_css_selector(".ui-dialog[style*='display: block'] .ui-icon-closethick").click()

# If you prefer explicit wait, you can do these
# WebDriverWait(driver, 10).until(lambda driver: driver.find_element_by_css_selector(".sign-in > span")).click()
# WebDriverWait(driver, 10).until(lambda driver: driver.find_element_by_css_selector(".ui-dialog[style*='display: block'] .ui-icon-closethick")).click()
<END>
<QUE>
use text from textField for naming - maya python
<ANS>
def blendShape(self, *args):

    blendshape_name = cmds.textField(self.widgets['bs'],  q=True, text=True)
    cmds.blendShape(cmds.ls(sl=True)[1], cmds.ls(sl=True)[0], frontOfChain=True, n=blendshape_name)
<END>
<QUE>
extract code from code directive from restructuredtext using docutils
<ANS>
def is_code_block(node):
    return (node.tagname == 'literal_block'
            and 'code' in node.attributes['classes'])

code_blocks = doctree.traverse(condition=is_code_block)
source_code = [block.astext() for block in code_blocks]
<END>
<QUE>
Printing a dictionary using .format in python
<ANS>
for k in sorted(d, key=d.get, reverse=True):
    print("{:>10}{:>20}".format(k, d[k]))
<END>
<QUE>
Replacements for switch statement in Python?
<ANS>
def f(x):
    return {
        'a': 1,
        'b': 2,
    }[x]
<END>
<QUE>
min heap in python
<ANS>
def gen_wrapper(cmp):
    class Wrapper(object):
        def __init__(self, value): self.value = value
        def __cmp__(self, obj): return cmp(self.value, obj.value)
    return Wrapper
<END>
<QUE>
how to create transaction without plan in braintree js+python?(whiteout subscription)
<ANS>
result = braintree.Transaction.sale({
    "amount": "10.00",
    "payment_method_token": the_token,
    "options": {
        "submit_for_settlement": True
    }
})
<END>
<QUE>
Unable to open a URL link with using urllib2 in chrome
<ANS>
url = 'http://www.klse.info/companies/listed-companies/alphabet/A'
req = urllib2.Request(url, headers={'User-Agent' : "Magic Browser"}) 
page = urllib2.urlopen(req).read()
<END>
<QUE>
How to apply pyqtgraph.mkPen() to a GridItem?
<ANS>
GridItem.setPen()
<END>
<QUE>
Python - sending http requests as strings
<ANS>
import http.client
connection = http.client.HTTPConnection('www.python.org')

connection.request('GET', '/')
response = connection.getresponse()
print(response.status)
print(response.msg)
answer = response.read()
print(answer)
<END>
<QUE>
How to keep the most recent values and delete all other others in a column (pandas)
<ANS>
import pandas as pd
import numpy as np

# load your data

data['Time'] = pd.to_datetime(data['Time'])

list_of_indexes = [np.argmin(g['Time']) for l, g in data.groupby('ID Name')]
data.ix[list_of_indexes]
<END>
<QUE>
Accessing the default argument values in Python
<ANS>
test.func_defaults
<END>
<QUE>
Django app under mod_wsgi - how to not consume url
<ANS>
WSGIScriptAlias /A /path/to/my/wsgi.py/A
WSGIScriptAlias /B /path/to/my/wsgi.py/B
<END>
<QUE>
Python- Compute the sum of numerical characters of every string in a dataframe
<ANS>
df = {'dname':["123ask", "example92" , "what3ver"]}
df['numeric'] = [sum (x.isdigit()  for x in b) for b in df['dname']]
print df['numeric']
#>>> [3, 2, 1]
<END>
<QUE>
gtk python expanding content to fit window
<ANS>
# FRAME 1 ##########################################################
self.frame1 = gtk.Frame()
self.contentTable.attach(self.frame1, 0, 1, 0, 1,
gtk.FILL | gtk.EXPAND, gtk.EXPAND | gtk.SHRINK | gtk.FILL, 0, 0)
<END>
<QUE>
Python: Joining files in a list
<ANS>
with open("input1.txt") as f, open("input2.txt") as f2,open("output.txt","w") as f3:
    f2.next() # skip header to avoid writing  A B C twice
    for line in f:
        f3.write(line)
    f3.write("
") # separate last line from file 1 and first of file 2
    for line in f2:
        f3.write(line)
<END>
<QUE>
How do I create a list of all occurances of a string which ends with a specific file type found in a text file?
<ANS>
re.findall('"([^"]*\.(?:gif|jpg)[^"]*)"', text)
<END>
<QUE>
How to delete a list parameters but not the contents?
<ANS>
data = data[0]
<END>
<QUE>
PyQt4 - signals and slots. Trouble connecting button to a method
<ANS>
import sys
from PyQt4 import QtGui, QtCore

class CompiledWindow(QtGui.QWidget):
    def __init__(self, parent = None):
        QtGui.QWidget.__init__(self, parent)
        self.setWindowTitle('Reasonably named window')
        names = ['Open Logo Picture', 'Open Setup Picture', 'Open first data file', 'Open second data file', 'Enter text about settings', 'Enter other text about settings', 'Enter third setting', 'Enter fourth setting']
        grid = QtGui.QGridLayout(self)
        self.Logo_button = QtGui.QPushButton(names[0], self)
        self.Logo_button.clicked.connect(self.logo_pic)
        grid.addWidget(self.Logo_button, 0, 0)

    def logo_pic(self):
        self.Logo_picture = unicode(QtGui.QFileDialog.getOpenFileName())
        print(self.Logo_picture)

app = QtGui.QApplication(sys.argv)
cw = CompiledWindow()
cw.show()
sys.exit(app.exec_())
<END>
<QUE>
Hashing same character multiple times
<ANS>
import re, sys, md5

def p(s, pos, callBack):
  while pos < len(s):
    m = re.match(r'(d+)[', s[pos:])
    if m:  # repetition?
      number = m.group(1)
      for i in range(int(number)):
        endPos = p(s, pos+len(number)+1, callBack)
      pos = endPos
    elif s[pos] == ']':
      return pos + 1
    else:
      callBack(s[pos])
      pos += 1
  return pos + 1

digest = md5.new()
def feed(s):
  digest.update(s)
  sys.stdout.write(s)
  sys.stdout.flush()

end = p(sys.argv[1], 0, feed)
print
print "MD5:", digest.hexdigest()
print "finished parsing input at pos", end
<END>
<QUE>
Use grep on file in Python
<ANS>
import os

Export_Dir = os.path.dirname(Export)
Export_Name = os.path.basename(Export)

Output = Export_Dir + "\Output_" + Export_Name
print "
Output: " + Output + "
"

cmd = grep_loc + " --file=" + Serial_List + " " + Export + " > " + Output
print "grep usage: 
" + cmd + "
"
os.system(cmd)
print "Output created
"
<END>
<QUE>
Area of multiple blobs in a binary image python
<ANS>
hist = cv.CreateHist([255], cv.CV_HIST_ARRAY, [[0,255]], 1)
cv.CalcHist([im] , hist)          
for h in range(255):
    zm = cv.QueryHistValue_1D(hist, h)
    objectArea.append([int(zm)])
<END>
<QUE>
Merge/Join/Append two Pandas DataFrames with MultiIndex columns by both index and cols
<ANS>
DataFrame.update(other, join='left', overwrite=True,
                 filter_func=None, raise_conflict=False)
<END>
<QUE>
Python: How to group dictionaries based on a key value pair
<ANS>
m = [
    {'title': 'Song 1', 'artist': 'Artist 1',
        'Album': 'Album 1', 'Path': 'path 1'},
    {'title': 'Song 2', 'artist': 'Artist 1 Ft 2',
        'Album': 'Album 1', 'Path': 'path 2'},
    {'title': 'Song 3', 'artist': 'Artist 1 Ft 3',
        'Album': 'Album 1', 'Path': 'path 3'}
]

from collections import defaultdict

# Group all the artists, as per the Album name
d = defaultdict(list)
for item in m:
    d[item["Album"]].append(item["artist"])

# Gather paths corresponding to the Albums
p = {item["Album"]: item["Path"] for item in m}

# Recreate a list of all albums with artist names joined
result = []
for album in d:
    result.append({
        "Album" : album,
        "artist": "; ".join(d[album]),
        "Path"  : p[album]
    })

print result
<END>
<QUE>
Dividing values of dictionaries by values of another dictionary python
<ANS>
def divide(dividends, divisors):
    ret = dict()
    for key, dividend in dividends.iteritems():
        if key in divisor:
            ret[key] = dividend/divisors[key]
        else:
            ret[key] = dividend
    return ret
<END>
<QUE>
Easy way to exclude django _state attribute from jsonpickle.encode
<ANS>
def toJSON(self):
    clone = copy.deepcopy(self)
    if getattr(clone.data, '_state', False):
        del clone.data._state
    return jsonpickle.encode(clone, unpicklable=False)
<END>
<QUE>
Gdata python Google apps authentication
<ANS>
import gdata.gauth

Client_id='xxx';
Client_secret='yyy'
Scope='https://spreadsheets.google.com/feeds/'
User_agent='myself'

token = gdata.gauth.OAuth2Token(client_id=Client_id,client_secret=Client_secret,scope=Scope,user_agent=User_agent)
print token.generate_authorize_url(redirect_uri='urn:ietf:wg:oauth:2.0:oob')
code = raw_input('What is the verification code? ').strip()
token.get_access_token(code)
print "Refresh token
"
print token.refresh_token
print "Access Token
"
print token.access_token
<END>
<QUE>
How to make an empty histogram with matplotlib?
<ANS>
if len(data) == 0:
    plt.plot([])
else:
    plt.histogram(data)
<END>
<QUE>
Django Admin: Order by value on related Foreign Key
<ANS>
def queryset(self, request):
        qs = super(ContentAdmin, self).queryset(request)
        return qs.filter(score__name='Twitter').order_by('-score__score')
<END>
<QUE>
How do I assign variables within WMI calls?
<ANS>
wmi_sql = wmi.WMI(SQLServer_raw, user="%s\\%s" % (sql_domain, sql_user), 
    password=sql_pass)
<END>
<QUE>
Python PIL struggles with uncompressed 16-bit TIFF images
<ANS>
import matplotlib.pyplot as plt
img = plt.imread(filename)

# >>> img
# array([[38948, 41457, 37714, ..., 61511, 61785, 61824],
#       [39704, 38083, 36690, ..., 61419, 60086, 61910],
#       [41449, 39169, 38178, ..., 60192, 60969, 63538],
#       ...,
#       [37963, 39531, 40339, ..., 62351, 62646, 61793],
#       [37462, 37409, 38370, ..., 61125, 62497, 59770],
#       [39753, 36905, 38778, ..., 61922, 59565, 60035]], dtype=uint16)
<END>
<QUE>
How to delete element from list in Python?
<ANS>
del a[0][0]
<END>
<QUE>
Change color of cbar legend text python
<ANS>
import matplotlib.pyplot as plt
from numpy.random import randn

# plot something
fig, ax = plt.subplots()
cax = ax.imshow(randn(100,100))

# create the color bar
cbar = fig.colorbar(cax)
cbar.set_label('dBZ', color = "white")

# update the text 
t = cbar.ax.get_yticklabels();
labels = [item.get_text() for item in t]
cbar.ax.set_yticklabels(labels, color = 'white')
plt.show()
<END>
<QUE>
Help with a regular expression - Python
<ANS>
re.sub(r'(?<=abc)\d{1,3}', '456', string)
<END>
<QUE>
How do I create an image in PIL using a list of RGB tuples?
<ANS>
list_of_pixels = list(im.getdata())
# Do something to the pixels...
im2 = Image.new(im.mode, im.size)
im2.putdata(list_of_pixels)
<END>
<QUE>
Finding the average of columns from nested lists in a dictionary's value
<ANS>
d = {'dog': [['4.1', '7.0', 'dog'], ['1.2', '3.4', 'dog']], 'cat': [['1', '8.2', '5.501', 'cat'], ['6.5', '8', '9.1', 'cat']]}

avg_dict = {}
for key in d:
    avg_list = []
    i = 0
    while (i < len(d[key][0]) - 1):
        avg_list.append((float(d[key][0][i]) + float(d[key][1][i])) /2.0)
        i += 1
    avg_dict[key] = avg_list

print(avg_dict)
<END>
<QUE>
How do you define a wrapper function in Fabric?
<ANS>
execute()
<END>
<QUE>
Is there a standard way to list names of Python modules in a package?
<ANS>
import imp
import os
MODULE_EXTENSIONS = ('.py', '.pyc', '.pyo')

def package_contents(package_name):
    file, pathname, description = imp.find_module(package_name)
    if file:
        raise ImportError('Not a package: %r', package_name)
    # Use a set because some may be both source and compiled.
    return set([os.path.splitext(module)[0]
        for module in os.listdir(pathname)
        if module.endswith(MODULE_EXTENSIONS)])
<END>
<QUE>
How to use django-scheduler app in existing app
<ANS>
def save(self, force_insert=False, force_update=False):
    new_task = False
    if not self.id:
        new_task = True
    super(Task, self).save(force_insert, force_update)
    end = self.startDateTime + timedelta(minutes=24*60)
    title = "This is test Task"
    if new_task:
        event = Event(start=self.startDateTime, end=end,title=title,
                  description=self.description)
        event.save()
        rel = EventRelation.objects.create_relation(event, self)
        rel.save()
        try:
            cal = Calendar.objects.get(pk=1)
        except Calendar.DoesNotExist:
            cal = Calendar(name="Community Calendar")
            cal.save()
        cal.events.add(event)
    else:
        event = Event.objects.get_for_object(self)[0]
        event.start = self.startDateTime
        event.end = end
        event.title = title
        event.description = self.description
        event.save()
<END>
<QUE>
Qt/pyQt/PySide - Create document template for printing
<ANS>
from PyQt4 import QtGui
from PyQt4 import QtWebKit

class DisplayHTML(QtWebKit.QWebView):

    def __init__(self, html, parent=None):
        super().__init__(parent)
        self.setHtml(html)

if __name__ == '__main__':
    import sys
    app = QtGui.QApplication(sys.argv)
    html_template = "<html><p>Hello, {first}, how {second} you {third}?</p></html>"
    values_dict = {
        'first': 'Joe',
        'second': 'are',
        'third': 'today',
    }
    html_ready_to_render = html_template.format(**values_dict)
    window = DisplayHTML(html_ready_to_render)
    window.show()
    sys.exit(app.exec_())
<END>
<QUE>
Mongodb data statistics visualization using matplotlib
<ANS>
from dateutil import parser
parse_time = lambda s: parser.parse(s, ignoretz = True)

func_map = """
function() {
    if (this.hasOwnProperty("time"))
        emit(this.time.getUTCFullYear() + "/" + (this.time.getUTCMonth() + 1) + "/" + this.time.getUTCDate(),
        {
            count: 1,
            not_deleted: (1 - this.deleted)
        });
}
"""

func_reduce = """
function(key, values) {
    var result = {count: 0, not_deleted: 0};

    values.forEach(function(value) {
        result.count += value.count;
        result.not_deleted += value.not_deleted;
    });

    return result;
}
"""

with my_mongo() as m:
    result = m.data.inline_map_reduce(func_map, func_reduce)
    dataset = {parse_time(day['_id']): day['value']['not_deleted'] for day in result}
    dataset2 = {parse_time(day['_id']): day['value']['count'] for day in result}
<END>
<QUE>
How to raise a ValidationError AND return a response?
<ANS>
clean()
<END>
<QUE>
how to assign a word table in the center of the page
<ANS>
oWord.Tables[1].Range.ParagraphFormat.Alignment = WdParagraphAlignment.wdAlignParagraphCenter;
<END>
<QUE>
Django Save method needs to update model instance twice
<ANS>
def save(self, *args, **kwargs):
    # save the instance, do this first so that we have an id
    super(MyModelClass, self).save(*args, **kwargs)
    # if it was a new instance fid is not set yet
    if self.id and not self.fid:
        self.fid = encode(self.id)
        # save the instance again now that we've set fid
        super(MyModelClass, self).save(*args, **kwargs)
<END>
<QUE>
Creating a colour bar for a plot made with plt.fill
<ANS>
hid = plt.pcolormesh(X,Y, data, antialiased=True)

#here we cover up the region that we just plotted in
r3 = [1 for i in range(360)]
theta3 = np.arange(360)*np.pi/180.
plt.fill(theta3, r3, 'w')

#now we can go through and fill in all the regions
for j in range(len(r)):
    rbox = np.array([r[j], r[j], r[j]+ rstep, r[j] + rstep])
    for i in range(len(theta)):
        thetabox = np.array([theta[i], theta[i] + tstep, theta[i] + tstep, theta[i]])
        x = rbox*np.cos(thetabox)
        y = rbox*np.sin(thetabox)
        colorv = np.sin(r[j]/10.*np.pi)
        plt.fill(thetabox,rbox, facecolor = my_cmap(colorv))
#And now we can plot the color bar that fits the data Tada :)
plt.colorbar()
plt.show()
<END>
<QUE>
Delete particular string while reading CSV data
<ANS>
import codecs
raw_file=open('Documents/t_alibaba_data.csv', 'r')
result=open('Documents/result.txt','w')
for line in raw_file.readlines():
    entry=line.split(",")
    deco=entry[3].decode("gbk").strip()
    month=deco[0]
    if len(deco)==5:
        day=int(deco[2])*10+int(deco[3])
    else:
        day=int(deco[4])
    result.write(",".join(entry[:3])+","+str(month)+","+str(day)+"
")
result.close()
<END>
<QUE>
filter with more than one value on flask-sqlalchemy
<ANS>
query = Notification.query.filter(Notification.id.in_(my_list)).all()
<END>
<QUE>
How to get selected text with xsel - Python
<ANS>
import os

var = os.popen('xsel').read()
print var
<END>
<QUE>
Preventing edges from crossing nodes in pygraphviz
<ANS>
trial = pgv.AGraph(strict=False, overlap=False, splines='true')
#or   
trial = pgv.AGraph(strict=False, overlap=False, splines='spline')
<END>
<QUE>
changing file name in django
<ANS>
def content_file_name(instance, filename):
    print instance
    print filename
    file = os.path.exists("media/file/"+str(filename))
    print file
    if file:
        os.remove("media/file/"+str(filename))
    return "file/"+str(filename)
<END>
<QUE>
How to create nested lists in python?
<ANS>
numpy.zeros((3,3,3))
<END>
<QUE>
Mongokit add objects to collection
<ANS>
db.online_users.insert(user)
<END>
<QUE>
Generating XML in Python
<ANS>
my_list = ["Value1", "Value2"]
json = simplejson.dumps(my_list)
# send json
<END>
<QUE>
how to get [(1, 2, 3, 4), (5, 6, 7, 8)] in my code using python
<ANS>
[aa+bb for aa,bb in zip(a,b)]
<END>
<QUE>
Inherited class variable modification in Python
<ANS>
class Child(Parent):
    foobar = Parent.foobar + ['world']
<END>
<QUE>
SQLAlchemy: How to group by two fields and filter by date
<ANS>
qry = (session.query(
                table.c.field1,
                table.c.field2,
                # #strftime* for year-month works on sqlite; 
                # @todo: find proper function for mysql (as in the question)
                # Also it is not clear if only MONTH part is enough, so that
                # May-2001 and May-2009 can be joined, or YEAR-MONTH must be used
                func.strftime('%Y-%m', table.c.datestamp),
                func.count(),
                )
        # optionally check only last 2 month data (could have partial months)
        .filter(table.c.datestamp < datetime.date.today() - datetime.timedelta(60))
        .group_by(
                table.c.field1,
                table.c.field2,
                func.strftime('%Y-%m', table.c.datestamp),
                )
        # comment this line out to see all the groups
        .having(func.count()>1)
      )
<END>
<QUE>
Using wxPython to get input from user
<ANS>
import wx

def ask(parent=None, message='', default_value=''):
    dlg = wx.TextEntryDialog(parent, message, defaultValue=default_value)
    dlg.ShowModal()
    result = dlg.GetValue()
    dlg.Destroy()
    return result

# Initialize wx App
app = wx.App()
app.MainLoop()

# Call Dialog
x = ask(message = 'What is your name?')
print 'Your name was', x
<END>
<QUE>
Format number in python with leading zeros and fixed decimal places
<ANS>
num = 0.1423
print '%06.2f' %num
<END>
<QUE>
Python: How to put unknow Multidimentional array in 1D array
<ANS>
def flatten_list(l):
    new_l = []
    for item in l:
        if type(item) == type([]):
            new_l += flatten_list(item)
        else:
            new_l.append(item)
    return new_l
<END>
<QUE>
In Python, how I do use subprocess instead of os.system?
<ANS>
import subprocess
p=subprocess.Popen(args, stdout=subprocess.PIPE)
print p.communicate()[0]
<END>
<QUE>
How to find the center of dots in binary image that is moving
<ANS>
vector<Points> contour
<END>
<QUE>
Python searching list thats inputted by user
<ANS>
numbers = []

while len(numbers) < 5:
    number = raw_input('Please input 5 numbers: ')
    if number.isdigit():
        numbers.append(int(number)) #may want to use float here instead of int
    else:
        print "You entered something that isn't a number"

search = raw_input('Search for the numer: ')
if int(search) in numbers:
    print "Found it!"
<END>
<QUE>
Don't display labels in subplot
<ANS>
import pylab

my_labels = ['food', 'music', 'clothes']

fig = pylab.figure()
fig.text(0.4,0.95,"Consumption by Region")

ax1 = fig.add_subplot(2,2,1)
ax1.pie([1,2,3])
ax1.text(0.6, 1, "North West")

ax2 = fig.add_subplot(2,2,2)
ax2.pie([6,4,3])
ax2.text(0.6, 1, "North East")

ax3 = fig.add_subplot(2,2,3)
ax3.pie([1,4,3])
ax3.text(0.6, 1, "South West")

ax4 = fig.add_subplot(2,2,4)
ax4.pie([9,1,3])
ax4.text(0.6, 1, "South East")

pylab.legend(my_labels, title="Legend", loc=(-1.5,0.9))

pylab.show()
<END>
<QUE>
Convert String In Python to insert into MySQL DB date column date
<ANS>
from dateutil.parser import parse
date = 'Thu, 14 Mar 2013 13:33:07 -0400'
parse(date).strftime("%Y-%m-%d %H:%M:%S")
<END>
<QUE>
Prints on stdout but unable to write to file in Python
<ANS>
for i in hd_com.comment_message[1:500]:
    fl=open('delete.txt','wb')
<END>
<QUE>
Python Repotrlab vertical bar chart spacing inconsistency
<ANS>
chart.data = [(20.5,32.4),(0.01, 0.01)]
<END>
<QUE>
PyQt4 menu acction to add new tab to QTabWidget
<ANS>
import sys
from PyQt4 import QtGui, uic

class TestGUI(QtGui.QMainWindow):
    def __init__(self):
        super(TestGUI, self).__init__()
        uic.loadUi('TEST.ui', self)
        self.actionAdd_Tab.triggered.connect(self.handleAddTab)

    def handleAddTab(self):
        contents = QtGui.QWidget(self.tabWidget)
        layout = QtGui.QVBoxLayout(contents)
        # add other widgets to the contents layout here
        # i.e. layout.addWidget(widget), etc
        self.tabWidget.addTab(contents, 'Tab One')

if __name__ == '__main__':
    app = QtGui.QApplication(sys.argv)
    window = TestGUI()
    window.show()
    sys.exit(app.exec_())
<END>
<QUE>
How to create a class that doesn't re-create an object with identical input parameters
<ANS>
class MyObject( object ):
    def __init__( self, args ):
        pass # Something Expensive

class MyObjectFactory( object ):
    def __init__( self ):
        self.pool = {}
    def makeMyObject( self, args ):
        if args not in self.pool:
            self.pool[args] = MyObject( args )
        return self.pool[args]
<END>
<QUE>
Sharing values between methods
<ANS>
class Projet(object):

    def pathDirectory(self):
        print "- - in pathDirectory - -"
        self.pathDir= str(QFileDialog.getExistingDirectory(ui.pathTab1, 'Select Path','', QFileDialog.ShowDirsOnly))

    def goFunc(self):
        print "- - In goFunc - -"
        print self.pathDir

if __name__ == "__main__":
    p = Projet()
    p.pathDirectory()
    p.goFunc()
<END>
<QUE>
Python scatter plot with colors corresponding to strings
<ANS>
color_dict = { 'Allan':'red', 'Betty':'blue', 'Chris':'black', 'Diane':'green','Eugene':'purple' }

plt.scatter( data['a'], data['b'], color=[ color_dict[i] for i in data['c'] ] )
<END>
<QUE>
Pandas Dataframe - Set Rows Equal to Other Rows
<ANS>
df.loc[5:6,:] = df.loc[3:4,:].values
<END>
<QUE>
Python Kivy ListView: How to delete selected ListItemButton?
<ANS>
def del_task(self, *args):
    if self.task_list.adapter.selection:
        selection = self.task_list.adapter.selection[0].text
        self.task_list.adapter.data.remove(selection)
        self.task_list._trigger_reset_populate()
<END>
<QUE>
Gtk3 replace child widget with another widget
<ANS>
parent.list_child_properties()
Gtk.ContainerClass.list_child_properties(parent)
<END>
<QUE>
Best way to get the todays notifications for each user
<ANS>
today = datetime.today()
def get_data():
    """ @return: [(student, followup), (student, followup), ...] """
    q = (session.query(Student) # get all students
        .outerjoin(Followup, and_(Student.id == Followup.student_id, func.date(Followup.next_date)==today)) # @NOTE: check for today might need to be different depending on the database used. Current code should work for mysql
        .options(contains_eager(Student.followup)) # let SA know that "followup" is loaded (line above)
        .filter(Student.status == "active") # filter only for active students
        )
    res = [(s, s.followup) for s in q.all()]
    return res

data = get_data()

# debug
for s, f in data:
    print s.name
    for _f in f:
        print "  ", _f
<END>
<QUE>
Trying to send email from python
<ANS>
import smtplib
from smtplib import SMTP       

try:
    sender = 'xxx@gmail.com'
    receivers = ['xxx.com']

    message = """ this message sending from python
    for testing purpose
    """
    smtpObj = smtplib.SMTP(host='smtp.gmail.com', port=587)
    smtpObj.ehlo()
    smtpObj.starttls()
    smtpObj.ehlo()
    smtpObj.login('xxx','xxx')
    smtpObj.sendmail(sender, receivers, message)
    smtpObj.quit()
    print "Successfully sent email"
except smtplib.SMTPException,error:
    print str(error)
    print "Error: unable to send email"
<END>
<QUE>
Python: How to add datetime to x-axis in pcolormesh
<ANS>
from datetime import datetime, timedelta
import numpy as np
import matplotlib.pyplot as plt

size = 10

# List of Dates
base = datetime.now()
date_list = [base - timedelta(weeks=x) for x in range(0, size)]
date_list = [i.strftime("%Y %m %d") for i in date_list]

b = np.random.random([size,size])
plt.figure(2)
c = np.arange(0,size)
plt.pcolormesh(c,c,b)
plt.xticks(c, date_list, rotation='vertical')
plt.subplots_adjust(bottom=0.2)
plt.show()
<END>
<QUE>
django get sum of column based on where clause
<ANS>
from django.db.models import Sum
<END>
<QUE>
Combine multiple lines of text documents into one
<ANS>
import os
count = 0
for doc in os.listdir('C:\Users\B\Desktop\
ewdocs'):
    if doc.endswith(".txt"):
        with open(doc, 'r') as f:
            single_line = ''.join([line for line in f])
            single_space = ' '.join(single_line.split())

        with open("new_doc{}.txt".format(count) , "w") as doc:
            doc.write(single_space)
        count += 1
    else:
        continue
<END>
<QUE>
Delete regex matching part of file
<ANS>
import re
with open("in1.txt") as f:
   lines = f.read()
   m = re.sub(r'(?s)my _car_.*?(?=my|$)', '', lines)
   m = re.sub(r'
+', '
', m)
   print m,
<END>
<QUE>
Case Insensitive findall in Python ElementTree
<ANS>
import xml.etree.ElementTree as ET
def to_parseable(tree):
    t = ET.tostring(tree)
    t = t.lower()
    return ET.fromstring(t)
<END>
<QUE>
Print a stack trace to stdout on errors in Django while using manage.py runserver
<ANS>
class ExceptionLoggingMiddleware(object):
    def process_exception(self, request, exception):
        import traceback
        print traceback.format_exc()
<END>
<QUE>
Find image inside another in SimpleCV
<ANS>
diff = cv2.matchTemplate(img1, img2, cv2.TM_CCORR_NORMED)
x, y = np.unravel_index(np.argmax(diff), diff.shape)
<END>
<QUE>
Wrong number of results in Google Scrape with Python
<ANS>
import requests,  bs4

headers = {
    "User-Agent":
        "Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.157 Safari/537.36"
}
payload = {'as_epq': 'James Clark', 'tbs':'cdr:1,cd_min:01/01/2015,cd_max:01/01/2015', 'tbm':'nws'}
r = requests.get("https://www.google.com/search", params=payload, headers=headers)

soup = bs4.BeautifulSoup(r.content, 'html5lib')
print soup.find(id='resultStats').text
<END>
<QUE>
Looping Inside a list in python
<ANS>
return all(c in lettersGuessed for c in secretWord)
<END>
<QUE>
Start a process in a different console window
<ANS>
import os

os.system("xterm -e 'your command'")
<END>
<QUE>
How do I access values from python social auth used in template
<ANS>
from django.core.urlresolvers import reverse
twitterpath = reverse('social:begin', args=('twitter',))
<END>
<QUE>
Least painful way to run a Python delay loop
<ANS>
t = threading.Timer(30.0, unban)
t.start() # after 30 seconds, unban will be run
<END>
<QUE>
how to filter out elements in a for loop?
<ANS>
links = []
for i in urls:
    try:
        data = urllib2.urlopen(str(i)).read()
        data = json.loads(data)
        links.append(url)
    except:
        pass
<END>
<QUE>
Why gevent on a Flask app with Apache + mod_wsgi is raising NotImplementedError?
<ANS>
WSGIApplicationGroup %{GLOBAL}
<END>
<QUE>
CURL alternative in Python
<ANS>
import urllib2

manager = urllib2.HTTPPasswordMgrWithDefaultRealm()
manager.add_password(None, 'https://app.streamsend.com/emails', 'login', 'key')
handler = urllib2.HTTPBasicAuthHandler(manager)

director = urllib2.OpenerDirector()
director.add_handler(handler)

req = urllib2.Request('https://app.streamsend.com/emails', headers = {'Accept' : 'application/xml'})

result = director.open(req)
# result.read() will contain the data
# result.info() will contain the HTTP headers

# To get say the content-length header
length = result.info()['Content-Length']
<END>
<QUE>
Replacing NaT with Epoch in Pandas
<ANS>
data[col_name] = a_col.apply(lambda x: x if isinstance(x, datetime.datetime) 
                                       and not isinstance(x, pd.tslib.NaTType) else epoch)
<END>
<QUE>
modifying django modelform select set
<ANS>
# some code left out for brevity

class InputsModelExtendedForm(ModelForm):
    class Meta:
        model = InputsModelExtended

    def __init__(self, *args, **kwargs):
        service_choices = kwargs.pop('service_choices')
        super(InputsModelExtendedForm, self).__init__(*args, **kwargs)

        if service_choices:
            self.fields['service'] = forms.ChoiceField(choices=service_choices,
                                                       required=False)

# example usage:

def my_view(request):
    service_choices = (
        ('Foo', 'Foo',),
        ('Bar', 'Bar',),
        ('Baz', 'Baz',),
    )

    form = InputsModelExtendedForm(request.POST or None, service_choices=service_choices)
<END>
<QUE>
Convert letters to lower case
<ANS>
text.lower()
<END>
<QUE>
Is it possible to pass a dictionary with extraneous elements to a Django object.create method?
<ANS>
MyModel.objects.create(**{key: value for key, value in data_dict.iteritems() if key in MyModel._meta.get_all_field_names()})
<END>
<QUE>
How do I iterate over collections in a database in mongoengine?
<ANS>
class Example(Document):
    pass

db = Example._get_db()
for collection_name in db.collection_names():
    print collection_name
<END>
<QUE>
using a pdf image inside a subplot in matplotlib
<ANS>
x1=np.linspace(0,np.pi)
y1=np.sin(x1)

y2=np.sin(x1)

rect1=[0.1,0.1,0.8,0.8]
ax1=plt.axes(rect,frameon=True)
ax1.yaxis.tick_left()
plt.plot(x1,y1)
plt.ylabel('axis 1')
plt.xlabel('x')


rect2=[0.1,1,0.2,0.2]
ax2=plt.axes(rect2,frameon=False)
ax2.yaxis.tick_right()
ax2.plot(x1,y2)

percent = 0.2
xp = percent*np.pi
yp = np.sin(xp)
ax2.plot(xp,yp, marker='o')

ax2.yaxis.set_label_position('right')
ax2.axes.get_xaxis().set_visible(False)
ax2.axes.get_yaxis().set_visible(False)

ax2.annotate('%d Percent' %(percent*100), xy=(0.5, 0.))


rect3=[0.3,1,0.2,0.2]
ax3=plt.axes(rect3,frameon=False)
ax3.yaxis.tick_right()
ax3.plot(x1,y2)

percent = 0.4
xp = percent*np.pi
yp = np.sin(xp)
ax3.plot(xp,yp, marker='o')

ax3.yaxis.set_label_position('right')
ax3.axes.get_xaxis().set_visible(False)
ax3.axes.get_yaxis().set_visible(False)

ax3.annotate('%d Percent' %(percent*100), xy=(0.5, 0.))




plt.show()
<END>
<QUE>
passing text through a dictionary in Python
<ANS>
ok_words = set(["a", "b", "c", "e"])

def filter_words(words):
    return [word for word in words if word in ok_words]
<END>
<QUE>
What is the distance between point [4, 7] and the nearest point on the circle centered at [2, 9] with radius 2? Provide at least 4 digits of accuracy
<ANS>
dist([4.0, 7.0], [2.0, 9.0]) - 2.0
<END>
<QUE>
getting values from multiple same keyword parameter in request
<ANS>
self.request.GET.getlist('pax')
<END>
<QUE>
Python matplotlib: How to assign a different opacity to each point in a scatter plot?
<ANS>
colors = weights.apply(lambda x: (0,0,1,x)).tolist()
<END>
<QUE>
pandas python select all data after day of year
<ANS>
df2 = df[((df.index.month == 6) & (df.index.day > 20)) | (df.index.month > 6)]
<END>
<QUE>
How to zip a folder and file in python?
<ANS>
import os

zfName = 'simonsZip.kmz'
foo = zipfile.ZipFile(zfName, 'w')
foo.write("temp.kml")
# Adding files from directory 'files'
for root, dirs, files in os.walk('files'):
    for f in files:
        foo.write(os.path.join(root, f))
foo.close()
os.remove("temp.kml")
<END>
<QUE>
How to check if an argument is a file or a directory in R?
<ANS>
file.info("/etc")
##      size isdir mode               mtime               ctime
## /etc 3638  TRUE  755 2015-07-22 10:51:58 2015-07-22 10:51:58
##                    atime uid gid uname grname
## /etc 2015-08-01 08:11:43   0   0  root  wheel

file.info("/etc/hosts")
##              size isdir mode               mtime               ctime
## /etc/hosts 787448 FALSE  644 2015-07-19 17:34:59 2015-07-19 17:34:59
##                          atime uid gid uname grname
## /etc/hosts 2015-08-06 12:30:26   0   0  root  wheel

file_test("-f", "/etc/hosts") # is a file and not a dir
## [1] TRUE

file_test("-d", "/etc") # is a dir
## [1] TRUE

dir.exists("/etc") # R 3.2.0+
## [1] TRUE

file.exists("/etc/hosts")
## [1] TRUE

Sys.readlink("/etc") # will return something if it's a symbolic link
## [1] "private/etc"

Sys.readlink("/tmp")
## [1] "private/tmp"

Sys.readlink("/bin") # or "" if not
## [1] ""
<END>
<QUE>
Creating a gif in python using ImageMagick
<ANS>
import os, sys

dataDir = 'fullpath of directory with images'
os.chdir(dataDir)


os.system('SETLOCAL EnableDelayedExpansion')
#This is the path of the imagemagick installation convert command.  
#The invalid parameter I was  getting was because the computer was trying to 
#use a different convert command.  This code sets convert as a different
#variable and then calls that new variable as the convert command.  
os.system('SET IMCONV="C:\Program Files\ImageMagick-6.9.1-Q16\Convert"')
os.system('%IMCONV% *.jpg animated.gif')
<END>
<QUE>
python - how to write to a csv file while in a loop
<ANS>
def get_brand_count(filename, brand):
    return int(subprocess.check_output('''zcat %s |  '''
                                       '''awk 'BEGIN {FS=";"};{print $6}' | '''
                                       '''grep -i %r | wc -l''' %
                                       (filename, brand), shell=True))

brands = 'hummer', 'bmw', 'audi'
with open('results.csv', 'wb') as csvfile:
    csvwriter = csv.writer(csvfile)
    csvwriter.writerow(brands)  # csv header row (if desired)
    for myfilename in glob.iglob('*.gz'):
        csvwriter.writerow([get_brand_count(myfilename, brand)
                                for brand in brands])
<END>
<QUE>
django model inheritance and admin application
<ANS>
class History(Article, IHasAttachments):
    date = DateField(default=datetime.date.today)
<END>
<QUE>
Select many to many with Flask-SQLAlchemy
<ANS>
users = session.query(User).all()
for user in users:
    users_classes = ','.join([c.class_name for c in user.classes])
    print("{0} is {1} in {2}".format(user.user_firstName,
                                     user.role.role_name,
                                     users_classes))
<END>
<QUE>
How to apply Thumbor filters effects
<ANS>
thumbor_kwargs = {}
thumbor_kwargs['image_url'] = 'localhost:8000/media/image.jpg'
thumbor_kwargs['width'] = 80
thumbor_kwargs['filters'] = [
    "quality(80)",
    "grayscale()",
]
<END>
<QUE>
Can't use a list of methods in a Python class, it breaks deepcopy. Workaround?
<ANS>
import copy
import types

def _deepcopy_method(x, memo):
    return type(x)(x.im_func, copy.deepcopy(x.im_self, memo), x.im_class)
copy._deepcopy_dispatch[types.MethodType] = _deepcopy_method
<END>
<QUE>
Unzip all zipped files in a folder to that same folder using Python 2.7.5
<ANS>
import os, zipfile

dir_name = 'C:\\SomeDirectory'
extension = ".zip"

os.chdir(dir_name) # change directory from working dir to dir with files

for item in os.listdir(dir_name): # loop through items in dir
    if item.endswith(extension): # check for ".zip" extension
        file_name = os.path.abspath(item) # get full path of files
        zip_ref = zipfile.ZipFile(file_name) # create zipfile object
        zip_ref.extractall(dir_name) # extract file to dir
        zip_ref.close() # close file
        os.remove(file_name) # delete zipped file
<END>
<QUE>
Timetable Web Scraping with multiple tables (Python)
<ANS>
xpath = "//table[2]/tr/td//text()[re:match(., '\\S')]"

filtered_html = tree.xpath(
    xpath,
    namespaces={"re": "http://exslt.org/regular-expressions"})
<END>
<QUE>
Calling a non python program from python?
<ANS>
import os
import subprocess

cwd = os.getcwd()

for i in os.listdir(cwd):
    if i.endswith('.ttp'):
        o = i + "-out"
        p = subprocess.call(["program_name", "-input", i, "-output", o])
<END>
<QUE>
How do i print/return the number of lines in a file
<ANS>
counter = len(f.readlines())
<END>
<QUE>
Trying to mock method in Object gives 'AttributeError'
<ANS>
def test_check_url(self):
    url_a = "http://audaxing.wordpress.com"
    dummy_event = self.generate_dummy_auction_event(url_a)
    with patch("sys.stdin") as mock_stdin:
        MaddUrl = Mock()
        Minit = Mock(return_value=None)
        with patch('Foo.crawler.crawlerapp.CrawlerApp.__init__', Minit, create=True):
            with patch('Foo.crawler.crawlerapp.CrawlerApp.addUrl', MaddUrl, create=True):

                ca = Foo.crawler.crawlerapp.CrawlerApp(1)
                mock_stdin.read.return_value = EventDataFrame(1, "TOKEN1", dummy_event.SerializeToString()).to_bytes()
                ca._running = True
                input_thread = threading.Thread(target=ca.inputStreamThread)
                input_thread.start()
                time.sleep(0.5)
                ca._running = False
    MaddUrl.assert_called_with(url_a)
<END>
<QUE>
How to flatten a hetrogenous list of list into a single list in python?
<ANS>
l = [35,53,[525,6743],64,63,[743,754,757]]

def flatten(xs):
    result = []
    if isinstance(xs, (list, tuple)):
        for x in xs:
            result.extend(flatten(x))
    else:
        result.append(xs)
    return result

print flatten(l)
<END>
<QUE>
TypeError: list indices must be integers, not str with JSON
<ANS>
urls = [ user['url'] for user in loadmain ]
<END>
<QUE>
Python findall regex
<ANS>
re.findall('ABC-[0-9]+', string)
<END>
<QUE>
Simple way to decrease values without making a new attribute?
<ANS>
class Alien(object):
    def __init__(self):
        self.health = 5
    def do_damage(self, amount):
        self.health -= amount
<END>
<QUE>
Using sets in python to find common letters from two strings
<ANS>
import string

def func(str1, str2):
    s1 = set(str1)
    s2 = set(str2)
    # requests are ambiguous "contained in both strings" can be either interpreted as intersections or union (i chose intersection)
    uni = s1.union(s2)
    letters_in_both_strings = [item for item in s1.intersection(s2) if item.isalpha()]
    non_letters_in_any_string = [item for item in uni if not item.isalpha()]
    all_letters = set(string.ascii_uppercase + string.ascii_lowercase)
    return letters_in_both_strings, all_letters.difference(uni), non_letters_in_any_string

str1 = input("Enter 1st string:")
str2 = input("Enter 2nd string:")
a, b, c = func(str1, str2)
print("|" + "".join(a) + "|
|" + "".join(b) + "|
|" + "".join(c) + "|
")
<END>
<QUE>
Keeping only real positive value from an array
<ANS>
T_g.append([x for x in rootss(coeff) if np.isreal(x) and x > 0])
<END>
<QUE>
How to use the Spanish Wordnet in NLTK?
<ANS>
from nltk.corpus.reader import XMLCorpusReader
reader = XMLCorpusReader(dir, file)
<END>
<QUE>
How to carry in a list the name each file from a directory with python?
<ANS>
def retrive(directory, a_regex):
    for filename in glob.glob(os.path.join(directory, '*.txt')):
        with open(filename, 'r') as file:
            important_stuff = re.findall(a_regex, file.read(), re.S)
            my_list = [tuple([j.split()[0] for j in i]) for i in important_stuff]
            # print my_list # old line
            print str(my_list).strip('[]') + filename.split('/')[-1]


lists_per_file = retrive(directory,regex_)
<END>
<QUE>
How do I change the title of the tree view that is created
<ANS>
title = "This is my title, there are many like it but this one is mine..."
self.headerItem().setText(0, title)
<END>
<QUE>
Python : Packing a gtk.TreeView and a gtk.Menu in a top level gtk.Window
<ANS>
vbox.pack_start(self.scrolledwindow)
<END>
<QUE>
how do you read a pytables table into a pandas dataframe
<ANS>
a = tb.open_file("FGBS.h5")
table = a.root.quote.z4
c = pd.DataFrame.from_records(table.read())
<END>
<QUE>
Grouping a queryset by another related model
<ANS>
Stop.objects.filter(approved_ts__isnull=False).order_by('line')
<END>
<QUE>
Assign function, ignore first value
<ANS>
self.function = lambda *args: module1.f(*args)[0]
<END>
<QUE>
ModelForm with multiple child models
<ANS>
def add_invoice(request):
    InvoiceFormSet = inlineformset_factory(Invoice, InvoiceItem)
    if request.POST:
        invoiceForm = InvoiceForm(request.POST) 
        invoiceFormSet = InvoiceFormSet(request.POST)
        if invoiceForm.is_valid() and invoiceFormSet.is_valid():
            invoice = invoiceForm.save()
            invoiceItems = invoiceFormSet.save(commit=False)
            for invoiceItem in invoiceItems:
                invoiceItem.invoice = invoice
                invoiceItem.save()
            return redirect('show_invoice', invoice_id=invoice.id)
    else:
        invoiceForm = InvoiceForm()
        invoiceFormSet = InvoiceFormSet()
    context_data = {
            'invoiceForm': invoiceForm,
            'invoiceFormSet': invoiceFormSet,
            }
    return render(request, 'add_invoice.html', context_data)
<END>
<QUE>
How to easily extract ID from iTunes URL using Python
<ANS>
import re

def get_id(toParse):
    return re.search('id(\d+)', toParse).groups()[0]
<END>
<QUE>
GStreamer bus sends None message
<ANS>
add_signal_watch_full()
<END>
<QUE>
How to detect what output is and do if statement from it?
<ANS>
import subprocess
import locale

encoding = locale.getdefaultlocale()[1]
proc = subprocess.Popen(["ping", "123.123.123.123"], stdout=subprocess.PIPE)
out = proc.communicate()[0]
if 'Request timed out' in out.decode(encoding):
    print 'the host is down'
else: 
    print 'the host is up'
<END>
<QUE>
Is there a pythonic way to insert space characters at random positions of an existing string?
<ANS>
import random

def insert_spaces(s):
    s = list(s)
    for i in xrange(len(s)-1):
        while random.randrange(2):
            s[i] = s[i] + ' '
    return ''.join(s)
<END>
<QUE>
Isolate N values from a list after obtaining a specific match with a regex
<ANS>
def filtering(a_list):
    results = []
    for i, item in enumerate(a_list):
        if re.search(r'\d{0,1}\s+Contacts;\s*', item) is not None:
            results.extend(a_list[i+1:i+6])
<END>
<QUE>
Read lines from a text file, reverse and save in a new text file
<ANS>
f = open("text.txt", "rb")
s = f.readlines()
f.close()
f = open("newtext.txt", "wb")
s.reverse()
for item in s:
  print>>f, s
f.close()
<END>
<QUE>
What are the guidelines to allow customizable logging from a Python module?
<ANS>
logger = logging.getLogger(__name__)
<END>
<QUE>
Using Pandas to pd.read_excel() for multiple worksheets of the same workbook
<ANS>
xls = pd.ExcelFile('path_to_file.xls')
df1 = xls.parse('Sheet1')
df2 = xls.parse('Sheet2')
<END>
<QUE>
Python - run two commands at the same time
<ANS>
#!/usr/bin/python
from multiprocessing import Process,Queue
import random
import time

def printrand():
   #Checks whether Queue is empty and runs
   while q.empty():
      rand = random.choice(range(1,100))
      time.sleep(1)
      print rand


if __name__ == "__main__":
   #Queue is a data structure used to communicate between process 
   q = Queue()
   #creating the process
   p = Process(target=printrand)
   #starting the process
   p.start()
   while True:
      ip = raw_input("Write something: ")
      #if user enters stop the while loop breaks
      if ip=="stop":
         #Populating the queue so that printramd can read and quit the loop
         q.put(ip)
         break
   #Block the calling thread until the process whose join() 
   #method is called terminates or until the optional timeout occurs.
   p.join()
<END>
<QUE>
Find current time interval in python?
<ANS>
from datetime import datetime, timedelta
now = datetime.now()
now = now - timedelta(minutes = now.minute % 15, seconds = now.second, microseconds = now.microsecond )
<END>
<QUE>
Interactive sheet using Datanitro
<ANS>
while True:
    new = Cell("A1").value
    if static != new:
        CellRange("C2:E4").clear()
        Cell("C2").table = {"mamposteria": data1,
                            "moretero": data2,
                            "estructura": data3}[new]
        static = new
<END>
<QUE>
Python: How do i convert data in text file into a dictionary?
<ANS>
import re

d = {}

with open('data', 'r') as f:

    for line in f:

        line =   re.sub('\s', '', line)

        key, value = line.split('=')

        d[key] = value

for el in d.items():

    print(el)
<END>
<QUE>
Pandas Data Frame Column structure
<ANS>
df = pd.concat([DataFrame({'M': [1, 2], 'F': [2, 5]}), \
                DataFrame({'M': [1, 5], 'F': [2, 7]})], \
                axis=1, keys=['Completed', 'Not Completed'])

df.index = ['A', 'B']

df.index.name = 'Name'
<END>
<QUE>
initializing queue with condition
<ANS>
class N:
    def __init__(self):
        self.s = []
    def add(self,u):
        self.s.append(u)
    def check(self):
        if sorted(self.s) == True:
            print "List is sorted"
        else:
            print "Not sorted but it will sort now"
            return sorted(self.s)
<END>
<QUE>
How can I catch kivy-client crash log and send it to my server?
<ANS>
if __name__ == "__main__":
    import traceback
    from raven import Client
    client = Client('requests+http://XXKEYXX@sentry.yourserver.com/sentry/1')
    try:
        YourApp().run()
    except:
        traceback.print_exc()
        ident = client.get_ident(client.captureException())
        print "Exception caught; reference is %s" % ident
<END>
<QUE>
translation/rotation through phase correlation in python
<ANS>
image = load_image("/path/to/image")[:,:,0]
<END>
<QUE>
python: getting a response from check_output before the command is finished
<ANS>
import subprocess
process = subprocess.Popen(["C:\Users\Ben\Desktop\youtube-dl\youtube-dl.exe", "--max-quality", "FORMAT", "--extract-audio", "songUrl"], shell=True, stdout = subprocess.PIPE)

while process.poll() is None:
    result = process.stdout.read()
    # do some calculations for percentage done
<END>
<QUE>
How to write sort function
<ANS>
class Tag(models.Model):
    test_case_counter = models.IntegerField(default=0)
    my_date_field = models.DateField(auto_now=True,auto_add=True)

    class Meta: # notice indentation
        ordering = ['my_date_field']
        app_label = 'project'
<END>
<QUE>
Read two column CSV as dict with 1st column as key
<ANS>
import csv

result={}
with open('/tmp/test.csv','r') as f:
    red=csv.DictReader(f)
    for d in red:
        result.setdefault(d['team'],[]).append(d['bldg'])

#results={'1': ['1450'], '3': ['204', '250', '1437'], '2': ['1440']}
<END>
<QUE>
split string according to words between square parenthesis
<ANS>
x="[python] how to [css]"
print re.findall(r"(?<=\[)[^\]]*(?=\])",x)   # this is the list you want
print re.sub(r"\[[^\]]*\]","",x)             # this is the string you want
<END>
<QUE>
How to rewrite this code from python loops to numpy vectors (for perfomance)?
<ANS>
jrange = np.arange(self.max_j - j_start)
joffset = np.round(jrange * discriminant).astype(int)
i = np.arange(self.max_i)

for j in jrange:
    new_i = i + joffset[j]
    in_range = new_i < self.max_i
    self.grid[new_i[in_range], j+j_start] = standard[i[in_range]]
<END>
<QUE>
Assign a list to variables
<ANS>
G.label(*x)
<END>
<QUE>
How can I iterate this code without using such a complicated for loop?
<ANS>
company_3 = [o.title() for o in company_2]
<END>
<QUE>
Generating a matlibplot bar chart from two columns of data
<ANS>
import numpy as np
import matplotlib.pyplot as plt

data = """100 0.0
      5 500.25
      2 10.0
      4 5.55
      3 950.0
      3 300.25"""

counts = []
values = []

for line in data.split("
"):
    x, y = line.split()
    values.append(int(x))
    counts.append(float(y))

plt.bar(counts, values)

plt.show()
<END>
<QUE>
Written csv file with Python contains wrong format of numbers
<ANS>
sample_means = [x/seg_len] + [mean(data[x:x+seg_len,i]) for i in range(4)]
writer.writerow(sample_means)
<END>
<QUE>
pyparsing, Each, results name
<ANS>
Stmt      << ( selectToken +
                columnNameList('columns') + 
                Optional( CaselessKeyword('where') + whereExpression('where'), "" ) +
                Each( [ Optional( CaselessKeyword('group by') + columnNameList('group'), "" ).setDebug(),
                        Optional( CaselessKeyword('order by') + columnNameList('order'), "" ).setDebug() ] 
                    ) 
            )
<END>
<QUE>
Python: Inheriting from Built-In Types
<ANS>
class GraphElement:
    def __init__(self, graph):
        pass

class Edge(GraphElement, tuple):
    def __new__(cls, graph, (source, target)):
        return tuple.__new__(cls, (source, target))
    def __init__(self, graph, (source, target)):
        GraphElement.__init__(self, graph)
<END>
<QUE>
How to close all windows7 folders using python
<ANS>
import subprocess
subprocess.call('nircmd.exe win close class "CabinetWClass"' , shell=True)
<END>
<QUE>
Stripping non printable characters from a string in python
<ANS>
import unicodedata, re

all_chars = (unichr(i) for i in xrange(0x110000))
control_chars = ''.join(c for c in all_chars if unicodedata.category(c) == 'Cc')
# or equivalently and much more efficiently
control_chars = ''.join(map(unichr, range(0,32) + range(127,160)))

control_char_re = re.compile('[%s]' % re.escape(control_chars))

def remove_control_chars(s):
    return control_char_re.sub('', s)
<END>
<QUE>
How would I loop a randomly generated arithmetic 10 times over? this is my code so far
<ANS>
import random 
score = 0
ops = ['+','-','*']

for i in range(10):
    num1 = random.randint(1,9)
    num2 = random.randint(1,9)
    operation = random.choice(ops)
    print(num1)
    print(operation)
    print(num2)
    user = int(input(""))
    if operation == "+":
        answer = num1 + num2
    elif operation == "-":
        answer = num1 - num2
    elif operation == "*":
        answer = num1 * num2

    if user == answer:
        print("correct")
        score = score + 1
    else:
        print("Incorrect")
    print (score)
<END>
<QUE>
Python: Plotting a infinite series by only taking finite points
<ANS>
import numpy as np
import pylab as py
from scipy.misc import factorial as fact

e = 0.65


def E(M):
    return (M + sum((1.0 / 2.0 ** (n - 1) *
                     sum((-1) ** (k) / (fact(n - k) * fact(k)) *
                         (n - 2 * k) ** (n - 1) *
                         np.sin((n - 2 * k) * M)
                         for k in range(0, n / 2, 1))) * e ** n
                         for n in range(1, 4, 1)))


M = np.linspace(0, 2 * np.pi, 50000.0)

fig = py.figure()
ax = fig.add_subplot(111)
ax.plot(E(M), M)
py.xlim((0, 2 * np.pi))
py.ylim((0, 2 * np.pi))
py.show()
<END>
<QUE>
How can I override a class definition in python?
<ANS>
import module_1

class Card(object):
    def __init__(self, suit, number):
        self.suit = suit
        self.number = number
        self.index = [suit, number]

if __name__ == '__main__':
    # Keep reference to the original Card class.
    original_card = module_1.Card
    # Replace with my custom Card class.
    module_1.Card = Card  
    new_deck = module_1.Deck()
    print new_deck.cards[0]
    # Restore.
    module_1.Card = original_card
<END>
<QUE>
remove content inside parenthesis as well as the parenthesis themselves from a paragraph
<ANS>
text = "Some sample (with parenthesis) text"
regEx = re.compile(r'([^\(]*)\([^\)]*\) *(.*)')
m = regEx.match(text)
while m:
  text = m.group(1) + m.group(2)
  m = regEx.match(text)
print text
<END>
<QUE>
subprocess.call requiring all parameters to be separated by commas
<ANS>
shell=True
<END>
<QUE>
How can I move WebDriver to new opened Chrome tab without knowing index?
<ANS>
driver.switch_to.window(driver.window_handles[-1])
<END>
<QUE>
O(1) indexable deque of integers in Python
<ANS>
class mydeque(object):

  def __init__(self):
    self.left = []
    self.right = []

  def pushleft(self, v):
    self.left.append(v)

  def pushright(self, v):
    self.right.append(v)

  def popleft(self):
    if not self.left:
      self.__fill_left()
    return self.left.pop()

  def popright(self):
    if not self.right:
      self.__fill_right()
    return self.right.pop()

  def __len__(self):
    return len(self.left) + len(self.right)

  def __getitem__(self, i):
    if i >= len(self.left):
      return self.right[i-len(self.left)]
    else:
      return self.left[-(i+1)]

  def __fill_right(self):
    x = len(self.left)//2
    self.right.extend(self.left[0:x])
    self.right.reverse()
    del self.left[0:x]

  def __fill_left(self):
    x = len(self.right)//2
    self.left.extend(self.right[0:x])
    self.left.reverse()
    del self.right[0:x]
<END>
<QUE>
I need help with a python script I am trying to adapt for a specific need
<ANS>
import servo
servo.move(int(argv[1]), int(argv[2]))
<END>
<QUE>
Python matplotlib - White spines with pie chart?
<ANS>
from matplotlib.pyplot import axes, pie, show, figure, subplot
import matplotlib.gridspec as gridspec

fig = figure(facecolor = 'k')

ax1 = subplot(111, axisbg='k')
ax1.pie([1,2,3,4])
ax1.set_frame_on(True)
ax1.spines['bottom'].set_color('w')
ax1.spines['left'].set_color('w')
ax1.spines['top'].set_color('w')
ax1.spines['right'].set_color('w')
<END>
<QUE>
get current url from browser python
<ANS>
from selenium import webdriver
driver = webdriver.Firefox()
print (driver.current_url)
<END>
<QUE>
How do filter and convert unicode to integer in python
<ANS>
if x == "No Event":
    # Handle no-event situation
    pass
elif x.startswith("P("):
    # extract the number
    s = x[2:].split()[0]
    if "." in s:
        # period present
        result = float(s)
    else:
        # period not present
        result = int(s)
else:
    # Handle unexpected input
    pass
<END>
<QUE>
How do I prevent suds from fetching xml.xsd over the network?
<ANS>
from suds.xsd.sxbasic import Import

file_url = 'file://<path to xml.xsd>'
Import.bind('http://www.w3.org/XML/1998/namespace', file_url)
<END>
<QUE>
I want to get python to output a png file
<ANS>
from subprocess import call
call(["open", "hi.jpg"])
<END>
<QUE>
Python - Move Turtle To Mouse On Click
<ANS>
from turtle import *
from time import sleep
turtle = Turtle()
screen = Screen()
screen.onscreenclick(turtle.goto)
turtle.getscreen()._root.mainloop()
<END>
<QUE>
Fill multi-index Pandas DataFrame with interpolation
<ANS>
df.unstack(level=1)
<END>
<QUE>
SyntaxError when entering python3.2 to run print from Terminal
<ANS>
print("Hello World")
<END>
<QUE>
find total number of divisors of number, for t test cases in python
<ANS>
def devisors_number(n):
    result = 0
    sqrt_n = int(n**0.5)

    for i in xrange(1, sqrt_n + 1):
        if n % i == 0:
            result += 1

    result *= 2

    if sqrt_n**2 == n:
        result -= 1

    return result


n = int(raw_input("Enter a number: "))
d = devisors_number(n)
print "{0} has {1} devisors".format(n, d)
<END>
<QUE>
Writing lines from a file
<ANS>
with open('r.0', 'r') as IRR, open('tt', 'w') as fd_w:
    lines = []
    for line in IRR:
        line = line.strip()
        if line:
            lines.append(line)
        else:
            # empty line, found a complete block, test for status line
            if 'status:         ASSIGNED PA' in lines:
                for line in lines:
                    fd_w.write(line + '
')
            lines = []
<END>
<QUE>
Set background image in google app engine mail API
<ANS>
mail.send_mail(sender="",
                 to="",
                 subject="",
                 body="",
                 html="your html")
<END>
<QUE>
How to limit Python recursive combinations?
<ANS>
from itertools import combinations

def find_sum_in_list(numbers, target, comboSize):
    results = []
    for combo in combinations(numbers, comboSize):
        if sum(combo) == target:
            results.append(combo)
    return results


if __name__ == "__main__":
    numbers = [10,20,30,40,50,60,70,80,90,100,110,120,130,140,150,160,170,180,190,200,210,220,230,240,250,260,270,280,290,300]
    total = 1200
    comboSize = 5
    print find_sum_in_list(numbers, total, comboSize)
<END>
<QUE>
Fastest way of deleting certain keys from dict in Python
<ANS>
dict((k, v) for (k, v) in somedict.iteritems() if not k.startswith('someprefix'))
<END>
<QUE>
Python return combinations of a list of ranges?
<ANS>
output_list = list(itertools.product(*test_list))
<END>
<QUE>
Capture face area by camera
<ANS>
import cv2

def crop(img):
    face_cascade = cv2.CascadeClassifier('haarcascade_frontalface_default.xml')
    sub_face = img

    faces = face_cascade.detectMultiScale(img, 1.1, 5)
    for (x,y,w,h) in faces:
        sub_face = img[y:y+h, x:x+w]

    return sub_face


imageToCrop = cv2.imread('izz.jpg',0)
croppedImage = crop(imageToCrop)

cv2.imshow('img',croppedImage)
cv2.waitKey(0)
cv2.destroyAllWindows()
<END>
<QUE>
extract tag inside text element of an xml tag
<ANS>
foos = doc.find('foos')
for foo in foos:
    for text in foo.itertext():
        print text.strip(),
    print
<END>
<QUE>
Python regex ordering issue
<ANS>
s_regs = sorted(regexes,key=lambda x:len(x))
s_regs.reverse()
regex = '|'.join(s_regs)
<END>
<QUE>
Is it possible to use Python / BeautifulSoup to strip all tags from a chunk of HTML EXCEPT anchor / links?
<ANS>
import BeautifulSoup

doc = '''<html><head><title>Page title</title></head><body><p id="firstpara" align="center">This is <i>paragraph</i> <a onclick="">one</a>.<p id="secondpara" align="blah">This is <i>paragraph</i> <b>two</b>.</html>'''
soup = BeautifulSoup.BeautifulSoup(doc)

for tag in soup.recursiveChildGenerator():
    if isinstance(tag,BeautifulSoup.Tag) and tag.name not in ('a'):
        print(tag.string)
    elif isinstance(tag,BeautifulSoup.Tag) and tag.name in ('a'):
        print(tag)
<END>
<QUE>
Choosing a random sound Pygame
<ANS>
class SoundManager:
    sounds = [] # list of sound objects

    @staticmethod
    def playRandom():
        random.choice(SoundManager.sounds).play()
<END>
<QUE>
How to deploy a CherryPy app locally
<ANS>
cherrypy.server.socket_host = '192.168.0.147'
cherrypy.server.socket_port = 8080
<END>
<QUE>
How can I check if a Pandas dataframe's index is sorted
<ANS>
df.index.is_monotonic
<END>
<QUE>
pop up a window with text in it and automatically close it after certain time
<ANS>
import wx

class Frame(wx.Frame):
    def __init__(self, title):
        wx.Frame.__init__(self, None, title=title, size=(300,200))

        self.panel = wx.Panel(self)
        box = wx.BoxSizer(wx.VERTICAL)
        m_text = wx.StaticText(self.panel, -1, 'File Uploaded!')
        m_text.SetSize(m_text.GetBestSize())

        box.Add(m_text, 0, wx.ALL, 10)
        self.panel.SetSizer(box)
        self.panel.Layout()

        self.timer = wx.Timer(self)
        self.Bind(wx.EVT_TIMER, self.onClose, self.timer)
        self.timer.Start(5000)

    def onClose(self, event):
        self.Close()

app = wx.App(redirect=True)
top = Frame('test')
top.Show()
app.MainLoop()
<END>
<QUE>
Displaying bins correctly with pyplot
<ANS>
plt.figure(1)
plt.hist(trials, bins=2, align="mid",
         weights=np.zeros_like(trials) + 1. / len(trials))


# ------------------------------
# New lines to add tick marks as requested
tick_locs = [0.25, 0.75]
tick_lbls = ['0','1']
plt.xticks(tick_locs, tick_lbls)
# ------------------------------

plt.ylim(0,1.0)
plt.title("Bernoulli Distribution with p = " + str(p))
plt.xlabel("Outcome")
plt.ylabel("Probability")    
plt.show()
<END>
<QUE>
Take action when the cursor position crosses a particular x value
<ANS>
last_state = False
while True:
    x,y = win32api.GetCursorPos()
    state = x < 0
    if state == last_state:
        continue
    last_state = state
    if state:
        print("2")
    else:
        print("1")
<END>
<QUE>
QRegEx to highlight everything between braces
<ANS>
"\\{(.*)\\}"
<END>
<QUE>
Convert Matplotlib figure to NumPy array without any borders/frame or axis
<ANS>
def makeImage (triangle, largura, altura):
    """
    triangle: receives a tuple in the form: x1, y1, x2, y2, x3, y3, R, G, B, A
    largura: image weight
    altura: image height

    returns: numPy array of the triangle composed final image
    """
    back = Image.new('RGBA', (largura,altura), (0,0,0,0))
    poly = Image.new('RGBA', (largura,altura))
    pdraw = ImageDraw.Draw(poly)

    pdraw.polygon([1,2,3,4,5,6], fill=(255,0,0,127))
    back.paste(poly,mask=poly)

    back = back.convert('RGB')
    backArr = asarray(back)
    #back.show()

    return backArr
<END>
<QUE>
How do I get dimension data from Analytics reporting api
<ANS>
res = service.data().ga().get(ids='ga:' + profile_id, start_date='2014-01-01', end_date=t, metrics='ga:sessions', dimensions='ga:browser',sort='-ga:sessions' , max_results='5' ).execute()
<END>
<QUE>
Multiple line comment in python
<ANS>
'''
This is a multiline
comment. I can type here whatever I want.
'''
<END>
<QUE>
python writing to file prepends null characters
<ANS>
fd.seek(0)
<END>
<QUE>
Python: Opening a file without creating a lock
<ANS>
import win32file # Ensure you import the module.

file_handle = win32file.CreateFile('filename.txt', win32file.GENERIC_READ, win32file.FILE_SHARE_DELETE | win32file.FILE_SHARE_READ | win32file.FILE_SHARE_WRITE, None, win32file.OPEN_EXISTING, win32file.FILE_ATTRIBUTE_NORMAL, None)
<END>
<QUE>
Python - Using isdigit for floats?
<ANS>
import re

p = re.compile('\d+(\.\d+)?')

a = raw_input('How much is 1 share in that company? ')

while p.match(a) == None:
    print "You need to write a number!
"
    a = raw_input('How much is 1 share in that company? ')
<END>
<QUE>
Making a Tkinter countdown timer update actively
<ANS>
# for python 3.x use 'tkinter' rather than 'Tkinter'
import Tkinter as tk
import datetime
import math
MINUTE = 60
HOUR = 60*MINUTE
class App():
    def __init__(self):
        self.root = tk.Tk()
        self.done_time=datetime.datetime.now() + datetime.timedelta(seconds=HOUR/2) # half hour
        self.label = tk.Label(text="")
        self.label.pack()
        self.update_clock()
        self.root.mainloop()

    def update_clock(self):
        elapsed = self.done_time - datetime.datetime.now()
        h,m,s,fractional_s = elapsed.seconds/3600,elapsed.seconds/60,elapsed.seconds%60
        fractional_seconds = math.floor(elapsed.microseconds/1000000.0*100)
        self.label.configure(text="%02d:%02d:%02d.%02d"%(h,m,s))
        self.root.after(1000, self.update_clock)

app=App()
<END>
<QUE>
Scrollbar to scroll Text widget, using Grid layout, in Tkinter
<ANS>
self.scrollbar.grid(column=6, row=5, rowspan=2,  sticky=N+S+W)
<END>
<QUE>
Check whether all possible combinations from a list appear in an attribute of objects in another list
<ANS>
import itertools

tasks_combinations = [[1, 2, 3], [2, 3, 4]]
people_tasks = [[1, 3], [2, 3], [3, 4]]

people_tasks_product = map(set, (itertools.product(*people_tasks)))

for tasks_combination in tasks_combinations:
    if set(tasks_combination) in people_tasks_product:
        print('Task combination {} is covered.'.format(tasks_combination))
    else:
        print('Task combination {} is NOT covered.'.format(tasks_combination))
<END>
<QUE>
can't open file with browser
<ANS>
from urllib import request
filename = '/Users/kyle/Desktop/html_test.html'

u = request.urlopen('http://www.ebay.com')
with open(filename, 'wb') as f: #notice the 'b' here
    f.write(u.read())

import webbrowser
webbrowser.open_new(filename)
<END>
<QUE>
How to get filename from Content-Disposition in headers
<ANS>
import re
filename = re.findall("filename=(\S+)", f[1]['Content-Disposition'])
<END>
<QUE>
Read status of GPIO pins of Raspberry pi and send it through serial port
<ANS>
import RPi.GPIO as GPIO
GPIO.setwarnings(False)
GPIO.setmode(GPIO.BCM)
GPIO.setup(4,GPIO.OUT)
GPIO.setup(17,GPIO.OUT)
GPIO.setup(22,GPIO.OUT)
GPIO.setup(23,GPIO.OUT)
GPIO.output(4,1)
GPIO.output(17,0)
GPIO.output(22,1)
GPIO.output(23,0)
i=GPIO.input(4)
j=GPIO.input(17)
k=GPIO.input(22)
l=GPIO.input(23)
data=[i,j,k,l]
ser.write(data)
<END>
<QUE>
Combine the dataframe in Pandas
<ANS>
data.groupby('Name').sum()['Score'].reset_index()
<END>
<QUE>
Implementing a hangman function in Python
<ANS>
class Hangmanner:
    correct_word = ''    
    current_guess = ''

    def play_hangman(self, word):
        self.correct_word = word

        self.current_guess = '_' * len(self.correct_word)

        while self.current_guess != self.correct_word:
            self.guess_letter(input("Please guess a letter: "))

    def guess_letter(self, guessed_letter):
        for i in range(len(self.correct_word)):
            if self.correct_word[i] == guessed_letter:
                if i == 0:
                    self.current_guess = self.correct_word[i] + self.current_guess[1:]
                else:
                    self.current_guess = self.current_guess[:i] + self.correct_word[i] + self.current_guess[i + 1:]
        print(self.current_guess)

if __name__ == "__main__":
    hangmanner = Hangmanner()
    hangmanner.play_hangman("test")
<END>
<QUE>
Searching through database with python
<ANS>
import MySQLdb
db = MySQLdb.connect(host="localhost",
                     user="user",
                      passwd="password", 
                      db="database") 
cur = db.cursor() 
cur.execute("SELECT common_name , genus , species  FROM table WHERE sequence LIKE 'MDPSSID%'")
<END>
<QUE>
Emailing an excel sheet with SSL in Python
<ANS>
server.set_debuglevel(True)
<END>
<QUE>
gzip a file in Python
<ANS>
check_call(['gzip', fullFilePath])
<END>
<QUE>
How to improve performance when interpolating on 3d data with SciPy
<ANS>
ret = np.zeros_like(data[0,:,:])
for latIdx in xrange(grid.shape[1]):
    for lonIdx in xrange(grid.shape[2]):
        # check if we need to flip the column
        if grid[0,latIdx,lonIdx] > grid[-1,latIdx,lonIdx]:
            ind = -1
        else:
            ind = 1
        f = interpolate.interp1d(grid[::ind,latIdx,lonIdx], \
                data[::ind,latIdx,lonIdx], \
                kind=interp)
        ret[latIdx,lonIdx] = f(value)
return ret
<END>
<QUE>
Making a query for all objects that don't have `None` for a certain field
<ANS>
Chair.objects.filter(datetime__isnull=False)
<END>
<QUE>
How to convert matrices to column vectors and append all together in python
<ANS>
import numpy as np
W1 = np.arange(25*64).reshape(25, 64)
W2 = np.arange(25*64).reshape(64, 25)
b1 = np.arange(25)
b2 = np.arange(64)

theta = np.concatenate([W1.flat, W2.flat, b1, b2])
print(theta.shape)
# (3289,)
<END>
<QUE>
Python: first unique number in a list
<ANS>
# Fast O(n) solution using a dictionary
def solution(lst):
    counts = {}

    for item in lst:
        if item in counts:
            counts[item] += 1
        else:
            counts[item] = 1

    for item in lst:
        if counts[item] == 1:
            return item

    return -1

print(solution([1,2,1,3,2,5])) # prints 3
print(solution([1,2,1,3,3,2,5])) # prints 5
print(solution([1,2,1,3,3,2,5,5])) # prints -1
print(solution([7])) # prints 7
<END>
<QUE>
How do i get the print outs to show up correctly under the final output
<ANS>
print ('radius   area     circumference')
<END>
<QUE>
How can I plot online data coming from two different sources in python?
<ANS>
def add_data (new_data, old_data, n): # keep n points
    return (old_data + new_data)[-n:]
<END>
<QUE>
How to get the error position of xml file with lxml dtd.validate function in Python?
<ANS>
for error in dtd.error_log.filter_from_errors():
    print(error.message)
    print(error.line)
    print(error.column)
<END>
<QUE>
Root Identification in a list of Data in python:
<ANS>
def root_pre(l):
    root = ""
    for t in zip(*l):
        if not all(t[0] == s for s in t):
            break
        root += t[0]
    ln = len(root)
    pres = [s[ln:] for s in listData]
    return root, pres

print(root_pre(listData))
('black', ['ish', 'en', 'ed'])
<END>
<QUE>
Modify list elements by passing it to a function
<ANS>
def test(the_list):
    for i in range(len(the_list)):
        the_list[i] = the_list[i].lower()

the_list=["Python", "Programming"]
test(the_list)
print the_list
<END>
<QUE>
Python save variable to file like save() in MATLAB
<ANS>
try:
    import cPickle as pickle  # Improve speed
except ValueError:
    import pickle

file_temp = open('temp', 'w')
pickle.dump(scenes, file_temp)
file_temp.close()
<END>
<QUE>
Application called with Subprocess from PySide GUI application (py2exe) stopped working
<ANS>
import subprocess

DETACHED_PROCESS = 0x00000008

subprocess.Popen(args,
                 cwd=cwd,
                 creationflags=DETACHED_PROCESS)
<END>
<QUE>
Run a cmd command with a simple button in wxpython
<ANS>
def OnRun(self,event):
    path = "/path/to/youtube-dl.py"
    url = "http://www.youtube.com/"
    subprocess.Popen(path, url, "--extract-audio", "--audio-format", "mp3")
<END>
<QUE>
How can I change this script to also include a rename functionality?
<ANS>
def scanFiles(dir): 
    fout = open("animals.las", "w")
    for root, dirs, files in os.walk(dir):
        for file in files:
            if '.las' in file:
            # read the file
                fin = open(file, "r")
                str2 = fin.read()
                fin.close()
            # call the function and get the changed text
                str3 = replace_words(str2, word_dic)
            # write changed text back out
                fout.write(str3)
                #time.sleep(1)
    fout.close()
<END>
<QUE>
Image sorter by created date in python
<ANS>
import os, datetime

folder_name = "MY_PATH"
for file_name in os.listdir(folder_name):
    file_name_full = os.path.join(folder_name, file_name)
    if not os.path.isfile(file_name_full):
        continue
    timestamp = os.path.getctime(file_name_full)
    dt = datetime.datetime.fromtimestamp(timestamp)
    # print out the datestamp
    print dt

    # if you now want to put them into subfolders based on the year 2012 
    # you can do something like the following
    yr = dt.year
    subfolder_name = ""
    if yr < 2012:
        subfolder_name = "before 2012"
    else:
        subfolder_name = "2012 and after"
    subfolder_name_full = os.path.join(folder_name, subfolder_name)
    new_file_name_full = os.path.join(subfolder_name_full, file_name)
    # I assume your folders are premade. If not, you can do a quick-and-dirty mkdir here

    print "Moving %s -> %s" % (file_name_full, new_file_name_full)
    os.rename(file_name_full, new_file_name_full)
<END>
<QUE>
How to use variables for width and precision in str.format()?
<ANS>
print(('    {:<' + str(SHOWLEN) + '.' 
    + str(SHOWLEN) +'}  {:<}').format(value[1], value[0]))
<END>
<QUE>
find if background image is used for any html tag with inline style
<ANS>
doc.xpath('//*[contains(@style,"background") and contains(@style,"url(")]')
<END>
<QUE>
loading another program that takes in a textfile in a program subprocess
<ANS>
cmd = 'ping 192.168.1.1'
output = subprocess.check_output(cmd.split())
<END>
<QUE>
Python SQLAlchemy and Postgress - How to query a JSON element
<ANS>
records = db_session.query(Resource).filter(
              Resources.data["lastname"].astext == "Doe"
          ).all()
<END>
<QUE>
Identify groups of consecutive values within NumPy array
<ANS>
def groupings(a):
     g = []
     for val in a:
         if not g:
             g.append(val)
         elif abs(g[-1] - val) <= 1.00001:
             g.append(val)
         else:
             yield g
             g = []

print list(groupings(my_numpy_array))
<END>
<QUE>
applying a function to each element in vector in numpy
<ANS>
transformed = sig(x)
<END>
<QUE>
Python Script to find instances of a set of strings in a set of files
<ANS>
import collections
files_by_str = collections.defaultdict(list)

thestrings = []
with open('Strings.txt') as f:
  for line in f:
    text = line.split('=', 1)[1]
    text = text.strip().replace('"', '')
    thestrings.append(text)

import os

for root, dirs, files in os.walk('/top/dir/of/interest'):
  for name in files:
    path = os.path.join(root, name)
    with open(path) as f:
      data = f.read()
      for text in thestrings:
        if text in data:
          files_by_str[text].append(path)
          break
<END>
<QUE>
Pythonic, elegant way of dynamically defining a list of statically defined functions?
<ANS>
my_functions = []

def put_in_list(fn):
    my_functions.append(fn)
    return fn

@put_in_list
def function1():
    pass

@put_in_list
def function2():
    pass
<END>
<QUE>
How do I use Logging in the Django Debug Toolbar?
<ANS>
import logging

logging.debug('Debug Message')

if some_error:
   logging.error('Error Message')
<END>
<QUE>
How to use multiprocessing together with multithreading?
<ANS>
import multiprocessing
import os
import time

import cherrypy

def run_in_sub_proc(size):
    for i in range(size):
        print os.getpid(), i
        time.sleep(1)

pool = multiprocessing.Pool(2)

class Root(object):
    @cherrypy.expose
    def index(self):
        pool.map_async(run_in_sub_proc, (3, 5))

if __name__ == '__main__':
    cherrypy.engine.subscribe('stop', pool.join)
    cherrypy.quickstart(Root())
<END>
<QUE>
Generating values from Normal distribution using Box-Muller method
<ANS>
numpy.random.normal()
<END>
<QUE>
how to map url with usernames prefixed?
<ANS>
host = request.host
host = host.split(':', 1)[0] # Strip off optional ':##' port number
username = None
if host.endswith('.yourdomain.com'):
    username = host.split('.', 1)[0]
<END>
<QUE>
Is there a way to unzip automatically with pg_restore?
<ANS>
if ext == 'gz':
   command = 'gunzip -c {} -k | pg_restore -U {} -h {} -p {}' \
             '-d {}'.format(file, user, server, port, new_dbname)
elif ext == 'bz2':
   command = 'bunzip2 -c {} -k | pg_restore -U {} -h {} -p {}' \
             '-d {}'.format(file, user, server, port, new_dbname)
elif ext == 'zip':
   command = 'unzip -p {} | pg_restore -U {} -h {} -p {} ' \
             '-d {}'.format(file, user, server, port, new_dbname)
else:
   command = 'pg_restore -U {} -h {} -p {} -d {} {}'.format(user,
                server, port, new_dbname, file)
<END>
<QUE>
How to pass a list to R in rpy2 and get result back
<ANS>
#!/usr/bin/python
import rpy2.robjects as robjects

l = [1,2,3,4,5]

# get ks.test via execute string as R statement
test = robjects.r('ks.test')
# get a built-in functions variables directly
pexp = robjects.r.pexp

l_vector = robjects.IntVector(l)
result = test(l_vector, pexp)
print result[result.names.index('p.value')]
<END>
<QUE>
Multiline comments in Python
<ANS>
'''
This is a multiline
comment.
'''
<END>
<QUE>
Swap two random values in dictionary
<ANS>
key1, key2 = random.sample(list(d), 2)
d[key1], d[key2] = d[key2], d[key1]
<END>
<QUE>
intersection of three sets in python?
<ANS>
set(thingList1) & set(thingList2) & set(thingList3)
<END>
<QUE>
python: merging dictionaries by identical value of key
<ANS>
import copy
if 'career_business' in add_sal and 'career_business' in add_perc and \
      add_sal['career_business'] == add_perc['career_business']:
   add_all = copy.deepcopy( add_sal )
   add_all['percent'] = add_perc['percent']
<END>
<QUE>
In python, what's the most efficient way to combine 3 dicts and to sort by one of the dict's keys?
<ANS>
sorted(itertools.chain(list1.itervalues(), list2.itervalues(),
    list3.itervalues()), key=operator.itemgetter('timestamp'))
<END>
<QUE>
How do I search for an executable file using python in linux?
<ANS>
import os
import stat

executable = stat.S_IEXEC | stat.S_IXGRP | stat.S_IXOTH
for filename in os.listdir('.'):
    if os.path.isfile(filename):
        st = os.stat(filename)
        mode = st.st_mode
        if mode & executable:
            print(filename,oct(mode))
<END>
<QUE>
How to use float ** in Python with Swig?
<ANS>
from ctypes import * 

your_dll = cdll.LoadLibrary("your_dll.dll") 

PFloat = POINTER(c_float) 
PInt   = POINTER(c_int) 

p_data    = PFloat() 
p_classes = PInt() 
buff      = create_string_buffer(1024) 
n1        = c_int( 0 ) 
n2        = c_int( 0 ) 

ret = your_dll.read_data( buff, byref(n1), byref(n2), byref(p_data), byref(p_classes) ) 

print('Data:    ', p_data.contents) 
print('Classes: ', p_classes.contents)
<END>
<QUE>
Python, code a number with exponential decimal notation
<ANS>
a = 10e-50
<END>
<QUE>
How can I create a dictionary in python from a txt file?
<ANS>
from collections import defaultdict
d = defaultdict(dict)
for line in open('input_file','r'):
    line = line.strip()
    a,b = line.split(',')
    node = a.split('=')[1] 
    key, value = b.split('=')
    d[node][key] = value
<END>
<QUE>
How to make a smaller list of tuples from a large list of tuples?
<ANS>
b = a[:20]
<END>
<QUE>
Flask: Get URLs for each View class in module
<ANS>
rules = app.url_map._rules
for rule in rules:
    print rule.endpoint, rule, rule.defaults
<END>
<QUE>
Python Request Module To Add Header to CDN URL Using Token
<ANS>
headers = {
    "X-Auth-Token": "dddddsssb04411b4c6a2",
    "Access-Control-Allow-Origin": "*",
}
r = requests.post("https://verylong/url", headers=headers)
<END>
<QUE>
How to create a checksum of a file in python
<ANS>
import hashlib
[(fname, hashlib.md5(open(fname, 'rb').read()).digest()) for fname in fnamelst]
<END>
<QUE>
PyQt4 Image as Background
<ANS>
QWidget#Form {background-image: url(test.jpg);}
<END>
<QUE>
Accessing non-zero elements in specific row of matrix in python
<ANS>
for r in range(rows):
    A[r,B[r,:]!=0] = np.dot(B[r , B[r,:]!=0], C[: , B[r,:]!=0].T)
<END>
<QUE>
Parsing TCL lists in Python
<ANS>
re.compile('(?<=}})\s+(?={{)')
<END>
<QUE>
Parsing a website with Python
<ANS>
import urllib2
from bs4 import BeautifulSoup
url = urllib2.urlopen("http://www.example.com/").read()
soup = BeautifulSoup(url)
for line in soup.find_all('a'):
        print(line.get('href'))
<END>
<QUE>
How to generate a sequence of future datetimes in Python and determine nearest datetime from set
<ANS>
def find_next(cur_dt):
    import datetime as dt
    t = [dt.time(5,30), dt.time(8,30), dt.time(13,0), dt.time(17,30)]

    cur_t = cur_dt.time()
    cur_d = cur_dt.date()

    for i in range(len(t)):
        if t[i] > cur_t:
            rt = [t[(j+i)%len(t)] for j in range(len(t))]
            rd = [cur_d] * (len(t)-i) + [cur_d + dt.timedelta(days=1)]*i
            return [dt.datetime.combine(rd[j],rt[j]) for j in range(len(rt))]

    # everything happens tomorrow        
    return [dt.datetime.combine(cur_d + dt.timedelta(days=1), i) for i in t]
<END>
<QUE>
python: calculate center of mass
<ANS>
import numpy
masses = numpy.array([[0,  0,  0,  0],
[0,  1,  0,  0],
[0,  2,  0,  0],
[1,  0,  0,  0],
[1,  1,  0,  1],
[1,  2,  0,  1],
[2,  0,  0,  0],
[2,  1,  0,  0],
[2,  2,  0,  0]])

nonZeroMasses = masses[numpy.nonzero(masses[:,3])] # Not really necessary, can just use masses because 0 mass used as weight will work just fine.

CM = numpy.average(nonZeroMasses[:,:3], axis=0, weights=nonZeroMasses[:,3])
<END>
<QUE>
python, subprocess: launch new process when one (in a group) has terminated
<ANS>
from multiprocessing import Pool, cpu_count

# ...
all_files = ["file%d" % i for i in range(5)]


def process_file(file_name):
    # process file
    return "finished file %s" % file_name

pool = Pool(cpu_count())

# this is a blocking call - when it's done, all files have been processed
results = pool.map(process_file, all_files)

# no more tasks can go in the pool
pool.close()

# wait for all workers to complete their task (though we used a blocking call...)
pool.join()


# ['finished file file0', 'finished file file1',  ... , 'finished file file4']
print results
<END>
<QUE>
Use Selenium to enter search text into Google
<ANS>
driver.find_element_by_id()
<END>
<QUE>
UnboundLocalError: local variable referenced before assignment
<ANS>
waitTime=0.5

def is_ava():
    global waitTime  # <--------
    waitTime = waitTime + 0.1
    print waitTime

if __name__ == '__main__':
    is_ava()
<END>
<QUE>
Google Data Transfer API in Python
<ANS>
google-api-python-client
<END>
<QUE>
Make django admin logEntry read only?
<ANS>
from django.contrib.admin.models import LogEntry

class LogEntryAdmin(admin.ModelAdmin):
    readonly_fields = ('content_type', 'user', 'action_time')

admin.site.register(LogEntry, LogEntryAdmin)
<END>
<QUE>
Multidimensional array to multidimensional tuple
<ANS>
tuple(tuple(tuple(l2) for l2 in l1) for l1 in inner_loop)
<END>
<QUE>
1-level down crawling using scrapy
<ANS>
from scrapy.contrib.spiders import CrawlSpider, Rule
from scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor
from scrapy.selector import Selector
from scrapy.http import Request

class people(CrawlSpider):
  name="people"
  allowed_domains=["http://blog.sina.com.cn/"]
  start_urls=["http://blog.sina.com.cn/s/blog_53d7b5ce0100e7y0.html"]
  rules=(Rule(SgmlLinkExtractor(allow=("http://blog.sina.com.cn/",)),  callback='parse_item', follow=True),
#restrict the crawling in the articalContent section only
  Rule(SgmlLinkExtractor(restrict_xpaths=('//div[contains(@class, "articalContent")]'))),
  )

  def parse(self,response):
      links = Selector(text=response.body).xpath('//div[contains(@class, "articalContent")]//a//text()')
      for link in links:
          print link.extract()
<END>
<QUE>
Sending a list of arrays to a For loop
<ANS>
apples = [red, green]
for type in apples:
    for item in type:
        print item
<END>
<QUE>
Look up a tuple in a python dictionary matching (x,y) or (y,x)
<ANS>
d = {frozenset((1,2)): "foo"}
print d.get(frozenset((2,1)))
<END>
<QUE>
Python: Import Data from Open Office calc with lxml
<ANS>
import zipfile
from lxml import etree

z = zipfile.ZipFile('mydocument.ods')

data = z.read('content.xml')
data = etree.XML(data)

etree.dump(data)
<END>
<QUE>
How do I show a list of processes for the current user using python?
<ANS>
import subprocess

ps = subprocess.Popen('ps -ef', shell=True, stdout=subprocess.PIPE)
print ps.stdout.readlines()
<END>
