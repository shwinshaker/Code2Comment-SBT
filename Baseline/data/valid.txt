<QUE>
Pandas - resample a DataFrame by half-hourly frequency
<ANS>
P.resample('30min')
<END>
<QUE>
Does anyone know how i can half fill my circles to white?
<ANS>
from graphics import *

def redCircles():
    win = GraphWin("Patch2" ,100,100)
    for x in (10, 30, 50, 70, 90):
        for y in (10, 30, 50, 70, 90):
            c = Circle(Point(x,y), 10)
            d = Circle(Point(x,y), 10)
            if x in (30, 70):
                r = Rectangle(Point(x - 10, y), Point(x + 10, y + 10))                
            else:
                r = Rectangle(Point(x - 10, y- 10), Point(x, y + 10))
            c.setFill("red")
            d.setOutline("red") 
            r.setFill("white")
            r.setOutline('white')
            c.draw(win)
            r.draw(win)
            d.draw(win)

if __name__=='__main__':
    redCircles()
<END>
<QUE>
How to dynamically fill a selectbox / dropdownbox in a form using web.py?
<ANS>
# Create copy of the form
form = myform()

# Append the dropdown to the form elements.
form.inputs = tuple(list(form.inputs) + [mydropdown])
<END>
<QUE>
Include an subarray in array in python
<ANS>
car = [
    ["Brand", "Citroen"],
    ["Model", "C4"],
    ["Details", "Lounge"],
    ["shift",
        [
            ["manual","5", "shifts"],
            ["automatic","5", "sequential"],
            ["automatic","5", "paddleshift"]
        ]
    ]
]

print(car)
<END>
<QUE>
Defining a proper __repr__ in Python
<ANS>
from collections import Counter

def __repr__(self):
    counter = Counter(self.data)
    items = ', '.join('%s (%s)' % (name, count) for name, count in counter.iteritems())
    return "<Bag: '{}' with {} >".format(self.name, items)
<END>
<QUE>
multiprocessing apply_async strange behaviour with multiprocessing queue
<ANS>
import time
import multiprocessing

def multi_thread(files):
    m = multiprocessing.Manager()
    q = m.Queue()

    for f in files:
        q.put(f)

    p = multiprocessing.Pool(5)
    for i in range(5):
        p.apply_async(worker_test, args=(i, q))

    p.close()
    p.join()

def worker_test(i, q):
    print 'hello'
    print i

def main():
    files = ['a', 'b', 'c', 'd']

    multi_thread(files[0:4])

if __name__ == '__main__':
    main()
<END>
<QUE>
Forex data from Quandl with Pandas
<ANS>
data = Quandl.get('CURRFX/GPBUSD')
<END>
<QUE>
Accept permission request in chrome using selenium
<ANS>
--disable-user-media-security
<END>
<QUE>
Print range of numbers on same line
<ANS>
for x in xrange(1, 10):
    print x,
<END>
<QUE>
How to generate examples of a gettext plural forms expression? In Python?
<ANS>
# -*- Mode: Python -*-
# vi:si:et:sw=4:sts=4:ts=4

p = "Plural-Forms: nplurals=3; plural=n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2;
"

# extract rule
import re
matcher = re.compile('plural=(.*);')
match = matcher.search(p)
rule = match.expand("\\1")

# convert rule to python syntax
oldrule = None
while oldrule != rule:
    oldrule = rule
    rule = re.sub('(.*)\?(.*):(.*)', r'(\1) and (\2) or (\3)', oldrule)

rule = re.sub('&&', 'and', rule)
rule = re.sub('\|\|', 'or', rule)

for n in range(40):
    code = "n = %d" % n
    print n, eval(rule)
<END>
<QUE>
Setting a pandas index or transposing
<ANS>
df = data[['Age', 'FG', 'FGA', '3P', '3PA']]
<END>
<QUE>
Human-readable binary data using Python
<ANS>
import sys

d = {}
for line in sys.stdin:
    parts = line.split("=",2)
    if len(parts) < 2:
        continue
    k = parts[0].strip()
    v = parts[1].strip()
    d[k] = v

print d['CENTRAL_BODY']
<END>
<QUE>
Python: two list iteration inside for loop for index
<ANS>
for i in xrange(len(list_1)-1):
    l1 = list_1[:]
    l2 = list_2[:]
    var_list_1_1 = l1.pop(i)
    var_list_1_2 = l1
    var_list_2_1 = l2.pop(i)
    var_list_2_2 = l2
<END>
<QUE>
ORM query with or statement
<ANS>
User.query.filter(User.id.in_([1, 5, 12, 4]))
<END>
<QUE>
Returning random element from a Python array based on search criteria
<ANS>
from random import choice

a = [[0,1,0],[0,1,1],[1,0,1]]
mylist = []

[[mylist.append((i,j)) for j, x in enumerate(v) if x == 1] for i, v in enumerate(a)]
print(choice(mylist))
<END>
<QUE>
How use decimal in a label with IntVar on tkinter
<ANS>
from tkinter import *
v=Tk()
v.geometry("400x400")
a= IntVar()
# round function simply rounds the var upto given number of decimal places in the function argument
a.set(round(5.494949,2))

l=Label(textvariable= a)
l.pack()
<END>
<QUE>
How do I set permissions (attributes) on a file in a ZIP file using Python's zipfile module?
<ANS>
buffer = "path/filename.zip"  # zip filename to write (or file-like object)
name = "folder/data.txt"      # name of file inside zip 
bytes = "blah blah blah"      # contents of file inside zip

zip = zipfile.ZipFile(buffer, "w", zipfile.ZIP_DEFLATED)
info = zipfile.ZipInfo(name)
info.external_attr = 0777 << 16L # give full access to included file
zip.writestr(info, bytes)
zip.close()
<END>
<QUE>
Testing if all values in a numpy array are equal
<ANS>
numpy.array_equal(a1, a2)
<END>
<QUE>
Confused with recursive functions in python
<ANS>
def add(a, b):
    if a == 0 and b ==0:
       return 0
    elif b == 0 and a>= 0:
       return 1 +add(a-1, 0)
    elif a ==0 and b>= 0:
       return 1 + add(0, b-1)
    else: return 2 + add(a-1, b-1)
<END>
<QUE>
Copy each line of file1 into every other line of file2 (Python)
<ANS>
import contextlib
import os

filenames = ['a','b','c','d','e']
output_file = 'fred'

# setup files for test
for filename in filenames:
    with open(filename, 'w') as fp:
        for i in range(10):
            fp.write('%s %d
' % (filename, i))
if os.path.exists('fred'):
    os.remove('fred')

# open all the files and use zip to interleave the lines    
with open(output_file, 'w') as out_file, contextlib.ExitStack() as in_files:
    files = [in_files.enter_context(open(fname)) for fname in filenames]
    for lines in zip(*files):
        # if you're not sure last line has a 

        for line in lines:
            out_file.write(line)
            if not line.endswith('
'):
                out_file.write('
')
        # if you are sure last line has a 

        # out_file.write(''.join(lines))

print(open('fred').read())
<END>
<QUE>
Can I remove a single value from a dictionary?
<ANS>
d = {1: [2, 3, 4, 7], 2: [1, 3, 4]}

d[1].remove(2)

print(d)

# {1: [3, 4, 7], 2: [1, 3, 4]}
<END>
<QUE>
Override __import__ in python
<ANS>
Servers=[]

''' Servers Metaclass that handles addition of servers to the list '''
class MetaServer(type):
    def __init__(self, name, bases, attrs):
        self.name = name.capitalize()
        Servers.append(self)
        super(MetaServer, self).__init__(name, bases, attrs)

class ServerBase:
    __metaclass__ = MetaServer
    name='' #name of the specific server class, for each server class

    def __init__(self):
        self.connected = False
<END>
<QUE>
speeding up parsing of files
<ANS>
import ast

# find field types
for row in csv.DictReader(my_csvfile, delimiter=delimiter):
    break
else:
    assert 0, "no rows to process"
cast = {}
for k, v in row.iteritems():
    for f in (int, float, ast.literal_eval):
        try: 
            f(v)
            cast[k] = f
            break
        except (ValueError, SyntaxError):
            pass
    else: # no suitable conversion
        cast[k] = lambda x: x.decode(encoding)

# read data
my_csvfile.seek(0)

data = [dict((k.decode(encoding), cast[k](v)) for k, v in row.iteritems())
        for row in csv.DictReader(my_csvfile, delimiter=delimiter)]
<END>
<QUE>
How do I assign a variable to a Tkinter input?
<ANS>
def fetch(entries):
   filename = ''.join(entries[f].get() for f in fields)
   print(filename)
   #whatever you want to do with the result
<END>
<QUE>
I want to call the element inside a tuple of tuples for my function
<ANS>
def vencedor_linha(t):
    tl1=(t[0],t[1],t[2])
    tl2=(t[3],t[4],t[5])
    tl3=(t[6],t[7],t[8])
    tl=(tl1,tl2,tl3)
    for row in tl:
        if all(x == 'X' for x in row) or all(x == 'O' for x in row):
            return True
    return False
<END>
<QUE>
How to use a localized "short format" when formatting dates in Django?
<ANS>
{{ your_date_value|date:"SHORT_DATE_FORMAT" }}
<END>
<QUE>
Changing fontsize in python subplots
<ANS>
fig = plt.figure(figsize=(6,6)) # 6x6 image

ax = plt.gca()       #SubplotZero(fig,111,) #Plot arrows over figure

#fig.add_subplot(ax) # Plot arrows over figure

# Plot both nulcines on same graph

plt.axis((0,1,0,1))
ax.set_title('v = 1',fontweight="bold", size=20) # Title
ax.set_ylabel('Active Wee1', fontsize = 20.0) # Y label
ax.set_xlabel('Active Cdc2-cyclin B', fontsize = 20) # X label
plt.plot (NulclineXX,Nulclinevalues, label = " Cdc2 nulcline",c = 'r')
plt.plot (Nulclinevalues,NulclineYY, label = "Wee1 nulcline",c = '#FF8C00')

ax.quiver(x,y,X,Y,M) # plot quiver plot on graph
ax.grid(True) # Show major ticks    
ax.legend(handletextpad=0,loc='upper right') # Plot legend

plt.show() # Show plot
<END>
<QUE>
3D plots using maplot3d from matplotlib-
<ANS>
import matplotlib.pyplot as plt
import mpl_toolkits.mplot3d.axes3d as axes3d
import numpy as np

x = np.arange(6)
y = np.linspace(0, 11, 50)
z = x[:, np.newaxis] + y**2

fig = plt.figure()
ax = fig.add_subplot(1, 1, 1, projection = '3d')
for xval, zrow in zip(x, z):
    ax.plot(xval*np.ones_like(y), y, zrow, color = 'black')
plt.show()
<END>
<QUE>
Binning/grouping a dataset of geographic coordinates
<ANS>
# X= your Geo Array

# Standardize features by removing the mean and scaling to unit variance
X = StandardScaler().fit_transform(X)

# Compute DBSCAN
db = DBSCAN(eps=0.3, min_samples=3).fit(X)

# HERE
# eps -- The maximum distance between two samples 
#  for them to be considered as in the same neighborhood.
# min_samples -- The number of samples in a neighborhood for a point 
#  to be considered as a core point.

core_samples = db.core_sample_indices_
labels = db.labels_

# Number of clusters in labels, ignoring noise if present.
n_clusters_ = len(set(labels)) - (1 if -1 in labels else 0)
<END>
<QUE>
adding tooltips to line plots in bokeh
<ANS>
line(x, y)
circle(x, y, size=8, alpha=0)
<END>
<QUE>
Python Tkinter probelm using with ubuntu server
<ANS>
import matplotlib
import matplotlib.pyplot

# force headless backend, or set 'backend' to 'Agg'
# in your ~/.matplotlib/matplotlibrc
matplotlib.use('Agg')

# force non-interactive mode, or set 'interactive' to False
# in your ~/.matplotlib/matplotlibrc
matplotlib.pyplot.ioff()
<END>
<QUE>
Scrapy incoming anchor text link
<ANS>
response.meta.get('link_text')
<END>
<QUE>
Python depth of elements in heap using heapq
<ANS>
import heapq

def huffman_depths(frequencies):
    depths = [0] * len(frequencies)

    heap = [(f, [i]) for i, f in enumerate(frequencies)]
    heapq.heapify(heap)

    while len(heap) > 1:
        f1, indexes1 = heapq.heappop(heap)         # pop two least frequent nodes
        f2, indexes2 = heapq.heappop(heap)

        frequency = f1 + f2                        # combine them
        indexes = indexes1 + indexes2

        for i in indexes:
            depths[i] += 1                         # increment depth count of each index

        heapq.heappush(heap, (frequency, indexes)) # push the combined result back on

    return depths
<END>
<QUE>
How do I use Python to prevent a file from being copied?
<ANS>
os.chmod
<END>
<QUE>
How to write a dictionary with multiple keys, each with multiple values to a csv in Python?
<ANS>
import csv

cla_1results = {
    "Tom": [1, 7, 4],
    "Dunc": [3, 9, 4],
    "Jack": [1, 3, 5]
}

with open("test.csv", 'w+') as file:
    writer = csv.writer(file)

    for name in cla_1results:
        writer.writerow([name, ] + [i for i in cla_1results[name]])
<END>
<QUE>
Using CV2 in Python to find two instances of image within image
<ANS>
y1,x1 = np.unravel_index(result.argmax(),result.shape)
<END>
<QUE>
How do I write data to disk in UTF-8 encoding in Python?
<ANS>
data = urlopen(uri).read().decode(encoding)
f = open(file_name, 'wb')
f.write(data.encode('utf-8'))
f.close()
<END>
<QUE>
PyQt4 and Python 3 - Display an image from URL
<ANS>
import sys
from PyQt4 import QtGui
import urllib.request

class Example(QtGui.QWidget):

    def __init__(self):
        super(Example, self).__init__()

        self.initUI()

    def initUI(self):
        hbox = QtGui.QHBoxLayout(self)

        url = 'http://www.google.com/images/srpr/logo1w.png'
        data = urllib.request.urlopen(url).read()

        image = QtGui.QImage()
        image.loadFromData(data)

        lbl = QtGui.QLabel(self)
        lbl.setPixmap(QtGui.QPixmap(image))

        hbox.addWidget(lbl)
        self.setLayout(hbox)

        self.show()

def main():

    app = QtGui.QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())


if __name__ == '__main__':
    main()
<END>
<QUE>
How to access User model through django.contrib
<ANS>
settings.AUTH_USER_MODEL
<END>
<QUE>
python database implementation
<ANS>
def dbset(self, name, value):
    self.transaction.append((name, self.database.get(name)))
    self.database[name]=value

def rollback(self):
    # undo all changes
    while self.transaction:
        name, old_value = self.transaction.pop()
        self.database[name] = old_value

def commit(self):
    # everything went fine, drop undo information
    self.transaction = []
<END>
<QUE>
How do you remove the column name row from a pandas DataFrame?
<ANS>
df.to_csv('filename.csv', sep=',' , header=False , index=False)
<END>
<QUE>
django render to xml like html
<ANS>
def get_response(self, context=None):
        self.template_context.update(context)
        return render_to_response(self.template_name, self.template_context,
                                 content_type=self.response_type)
<END>
<QUE>
how to upper case every other word in string in python
<ANS>
string = "Here is my dog"

def alternateUppercase(s):
    i = 0
    a = s.split(' ')
    l = []
    for w in a:
        if i:
            l.append(w.upper())
        else:
            l.append(w)
        i = int(not i)
    return " ".join(l)

print alternateUppercase(string)
<END>
<QUE>
fast way to return the key based on dictionary value in python
<ANS>
for key1, val1 in dict1.iteritems():
        for key2,val2 in dict2.iteritems():
            if key1 == val2:
                print key2
<END>
<QUE>
Can I use a string as a named argument in python
<ANS>
td = timedelta(**{my_var: 5})
<END>
<QUE>
Test if a class is inherited from another
<ANS>
self.assertTrue( issubclass(QuizForm, forms.Form) )
<END>
<QUE>
Check the installation date of Windows XP
<ANS>
import _winreg as reg
from datetime import datetime

key = reg.OpenKey(reg.HKEY_LOCAL_MACHINE, r'SOFTWARE\Microsoft\Windows NT\CurrentVersion')
secs = reg.QueryValueEx(key, 'InstallDate')[0] # This is stored as a UNIX timestamp
date = datetime.fromtimestamp(secs)
<END>
<QUE>
Finding out which module is setting the root logger
<ANS>
import logging
import sys
import traceback
def tracer(func):
    def new_func(*args, **kwargs):
        try:
            traceback.print_stack(sys.stderr)
        except:
            traceback.print_exc(sys.stderr)
        return func(*args, **kwargs)
    return new_func
old_addHandler = logging.root.addHandler
logging.root.addHandler = tracer(old_addHandler)

# run your code
<END>
<QUE>
How to embed a terminal in a Tkinter application?
<ANS>
from Tkinter import *
import os

root = Tk()
termf = Frame(root, height=400, width=500)

termf.pack(fill=BOTH, expand=YES)
wid = termf.winfo_id()
os.system('xterm -into %d -geometry 40x20 -sb &' % wid)

root.mainloop()
<END>
<QUE>
Check is a tuple with a value is in a list in python
<ANS>
any(a == 'Mary' for a, b in tuples) # check if any tuple has a name equal to Mary
<END>
<QUE>
How to limit lenght of a complicated line in Python?
<ANS>
from datetime import datetime

dt = datetime.fromtimestamp(int(stats_dict["db_update"]))
print("DB Updated: " + dt.strftime('%a %b %d %H:%M:%S %Y'))
<END>
<QUE>
Pandas replace non-zero values
<ANS>
df[df != 0] = value
<END>
<QUE>
Python Socket Programming: Application freezes when connecting to a server
<ANS>
conn.recv(2048)
<END>
<QUE>
Assign help() to a variable
<ANS>
from pydoc_data import topics

a = topics.topics['class']
print a
<END>
<QUE>
how do you include a csrf token when testing a POST endpoint in django?
<ANS>
def test_post_endpoint(self):
   data = {'hello':'23'}
   c = Client() #above, from django.test import TestCase,Client
   #optional, but may be necessary for your configuration: c.login("username","password")
   response = c.post('/api/project',params=data)
   self.assertEqual(response.status_code, 200)
<END>
<QUE>
Matplotlib wrong colorbar assigned to subplot
<ANS>
cb = colorbar(im, ax=ax, orientation='vertical')
<END>
<QUE>
Separating arrays with numpy to plot with matplotlib in python
<ANS>
x1= A[:,0][:4]
x2= A[:,0][4:]
c0= A[:,1]
y_meas1= A[:,2][:4]       
y_meas2= A[:,2][4:]

plt.plot(x1,y_meas1,'-b') 
plt.plot(x2,y_meas2,'-g') 

plt.title('Reaction') 
plt.legend(['Data1', 'Data2'], loc='lower right')
plt.show()
<END>
<QUE>
How to pythonically get the max of a numpy argwhere function
<ANS>
A = np.argwhere(bins<data)
print A[np.r_[A[1:,0] != A[:-1,0], True]]
<END>
<QUE>
Pyqt Gui Freezes while in loop
<ANS>
QtCore.QCoreApplication.processEvents()
<END>
<QUE>
Cannot convert base 64 enocded graphic into canvas background
<ANS>
try:
    import Tkinter as tk     ## Python 2.x
except ImportError:
    import tkinter as tk     ## Python 3.x


grape_gif='''\
R0lGODlhIAAgALMAAAAAAAAAgHCAkC6LV76+vvXeswD/ANzc3DLNMubm+v/6zS9PT6Ai8P8A////
/////yH5BAEAAAkALAAAAAAgACAAAAS00MlJq7046803AF3ofAYYfh8GIEvpoUZcmtOKAO5rLMva
0rYVKqX5IEq3XDAZo1GGiOhw5rtJc09cVGo7orYwYtYo3d4+DBxJWuSCAQ30+vNTGcxnOIARj3eT
YhJDQ3woDGl7foNiKBV7aYeEkHEignKFkk4ciYaImJqbkZ+PjZUjaJOElKanqJyRrJyZgSKkokOs
NYa2q7mcirC5I5FofsK6hcHHgsSgx4a9yzXK0rrV19gRADs=
'''
master=tk.Tk()
master.geometry("100x100")
photo=tk.PhotoImage(data=grape_gif)

canvas=tk.Canvas(master)
canvas.grid()
canvas.create_image(0, 0, image=photo, anchor="nw")

master.mainloop()
<END>
<QUE>
Append DataFrame to an Index Pandas
<ANS>
cov = {}
ind_lev_1 = [str(round(q,2)) for q in quantiles]
ind_lev_2 = states
index = pd.MultiIndex.from_product([ind_lev_1, ind_lev_2], names=['QUANTILE', 'STATE'])
columns = pd.Index(ind_lev_2, name='STATE')

for tpd in time_periods:
    cov[tpd] = pd.DataFrame(index=index, columns=columns)
    for q in quantiles:
        q = str(round(q,2))
        cov[tpd].loc[(q,), :] = cov_var(arr=data_for_q, means=pop_means_for_q)
<END>
<QUE>
counting column values in pandas
<ANS>
dictionary = {'Year': [1985, 1985, 1986, 1986, 1987, 1987, 1987]}
pdf = pd.DataFrame(dictionary)
gb = pdf.groupby('Year')['Year'].count()
<END>
<QUE>
cp copy in wxPython spaces
<ANS>
ret = os.system('cp -fr "%s" "%s"' % (src_abs_path, dst_abs_path))
<END>
<QUE>
Representing Hierarchical Data in Tastypie
<ANS>
class Category(MPTTModel):
    descr = models.CharField(max_length=200)
    parent = TreeForeignField('self', null=True, related_name='children')

class CategoryResource(ModelResource):
    category = fields.ToOneField('self', 'parent', full=True, null=True)

    # Rest of your Resource class
<END>
<QUE>
How can I analyze a file created with pstats.dump_stats(filename) off line?
<ANS>
#!/usr/local/bin/python2.7
# -*- coding: UTF-8 -*-
"""analyze_dmp.py takes the file INFILEPATH [a pstats dump file] Producing OUTFILEPATH [a human readable python profile]
Usage:   analyze_dmp.py INFILEPATH  OUTFILEPATH
Example: analyze_dmp.py stats.dmp   stats.log
"""
import sys, os
import cProfile, pstats, StringIO

def analyze_dmp(myinfilepath='stats.dmp', myoutfilepath='stats.log'):
    out_stream = open(myoutfilepath, 'w')
    ps = pstats.Stats(myinfilepath, stream=out_stream)
    sortby = 'cumulative'

    ps.strip_dirs().sort_stats(sortby).print_stats(.3)  # plink around with this to get the results you need

NUM_ARGS = 2
def main():
    args = sys.argv[1:]
    if len(args) != NUM_ARGS or "-h" in args or "--help" in args:
        print __doc__
        s = raw_input('hit return to quit')
        sys.exit(2)
    analyze_dmp(myinfilepath=args[0], myoutfilepath=args[1])

if __name__ == '__main__':
    main()
<END>
<QUE>
Should this be solved using a subset sum algorithm
<ANS>
from itertools import combinations
import numpy as np

candy = [ ["snickers", 150.5], ["mars", 130.3], ["choc", 10.0]]

n = len(candy)
ww = np.array([c[1] for c in candy]) # extract weights of candys
idx = np.arange(n) # list of indexes

iidx,sums = [],[]
# generate all possible sums with index list
for k in range(n):
    for ii in combinations(idx, k+1):
        ii = list(ii) # convert tupel to list, so it can be used as a list of indeces
        sums.append(np.sum(ww[ii]))
        iidx.append(ii)
sums = np.asarray(sums)
ll = np.where(np.abs(sums-160.5)<1e-9)  # filter out values which match 160.5

# print results
for le in ll:
    print([candy[e] for e in iidx[le]])
<END>
<QUE>
Google QPX Express API with Python
<ANS>
import urllib2
import json

url = "https://www.googleapis.com/qpxExpress/v1/trips/search?key=XXX"
code = {
  "request": {
    "passengers": {
      "kind": "qpxexpress#passengerCounts",
      "adultCount": 1,
    },
    "slice": [
      {
        "kind": "qpxexpress#sliceInput",
        "origin": "DCA",
        "destination": "NYC",
        "date": "2015-11-20",
      }
    ],
    "refundable": "false",
    "solutions": 5
  }
}
jsonreq = json.dumps(code, encoding = 'utf-8')
req = urllib2.Request(url, jsonreq, {'Content-Type': 'application/json'})
flight = urllib2.urlopen(req)
response = flight.read()
flight.close()
print(response)
<END>
<QUE>
How to use multiple where varibles in my sql select statement in python?
<ANS>
"My name is %s.  Your name is %s." % ("Sam", "Joe")
<END>
<QUE>
how to use tempfile.NamedTemporaryFile() in python
<ANS>
tf = tempfile.NamedTemporaryFile(delete=False)
<END>
<QUE>
Python - convert a list in an array
<ANS>
import numpy as np

wtf = ['"442116.503118","442116.251106"',
     '"442141.502863","442141.247462"']

to_list = []

for nest1 in wtf:
    nest2 = nest1.split(',')
    for each in nest2:
        to_list.append(float(each.strip('"')))

to_array = np.asarray(to_list)
<END>
<QUE>
How can i print and return a value from a function in python?
<ANS>
def exe(a,b):
    if a == b:
        print(1)
        return 1
<END>
<QUE>
How to mock a class from a third party library using Mocker
<ANS>
from mocker import Mocker
mocker = Mocker()
commandGen = cmdgen.CommandGenerator()
commandGenMock = mocker.patch(commandGen)
commandGenMock.doSomething()
mocker.replay()
<END>
<QUE>
How to save an embedded object in GAE?
<ANS>
oder.customer           = customer.key
<END>
<QUE>
Auto-bind scope variables in a closure
<ANS>
def make_closure():
  x = 123
  l = locals()
  return lambda(varname): eval(varname, None, l)

closure = make_closure()
print closure("x") # 123
<END>
<QUE>
How to highlight Python modules that are not used in Emacs
<ANS>
flycheck-verify-setup
<END>
<QUE>
Python creating a game help, (lists)
<ANS>
validMoves = [item for item in pegholes if item != PEGGED]
<END>
<QUE>
How to fix localflavor deprecation warning in django 1.5?
<ANS>
import warnings
warnings.filterwarnings('ignore', r"django.contrib.localflavor is deprecated")
<END>
<QUE>
How do I iterate in Python?
<ANS>
total = 0
for i in range(10):
    total += int(input("
Enter price here: "))
grand_total = 18 * total / 100 + total
print("
The total amount will equal to", grand_total, "(with 18% V.A.T)")
<END>
<QUE>
How to stop the ball in Pong ball game
<ANS>
self.parent.stop_serve()
<END>
<QUE>
Join Recarrays by attributes in Python
<ANS>
dct = dict(zip(data2['causes'], data2['analyst']))
all_data = mlab.rec_append_fields(data1, 'analyst',
    [dct[x] for x in data1['causes']])
<END>
<QUE>
Is it efficient to perform individual, nested if statements?
<ANS>
def caught_speeding(speed, is_birthday):
    adjustment = 5 if is_birthday else 0
    if speed <= 60 + adjustment:
        return 0
    elif speed <= 80 + adjustment:
        return 1
    else:
        return 2
<END>
<QUE>
Hide window title bar in pygtk
<ANS>
self.get_window().set_decorations(Gdk.WMDecoration.BORDER)
<END>
<QUE>
How can I count the number of instances per a queryset? Django
<ANS>
X.number_of_people = X.people_set.all().count()
<END>
<QUE>
How can I align text in a cell to the top with openpyxl?
<ANS>
sheet.cell("A1").style.alignment.vertical = "top"
<END>
<QUE>
Log-in to a website using Google, Facebook or Twitter accounts with Python
<ANS>
import twitter

# Remember to put these values
api = twitter.Api(consumer_key="",
                  consumer_secret="",
                  access_token_key="",
                  access_token_secret="")

# Get your timeline
print api.GetHomeTimeline()
<END>
<QUE>
Recursion in Python without using a local/internal variable
<ANS>
def function(x):
    if(x != 1):
        function(x / 2)
    print x
<END>
<QUE>
Regex Question: How can I check if any of values in list are matched?
<ANS>
import re
bad_words = ["stupid", "idiot"]
regex = re.compile("|".join(re.escape(word) for word in bad_words), re.IGNORECASE)
print regex.search('youareanidiot').group()

# prints "idiot"
<END>
<QUE>
Django - Checking for two models if their primary keys match
<ANS>
setts.objects.filter(data_parsed_setid__isnull=True)
<END>
<QUE>
Make this line pylint correct
<ANS>
if(re.search("USN:.*MediaRenderer", datagram, flags=re.IGNORECASE)):
    deviceXML = re.search("LOCATION:(.*.xml)",
                          datagram, 
                          flags=re.IGNORECASE).group(1)
<END>
<QUE>
Python XML parsing and default NS
<ANS>
NS_MAP = {"rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
        "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
        "art": "http://simile.mit.edu/2003/10/ontologies/artstor#",
        "foaf": "http://xmlns.com/foaf/0.1/",
        "dcterms": "http://purl.org/dc/terms/",
        "sioc": "http://rdfs.org/sioc/ns#",
         "oa": "http://www.openannotation.org/ns/"}
#short hands the ns
RDF = "{%s}" % NS_MAP['rdf']
RDFS = "{%s}" % NS_MAP['rdfs']
ART = "{%s}" % NS_MAP['art']
FOAF = "{%s}" % NS_MAP['foaf']
DCTERMS = "{%s}" % NS_MAP['dcterms']
SIOC = "{%s}" % NS_MAP['sioc']
OA = "{%s}" % NS_MAP['oa']
<END>
<QUE>
Does sliced array leave a tuple? Need to use array slice as integer but int() won't work
<ANS>
(1, 2)[1:]
#>>> (2,)

(1, 2)[1]
#>>> 2
<END>
<QUE>
Pygame waiting the user to keypress a key
<ANS>
def wait():
    while True:
        for event in pygame.event.get():
            if event.type == QUIT:
                pygame.quit()
                sys.exit()
            if event.type == KEYDOWN and event.key == K_f:
                return
<END>
<QUE>
Converting a mixture of gaussians to PyMC3
<ANS>
with pm.Model() as model:
    #priors
    p = pm.Uniform( "p", 0 , 1) #this is the fraction that come from mean1 vs mean2

    ber = pm.Bernoulli( "ber", p = p, shape=len(data)) # produces 1 with proportion p.

    sigma = pm.Uniform('sigma', 0, 100)
    precision = sigma**-2

    mean = pm.Normal( "mean", 0, 0.01, shape=2 )

    mu = pm.Deterministic('mu', mean[ber])

    process = pm.Normal('process', mu=mu, tau=precision, observed=data)

with model:
    step1 = pm.Metropolis([p, sigma, mean])
    step2 = pm.BinaryMetropolis([ber])
    trace = pm.sample(10000, [step1, step2])
<END>
<QUE>
Show histogram in Python from dataframe
<ANS>
d = {'gender' : Series(['M', 'F', 'F', 'F', 'M']),'year' : Series([1900, 1910, 1920, 1920, 1920])}
df = DataFrame(d)

grouped = df.groupby('gender').year
grouped.plot(kind='hist',legend=True)
<END>
<QUE>
Datetime axis spacing
<ANS>
import datetime
import matplotlib.pyplot as plt

dates = [datetime.date(2002, 3, 11) - datetime.timedelta(days=x) for x in range(0, 10)]
yvalues = [2, 4, 1,7,9,2, 4, 1,7,9]
errorvalues = [0.4, 0.1, 0.3,0.4, 0.1,.4, 0.1, 0.3,0.4, 0.1]

fig = plt.figure() 
ax = fig.add_subplot(1, 1, 1)
ax.errorbar(dates,yvalues,yerr=errorvalues,fmt='.') 
ax.margins(x=0.05)
fig.autofmt_xdate()

plt.show()
<END>
<QUE>
Unable to select radio button with selenium in Python
<ANS>
from selenium import webdriver

URL = 'http://kolkata.quikr.com/post-classifieds-ads/?postadcategoryid=971'

driver = webdriver.Firefox()
driver.get(URL)

inputBHK = driver.find_element_by_id("No_of_Rooms_newpap")
inputBHK.click()

container = driver.find_element_by_id("No_of_Rooms_l4Attr_RadioBox_div")
input1BHK = container.find_element_by_xpath(".//label[1]")
input1BHK.click()
<END>
<QUE>
regex and finite depth non escaped parenthesis matching
<ANS>
INNER = r"(?:\\{|\\}|[^{}])"
<END>
<QUE>
while converting linked list to number value error raising
<ANS>
def list_to_number(head):
    p = True
    final_number = ''
    for number in head:
        n = number if number > 0 else -number
        final_number = int(str(final_number) + str(n))

    return final_number if p else -final_number
<END>
<QUE>
Accessing elements of a python list separated by a special character
<ANS>
a = ['NEW:kim:OPERATOR', 'DELETE:joe:USER_ROLE_GUEST']
a[0].split(":")[0] # returns NEW
<END>
<QUE>
How to use multiple options with the .format() function in Python
<ANS>
print("this is a {:>30.2f} test ".format(2.345345345345))
<END>
<QUE>
Convert string to list of bits and viceversa
<ANS>
def tobits(s):
    result = []
    for c in s:
        bits = bin(ord(c))[2:]
        bits = '00000000'[len(bits):] + bits
        result.extend([int(b) for b in bits])
    return result

def frombits(bits):
    chars = []
    for b in range(len(bits) / 8):
        byte = bits[b*8:(b+1)*8]
        chars.append(chr(int(''.join([str(bit) for bit in byte]), 2)))
    return ''.join(chars)
<END>
<QUE>
Concurrency control in Django model
<ANS>
def save(self, *args, **kwargs):
    if self.version != self.read_current_version():
        raise ConcurrentModificationError('Ooops!!!!')
    super(MyModel, self).save(*args, **kwargs)
<END>
<QUE>
Not enough argument for format string while importing csv into MySQL database
<ANS>
for row in csv_data:
    data=row[0].split('\t')
    if len(data) < 4: continue
    query="""insert into newsletter_subscriber (id, name, email) values 
      (%d, '%s', '%s')""" %(int(data[0]), data[1], data[2])
    cursor.execute(query)
<END>
<QUE>
Subsetting a string based on particular values
<ANS>
import re

datex = re.compile('(19|20)\d\d-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])')

xl = """
0    United States; 2004 - present           None
1          2004-01-04 - 2004-01-10             23
2          2004-01-11 - 2004-01-17             23
3          2004-01-18 - 2004-01-24             23

    617        2015-10-25 - 2015-10-31         24
 618        2015-11-01 - 2015-11-07         25
 619        2015-11-08 - 2015-11-14         26
 620        2015-11-15 - 2015-11-21           
 621                     Spokane WA         20
 622                    New York NY         20
"""

dates = []
for ln in xl.splitlines():
    if datex.search(ln):
       dates.append(ln)
<END>
<QUE>
How to strip newlines from each line during a file read?
<ANS>
with open('words.txt') as f:
    words = [word.strip() for word in f]
<END>
<QUE>
python csv find text in file and then find a specific column
<ANS>
import csv
with open("/tmp/database.txt", 'r') as file:
  reader = csv.reader(file)
  third_where_pineapple = [line[2] for line in reader if line[0] == 'pineapple']
  print (third_where_pineapple)
<END>
<QUE>
Getting 'pred_table' information for predicted values of a model in 'statsmodels'
<ANS>
import numpy as np
pred = np.array(mod_fit.predict(test) > threshold, dtype=float)
table = np.histogram2d(test.Y, pred, bins=2)[0]
<END>
<QUE>
Django - writing an hebrew string
<ANS>
# -*- coding: utf-8 -*-
<END>
<QUE>
sending application/x-protobuf file in python
<ANS>
re.sub('"http://.*?"','"http://some other url"' ,data)
<END>
<QUE>
PyQt / Qt, tableview with custom delegate to use ellipsis for text overflowing cell
<ANS>
painter.setClipRect(textRect.translated(-textRect.topLeft()))
<END>
<QUE>
Scrapy - Scrape multiple URLs using results from the first URL
<ANS>
def parse(self, response):
    # Get the list of URLs, for example:
    list = ["http://a.com", "http://b.com", "http://c.com"]

    for link in list:
        request = scrapy.Request(link)
        yield request
<END>
<QUE>
How can a custom icon be used in an image menu item?
<ANS>
img = gtk.Image()
img.set_from_file(filename)
new = gtk.ImageMenuItem(gtk.STOCK_NEW, 'New')
new.set_image(img)
<END>
<QUE>
Matplotlib plot with variable line width
<ANS>
from matplotlib.collections import LineCollection
x=linspace(0,4*pi,10000)
y=cos(x)
lwidths=1+x[:-1]
points = np.array([x, y]).T.reshape(-1, 1, 2)
segments = np.concatenate([points[:-1], points[1:]], axis=1)
lc = LineCollection(segments, linewidths=lwidths,colors='blue')
fig,a = plt.subplots()
a.add_collection(lc)
a.set_xlim(0,4*pi)
a.set_ylim(-1.1,1.1)
fig.show()
<END>
<QUE>
Get all nodes of particular name in lxml?
<ANS>
tree = etree.parse(open('./test.xml'))
reviews = tree.findall(".//Review")
<END>
<QUE>
How to create mongoengine filter query from fields listed as string rather DocumentFields
<ANS>
_query = {'Id__istartswith': value}
return Q(**_query)
<END>
<QUE>
Set color to be used for an array masked values plotted with matplotlib contourf
<ANS>
x,y=meshgrid(linspace(0,1),linspace(0,1))
fig=plt.figure()
a=fig.add_subplot(111,axisbg='gray')
z=ma.masked_array(x**2-y**2,mask=y>-x+1)
a.contourf(z)
<END>
<QUE>
Python: load words from file into a set
<ANS>
set(line.strip() for line in open('filename.txt'))
<END>
<QUE>
remove del tag with BeautifulSoup
<ANS>
for d in soup.findAll('del'):
  d.decompose()
<END>
<QUE>
How to install Python's flup on Windows for Apache? (to make web.py work)
<ANS>
web.wsgi.runwsgi = lambda func, addr=('127.0.0.1', 8080): web.wsgi.runfcgi(func, addr)
<END>
<QUE>
Send multiple file attachments with Mailgun in Python
<ANS>
import requests

print requests.post("https://api.mailgun.net/v2/samples.mailgun.org/messages",
                    auth=("api", "key-3ax6xnjp29jd6fds4gc373sgvjxteol0"),
                    files=[("attachment", open("files/test.jpg")),
                           ("attachment", open("files/test.txt"))],
                    data={"from": "Excited User <me@samples.mailgun.org>",
                          "to": "foo@example.com",
                          "cc": "baz@example.com",
                          "bcc": "bar@example.com",
                          "subject": "Hello",
                          "text": "Testing some Mailgun awesomness!",
                          "html": "<html>HTML version of the body</html>"})
<END>
<QUE>
How do I convert GAE TimeProperty to integer?
<ANS>
import time
value = time.time()
<END>
<QUE>
Return words with double consecutive letters
<ANS>
def text_processing( file_location ):
    import re
    file_variable = open( file_location )
    lines = file_variable.readlines()

    double_letter = re.compile(r'.*(.)\1.*', re.IGNORECASE)
    double_letter_list = []

    for line in lines:
        for word in line.split(" "):
            match = double_letter.match(word)
            if match:
                double_letter_list.append(match.group())

    print double_letter_list
<END>
<QUE>
How to get the nth element of a python list or a default if not available
<ANS>
x[index] if len(x) > index else default
<END>
<QUE>
Python / Remove special character from string
<ANS>
re.sub('[^a-zA-Z0-9-_*.]', '', my_string)
<END>
<QUE>
Overwrite import, show names of modules importing a module
<ANS>
import inspect
last_frame = inspect.stack()[1]
print 'Module imported from file:line_no = %s:%i' % last_frame[1:3]
<END>
<QUE>
Python: How to monitor status of multiple Python processes running in Windows Scheduler
<ANS>
import wmi
c = wmi.WMI ()

for process in c.Win32_Process ():
    print process.ProcessId, process.Name, process.Status
<END>
<QUE>
Python 3 Tkinter - Disabling buttons out of order code
<ANS>
from tkinter import *
root = Tk()

class StopWatch(Frame):
    def __init__(self, parent=None, **kw):
        Frame.__init__(self, parent, kw)
        self.on = 1
        TimeAdjustLabel = LabelFrame(root, text='Frame',)
        TimeAdjustLabel.grid(column=0, row=1, padx=10, pady=10)
        self.b1 = Button(TimeAdjustLabel, text='Reset', width=10, command=lambda:self.Start(self.on))
        self.b1.grid(row=0, column=0)

    def Start(self, onoff):
        if onoff == 0:
            onoff = 1
        else: 
            onoff = 0
        self.enable(onoff)


    def enable(self,enableonoff):
        if enableonoff == 0:
            self.b1.configure(state='disabled')
        else: 
            self.b1.configure(state='normal')

def main():
    app = StopWatch(root)
    root.mainloop()

if __name__ == '__main__':
    main()
<END>
<QUE>
Comparing Equality of Vectors as a Dictionary
<ANS>
def equal(u, v):
   if u.D != v.D: return False  # domains must be equal
   return all(u.f.get(x, 0) == v.f.get(x, 0) for x in u.D)
<END>
<QUE>
Python: raw image data to grayscale
<ANS>
import numpy as np
import matplotlib.pyplot as plt


if __name__=='__main__':

    rows = 144
    columns = 175

    camera_image = np.loadtxt(r'path/to/filename')
    if(not camera_image.size == rows * columns):
        raise Exception('Size mismatch!')

    my_image = np.reshape(camera_image, (rows, columns)) / 255.0

    figure = plt.figure()
    axes = figure.add_subplot(1, 1, 1)

    axes.imshow(my_image)

    plt.show()
<END>
<QUE>
Can Python generate a random number that excludes a set of numbers, without using recursion?
<ANS>
import random
numbers = range(a,b) + range(c,d)
r = random.choice(numbers)
<END>
<QUE>
calling a method/function from a class variable
<ANS>
class Foo:

   def run(self):
      responses = [func(self) for func_name, func in Foo.foo_dict.items()]

   def foo1(self):
      return True

   def foo2(self):
      return False

   foo_dict = {'foo1':foo1,'foo2':foo2}
<END>
<QUE>
decode JSON in python
<ANS>
class obj2(object):
    def __init__(self, v1, v2, obj1):
        self.v1 = v1
        self.v2 = v2
        if type(obj1) is dict:
            self.obj1 = obj1(**obj1)
        else:
            self.obj1 = obj1
<END>
<QUE>
Pass each element of a list to a function that takes multiple arguments in Python?
<ANS>
zip(*a)
<END>
<QUE>
Python update dictionary based on key value pair
<ANS>
import itertools
main = [
{'country': u'CYPRUS', 'naziv': 'AKEL', 'FCI': 2}, 
{'country': u'CYPRUS', 'naziv': 'DIKO', 'FCI': 4}, 
]
second = [
{'likes': '8625.00', 'talks': '1215.00', 'naziv': 'AKEL'}, 
{'likes': '2746.00', 'talks': 0, 'naziv': 'DIKO'}, 
]


lst = sorted(itertools.chain(main,second), key=lambda x:x['naziv'])
list_c = []
for k,v in itertools.groupby(lst, key=lambda x:x['naziv']):
    d = {}
    for dct in v:
        d.update(dct)
    list_c.append(d)
print list_c
<END>
<QUE>
Using global variable for option passing?
<ANS>
import sys

class MyClass:

    def __init__(self, arg):
        self.arg = arg

    def fn1(self):
        return self.fn2() # just as a simple example which calls other functions

    def fn2(self):
        return self.fn3()

    def fn3(self):
        return self.fn4()

    def fn4(self):
        return self.fn5()

    def fn5(self):
        return self.arg


def main():
    m = MyClass(arg=sys.argv[1])
    print m.fn1() # prints output based on command line argument


if __name__ == '__main__':
    main()
<END>
<QUE>
Recursive Python function to count occurrences of an element in a list
<ANS>
def recursiveCount(lst,key):
    if lst == []: #base case
        return 0
    if lst[0] == key:
        return 1 + recursiveCount(lst[1:],key)
    else:
        return 0 + recursiveCount(lst[1:],key)

print recursiveCount(['a','b','a'],'a') #prints 2
<END>
<QUE>
How to select some urls with BeautifulSoup?
<ANS>
from BeautifulSoup import BeautifulSoup
import urllib

soup = BeautifulSoup(urllib.urlopen("http://www.ilrg.com/nlj250/"))

rows = soup.findAll(name='tr',attrs={'class':'small'})
for row in rows:
    number = row.find('td').text
    tds = row.findAll(name='td',attrs={'align':'left'})
    link = tds[0].find('a')['href']
    firm = tds[0].text
    office = tds[1].text
    attorneys = tds[3].text
    partners = tds[4].text
    associates = tds[5].text
    salary = tds[6].text
    print number, firm, office, attorneys, partners, associates, salary
<END>
<QUE>
Append value into list and make inner list
<ANS>
list_of_lists = [ [b, input('What label?')] for b in my_bag ]
<END>
<QUE>
How to translate list to integers with python
<ANS>
g_weeks =  ['platform', 'week 47', 'week 48', 'week 49', 'week 50']

nums = []
for week in g_weeks:
    words = week.split()
    try:
        nums.append(int(words[-1]))
    except ValueError:
        pass

print nums  -- [47, 48, 49, 50]
<END>
<QUE>
How do I check if a string with a user given input is equal to a certain letter/ word in Python
<ANS>
while (userin!="c" or low == high):
    userin = raw_input()
<END>
<QUE>
Passing a list of values to a function
<ANS>
function( ['this', 'is', 'a', 'list', 'of', 'words'] )
<END>
<QUE>
Restrict type of elements of list
<ANS>
class Movie(object):
    """ A movie, thing to spend a few hours
        watching, then a few hours hating yourself
        over watching it. """

    def __init__(self, name, year):
        self.name = name
        self.year = year

    def __str__(self):
        return '{} ({})'.format(self.name, self.year)

movie_collection = [Movie('Titanic', 1997), Movie('Showgirls', 1995)]
for movie in movie_collection:
     print(movie)
<END>
<QUE>
Django Many to Many Query Set Filter
<ANS>
for author in Author.objects.filter(post__isnull=False):
    print author
<END>
<QUE>
Copying contents of a model
<ANS>
object = Emp.objects.get(pk=profile.id)
object.save(force_insert=True)
<END>
<QUE>
Get file name only (without extension and directory) from file path
<ANS>
ntpath.basename(filepath).split('.')[0]
<END>
<QUE>
Python regex for integers combination from 01000 to 95999
<ANS>
import collections
codes = collections.defaultdict(list)
for line in open('code_postaux_v201410.csv'):
    if not line[:1].isdigit():
        continue
    row = line.strip().split(';')
    codes[row[2]]+= [row[1].strip()]

def test_failures(regexp):
    r = re.compile(regexp)
    return [code for code in codes if not r.match(code)]

len(test_failures(r'^((0[1-9]{1})|([1-8]{1}[0-9]{1})|9[0-5]{1})[0-9]{3}$'))
# 283 !

# not ideal, because it does not guarantee the input to be an existing one
len(test_failures(r'^0[1-9]|[1-8][0-9]|9[0-8]|2A|2B[0-9]{3}$'))
# but at least no miss!
<END>
<QUE>
Python pointer to unicode string
<ANS>
GetString(pbasename, -1, ASCSTR_UNICODE)
<END>
<QUE>
Write one tag with its content of xml file into other xml file python
<ANS>
f.write(ElementTree.tostring(i))
<END>
<QUE>
python scientific notation with forced leading zero
<ANS>
a = 1234567890e12
A = str(a)
exp = A.find('e+')
converted = '0.' + A[0] + A[2:exp] + 'e+' + str(int(A[exp+2:])+1)
<END>
<QUE>
I need Selenium to open it's web browser in a larger resolution ( preferably maximized)
<ANS>
driver = webdriver.Firefox()

# Resize the window to the screen width/height
driver.set_window_size(300, 500)

# Move the window to position x/y
driver.set_window_position(200, 200)
<END>
<QUE>
How do I merge two lists into a single list?
<ANS>
[j for i in zip(a,b) for j in i]
<END>
<QUE>
How to split the string into segments in python
<ANS>
import re
your_string = '<python><regex><split>'
parts = re.findall(r'<.+?>', your_string)  
print parts # ['<python>', '<regex>', '<split>']
<END>
<QUE>
how to solve this factorial
<ANS>
result = 1
for f in factors:
    result *= f

print result
<END>
<QUE>
Social Security Number Check - Python
<ANS>
SSN = raw_input("enter SSN (ddd-dd-dddd):")
chunks = SSN.split('-')
valid=False
if len(chunks) ==3: 
   if len(chunks[0])==3 and len(chunks[1])==2 and len(chunks[2])==4:
       valid=True
print valid
<END>
<QUE>
extract item from list of dictionaries
<ANS>
[d for d in a if d['name'] == 'pluto']
<END>
<QUE>
Upload images and metadata to public Amazon S3 bucket with Python requests
<ANS>
import requests

url = 'http://my-public-bucket.s3.amazonaws.com/'
files = {
    'key': ('', 'test/test.jpg'),
    'file': open('test.jpg', 'rb'),
}

r = requests.post(url, files=files)
<END>
<QUE>
Remove duplicates from the list of dictionaries
<ANS>
new_d = []
for x in d:
    if x not in new_d:
        new_d.append(x)
<END>
<QUE>
Django queryset with extra filter
<ANS>
qs = super(PrescriptionTrendListView,self).get_queryset().extra(select={'month': truncate_date})
<END>
<QUE>
In Python, how to compare two lists and get all indices of matches?
<ANS>
[([int(item1 == item2) for item2 in list2], [n for n, item2 in enumerate(list2) if item1 == item2]) for item1 in list1]
<END>
<QUE>
Python, Accurately splitting sentences
<ANS>
import re

text = "your text here. i.e. something."
sentences = re.split(r'(?<!\w\.\w.)(?<![A-Z][a-z]\.)(?<=\.|\?)\s', text)
<END>
<QUE>
Python - writing in a file from an infinity loop
<ANS>
open("logfile.txt", "a")
<END>
<QUE>
How to I return JSON in flask python fetched from another url to the browser?
<ANS>
import requests
r = requests.get(QUERY_URL)
return r.json

#normal return
return jsonify(username=g.user.username,
               email=g.user.email,
               id=g.user.id)
<END>
<QUE>
Returning values from event handler function wxPython
<ANS>
def OnClick (self, event=None):
    if event==None: return self.LastMousePosition
    self.LastMousePosition = event.GetMousePosition()

pos = OnClick()
<END>
<QUE>
How to remove non-ascii infected rows in my csv
<ANS>
import csv, sys

filename = sys.argv[1]
csvfile = open(filename, 'r')
csvreader = csv.DictReader(csvfile)
rows = []
for row in csvreader:
  try:
      row['keywords'].decode('ascii')
      rows.append(row) 
  except UnicodeDecodeError:
      pass

print rows
<END>
<QUE>
How to read some csv files in a folder in python
<ANS>
import pandas as pd
df = pd.concat([pd.read_csv('file%d.csv' % x) for x in range(1,41)])
df.to_csv('output.csv')
<END>
<QUE>
Shuttle control in wxPython
<ANS>
# in your init method
self.Bind(wx.EVT_LISTBOX_DCLICK, self.EvtListBoxDClick, self.mainlist)


# the callback
def EvtListBoxDClick(self, event):
     self.otherlist.Append(self.mainlist.GetSelection())
     self.mainlist.Delete(self.lb1.GetSelection())
<END>
<QUE>
Django filebrowser - resize before upload
<ANS>
from filebrowser import signals

def pre_upload_callback(sender, **kwargs):
    """
    Receiver function called before an upload starts.
    """
    print "Pre Upload Callback"
    print "kwargs:", kwargs
    # your code HERE
signals.filebrowser_pre_upload.connect(pre_upload_callback)
<END>
<QUE>
Read a file and output new files containing subsets of main file
<ANS>
with open("path/to/file.txt","r") as f:
    d = {}
    for line in f:
        content,gene  = line.strip().split()
        if d.has_key(gene):
            d[gene].append(content)
        else:
            d[gene] = []
            d[gene].append(content)

    for key,value in d.iteritems():
        f = open("path/to/destination/{}.txt".format(key), "w")
        for item in value:    
            f.write("{}
".format(item))
        f.close()
<END>
<QUE>
String manipulation in Python
<ANS>
s = """A' B F2 E' B2 A2 C' D2 C D' E2 F"""

L = s.split(' ')

for i in xrange(len(L)):
  if len(L[i]) == 1:
    L[i] += 'x'

str_out = ' '.join(L)
<END>
<QUE>
Write image to Windows clipboard in python with PIL and win32clipboard?
<ANS>
from cStringIO import StringIO
import win32clipboard
from PIL import Image

def send_to_clipboard(clip_type, data):
    win32clipboard.OpenClipboard()
    win32clipboard.EmptyClipboard()
    win32clipboard.SetClipboardData(clip_type, data)
    win32clipboard.CloseClipboard()

filepath = 'image.jpg'
image = Image.open(filepath)

output = StringIO()
image.convert("RGB").save(output, "BMP")
data = output.getvalue()[14:]
output.close()

send_to_clipboard(win32clipboard.CF_DIB, data)
<END>
<QUE>
Saving data from MySQL table to a text file with Python
<ANS>
import MySQLdb

db = MySQLdb.connect(host="", user="", passwd="", db="")
cursor = db.cursor()
sql = """SELECT DISTINCT keywords FROM keywords"""
tweets = open("keywords.txt", "w")
for row in cursor.execute(sql):
   print>>tweets, row[0]
tweets.close()
db.close()
<END>
<QUE>
How To Capture Output of Curl from Python script
<ANS>
import httplib
conn = httplib.HTTPConnection("www.python.org")
conn.request("GET", "/index.html")
r1 = conn.getresponse()
print r1.status, r1.reason
<END>
<QUE>
Can a MySQL connector be shared between objects?
<ANS>
def getConnectionPool():
    config = {
                "user":"user", 
                "password":"password", 
                "host":"localhost", 
                "port":"12345", 
                "database":"database"
              }
    pool = mysql.connector.pooling.MySQLConnectionPool(pool_name="MyPool", pool_size=10, **config)
    return pool

def getAllObjects():
    pool = getConnectionPool()
    newObject = NewObject(pool)

class NewObject(object):
    def __init__(self, pool):
        self.conn = pool.get_connection()
        # cursor, etc.
<END>
<QUE>
Python regular expression that matches floating point numbers
<ANS>
r'[+-]?(\d+(\.\d*)?|\.\d+)([eE][+-]?\d+)?'
<END>
<QUE>
Python Web application: Refresh values
<ANS>
def get_sensor_output():
    #
    # Lot of initialisation... forget that part
    #

    accel_xout = read_word_2c(0x3b)
    accel_yout = read_word_2c(0x3d)
    accel_zout = read_word_2c(0x3f)
    afs_sel = read_word_2c(0x28)
    LSB_afs_sel = 16384.0

    accel_xout_sc = accel_xout / LSB_afs_sel
    accel_yout_sc = accel_yout / LSB_afs_sel
    accel_zout_sc = accel_zout / LSB_afs_sel

    i2c_output = str(accel_xout_sc) + str(accel_yout_sc) + str(accel_zout_sc)

    return i2c_output

class Index:
  def GET(self):
    return get_sensor_output()
<END>
<QUE>
How to run SVN commands from a python script?
<ANS>
p = subprocess.Popen("svn info svn://xx.xx.xx.xx/project/trunk | grep \"Revision\" | awk '{print $2}'", stdout=subprocess.PIPE, shell=True)
(output, err) = p.communicate()
print "Revision is", output
<END>
<QUE>
AWS S3 CORS upload - file size control
<ANS>
content-length-range
<END>
<QUE>
2 plots on same matrix
<ANS>
self.ax.imshow(arr+are.T,cmap=plt.cm.Greys_r, interpolation='none')
<END>
<QUE>
Python regex: find lines where period is missing in
<ANS>
re.compile('''WHERE [^.]+ =''')
<END>
<QUE>
Create crontab with python-crontab in Python?
<ANS>
#!/bin/python 

from crontab import CronTab

cron = CronTab(user=True)

job = cron.new(command='python3 /opt/my_script.py')
job.minute.on(2)
job.hour.on(12)

cron.write()
<END>
<QUE>
Python: Find string in line based on lookup
<ANS>
# open file and parse values
with open('values.csv') as f:                                               
    searches = [x.split(',')[1] for x in f.read().splitlines()]

# function to check string
def checkString(text):
    # iterate over searches and check each one
    for search in searches:
        if search in text:
            return True
    return False
<END>
<QUE>
Writing to a specific row without overwriting others
<ANS>
f = open(file, 'a').write(what)
<END>
<QUE>
Is it possible to override the property setter of a super class without needing to redefine the property
<ANS>
class Eggs(Spam):
    @Spam.foo.setter
    def foo(self, foo):
        self.bar = ' '.join(['Egg\'s foo:', foo])
<END>
<QUE>
Python - Countdown timer within a tkinter canvas
<ANS>
from tkinter import *
root = Tk()
canvas = Canvas(root)
canvas.pack()
time = 60
def tick():
    # You have to clear the canvas each time the clock updates 
    # (otherwise it writes on top of the old time).  Since the
    # time is the only thing in the canvas, delete(ALL) works
    # perfectly (if it wasn't however, you can delete the id
    # that goes with the clock).
    canvas.delete(ALL)
    # I have to declare time as a global because I'm not using
    # a class (otherwise, I could do something like self.time -= 1)
    global time
    time -= 1
    # You can place the time wherever in the canvas
    # (I chose 10,10 for the example)
    canvas.create_text(10, 10, text=time)
    if time == 0:
        do_something()
    else:
        canvas.after(1000, tick)
canvas.after(1, tick)
root.mainloop()
<END>
<QUE>
python running count of values in dict
<ANS>
from collections import Counter


d = {1:'Bob',2:'Joe',3:'Bob', 4:'Bill', 5:'Bill'}


c = Counter()
new_d = {}

for k in sorted(d.keys()):
    name = d[k]
    c[name] += 1;  
    new_d[k] = [name, c[name]]

print(new_d)  
# {1: ['Bob', 1], 2: ['Joe', 1], 3: ['Bob', 2], 4: ['Bill', 1], 5: ['Bill', 2]}
<END>
<QUE>
drawing a diagonal ellipse with pygame
<ANS>
import pygame, sys

screen = pygame.display.set_mode((1024, 640))

running = True

#let's create a surface to hold our ellipse:
surface = pygame.Surface((320, 240))

red = (180, 50, 50)
size = (0, 0, 300, 200)

#drawing an ellipse onto the 
ellipse = pygame.draw.ellipse(surface, red, size)

#new surface variable for clarity (could use our existing though)
#we use the pygame.transform module to rotate the original surface by 45?
surface2 = pygame.transform.rotate(surface, 45)

while running:
    screen.fill((255, 250, 200))
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            pygame.quit()
            sys.exit()
    screen.blit(surface2, (100, 100))
    pygame.display.update()
<END>
<QUE>
OAuth2 client that works on App Engine
<ANS>
import oauth2 as oauth

# Create your consumer with the proper key/secret.
consumer = oauth.Consumer(key="your-twitter-consumer-key", 
    secret="your-twitter-consumer-secret")

# Request token URL for Twitter.
request_token_url = "http://twitter.com/oauth/request_token"

# Create our client.
client = oauth.Client(consumer)

# The OAuth Client request works just like httplib2 for the most part.
resp, content = client.request(request_token_url, "GET")
print resp
print content
<END>
<QUE>
Creating a specifically formatted JSON file from a CSV
<ANS>
import csv

summary = {}
with open('test.csv', 'rb') as data_file:
    reader = csv.reader(data_file)
    for itemid, value, action in reader:
        if itemid not in summary:
            summary[itemid] = dict(id=itemid, label=[value], meta={'action': action})
        else:
            summary[itemid]['label'].append(value)

data = {"topics": list(summary.values())}
<END>
<QUE>
In python is there a way to use the windows explorer to create a file path which can then be returned as a string?
<ANS>
import Tkinter, tkFileDialog

root = Tkinter.Tk()

x = tkFileDialog.askopenfilename() # Can pass optional arguments for this...

root.destroy()
<END>
<QUE>
In Python, identify parts of an e-mail address
<ANS>
import email.utils
map(email.utils.parseaddr, email_list)
<END>
<QUE>
Python sort unique list of lists' items
<ANS>
a = []
for q in sorted((set(q) for q in sort), key=len, reverse=True):
    if not any(q.issubset(Q) for Q in a):
        a.append(q)
a = [list(q) for q in a] # Back to lists, if you want
<END>
<QUE>
Pandas - Stacked horizontal barchat for timeline?
<ANS>
fig, ax = plt.subplots()
df.plot(kind='barh', stacked=True, ax=ax)
ax.set_yticklabels(['A', 'B', 'C', 'D', 'E', 'F'])
time = pd.date_range(start=pd.to_datetime('07:00', format='%H:%M'), end=pd.to_datetime('13:00', format='%H:%M'),freq='H')
time_x = [dt.strftime('%H:%M') for dt in time]
ax.set_xticklabels(time_x)
fig.autofmt_xdate()
plt.show()
<END>
<QUE>
Anyone know where I can download a zipped Python distribution?
<ANS>
import tarfile; tarfile.open('Python-3.1.1.tar.bz2').extractall()
<END>
<QUE>
Python: comprehension to compose two dictionaries
<ANS>
result = {k: d2.get(v) for k, v in d1.items()}
<END>
<QUE>
For good style, should you surround a mathemtical operator with a space when it's inside as an argument?
<ANS>
foo_bar = bar[i - 3][j + 2]
z = foobar(y=i-1, z=k+2)
<END>
<QUE>
Common title to many subplots in Matplotlib
<ANS>
pyplot.suptitle
<END>
<QUE>
Replacing a single color in PIL?
<ANS>
#!/usr/bin/python
from PIL import Image
import sys

img = Image.open(sys.argv[1])
img = img.convert("RGBA")

pixdata = img.load()

# Clean the background noise, if color != white, then set to black.

for y in xrange(img.size[1]):
    for x in xrange(img.size[0]):
        if pixdata[x, y] == (255, 255, 255, 255):
            pixdata[x, y] = (0, 0, 0, 255)
<END>
<QUE>
Use variable in variable name
<ANS>
for i in range(1, 256):
    name = "key{}".format(i)
    print globals()[name]
<END>
<QUE>
Key as Value and Value as Key
<ANS>
notes = {
    1: 'C',
    2: 'D',
    3: 'E',
    4: 'F',
    5: 'G',
    6: 'A',
    7: 'B'
}


notes.update({v:k for k,v in notes.iteritems()})

print(notes)
{'A': 6, 1: 'C', 2: 'D', 3: 'E', 4: 'F', 5: 'G', 6: 'A', 7: 'B', 'F': 4, 'C': 1, 'G': 5, 'B': 7, 'E': 3, 'D': 2}
print(notes["C"])
print(notes[1])
1
C
<END>
<QUE>
Pandas time period data type prints as numbers?
<ANS>
subset['Month'] = pd.PeriodIndex(subset['Created On'],freq='M').asobject
<END>
<QUE>
Python 3: some reversed if statement
<ANS>
level = 1 if logging else 0
<END>
<QUE>
PostgreSQL wiht pg8000 - INSERT results from an SQL to another table
<ANS>
cursor.execute("INSERT INTO secondtable VALUES %s" % str(results))
<END>
<QUE>
How can I get TK buttons, generated by a for loop, to pass input to their command? (Python)
<ANS>
import Tkinter as tk

class ButtonEntry(tk.Frame):
    def __init__(self,master,ss):
        tk.Frame.__init__(self)
        self.var=tk.StringVar()
        self.var.set(ss)
        self.Button=tk.Button(self,text='Button',command=lambda :self.var.set("foo!"))
        self.Entry=tk.Entry(self,textvariable=self.var)
        self.Button.grid(row=0,column=0)
        self.Entry.grid(row=0,column=1)


class App(tk.Frame):
    def __init__(self,master=None):
        tk.Frame.__init__(self,master)
        self.BEs=[]
        for i in range(10):
            b=ButtonEntry(self,'Button %d'%i)
            b.grid(row=i,column=0)
            self.BEs.append(b)


if __name__ == '__main__':
    root=tk.Tk()
    f=App(root)
    f.grid(row=0,column=0)
    root.mainloop()
<END>
<QUE>
Subtracting branches of a Binary Number Tree in python
<ANS>
def subt_tree(bnt):
    if not isinstance(bnt,tuple):
        return bnt
    else:
        return subt_tree(bnt[0]) - subt_tree(bnt[1])
<END>
<QUE>
How can I create a copy of an object in Python?
<ANS>
copy.deepcopy()
<END>
<QUE>
Convert value to row index in NumPy array
<ANS>
cat_index = np.searchsorted(categories, A[0])
B[A[1], cat_index] = A[2]
<END>
<QUE>
Giving a pair of numbers as a parameter in Python
<ANS>
def neighbors(point):
    x, y = point
<END>
<QUE>
Parsing timezone in format of "-xx:00"
<ANS>
pytz.FixedOffset(-8*60)
<END>
<QUE>
Reading a Serial Port - Ignore portion of data written to serial port for certain time
<ANS>
while True:
    s.flushInput()
    print s.readline()
    time.sleep(.5)
<END>
<QUE>
turn a list of strings into a list of xyz cooridnates python
<ANS>
points= [list(map(int,v.split())) if v.strip().lower() != "j" else "JUMP" for v in vlist]
<END>
<QUE>
How can I increase the size of a sprite inpygame?
<ANS>
biggrasstile = pygame.transform.scale(grasstile, (16, 16))
<END>
<QUE>
Pandas Plotting with Multi-Index
<ANS>
summed_group.unstack(level=0).plot(kind='bar', subplots=True)
<END>
<QUE>
python save image from url
<ANS>
with open('pic1.jpg', 'wb') as handle:
        response = requests.get(pic_url, stream=True)

        if not response.ok:
            print response

        for block in response.iter_content(1024):
            if not block:
                break

            handle.write(block)
<END>
<QUE>
Printing and formatting results in BeautifulSoup
<ANS>
for links in tmp:
    get  =  links.get('href').find("torrent_download")
    if get != -1:
        print(links.get('href'),  get)
<END>
<QUE>
Compiling Python Extension On Windows With Cygwin
<ANS>
[build]
compiler = mingw32

[build_ext]
compiler = mingw32

[build_clib]
compiler = mingw32
<END>
<QUE>
python Need help placing 'eg' after every vowel in a sentence
<ANS>
import time

def pigsl():
    print()
    print("You said the following:")
    time.sleep(1)
    sentenc = input("Please enter your sentence: ")
    print(sentenc)
    print()
    print("Your new sentence is:")
    senten = news(sentenc)
    time.sleep(1)
    print(senten)

def news(c):
    new=''                         #instead of new=c, just start with an empty string        
    vowels = ('a', 'e', 'i', 'o', 'u')
    for x in c:                    #iterate through the sentence
        if x in vowels:            #if the character is a vowel
            new+=(x+'eg')          #append the vowel + 'eg' to the new empty string
        else:                      #otherwise
            new+=x                 #just append the consonant to the new string
    return new

pigsl()
<END>
<QUE>
Opening and reading UTF-16 files in Python
<ANS>
with open(filename, "rb") as data:
    header = data.read(24)
    text = data.read().decode('utf-16-le')
<END>
<QUE>
How to run periodic celery task manually from terminal in pyramid?
<ANS>
from views.celerytasks.mytask1 import my_mega_task_number_one
my_mega_task_number_one.delay()
<END>
<QUE>
How to do a plot in 1000 pixels?
<ANS>
import matplotlib.pyplot as plt
plt.figure(figsize=(16, 10), dpi=100)
# ... your code
plt.savefig(filename)
<END>
<QUE>
how to confine to write a string in specific list ,on google-app-engine
<ANS>
p = db.StringProperty(choices=set(["aa", "bb", "cc"]))
<END>
<QUE>
Django ORM for select max(field1) from table group by (field2);
<ANS>
Transition.objects.values('instance').annotate(Max('id'))
<END>
<QUE>
Use Python os.walk to identify a list of files
<ANS>
def fileList():
    matches = []
    for root, dirnames, filenames in os.walk(source):
        for filename in filenames:
            if filename.endswith(('.mov', '.MOV', '.avi', '.mpg')):
                matches.append(os.path.join(root, filename))
    return matches
<END>
<QUE>
Extracting Embedded Images From Outlook Email
<ANS>
import win32com.client
from win32com.client import Dispatch

session = Dispatch('MAPI.session')
session.Logon ('Outlook') # this is profile name
inbox = session.Inbox
messages = session.Inbox.Messages 
message = inbox.Messages.GetFirst()

if(message):
    attachments = message.Attachments
    for i in range(attachments.Count):
        attachment = attachments.Item(i + 1) # yep, indexes are 1 based

        filename = "c:\\tmpfile" + str(i)
        attachment.WriteToFile(FileName=filename)
session.Logoff()
<END>
<QUE>
Set cache header of Image when upload to Azure Storage using Python
<ANS>
"max-age=31536000"
<END>
<QUE>
MTM Relationship GAE - NameError
<ANS>
class Task(ndb.Model):
    name = ndb.StringProperty(required=True)
    project = ndb.KeyProperty(kind='Project', repeated=True)
    description = ndb.TextProperty(required=True)
    task_state = ndb.StringProperty(required=True)
<END>
<QUE>
Saving a Numpy array as an image (instructions)
<ANS>
import Image
import numpy as np

data = np.random.random((100,100))

#Rescale to 0-255 and convert to uint8
rescaled = (255.0 / data.max() * (data - data.min())).astype(np.uint8)

im = Image.fromarray(rescaled)
im.save('test.png')
<END>
<QUE>
Using ScraperWiki to get information from a div element
<ANS>
html = r"""<div id="karte_data_aktuelle_temperatur___CHA" class="karte_text_hidden">
    <span style="font-size: 10px;">9.0</span>
    <br/>
</div>"""


from bs4 import BeautifulSoup

soup = BeautifulSoup(html)
elem = soup.find('div')

print elem['id'], 'is the id'
print elem.text, 'is the value' #9.0
<END>
<QUE>
Python : Separating a .txt file into columns and finding the most frequent data item in one of the columns
<ANS>
# returns a df grouped by ArtistID and Tag
tag_counts = artists_tags.groupby(['ArtistID', 'Tag'])
# sum up tag counts and sort in descending order
tag_counts = tag_counts.sum().sort('Count', ascending=False).reset_index()
# keep only the top ranking tag per artist
top_tags = tag_counts.groupby('ArtistID').first()
# top_tags is now a dataframe which contains the top tag for every artist
# We can simply lookup the top tag for Nirvana via it's index:
top_tags.ix['5b11f4ce-a62d-471e-81fc-a69a8278c7da'][0]
# 'Grunge'
<END>
<QUE>
pygame - pixel collision map
<ANS>
e = pygame.event.poll()
if e == pygame.MOUSEBUTTONDOWN:
    pos = e.pos
    # where "screen" is your variable holding the screen surface
    color = screen.get_at((pos))
<END>
<QUE>
list comprehension of a nested for loop
<ANS>
with open('tabdelim.txt') as rows:
    lstcmp = [item for row in rows for item in row.strip().split('\t')]
    print('
'.join(lstcmp))
<END>
<QUE>
Regex is not matching in the way that I want to
<ANS>
re.match(r'^[A-Za-z0-9_-]+$', 'gfds9 41.-=,434')
<END>
<QUE>
Better way to write a JSON file to a DB?
<ANS>
# embed.ly keys which map 1:1 with your database record keys
RESPONSE_KEYS = set([
    'provider_url', 'description', 'title', 'author_name', 'thumbnail_url',
    'thumbnail_width', 'thumbnail_height', 'author_url'
    ])

# mapping from embed.ly's key name to your database record key
KEY_MAP = {
    'url': 'content_url',
    'width': 'width_px',
    'height': 'height_px',
    'type': 'url_type'
    }

url_return = get_oembed(content_url)
record = ContentQueue(submitted_url=content_url)
record.version = 1

# iterate over the response keys and add them to the record
for key_name in url_return.iterkeys():
    key = key_name if key_name in RESPONSE_KEYS else KEY_MAP.get(key_name)
    if key:
        record[key] = url_return[key_name]
<END>
<QUE>
Efficient method for generating lists of large prime numbers
<ANS>
def eratosthenes2(n):
    multiples = set()
    for i in range(2, n+1):
        if i not in multiples:
            yield i
            multiples.update(range(i*i, n+1, i))

print(list(eratosthenes2(100)))
<END>
<QUE>
How to compare items in a python dictionary
<ANS>
from itertools import combinations

Allusers={
    'User1': {'Film1': 'Vote1', 'Film2': 'Vote2'},
    'User2': {'Film1': 'Vote1', 'Film2': 'Vote2'}
}

for comb in combinations(Allusers, 2):
    if Allusers[comb[0]] == Allusers[comb[1]]:
        print '{0} is same with {1}'.format(comb[0], comb[1])
<END>
<QUE>
Extract a zip file in python [zip file contains .img file in it, and zipfile gets stuck]
<ANS>
z = zipfile.ZipFile(file_name)
z.extractall()
<END>
<QUE>
printing JSON values in Python
<ANS>
uv = api_result['data']['40332895']['user_values']
for doc in uv:
    print uv[doc]
<END>
<QUE>
Django: Keep order when translating list to custom dictionary
<ANS>
from collections import OrderedDict

anyname = OrderedDict()
<END>
<QUE>
Python Re, need a list of matches
<ANS>
baseMatch = re.compile('123A[A-Z]{6}')
baseMatch.findall('123AABCDEFxyz123AAABCDExyz')
['123AABCDEF', '123AAABCDE']
<END>
<QUE>
Change Python Tkinter Frame Title
<ANS>
if __name__ == '__main__':
    root = Tk()
    root.title("My Database")
    root.geometry("500x400")
    app = start_window(root)
    root.mainloop()
<END>
<QUE>
How to store URL parameters in GET requests in django?
<ANS>
class TrackView(View):
    def get(self, request):
        try:
            track,_ = Track.objects.get_or_create(domain = request.GET['domain'])
            track.url_name = request.GET['url']
            track.title = request.GET['title']
            track.ip = request.GET['ip']
            track.referrer = request.GET['referrer']
            track.save()
            return HttpResponse(status=200) 
        except KeyError:
            return HttpResponse(status=400)
<END>
<QUE>
count of the multiple values in a dictionary python
<ANS>
sum(len(val) for val in dictionary.itervalues())
<END>
<QUE>
how to concatenate lists in python?
<ANS>
file_content[:10] + [var1] + rss_xml[11:]
<END>
<QUE>
Python: How to read stdout non blocking from another process?
<ANS>
#!/usr/bin/python

import sys
import subprocess

p = subprocess.Popen("""python -c '
from time import sleep ; import sys
for i in range(3):
    sleep(1)
    print "Hello", i
    sys.stdout.flush()
'""", shell = True, stdout = subprocess.PIPE)

while True:
    inline = p.stdout.readline()
    if not inline:
        break
    sys.stdout.write(inline)
    sys.stdout.flush()

print "Done"
<END>
<QUE>
Can't set layout size in Kivy
<ANS>
from kivy.app import App
from kivy.uix.button import Button
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.floatlayout import FloatLayout

class TestApp(App):
    def build(self):
        root = FloatLayout()
        layout = BoxLayout(orientation='vertical', size=(200,200), size_hint=(None, None))
        btn1 = Button(text='Hello', size=(50,50), size_hint=(None, None))
        btn2 = Button(text='World', size=(50,50), size_hint=(None, None))
        layout.add_widget(btn1)
        layout.add_widget(btn2)
        root.add_widget(layout)
        return root
TestApp().run()
<END>
<QUE>
Specific rows from CSV as dictionary and logic when keys are the same - Python
<ANS>
yourdict = dict()

with open(file) as f:
   filedata = f.read().splitlines()
   for line in filedata:
       linedata = line.split()
       if linedata[0] not in yourdict:
           yourdict[linedata[0]] = []
       yourdict[linedata[0]].append(int(linedata[3]))
       yourdict[linedata[0]].append(int(linedata[4]))

for key in yourdict:
    yourdict[key] = [min(yourdict[key]), max(yourdict[key])]
<END>
<QUE>
Python: best/efficient way of finding a list of words in a text?
<ANS>
words = {"this": 0, "that": 0}
for w in text.split():
  if w in words:
    words[w] += 1
<END>
<QUE>
notify user from service with python
<ANS>
import struct

sig = 'hi32s4s32s256shhiii36x'
size = struct.calcsize(sig)
file = open('/var/run/utmp', 'rb')
chunk = file.read(size)
entrys = []
while len(chunk) == size:
    entry = struct.unpack(chunk)
    entrys.append()
    chunk = file.read(size)
<END>
<QUE>
Python Event::wait with timeout gives delay
<ANS>
# Balancing act:  We can't afford a pure busy loop, so we
# have to sleep; but if we sleep the whole timeout time,
# we'll be unresponsive.  The scheme here sleeps very
# little at first, longer as time goes on, but never longer
# than 20 times per second (or the timeout time remaining).
<END>
<QUE>
Appending data to JSON response depending on status code of JSON response
<ANS>
for route, origincoord in izip(results, origincoords):
    if route["status"] == "OK":
        route['routes'][0]['legs'][0][u'_sent_origin'] = origincoord
    else:
        route[u'_sent_origin'] = origincoord
<END>
<QUE>
Python: Using while loop only to return string without the leading zeros
<ANS>
def remove_leading_zeros(s):
    i = 0
    while i < len(s):
        if s[i] == '0':
            # do nothing
            i += 1
        else:
            return s[i:]
<END>
<QUE>
python xml library with similar functionality to json library
<ANS>
xml.etree.ElementTree
<END>
<QUE>
sqlalchemy - reflecting tables and columns with spaces
<ANS>
from sqlalchemy import *
from sqlalchemy.orm import *
from sqlalchemy.ext.declarative import declarative_base, DeferredReflection

Base = declarative_base(cls=DeferredReflection)


e = create_engine("sqlite://", echo=True)
e.execute("""
    create table "user table" (
            "id col" integer primary key,
            "data col" varchar(30)
    )
""")

from sqlalchemy import event

@event.listens_for(Table, "column_reflect")
def reflect_col(inspector, table, column_info):
    column_info['key'] = column_info['name'].replace(' ', '_')

class User(Base):
    __tablename__ = "user table"

Base.prepare(e)

s = Session(e)
print s.query(User).filter(User.data_col == "some data")
<END>
<QUE>
Error uploading image to Google App Engine
<ANS>
class TestBlobModel(ndb.Model):
    img = ndb.BlobProperty()

class Test(webapp2.RequestHandler):
    def get(self):
        image_id = self.request.get('id')
        if image_id:
            m = TestBlobModel.get_by_id(long(image_id))
            self.response.headers['content-type'] = 'image/png'
            self.response.out.write(m.img)
        else:
            self.response.out.write("""
                <form enctype="multipart/form-data" action="/test" method="POST">
                <input type="file" name="image" />
                <input type="submit" />
                </form>""")

    def post(self):
        img_data = self.request.get('image')
        m = TestBlobModel()
        m.img = img_data
        m.put()

        html = '<a href="/test?id=%s">View your image</a>' % m.key.id()
        self.response.out.write(html)
<END>
<QUE>
all elements in domain[n] are witnessed in Python
<ANS>
import random

DOMAIN_LOW = 0
DOMAIN_HIGH = 100

elements = list()
numbers_generated = 0

while True:
    numbers_generated += 1
    random_num = random.randint(DOMAIN_LOW, DOMAIN_HIGH)

    if random_num not in elements:
        elements.append(random_num)

    if len(elements) == DOMAIN_HIGH - DOMAIN_LOW:
        break
print(elements)
print(numbers_generated)
<END>
<QUE>
Iterating HTML with BeautifulSoup
<ANS>
soup = BeautifulSoup(doc)
tags = soup.fetch('td')
for tag in tags:
    if tag.contents[0] and tag.contents[0].strip() == 'Preferred Name':
        return tag
<END>
<QUE>
Unable to scrap data with beautiful soup in python
<ANS>
elem = soup.find('input',{'id':'short-link-input'})
print elem.get('value')
<END>
<QUE>
Import module dynamic from a folder python
<ANS>
var = "module" 
module = __import__("modules.{0}".format(var), globals(), locals(), [], -1)
<END>
<QUE>
Massive Python set of integers using too much memory
<ANS>
import array

BITS_PER_ITEM = array.array('I').itemsize * 8

def make_bit_array(num_bits, initially=0):
    num_items = (num_bits + BITS_PER_ITEM - 1) // BITS_PER_ITEM
    return array.array('I', [initially]) * num_items

def set_bit(bit_array, offset):
    item_index = offset // BITS_PER_ITEM
    bit_index = offset % BITS_PER_ITEM
    bit_array[item_index] |= 1 << bit_index

def clear_bit(bit_array, offset):
    item_index = offset // BITS_PER_ITEM
    bit_index = offset % BITS_PER_ITEM
    bit_array[item_index] &= ~(1 << bit_index)

def get_bit(bit_array, offset):
    item_index = offset // BITS_PER_ITEM
    bit_index = offset % BITS_PER_ITEM
    return (bit_array[item_index] >> bit_index) & 1
<END>
<QUE>
Is there a good way to do version control when developing pylons applications with dependencies?
<ANS>
setup.py
<END>
<QUE>
IndexError while iterating through a generator
<ANS>
def emails(self):
    mail_body = None
    mails_folder = os.listdir(self.path_to_mails_directory)
    for mail in mails_folder:
        if mail.startswith("!"):
            pass
        else:
            with open(self.path_to_mails_directory+"/"+mail) as an_e_mail:
                mail_body = an_e_mail.read()
            yield mail, mail_body
<END>
<QUE>
Calculate RGB value for a range of values to create heat map
<ANS>
def rgb(minimum, maximum, value):
    minimum, maximum = float(minimum), float(maximum)
    ratio = 2 * (value-minimum) / (maximum - minimum)
    b = int(max(0, 255*(1 - ratio)))
    r = int(max(0, 255*(ratio - 1)))
    g = 255 - b - r
    return r, g, b
<END>
<QUE>
how to save captured image using pygame to disk
<ANS>
pygame.image.save(img, "image.jpg")
<END>
<QUE>
How to define django foreign key limit_choices_to constraint which has reference to it's own model?
<ANS>
class FilterValue(models.Model):
    name = models.CharField('Name', max_length=255)
    filter = models.ForeignKey(Filter)

    class Meta:
        unique_together = (("name", "filter"),)
<END>
<QUE>
How to consistently print data from serial in python
<ANS>
try:
    s.read(s.inWaiting())
except serial.serialutil.SerialException:
    pass # or maybe print s.inWaiting() to identify out how many chars the driver thinks there is
<END>
<QUE>
pandas groupby two columns and multiply two other columns
<ANS>
df['sales'] = df['price'] * df['quantity']
<END>
<QUE>
Reading each column from csv file
<ANS>
import csv
with open('some.csv', 'rb') as f:
    reader = csv.reader(f, delimiter=';')
    for row in reader:
        print row[0]
<END>
<QUE>
What is a faster way of merging the values of this Python structure into a single dictionary?
<ANS>
from collections import defaultdict
all_classes = defaultdict(set)
for group in groups_and_classes.values():
    for c, vals in group.iteritems():
        all_classes[c].update(set(vals))
<END>
<QUE>
Python Selenium, how to save http response content?
<ANS>
fp = webdriver.FirefoxProfile()

fp.set_preference("browser.download.folderList",2)
fp.set_preference("browser.download.manager.showWhenStarting",False)
fp.set_preference("browser.download.dir",getcwd())
fp.set_preference("browser.helperApps.neverAsk.saveToDisk","text/csv")

browser = webdriver.Firefox(firefox_profile=fp)
<END>
<QUE>
Convert partial function to method in python
<ANS>
class Foo(object):                                                          
  def __init__(self):                                                 
    def f(a,self,b):                                            
      print a+b                                           
    self.g = functools.partial(f,1, self) # <= passing `self` also.

x = Foo()
x.g(2)
<END>
<QUE>
How to get desktop item count in python?
<ANS>
import os

len(os.listdir('path/desktop'))
<END>
<QUE>
Convert curl command to requests
<ANS>
import requests

url = 'https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewMultiRoom?cc=us&fcId=363484947'
headers = {
    'X-Apple-Store-Front': '143441-1,12',
    'X-Apple-Tz': '3600',
}

requests.get(url, headers=headers)
<END>
<QUE>
Backwards compatibility: Moving a module into a subpackage
<ANS>
# For backwards compatability
from project.topic1.module1 import AwesomeClass
<END>
<QUE>
Python dictionary with frequency
<ANS>
#d = (('name-1', 100), ('name-2',90), ('name-3',80), ('name-1',80))
names = "name1,name2,name3,name1".split(",")
salaries = map(int,"100,90,80,80".split(","))
d = zip(names,salaries)
print max(d,key=lambda x:names.count(x[0])*1000+x[1])

#('name-1', 100)
print sorted(d,key=lambda x:names.count(x[0])*1000+x[1],reverse=True)
[('name-1', 100), ('name-1', 80), ('name-2', 90), ('name-3', 80)]
<END>
<QUE>
Plotting error bars on barplots with multiple series in pandas
<ANS>
import pandas as pd
import matplotlib.pyplot as plt
df = pd.DataFrame([[4,6,1,3], [5,7,5,2]], columns = ['mean1', 'mean2', 'std1', 'std2'], index=['A', 'B'])
print(df)

df[['mean1', 'mean2']].plot(kind='bar', yerr=df[['std1', 'std2']].values.T, alpha = 0.5,error_kw=dict(ecolor='k'))
plt.show()
<END>
<QUE>
how to dynamically choose row labels using tabulate in python
<ANS>
f.write(tabulate(([k] + v for k, v in first_table.iteritems())))
<END>
<QUE>
How to exclude a field within a [vanilla django] form?
<ANS>
required=False
<END>
<QUE>
pygame drawing a filled rectangle overwrite border, but only sometimes?
<ANS>
pygame.draw.rect(self.image, [200,200,200],pygame.Rect([0,0],size), 5)
<END>
<QUE>
Having trouble with getting URL config to work
<ANS>
urlpatterns = patterns('',
    (r'^books/', include('books.urls')),

    (r'^admin/', include(admin.site.urls)),


    (r'^static/(?P<path>.*)$', 'django.views.static.serve', {'document_root': settings.MEDIA_ROOT}),
    (r'^', include('search.urls')),
)
<END>
<QUE>
Remove linebreak at specific position in textfile
<ANS>
f=open("file")
for line in f:
    if len(line)==81:
       n=f.next()
       line=line.rstrip()+n
    print line.rstrip()
f.close()
<END>
<QUE>
Implementing Bi-Directional relationships in MongoEngine
<ANS>
from mongoengine import *

class User(Document):
    name = StringField()
    page = ReferenceField('Page')

class Page(Document):
    content = StringField()
    user = ReferenceField(User)
<END>
<QUE>
psycopg2 TypeError: not all arguments converted during string formatting
<ANS>
cursor.execute("""SELECT name FROM %s.customer WHERE firm_id=%%s""" % schema, each['id'])
<END>
<QUE>
Python subprocess command to run silent, prevent cmd from appearing
<ANS>
import subprocess,os
startupinfo = None
if os.platform == 'win32':
    startupinfo = subprocess.STARTUPINFO()
    startupinfo.dwFlags |= subprocess.STARTF_USESHOWWINDOW
VAL = subprocess.check_output(['adb.exe', 'version'], shell=False, startupinfo=startupinfo).decode()
<END>
<QUE>
Passing Multiple Models to a Template under a single context_object_name
<ANS>
def get_context_data(self, **kwargs):
    articles = Article.objects.order_by("-published_date")[:5]
    videos = Video.objects.order_by("-published_date")[:5]
    items = list(articles) + list(videos)
    items.sort(key=lambda i: i.published_date, reverse=True)
    return {"items": items[:5]}
<END>
<QUE>
Duplicate removal within a certain distance in Python
<ANS>
import numpy as np
from itertools import product
from scipy.spatial import Delaunay

eps = 3.  # choose value, which filters out some points
A = np.array([[1,2],[3,4]])
B = np.array([[5,6],[7,8],[9,2]])

# triangulate points:
pts = np.vstack([A, B])
tri = Delaunay(pts)

# extract all edges:
si_idx = [[0, 1], [0, 2], [1, 2]]  # edge indeces in tri.simplices
edges = [si[i] for si, i in product(tri.simplices, si_idx)]
dist_edges = [np.linalg.norm(tri.points[ii[0]] - tri.points[ii[1]])
              for ii in edges]  # calculate distances

# list points which are closer than eps:
for ee, d in zip(edges, dist_edges):
    if d < eps:
        print("|p[{}] - p[{}]| = {}".format(ee[0], ee[1], d))
<END>
<QUE>
Remove invalid symbols from a text in python
<ANS>
def parse_documentation(filename):
    filename=open(filename, "r") # open file
    lines = filename.read(); # read all the lines in the file to a list named as "lines"
    invalidsymbols=["`","~","!", "@","#","$"]
    for line in lines: # for each line in lines
        for x in invalidsymbols: # loop through the list of invalid symbols
            if x in line: # if the invalid symbols is in the line
                print(line) # print out the line
                print(x) # and also print out the invalid symbol you encountered in that line
                print(line.replace(x, "")) # print out a line with invalid symbol removed
<END>
<QUE>
Django/ Python - max() of list returns a tuple
<ANS>
def get_spans(angle):
    spans = Spans.objects.values_list('span', flat=True).filter(
        max_roof_angle=angle,
    )
    max_span = max(spans)
    return max_span
<END>
<QUE>
Tkinter display dictionary key into text widget?
<ANS>
from tkinter import *
x = []
root = Tk()
data = {'parakeet': ['fly', 'bird'], 'dog': 'animal', 'cat': 'feline'}
for key in data.keys():
    x.append(key)

Label(root, text = "Enter your name").grid(row=0,ipadx = 10,ipady = 10)
Label(root, text = x ).grid(row=1,ipadx = 10,ipady = 50)

mainloop()
<END>
<QUE>
Unable to upload Images in Python
<ANS>
from django.conf import settings
from django.conf.urls.static import static

urlpatterns = patterns('',
    # ... the rest of your URLconf goes here ...
) + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
<END>
<QUE>
Reading in a CSV file AND sorting it in Python
<ANS>
def __cmp__(gem, other):
    if (gem.value / gem.carot) < (other.value / other.carot):
        return -1
    elif (gem.value / gem.carot) > (other.value / other.carot): 
        return 1
    else:
        return 0
<END>
<QUE>
Need to Destroy() Hidden Root Window?
<ANS>
sys.exit()
<END>
<QUE>
What if the utf-8 encoding html file contains a non-utf-8 character?
<ANS>
unicode_html = myfile.read().decode('utf-8', 'ignore')
soup = BeautifulSoup (unicode_html)
<END>
<QUE>
Django, Celery, Redis, RabbitMQ: Chained Tasks for Fanout-On-Writes
<ANS>
INSERT_INTO_HOMEFEED_BATCH = 10000

@shared_task
def insert_into_homefeed(photo_id, user_id, index=0):
    # Grab the list of all follower IDs from Redis for user_id.
    r_server = redis.Redis(connection_pool=pool)

    range_limit = index + INSERT_INTO_HOMEFEED_BATCH - 1 # adjust for zero-index

    followers_list_batch = r_server.lrange("followers:%s" % (user_id), index, range_limit)

    if not followers_list_batch:
        return # zero followers or no more batches

    # Now for each follower_id in followers_list_batch, find their homefeed key 
    # in Redis and insert the photo_id into that homefeed list.
    for follower_id in followers_list:
        homefeed_list = r_server.lpush("homefeed:%s" % (follower_id), photo_id)

    insert_into_homefeed.delay(photo_id, user_id, range_limit + 1)
<END>
<QUE>
Pythonic way to import data from multiple files into an array
<ANS>
# Get folder path containing text files
file_list = glob.glob(source_dir + '/*.TXT')
data = []
for file_path in file_list:
    data.append(
        np.genfromtxt(file_path, delimiter=',', skip_header=3, skip_footer=18))
# now you can access it outside the "for loop..."
for d in data:
    print d
<END>
<QUE>
Parsing through a text file with accentuated characters [Python]
<ANS>
#!/usr/bin/env python
# -*- coding: utf-8 -*-   
import re

wordcount={}

f = open("verbatim2.txt", "r")
regex = r'\b\w{4,}\b'
#regex = re.compile(r'[A-Z]\p{L}+\s*')

for line in f:
    words = re.findall(regex, line.decode('utf8'), re.UNICODE)
    for word in words:
        print word
        if word not in wordcount:
            wordcount[word] = 1
        else:
            for k,v in wordcount.items():
                wordcount[word] += 1
print wordcount
<END>
<QUE>
How to put a QLineEdit into QTableView cell PyQt4?
<ANS>
class ExampleDelegate(QtGui.QStyledItemDelegate):
    def createEditor(self, parent, option, index):
        line_edit = QtGui.QLineEdit(parent)
        line_edit.setMaxLength(3)
        return line_edit


class Example(QtGui.QDialog):
    def __init__(self,):
        super(Example, self).__init__()
        self.build_ui()

    def build_ui(self):       
        self.table_model = QtGui.QStandardItemModel(4, 2)
        self.delegate = ExampleDelegate()
        self.table_view = QtGui.QTableView()
        self.table_view.setItemDelegateForColumn(0, self.delegate)
        self.table_view.setModel(self.table_model)

        self.layout.addWidget(self.table_view)
        self.layout = QtGui.QGridLayout()
        self.setLayout(self.layout)
<END>
<QUE>
Python: Getting value from Gevent Greenlet
<ANS>
def asynchronous():
    threads = [Greenlet.spawn(fetch, i) for i in range(10)]
    result = gevent.joinall(threads)
    print [thread.value for thread in threads]
<END>
<QUE>
Statistics of a number stream
<ANS>
import numpy as np
with open(filename) as f:
    for line in f:
        a=np.array(line.split(),dtype=int)
        print(a.std(),a.mean(),np.median(a))  #standard-deviation, mean, median
<END>
<QUE>
To find the difference b/w two numbers in a column of file?
<ANS>
import sys
log_file = open("newc.txt","a")
this_no, prev_no = 0, 0

with open("newfileinput.txt",'r') as f:
    for line in f:
        row = line.split()
        this_no = int(row[1])
        log_file.write(line.replace(str(this_no), str(this_no - prev_no)))
        prev_no = this_no

log_file.close()
<END>
<QUE>
Remove block from QTextDocument
<ANS>
cursor = QTextCursor(doc.findBlockByLineNumber(0))
cursor.select(QTextCursor.BlockUnderCursor)
cursor.deleteChar()
cursor.deleteChar()
<END>
<QUE>
Loading html source with urllib2/mechanize in python
<ANS>
b = ''
while 1:
    r = f.read()
    if r == '':break
    b += r
<END>
<QUE>
Tell sage where to find libjpeg
<ANS>
sage.misc.package.install_package("pil", force=True)
<END>
<QUE>
Python Subprocess - Redirect stdout/err to two places
<ANS>
subprocess.PIPE
<END>
<QUE>
Built in sort() method of python
<ANS>
listobject.c
<END>
<QUE>
python create recursive folder structure
<ANS>
import os
import shutil

def doit():
    shutil.rmtree('c:/pythontest', ignore_errors=True)
    os.mkdir('c:/pythontest')
    os.chdir('c:/pythontest')

    for i in range(0,3):
        fileName = 'folder%d' % i
        print fileName
        os.mkdir(fileName)
        os.chdir(fileName)
        for j in range(0,3):
            fileName = 'folder%d_%d' % (i,j)
            print fileName
            os.mkdir(fileName)
            os.chdir(fileName)
            for k in range(0,3):
                try:
                    with open('file%d_%d_%d.txt' % (i,j,k), 'w'):
                        pass
                except IOError:
                    pass
            os.chdir('..')
        os.chdir('..')
<END>
<QUE>
PyQt - Track Sender for contextMenu
<ANS>
self.sender()
<END>
<QUE>
Plot pandas data frame with year over year data
<ANS>
df = pd.DataFrame({'value': [1, 2, 15, 3, 7, 1, 3, 8, 5, 3, 1, 1, 8, 5, 19]},
              index=pd.DatetimeIndex(['2000-01-01', '2000-03-01', '2000-06-01', '2000-09-01',
                                      '2000-12-01', '2001-01-01', '2001-03-01', '2001-06-01',
                                      '2001-09-01', '2001-12-01', '2002-01-01', '2002-03-01',
                                      '2002-06-01', '2002-09-01', '2002-12-01']))


pv = pd.pivot_table(df, index=df.index.month, columns=df.index.year,
                    values='value', aggfunc='sum')
pv
#     2000  2001  2002
# 1      1     1     1
# 3      2     3     1
# 6     15     8     8
# 9      3     5     5
# 12     7     3    19

pv.plot()
<END>
<QUE>
remove keys from pandas.dataframe
<ANS>
import pandas as pd
import numpy as np

keys1 = [1,2,3,4]
keys2 = [3,4,5,6]
data1 = np.reshape(range(20),[4,5])
data2 = np.reshape(range(20,40),[4,5])

df1 = pd.DataFrame(data1,index=keys1)
df2 = pd.DataFrame(data2,index=keys2)

df1[-(df1.index.isin(df2.index))]
<END>
<QUE>
How to ensure list contains unique elements?
<ANS>
def addToList(self, str_to_add):
    if str_to_add not in self.list_of_strings:
        self.list_of_strings.append(str_to_add)
<END>
<QUE>
How to get the difference between two dates in hours, minutes and seconds.?
<ANS>
import datetime
data1 = datetime.datetime.now()
data2 = datetime.datetime.now()

days, seconds = diff.days, diff.seconds
hours = days * 24 + seconds // 3600
minutes = (seconds % 3600) // 60
seconds = seconds % 60

print hours,minutes,seconds
<END>
<QUE>
Use global variables as default values
<ANS>
from functools import wraps
from inspect import getcallargs


def decorator(f):
    @wraps(f)
    def new(**kwargs):
        # filter only those vars, that are in the list of function's named args
        from_globals = {arg: globals()[arg] for arg in getcallargs(f)}
        # overwrite them with user supplied kwargs
        from_globals.update(kwargs)
        f(**from_gobals)

    return new


@decorator
def f(a=None, b=None, c=None):
    print a, b, c


a = 1
b = 2
c = 3

f(a=2, b=4) # 2 4 3
<END>
<QUE>
ValueError: NULL COM pointer access
<ANS>
CoInitialised()
<END>
<QUE>
customize tastypie patch_list
<ANS>
def alter_list_data_to_serialize(self, request, data):
    #call external procedure here
    return data
<END>
<QUE>
How to compile a python/shell script ? (to hide informations)
<ANS>
import subprocess
password = 'cGFzc3dvcmQ='.decode('base64')
path = "C:\Users\blabla.tc"
subprocess.Popen(['truectypt','/a','/p',password,'/q','/e','/v',path]).communicate()
<END>
<QUE>
Python non strict search text in string
<ANS>
def test(dynamic, filename):
    return dynamic[:3] in filename
<END>
<QUE>
Copying selected columns from one file to another using Python
<ANS>
with open('data.txt', 'r') as fin:
    with open('data2.txt', 'w') as fout:
        # Header
        fout.write(fin.readline())
        fout.write(fin.readline())
        # Columns
        for l in fin:
            cols = l.split()
            fout.write("%s  % f  % f
" % (cols[0], float(cols[3]), float(cols[2])))
<END>
<QUE>
How do I use Python to convert a string to a number if it has commas in it as thousands separators?
<ANS>
import locale
locale.setlocale( locale.LC_ALL, 'en_US.UTF-8' ) 
locale.atoi('1,000,000')
# 1000000
locale.atof('1,000,000.53')
# 1000000.53
<END>
<QUE>
How to extract certain value from collection of text files
<ANS>
regex = '(.*):( *)(.*)
'
<END>
<QUE>
How to transfer url parameters to repoze custom predicate checkers
<ANS>
from repoze.what.plugins.pylonshq import ControllerProtector

allow_only = All(not_anonymous(msg=l_(u'You must be logged on')),
                     my_custom_predicate(msg=l_(u'something wrong')))

@ControllerProtector(allow_only)
class MyController(BaseController):

    def index(self, **kw):
        return dict()
<END>
<QUE>
How to make cx_Freeze python exe windowless
<ANS>
if sys.platform == "win32":
    base = "Win32GUI"
<END>
<QUE>
Python subtracting two date strings
<ANS>
from datetime import datetime

start_date = 'Sun Sep 16 16:05:15 +0000 2012'
end_date = 'Sun Sep 17 23:55:20 +0000 2012'


def __datetime(date_str):
    return datetime.strptime(date_str, '%a %b %d %H:%M:%S +0000 %Y')

start = __datetime(start_date)
end = __datetime(end_date)

delta = end - start
print delta  # prints: 1 day, 7:50:05
print delta.total_seconds()  # prints: 114605.0
<END>
<QUE>
Get a foreign key field when using values and annotate
<ANS>
top_donors_month = Donation.objects.values('donator__first_name').annotate(Sum('amount')).order_by('-amount__sum').filter(datafilter)
top_donors_all = Donation.objects.values('donator__first_name').annotate(Sum('amount')).order_by('-amount__sum')
<END>
<QUE>
Adding print titles to a worksheet using openpyxl
<ANS>
def test_print_titles():
    wb = Workbook()
    ws1 = wb.create_sheet()
    ws2 = wb.create_sheet()
    ws1.add_print_title(2)
    ws2.add_print_title(3, rows_or_cols='cols')

    def mystr(nr):
        return ','.join(['%s!%s' % (sheet.title, name) for sheet, name in nr.destinations])

    actual_named_ranges = set([(nr.name, nr.scope, mystr(nr)) for nr in wb.get_named_ranges()])
    expected_named_ranges = set([('_xlnm.Print_Titles', ws1, 'Sheet1!$1:$2'),
                                 ('_xlnm.Print_Titles', ws2, 'Sheet2!$A:$C')])
    assert(actual_named_ranges == expected_named_ranges)
<END>
<QUE>
Convert CSV to mongoimport-friendly JSON using Python
<ANS>
import csv, simplejson, decimal, codecs

data = open("in.csv")
reader = csv.DictReader(data, delimiter=",", quotechar='"')

with codecs.open("out.json", "w", encoding="utf-8") as out:
   for r in reader:
      for k, v in r.items():
         # make sure nulls are generated
         if not v:
            r[k] = None
         # parse and generate decimal arrays
         elif k == "loc":
            r[k] = [decimal.Decimal(n) for n in v.strip("[]").split(",")]
         # generate a number
         elif k == "geonameid":
            r[k] = int(v)
      out.write(simplejson.dumps(r, ensure_ascii=False, use_decimal=True)+"
")
<END>
<QUE>
parsing .xml blast output with re
<ANS>
Bio.Blast.NCBIXML
<END>
<QUE>
How to delete a Cookie in Python
<ANS>
response.delete_cookie('cookie_name', domain="cookie_domain")
return response
<END>
<QUE>
Combine three regular expressions
<ANS>
re.sub(r'(\s?\(\w+\))|(s?(Jr.|Sr.))|(".+"\s?)', '', name)
<END>
<QUE>
Hiding pygame display
<ANS>
pygame.display.iconify()
<END>
<QUE>
How to retrieve all the images, js, css urls
<ANS>
from scrapy.contrib.linkextractors.lxmlhtml import LxmlParserLinkExtractor

tags = ['img', 'embed', 'link', 'script']
attrs = ['src', 'href']
extractor = LxmlParserLinkExtractor(lambda x: x in tags, lambda x: x in attrs)
resource_urls = [l.url for l in extractor.extract_links(response)]
<END>
<QUE>
decode URL only non-ascii character
<ANS>
urllib.unquote
<END>
<QUE>
how do i export PDF file attachments via python
<ANS>
from subprocess import call
call(["pdfdetach", "-saveall", "file.pdf"])
<END>
<QUE>
Finding a string in a jumbled string
<ANS>
def check(sub, full):
    full_list = list(full)
    for char in sub:
        if char in full_list:
            full_list.remove(char)
        else:
            return False
    return True
<END>
<QUE>
Append more than 2 data frames in pandas
<ANS>
frames = [df1, df2, df3]
result = pd.concat(frames)
<END>
<QUE>
Python: zipping tuple of numbers and lists of strings
<ANS>
b = [(a, b, c) for (a, b), c in zip(splitKeys, data)]
<END>
<QUE>
pyqt: how to remove elements from a QVBoxLayout?
<ANS>
widget = QWidget()    
layout = QVBoxLayout()

btn = QPushButton("To be removed")
layout.addWidget(btn)
widget.setLayout(layout)

# later
btn.setParent(None)
<END>
<QUE>
Django - Get gravatar from view
<ANS>
from gravatar.templatetags.gravatar import _get_gravatar_id, gravatar_for_email
<END>
<QUE>
How to delete all rows in python tkinter treevieww?
<ANS>
for row in treeview.get_children():
    treeview.delete(row)
<END>
<QUE>
How can I remove all elements matching an xpath in python using lxml?
<ANS>
for elem in xml.xpath( '//foo' ) :
      elem.getparent().remove(elem)
<END>
<QUE>
Python parsing selected area/range of text file
<ANS>
t = []
for l in line:
    if 'tickme' in l:
        # Start a new bactch after saving the previous batch 
        if t: batches.apend(t)
        t = [l.strip()]
    else:
        if len(l.strip()) > 1: t.append(l.strip())
<END>
<QUE>
Fast iteration over vectors in a multidimensional numpy array
<ANS>
np.linalg
<END>
<QUE>
Transforming dijkstras to a* python
<ANS>
cost + cost2 + h(v2)
<END>
<QUE>
Programming Pygame so that I can press multiple keys at once to get my character to move diagonally
<ANS>
keys = pygame.key.get_pressed()

if keys[K_LEFT]:
    self.char_x += 10

if keys[K_RIGHT]:
    self.char_x -= 10

if keys[K_UP]:
    self.char_y -= 10

if keys[K_DOWN]:
    self.char_y += 10
<END>
<QUE>
How to convert all arguments to string in string formatting
<ANS>
import urllib2, json

def get_stock_quote(ticker_symbol):
    if isinstance(ticker_symbol, (list, tuple)):
        ticker_symbol = ','.join(ticker_symbol)
    url = 'http://finance.google.com/finance/info?q=%s' % ticker_symbol
    lines = urllib2.urlopen(url).read().splitlines()
    #print lines
    return json.loads('[%s]' % ''.join([x for x in lines if x not in ('// [', ']')]))

if __name__ == '__main__':
    symbols = ('Goog',) 
    symbols2 = ('Goog','MSFT')
    quotes = get_stock_quote(symbols2)
    for quote in quotes:
        print 'ticker: %s' % quote['t'],  'current price: %s' % quote['l_cur'], 'last trade: %s' % quote['ltt']
        print quote['t'],  quote['l'], quote['ltt']
<END>
<QUE>
wx.Panel scales to fit entire parent Frame despite giving it a size
<ANS>
import wx
app = wx.PySimpleApp()
frame = wx.Frame(None, -1, 'Test')
sizer = wx.BoxSizer(wx.VERTICAL)
panel = wx.Panel(frame, -1, size=(100,100), style=wx.BORDER_RAISED)
sizer.Add(panel)
frame.SetSizer(sizer)
frame.Show()
app.MainLoop()
<END>
<QUE>
how to write contents into a file in python where one part holds a variable and other just a display statement?
<ANS>
f.write("value of a is: %d" % (a))
<END>
<QUE>
How to use Unicode for a ForeignKeyField, Django
<ANS>
def __unicode__(self):
    return unicode(self.cliente)
<END>
<QUE>
Understanding how indirection works Python
<ANS>
inner_one = a[4] # a[4] = 0
inner_two = a[inner_one] # a[0] = 1
result = c[inner_two] # c[1] = 2
<END>
<QUE>
Appending data into an undeclared list
<ANS>
l = [x*x for x in range(0, 10)]
<END>
<QUE>
Traverse through binary tree to change the value of each nodes?
<ANS>
def increase_tree_values(node, delta):
    """ Increases/decreases the value of all nodes in the tree by the value 'delta'
    """

    # increase the current node's value
    node.value += delta

    # recursively call function on left child, if it exists
    if node.left_child:
        increase_tree_values(node.left_child, delta)

    # recursively call function on right child, if it exists
    if node.right_child:
        increase_tree_values(node.right_child, delta)



# presuming you have some binary tree called 'tree' already constructed
# increase all nodes in 'tree' by 2
increase_tree_values(tree, 2)
<END>
<QUE>
Aggregate count in Pandas
<ANS>
data.groupby(['post_product_list','cust_visid','date_time']).size()
<END>
<QUE>
Python: For loop using index instead of nested loop for 2 column output
<ANS>
from itertools import izip

amount = []
total = 0

month = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']
idx = 0
while(idx < len(month)):
    am = int(raw_input("Enter amount of rainfall each month from Jan to Dec sequently: "))
    amount.append(am)
    total+=am
    idx+=1

print "
Rainfall Statistics"
print "Month\t\tTotal Rainfall"
print "-----\t\t---------------"

for each_month, month_amount in izip(month, amount):
    print each_month, "\t\t", month_amount

print "
Total rainfall: ", total

average = total/12
print "
Average rainfall: ",average
<END>
<QUE>
Reading line by line from a zipped file in python
<ANS>
for name in root.namelist():
    if name.find("debug") >= 0:
        for line in root.read(name).split("
"):
            if line.find("BROKER_LOGON") >= 0:
                print line
<END>
<QUE>
Simple random name generator in Python
<ANS>
# create the dict and save it to a file
d={
'part1':[
    'Ae',
    'Di',
    'Mo',
    'Fam',],
'part2':[
    'dar',
    'kil',
    'glar',
    'tres',],
}

import pickle
f=open('syllables','w')
pickle.dump(d,f)
f.close()


# read the dict back in from the file
f1=open('syllables','r')
sd=pickle.load(f1)
f1.close()

import random
first_part=sd['part1'][random.randint(0,len(sd['part1'])-1)]
second_part=sd['part2'][random.randint(0,len(sd['part2'])-1)]

print '%s%s'%(first_part,second_part)
<END>
<QUE>
How to emit Qtsignal from one class which results to emit Qtsignal from its parent class in pyqt
<ANS>
#!/usr/bin/env python
#-*- coding:utf-8 -*-

from PyQt4 import QtCore, QtGui

class myThread(QtCore.QThread):
    threadSignal = QtCore.pyqtSignal(str)

    def __init__(self, parent=None):
        super(myThread, self).__init__(parent)

    def run(self):
        while True:
            if True:
                self.threadSignal.emit('Yes')

            else:
                self.threadSignal.emit('No')

            break

class myMainClass(QtCore.QObject):
    mainSignal = QtCore.pyqtSignal(str)

    def __init__(self, parent=None):
        super(myMainClass, self).__init__(parent)

        testInstance = myThread(self)
        testInstance.threadSignal.connect(self.mainSignal.emit)
        testInstance.start()

def signalcalled(s):
    print s

if __name__ == "__main__":
    import  sys

    app = QtGui.QApplication(sys.argv)
    main = myMainClass()
    main.mainSignal.connect(signalcalled)
    sys.exit(app.exec_())
<END>
<QUE>
Replace each char in a multi-line string except space and \r 
, how?
<ANS>
add2 = ''.join(chr(ord(c) + 2) if c not in "
\r " else c for c in text)
<END>
<QUE>
two or more dots in a django template after the variable
<ANS>
objectList = [['John Smith'], ['Jim Jones'], ['Bill White']]
<END>
<QUE>
Comparing user's facebook/twitter friends to site's users in Python/Django
<ANS>
intersection_set = set(list_a).intersection(list_b)
<END>
<QUE>
How to I prevent widgets in a QGridLayout from overlapping?
<ANS>
widget = QtGui.QWidget()
hint = widget.sizeHint()
if hint.isValid():
    widget.setMinimumSize(hint)
<END>
<QUE>
Python save state in a for loop for a twitter bot
<ANS>
import sys
import tweepy

## OAuth keys go here.

auth = tweepy.OAuthHandler(CONSUMER_KEY, CONSUMER_SECRET)
auth.set_access_token(ACCESS_KEY, ACCESS_SECRET)
api = tweepy.API(auth)

printed_ids = []

def ask_bot():
    old_id = 0
    for tweet in api.mentions():
        if tweet.id not in printed_ids:
            print "@%s: %s" % (tweet.author.screen_name, tweet.text)
            printed_ids.append(tweet.id)
        else:
            pass
<END>
<QUE>
How do I create a simple metaclass?
<ANS>
class InstancesList(object): 
    def __new__(cls, *args, **kw):
        if not hasattr(cls, 'instances'):
            cls.instances = []
        return super(InstancesList, cls).__new__(cls, *args, **kw)

    def __init__(self):
        self.index = len(type(self).instances)
        type(self).instances.append(self)

class Foo(InstancesList):
    def __init__(self, arg1, arg2):
        super(Foo, self).__init__()
        # Foo-specific initialization
<END>
<QUE>
How to add differently shaped numpy arrays?
<ANS>
c = b.copy()
c[...,0] += a
<END>
<QUE>
Add HTTP_USER_AGENT to Django RequestFactory request?
<ANS>
request = self.factory.get(reverse('home'), HTTP_USER_AGENT='Mozilla/5.0')
<END>
<QUE>
List index out of range for random cayley table
<ANS>
table[i].append(randint(0,n-1))
<END>
<QUE>
In Python how can I replace a value in a text file with a new updated version of that value using a function?
<ANS>
def update_score(new_score, file_name="save.txt"):
    with open(file_name,'r+') as saved_file:
        existing_score = int(saved_file.read())
    if new_score > existing_score:
        # replace existing score
        with open(file_name,'w') as saved_file:
            saved_file.write(str(new_score))
<END>
<QUE>
Search a file for strings from a second file
<ANS>
set1=set(line[:6] for line in open('file1.txt'))
set2=set(line[:6] for line in open('file2.txt'))
not_found = set1 - set2
if not_found:
    print "Some keys not found: " + ', '.join(not_found)
<END>
<QUE>
Python Output to html file
<ANS>
with open("/tmp/myfile.html", "w") as my_file:
  my_file.write("<html><body><table>")
  for x in range(5):
    my_file.write("<tr><td>%d</td></tr>" % x)
  my_file.write("</table></body></html>")
<END>
<QUE>
How do I prevent Python's urllib(2) from following a redirect
<ANS>
import urllib2

#redirect_handler = urllib2.HTTPRedirectHandler()

class MyHTTPRedirectHandler(urllib2.HTTPRedirectHandler):
    def http_error_302(self, req, fp, code, msg, headers):
        print "Cookie Manip Right Here"
        return urllib2.HTTPRedirectHandler.http_error_302(self, req, fp, code, msg, headers)

    http_error_301 = http_error_303 = http_error_307 = http_error_302

cookieprocessor = urllib2.HTTPCookieProcessor()

opener = urllib2.build_opener(MyHTTPRedirectHandler, cookieprocessor)
urllib2.install_opener(opener)

response =urllib2.urlopen("WHEREEVER")
print response.read()

print cookieprocessor.cookiejar
<END>
<QUE>
Efficiently construct Pandas DataFrame from large list of tuples/rows
<ANS>
pandas.DataFrame(initialload, columns=list_of_column_names)
<END>
<QUE>
Substituting a regex only when it doesn't match another regex (Python)
<ANS>
regex1 = re.compile('\{.*\}')
regex2 = re.compile('\{\{.*\}\}')

def replace(match):
    match = match.group(0)
    if regex2.match(match):
        return match
    return 'replacement'


regex1.sub(replace, data)
<END>
<QUE>
Python Cassandra 2 authentication with SASL
<ANS>
from cassandra.cluster import Cluster
from cassandra.auth import PlainTextAuthProvider

auth_provider = PlainTextAuthProvider(username='cassandra', 
                                      password='cassandra')
cluster = Cluster(auth_provider=auth_provider)
<END>
<QUE>
Missing data in Python
<ANS>
with open('test.json') as json_data:
    for line in json_data:
        dataline = json.loads(line)
        row = []
        for i in keys:#iterate through keys
            try:
                row.append(dataline[i])
            except:
                pass
        data.append(row)
json_data.close()
<END>
<QUE>
Easiest way to combine date and time strings to single datetime object using Python
<ANS>
import datetime as dt
mytime = dt.datetime.strptime('0130','%H%M').time()
mydatetime = dt.datetime.combine(dt.date.today(), mytime)
<END>
<QUE>
Going to the next page using Python 3 and BeautifulSoup 4
<ANS>
soup = BeautifulSoup(webContent)
a = soup.find('a', href=True, text=re.compile("Next"))
if a:
    link = a["href"]
<END>
<QUE>
matplotlib pyplot 2 plots with different axes in same figure
<ANS>
plt.errorbar(data[0],data[1],yerr=data[2],fmt='o')
plt.xscale('log',basex=10)
plt.yscale('log',basey=10)
plt.plot(data[0],data[0]**aslope*10**binter,'r')
plt.plot(data[0],data[0]**(aslope-aerr)*10**(binter+berr),'--')
plt.plot(data[0],data[0]**(aslope+aerr)*10**(binter-berr),'--')
plt.xticks(freqlist,freqlist.astype('int'))
plt.yticks(tdlist,tdlist.astype('float'))
plt.xlabel('Frequency (MHz)')
plt.ylabel('t_s (msec)')
fitndx1 = 'Fit slope '+"{0:.2f}".format(aslope)+u"\u00B1"+"{0:.2f}".format(aerr)
plt.legend(('Data',fitndx1))
plt.show()
<END>
<QUE>
Python number of elements inside a list
<ANS>
MyList = ['1','2','3 4 5 6 7','33333']
print [len(x.split()) for x in MyList ]
[1, 1, 5, 1]
<END>
<QUE>
How can I check if a string contains ANY letters from the alphabet?
<ANS>
re.search('[a-zA-Z]', the_string)
<END>
<QUE>
Include a URL in a Django template tag
<ANS>
from django.utils.safestring import mark_safe

@register.filter(name='shorten')
def shorten(content, post_id):
    #will show up to the first 500 characters of the post content
    if len(content) > 500:
        output = "{0}... <a href='/entry/{1}'>(cont.)</a>".format(content[:500], post_id)
    else:
        output = "{0}".format(content)

    return mark_safe(output)
<END>
<QUE>
Python increment string with both letters and numbers
<ANS>
number = base36encode(base36decode(number) + 1)
<END>
<QUE>
Python: Convert a list of python dictionaries to an array of JSON objects
<ANS>
json.dumps([dict(mpn=pn) for pn in lst])
<END>
<QUE>
Filter a reverse manytomany django in one line?
<ANS>
administrators = User.objects.filter(leagueadministrator__league__id=1).distinct()
<END>
<QUE>
IndexError reading in comments in source code folder
<ANS>
import re

singleLinePattern = re.compile("//.*$", flags=re.MULTILINE+re.DOTALL)
multiLinePattern = re.compile("/\*.*?\*/", flags=re.MULTILINE+re.DOTALL)

def main(queue):
    for item in queue:
        with open("output.txt", "a") as out_file:
            out_file.write(str("\t<FILE: " + item.split("\\")[len(item.split()) - 1] + ">"))
            with open(item, "r") as f:
                java_file = f.read()
            print "singles:", singleLinePattern.findall(java_file)
            print "multis:", multiLinePattern.findall(java_file)
            # You can write the results to the output file here.
<END>
<QUE>
XQuery library under Python
<ANS>
import sys
import zorba_api

def example1(zorba):
  xquery = zorba.compileQuery("1+2")
  print xquery.printPlanAsXML()
  print xquery.execute()
  return

def example2(zorba):
  xquery = zorba.compileQuery("(1,2,3,4,5)")
  iter = xquery.iterator()
  iter.open()
  item = zorba_api.Item_createEmptyItem()
  while iter.next(item):
    print item.getStringValue()
  iter.close()
  iter.destroy()
  return

def example3(zorba):
  try:
    xquery = zorba.compileQuery("1 div 0")
    print xquery.execute()
  except RuntimeError, e:
    print e
  return
<END>
<QUE>
Python Storing a Binary Data in File on disk
<ANS>
import cPickle

out_file = open(file_name, 'w')
cPickle.dump(data, out_file)
out_file.close()

in_file = open(file_name, 'r')
data = cPickle.load(in_file)
in_file .close()
<END>
<QUE>
Append path to python program
<ANS>
def load():
    filedir, _ = os.path.split(__file__)
    arch = pd.read_csv(os.path.join(filedir, 'read.csv'))
    print arch
<END>
<QUE>
concatenate string and number using jinja2 in python
<ANS>
template = Template(
            "{{ name }} ;"
            "{{ ' 'if age }}{{age if age }}{{' 'if age}};"
            "{{ ' ' if email}};{{ email if email}}{{ ' ' if email}};")

for item in mylist:
    people_tag =template.render(
                    name= item['name'],
                    age = item.get('age'),
                    email= item.get('email'))
<END>
<QUE>
Windows Authentication with MySQLdb in Python
<ANS>
Server=myServerAddress;Database=myDataBase;Trusted_Connection=yes;Uid=auth_window;
<END>
<QUE>
How to do a 3D revolution plot in matplotlib?
<ANS>
from mpl_toolkits.mplot3d import Axes3D
from matplotlib import cm
import matplotlib.pyplot as plt
import numpy as np

fig = plt.figure()
ax = fig.gca(projection='3d')
X = np.arange(-5, 5, 0.25)
Y = np.arange(-5, 5, 0.25)
X, Y = np.meshgrid(X, Y)

Z = -(abs(X) + abs(Y))

## 1) Initial surface
# Flatten mesh arrays, necessary for plot_trisurf function
X = X.flatten()
Y = Y.flatten()
Z = Z.flatten()

# Plot initial 3D surface with triangles (more flexible than quad)
#surfi = ax.plot_trisurf(X, Y, Z, cmap=cm.jet, linewidth=0.2)

## 2) Cut off
# Get desired values indexes
cut_idx = np.where(Z > -5)

# Apply the "cut off"
Xc = X[cut_idx]
Yc = Y[cut_idx]
Zc = Z[cut_idx]

# Plot the new surface (it would be impossible with quad grid)
surfc = ax.plot_trisurf(Xc, Yc, Zc, cmap=cm.jet, linewidth=0.2)

# You can force limit if you want to compare both graphs...
ax.set_xlim(-5,5)
ax.set_ylim(-5,5)
ax.set_zlim(-10,0)

plt.show()
<END>
<QUE>
Redis: How to parse a list result
<ANS>
myredis.lpush('foo', *[1,2,3,4])
<END>
<QUE>
How can i perform inner join with two derived table in django style?
<ANS>
ctype = ContentType.objects.get_for_model(BlogPost)
blog_items = BlogPost.objects.filter(user=user_id).extra(select={
        'comment_count': """
        SELECT COUNT(*) AS comment_count
        FROM django_comments
        WHERE
            content_type_id=%s AND
            object_pk=blog_post.id
        """
        }, select_params=[ctype.pk])
<END>
<QUE>
Django regex validator message has no effect
<ANS>
user = CharField(
    max_length=30,
    required=True,
    validators=[
        RegexValidator(
            regex='^[a-zA-Z0-9]*$',
            message='Username must be Alphanumeric',
            code='invalid_username'
        ),
    ]
)
<END>
<QUE>
Python read image to numpy array with multiprocessing
<ANS>
shared_arr = mp.Array(ctypes.c_double, N)
arr = tonumpyarray(shared_arr)
<END>
<QUE>
Find ISBN with regex in Python
<ANS>
regex = r'978(?:-?\d){10}'
<END>
<QUE>
Show only first and last line from traceback
<ANS>
import traceback
try:
     codethatwillthrowanexception()
except:
     exceptiondata = traceback.format_exc().splitlines()
     exceptionarray = [exceptiondata[-1]] + exceptiondata[1:-1]
<END>
<QUE>
Value updating to multiple dictionaries
<ANS>
class State:
    instance_count = 0  # as an example, this is now a static variable counting instances.

    def __init__(self, name):
        self.name = name      # name is now a member variable
        self.transitions = {} # transitions is now a member variable
        State.instance_count += 1

    def addTransition(self, symbol, transition):
        self.transitions[symbol] = transition

    def __del__(self):
        State.instance_count -= 1
<END>
<QUE>
Choosing color in matplotlib contour maps
<ANS>
cmap = mpl.colors.ListedColormap(['r', 'g', 'b', 'c'])
<END>
<QUE>
pyodbc database connection and number format
<ANS>
import locale

locale.setlocale('locale.LC_ALL', 'fr_FR.UTF-8')
locale.atof('1000,53')
<END>
<QUE>
Access HTML data printed by python from a second python file
<ANS>
userAnswer = cgi.FieldStorage(keep_blank_values=True)
<END>
<QUE>
Merging whilst keeping order in R and pandas
<ANS>
Ordered.reset_index().merge(Ordered, Unordered, on=ByWhatColumn).set_index('index')
<END>
<QUE>
Gevent Pywsgi Server - Multiprocessing?
<ANS>
import sys
from gevent import server
from gevent.baseserver import _tcp_listener
from gevent import pywsgi
from gevent.monkey import patch_all; patch_all()
from multiprocessing import Process, current_process, cpu_count

def hello_world(env, start_response):
    if env['PATH_INFO'] == '/':
        start_response('200 OK', [('Content-Type', 'text/html')])
        return ["<b>hello world</b>"]
    else:
        start_response('404 Not Found', [('Content-Type', 'text/html')])
        return ['<h1>Not Found</h1>']

listener = _tcp_listener(('127.0.0.1', 8001))

def serve_forever(listener):
    pywsgi.WSGIServer(listener, hello_world).serve_forever()

number_of_processes = 5
print 'Starting %s processes' % number_of_processes
for i in range(number_of_processes):
    Process(target=serve_forever, args=(listener,)).start()

serve_forever(listener)
<END>
<QUE>
Unable to get a response from http POST
<ANS>
print request
<END>
<QUE>
Handle with European date format in python pandas
<ANS>
eur3m.index = [datetime.datetime.strptime(x, '%d/%m/%Y') for x in eur3m.index]
<END>
<QUE>
getting a total value of array over a loop, python
<ANS>
a = np.genfromtxt('dir1.txt').T[0]

loop=np.arange(2, 50)
for arg in loop:
    str(arg)
    a += np.genfromtxt('dir'+arg+'.txt').T[0]
<END>
<QUE>
Retriving the count from one table given a value from another
<ANS>
c.execute("""SELECT MonkeyVillage.BananaType, count(*)  
FROM MonkeyVillage
WHERE MonkeyVillage.BananaType IN (
SELECT MonkeyHouse.BananaType
FROM MonkeyHouse)
GROUP BY MonkeyVillage.BananaType""")
<END>
<QUE>
Function in python that justifies string (to either left, center or right)
<ANS>
def justify(s, pos):
    if len(s)<=70:
        if pos == l:
            print 30*' ' + s
        elif pos == c:
            print ((70 - len(s))/2)*' ' + s
        elif pos == r:
            #you missed it here...
            print (40 - len(s))*' ' + s
        else:
            print('You entered invalid argument-(use either r, c or l)')
    else:
        print("The entered string is more than 70 character long. Couldn't be justified.")
<END>
<QUE>
Check string for numbers in Python
<ANS>
s = "3.14"
try:
  val = float(s)
except ValueError:
  val = None
<END>
<QUE>
Delete some dots on the beggining of a string in python
<ANS>
mystr = '...../your_string'
mystr = '/' + mystr.lstrip('./')
<END>
<QUE>
finding specific instances of substring in string in Python
<ANS>
s= "((Random filler goes here))"
print s[2:-2]
<END>
<QUE>
How to get JSON document as user input in python
<ANS>
import json
#read string input 
dataone= raw_input()  
m=json.loads(dataone)
print (m["attribute name in double quotes "])
<END>
<QUE>
raw_input that able to do detect multiple input
<ANS>
s = raw_input("Please input something: ")
# now I input "f John Cleese", so that is now the value of 's'
# printing the value of 's' will let you see what it is exactly.

command = s.split(' ', 1) 
# the above code will split the string 's' on a ' ' space, 
# and only do it once, and then create a list with the pieces
# so the value of 'command' will be ['f', 'John Cleese'] for your example.

# to access items in the command list use brackets []
command[0] # 'f'
command[1] # 'John Cleese'
<END>
<QUE>
How to mount a network directory using python?
<ANS>
import os

os.cmd ("mkdir ~/mnt/data_dir mount -t data:/dir/ /mnt/data_dir")
<END>
<QUE>
Searching List of Tuples by nth element in Python
<ANS>
[t for t in list_of_tuples if t[1] == n or t[2] == n]
<END>
<QUE>
How to make a button in a game class with tkinter
<ANS>
buttons()
<END>
<QUE>
Find image sequences in a directory - Quicker than os.walk()?
<ANS>
def find_all_ImageSequences(dir):

    child_directories = [x for x in os.listdir(dir) if len(x.split(".")) == 1]
    if len(child_directories) >= 1:
        for directory in child_directories:
            if os.path.isdir(dir + "\\" + directory):
                find_all_ImageSequences(dir + "\\" + directory)

    for object in os.listdir(dir):
        if object.endswith(('.dpx','.jpg','.jpeg','.exr','.tif')):
            image_filename = object.split(".")[0]
            Image_Sequences_List.append(dir + "\\" + str(object))
            if any([x for x in os.listdir(dir) if x.split(".")[0] != image_filename and len(x.split(".")) > 1]):
                extras = set([x.split(".")[0] for x in os.listdir(dir) if x.split(".")[0] != image_filename])
                for i in extras:
                    Image_Sequences_List.append(i)
            break
<END>
<QUE>
How to send header in flask send_file?
<ANS>
response = make_response(send_file(mp3_filepath))
response.headers['X-Something'] = 'header value goes here'
return response
<END>
<QUE>
"Must construct a QApplication before a QPaintDevice" from QWidget
<ANS>
if __name__ == "__main__":
    app = QtGui.QApplication(sys.argv)
    main_window = MainWindowClass()
    main_window.show()
    sys.exit(app.exec_())
<END>
<QUE>
How to put output of python code in the gui format?
<ANS>
l = Label(root, textvariable = var)
<END>
<QUE>
Get all connected device name on the network - Python
<ANS>
import subprocess
nmap = subprocess.Popen(('nmap'), stdout-subprocess.PIPE)
ipout = nmap.communicate()[0]
<END>
<QUE>
Python- delete items of list
<ANS>
n = int(input("Number of values in list: "))
numbers = []
average=0
for i in range(n):
    lists = float(input("Enter a floating number: "))
    numbers.append(lists)
    average=average+ lists/n

print (numbers)

# filter numbers not greater than average, and get a new list
numbers = [n for n in numbers if n <= average]
print (numbers)
<END>
<QUE>
Python group similar lines in file onto one line
<ANS>
from collections import defaultdict

d = defaultdict(list)
with open('input.txt') as f:
    for line in f.readlines():
        data = line.split()
        d[data[0]].extend(data[1:])

with open('output.txt', 'w') as f:
    for key, value in d.iteritems():
        f.write(
            '%(key)s %(value)s
' 
            % {'key': key, 'value': " ".join(sorted(value))}
        )
<END>
<QUE>
Django: getting rid of RemovedInDjango19Warning for contenttypes
<ANS>
'south'
<END>
<QUE>
How to replace an '_' in a list with a letter corresponding to an earlier list
<ANS>
def hide_word(word, letters=[]):
    letters = map(str.lower, letters)
    word = word.lower()
    print ''.join((letter if letter in letters else '_ ' for letter in word))

hide_word('hiddenword', ['i','d','n']) #_ idd_ n_ _ _ d
<END>
<QUE>
Pyplot - change color of line if data is less than zero?
<ANS>
import matplotlib.pyplot as plt
import numpy as np

signal = 1.2*np.sin(np.linspace(0, 30, 2000))
pos_signal = signal.copy()
neg_signal = signal.copy()

pos_signal[pos_signal <= 0] = np.nan
neg_signal[neg_signal > 0] = np.nan

#plotting
plt.style.use('fivethirtyeight')
plt.plot(pos_signal, color='r')
plt.plot(neg_signal, color='b')
plt.savefig('pos_neg.png', dpi=200)
plt.show()
<END>
<QUE>
Hide PyQt app from taskbar
<ANS>
import sys
from PyQt4.QtGui import *

if __name__ == '__main__':
    app = QApplication(sys.argv)

    widget = QWidget()

    mainWindow = QMainWindow(widget)
    mainWindow.show()

    sys.exit(app.exec_())
<END>
<QUE>
Best high concurrency Python / Redis server
<ANS>
wsgiref.WSGIServer
<END>
<QUE>
Python: Splitting a list twice?
<ANS>
def parse_line(line):
    line = line.strip('
')
    parts = line.split('+')
    addrs = parts[-1].split(',')
<END>
<QUE>
Iron python: How to append string to bytearray
<ANS>
arr.extend(format(id, "04x").encode('ascii'))
<END>
<QUE>
How do print the odd letters of an input in python
<ANS>
print inp[1::2]
<END>
<QUE>
Syntax Error with Insert using MS SQL ODBC
<ANS>
cursor.execute("INSERT INTO room_use_log VALUES ("+
   "(SELECT bldg_flr_spc_id FROM bldg_flr_spc WHERE rm_atl_nbr='"+
     rooms[y]["Name"] +"'),'t','f',dateadd(ms,"+
     str(int(str(r.get(rooms[y]["Name"]))[1:])) +", '1970-01-01'),"+
     " dateadd(ms,"+
     str(int(time.time())) +
     ", '1970-01-01'))" #<----that one
    )
<END>
<QUE>
Dictionary to table in django
<ANS>
def panel(request):
    adlist = [{'title': 'haas', 'price': 12.50, 'bid': 50.0, 'seen': 23.11}]
    return render(request, 'panel.html', {'adlist' : adlist})
<END>
<QUE>
How to use Non-Standard Custom Font with Stylesheets?
<ANS>
app = QtGui.QApplication(sys.argv)
QtGui.QFontDatabase.addApplicationFont('path/to/font')
# or load the font data directly
# QtGui.QFontDatabase.addApplicationFontFromData(fontdata)
stylesheet = open('mystylesheet.qss').read()
app.setStyleSheet(stylesheet)
<END>
<QUE>
How do I write a Django template custom tag that adds a slash before a single quote?
<ANS>
def addslashes(value):
    """
    Adds slashes before quotes. Useful for escaping strings in CSV, for
    example. Less useful for escaping JavaScript; use the ``escapejs``
    filter instead.
    """
    return value.replace('\\', '\\\\').replace('"', '\\"').replace("'", "\\'")
addslashes.is_safe = True
addslashes = stringfilter(addslashes)
<END>
<QUE>
How do you 'remove' a numpy array from a list of numpy arrays?
<ANS>
def removearray(L,arr):
    ind = 0
    size = len(L)
    while ind != size and not np.array_equal(L[ind],arr):
        ind += 1
    if ind != size:
        L.pop(ind)
    else:
        raise ValueError('array not found in list.')
<END>
<QUE>
How to make a slug field autocomplete in a form?
<ANS>
from .models import Question

class QuestionAdmin(admin.ModelAdmin):
    prepopulated_fields = {"slug": ("naslov",)}


admin.site.register(Question, QuestionAdmin)
<END>
<QUE>
When reading a text file, why do I get b' in front of each line?
<ANS>
open(bill_file_name,'r')
<END>
<QUE>
How to access the specific locations of an integer list in Python?
<ANS>
operator.itemgetter(*b)(a)
<END>
<QUE>
Is any elegant way to make a list contains some integers to become a list contains some tuples?
<ANS>
pairs = zip(*[iter(a)]*2)
<END>
<QUE>
what data structure for python data reconcile script?
<ANS>
# dict[22] = [20141011, 20120101, 20140923]

dict[id] = [ expDate, startDate, endDate ]


# Format 
print str(id) + ' | ' + ' | '.join(str(x) for x in dict[id])

# Result
# 22 | 20141011 | 20120101 | 20140923
<END>
<QUE>
Read a file by words in Python
<ANS>
tokens = []    
for linea in f.readlines():
    line_content = linea.split(' ')
    for token in line_content:
        tokens.append(token)
print(tokens)
<END>
<QUE>
soaplib with mod_wsgi/cherrypy
<ANS>
cherrypy.quickstart(Root(), "/")
<END>
<QUE>
python print in center
<ANS>
def center_print(s):
    import os,sys
    command = "mode con ^ | findstr Columns" if sys.platform == 'win32' else "stty size"
    ignore, columns = os.popen(command).read().split()
    print " "*((int(columns)-len(s))/2)+s

center_print("aaaaaaaaaaaaaaaa")
<END>
<QUE>
Creating folders based on a list read from a text file
<ANS>
folder = folder.strip()
<END>
<QUE>
Using scraperwiki for pdf-file on disk
<ANS>
with open("filename.pdf", "rb") as pdffile:
      pdfdata=pdffile.read()

xmldata = scraperwiki.pdftoxml(pdfdata)
root = lxml.html.fromstring(xmldata)
<END>
<QUE>
Returning value from a process creator function in python in multiprocessing
<ANS>
return whatever
<END>
<QUE>
Sqlalchemy: How to perform outer join with itself?
<ANS>
# sample sub-query for testing
_another_query = session.query(Evaluation.module).filter(Evaluation.module > 3)

# define aliases
E1 = aliased(Evaluation, name="e1")
E2 = aliased(Evaluation, name="e2")

# inner query
sq = (
    session
    # .query(E1)
    # select columns explicitely to control labels
    .query(E1.user.label("user"), E1.points.label("points"))
    .outerjoin(E2, and_(
        E1.user == E2.user,
        E1.module == E2.module,
        E1.time < E2.time,
    ))
    .filter(E2.user == None)
    .filter(E1.module.in_(_another_query))
)
sq = sq.subquery(name="sq")

# now lets group by
q = (
    session
    .query(sq.c.user, func.sum(sq.c.points))
    .group_by(sq.c.user)
    .order_by(func.sum(sq.c.points))
    .limit(5)
)
<END>
<QUE>
Python requests url link which contains a variable part
<ANS>
import csv
import requests

inputfile = open('trycode.csv','r')
for row in inputfile:
    url = 'http://en.wikipedia.org/wiki/Monty_Python/' + row
    source = requests.get(url)
inputfile .close()
<END>
<QUE>
Sending Outlook mail to multiple distribution lists in Python
<ANS>
from win32com.client.gencache import EnsureDispatch
from win32com.client import constants

outlook = EnsureDispatch("Outlook.Application")
newMail = outlook.CreateItem(constants.olMailItem)
newMail.Subject = "This is subject"

samplegrp1 = newMail.Recipients.Add("samplegrp1")
samplegrp2 = newMail.Recipients.Add("samplegrp2")
samplegrp1.Type = constants.olCC
samplegrp3.Type = constants.olCC
newMail.Recipients.ResolveAll()
<END>
<QUE>
compare datetime with DateField for equivalency?
<ANS>
dt.datetime.strptime('2000', '%Y').date() == myRecalledDbObj.dateFieldVal
<END>
<QUE>
python, ArcGIS 10.1, random number generation
<ANS>
import numpy.random as R

def getRandomValue(fieldName1):
    return R.random()

print getRandomValue()
<END>
<QUE>
How to select closest representative to the center in each cluster in scipy-cluster?
<ANS>
scipy.cluster.vq.py_vq
<END>
<QUE>
How do I write a unit test for OSError?
<ANS>
def find_or_make_logfolder(self):
    try:
        makedirs(self.logfolder)
    except OSError:
        #self.logfolder was already a directory, continue on.
        pass
<END>
<QUE>
Iteration Over Open Text File Multiple Times in Python
<ANS>
f.seek(0)
<END>
<QUE>
python + matplotlib: How to make XTick Markers symmetric over the axis?
<ANS>
matplotlib.axes.tick_params(direction='inout')
<END>
<QUE>
How can I use a Java timer from within a jython class to schedule one of the classes methods?
<ANS>
import threading
from java.util import Timer, TimerTask

class MyTimerTask(TimerTask):
    def run(self):
        print 'Getting Realtime Data'


class IBTHXHandler(threading.Thread):

    def __init__(self):
        threading.Thread.__init__(self, name='IBTHX Handler Thread')
        self.start()

    def run(self):
        print 'ibthx thread running'
        timer = Timer()
        timer.schedule(MyTimerTask(), 0, 1000)

IBTHXHandler()
<END>
<QUE>
How can I get the loop to display the initial inputs and how to accept percentages '%' as output
<ANS>
s = int(input("Starting number of organisms: "))
i = float(input("Average daily increase[%]: "))/100.0
d = int(input("Number of days to multiply: "))
first = True
print("Day Approximate\tPopulation")
for d in range(s, d + 1):
    if first:
        print(1, '\t', s)
        first = False
    add = s * i
    s = s + add
    print(d - 1, '\t', s)
<END>
<QUE>
Sort list of strings by integer suffix in python
<ANS>
sorted(the_list, key = lambda x: int(x.split("_")[1]))
<END>
<QUE>
XML write instead of print
<ANS>
f = open(filename, 'w')
for s in itemlist:
   f.write(s.attributes['name'].value + "
")
<END>
<QUE>
How to sort list like this?
<ANS>
li_sorted = sorted(li, key=lambda x: x['age'])
<END>
<QUE>
Python pandas dataframe slicing, with if condition
<ANS>
df[df.categories.map(lambda cats: 'Restaurants' in cats)]
<END>
<QUE>
django xml generate object has no attribute 'get'
<ANS>
data = serializers.serialize("xml", MessageHeaderModel2.objects.all())
with open("file.xml", "w") as out:
     out.write(data)
out.close()
<END>
<QUE>
In python, how do I copy files into a directory and stop once that directory reaches a certain size
<ANS>
current_destination = CreateOutputDirectory()
for root, folders, files in os.walk(input_directory):
   for file in files:
       file_size = os.path.getsize(file)
       if os.path.getsize(current_destination) + file_size > limit:
          current_destination = CreateOutputDirectory()
       CopyFileToDirectory(root, file, current_destination)
<END>
<QUE>
Pygame screen not showing up
<ANS>
pygame.display.flip()
<END>
<QUE>
How to sort a table by maximum value of a column using flask/sqlalchemy?
<ANS>
# count the number of friends for each user
# friends are users as well, so need alias
# construct subquery for use in final query

friend = db.aliased(User)

sub = db.session.query(
    User.id,
    db.func.count(friend.id).label('fc')
).join(friend, User.friends
).group_by(User.id).subquery()

# query users, join on subquery to get friend count
# order by friend count, descending

users = db.session.query(User
).join(sub, sub.c.id == User.id
).order_by(sub.c.fc.desc()
).paginate(page, MONKEYS_PER_PAGE, False)
<END>
<QUE>
Calculating just a specific property in regionprops python
<ANS>
labels,num=label(image, return_num=True)
for i in range(num):
    area[i]=size(np.where(labels==i)[1])
<END>
<QUE>
How to add a "Body" to a python mime multipart(has attachment) email
<ANS>
body = "Text for body"
msg.attach(MIMEText(body,'plain'))
<END>
<QUE>
Python: Change Cmd Startup folder programmatically
<ANS>
from winreg import*

a=OpenKey(HKEY_CURRENT_USER,"Software\\Microsoft\\Command Processor",0,KEY_WRITE)
SetValueEx(a,"Autorun",0,REG_SZ,"cd\\The path that I wantsss.")
CloseKey(a)
<END>
<QUE>
How to return the result of the first task from a celery chain?
<ANS>
r = chain(hello.s(), hey.s())()

r.parent.get(timeout=1)
r.parent.parent.get(timeout=1)

first = r
while first.parent:
    first = first.parent
<END>
<QUE>
Using Regex to look for values in Python
<ANS>
with open("tweet37.txt", "w") as o:
    for tweet in tweets:
        tweet_id = tweet['id']
        if tweet_id.endswith('700') or tweet_id.endswith('300'):
            print >> o, str(tweet['id'])
<END>
<QUE>
Getting two consecutive elements from a list every ten elements
<ANS>
[elem for i, elem in enumerate(A) if i %10 in (0, 1)]
<END>
<QUE>
Dealing with a string containing multiple character encodings
<ANS>
latin1 = "latin-1"
japanese = "Shift-JIS"

control_l = "\x0c"
control_j = "
"

encodingMap = {
    control_l: latin1,
    control_j: japanese}

def funkyDecode(s, initialCodec=latin1):
    output = u""
    accum = ""
    currentCodec = initialCodec
    for ch in s:
        if ch in encodingMap:
            output += accum.decode(currentCodec)
            currentCodec = encodingMap[ch]
            accum = ""
        else:
            accum += ch
    output += accum.decode(currentCodec)
    return output
<END>
<QUE>
Making a job fail in jenkins
<ANS>
import sys
sys.exit(-1)
<END>
<QUE>
Python : select a specific line from text
<ANS>
str1 = "Start"
fp = open("C:...test.txt")
check = 0
for i,line in enumerate(fp):
    if str1 in line:
        check = i
        continue
    if "contain" in line and (i == check + 3):
        print "OK"
    else:
        print "NOK"
<END>
<QUE>
Resize Tkinter Window FROM THE RIGHT (python)
<ANS>
import Tkinter as Tk #tkinter

def toggle():
    if frame1.winfo_ismapped():
        frame1.grid_remove()
    else:
        frame1.grid()

root = Tk.Tk()
root.geometry('-450+250')
frame1 = Tk.Frame(root, width=200, height=100, bg='red')
frame1.grid(row=0, column=0)
frame2 = Tk.Frame(root, width=200, height=100, bg='blue')
frame2.grid(row=0, column=1)
Tk.Button(root, text='toggle', command=toggle).grid(row=1, column=1)

root.mainloop()
<END>
<QUE>
Generating a contour plot based on a matrix of z values using MatPlotLib
<ANS>
import numpy as np
import pylab as plt

# The example dict/matrix
dict = {}
for x in range(0, 11):
    dict[x] = [0,1,2,3,4,5,6,7,8,9,10]

# Create an empty numpy array with the right dimensions
nparr = np.zeros((len(dict.keys()), len(dict[0])))

# Loop through converting each list into a row of the new array
for ii in xrange(nparr.shape[0]):
    nparr[ii] = dict[ii]

# Plotting as a contour
plt.contour(nparr)
plt.show()
<END>
<QUE>
Updating a sqlite3 Database with QSqlQuery
<ANS>
query.prepare(QString("UPDATE news SET Raw = :value WHERE id = :id "));
query.bindValue(":value", raw);
query.bindValue(":id", news_id);
<END>
<QUE>
How to generate strong one time session key for AES in python
<ANS>
random_key = os.urandom(16)
<END>
<QUE>
slicing a list for list comprehension but keeping sliced values
<ANS>
booleans= [[l[0]]+[1 if i is None else 0 for i in l[1:4]]+l[4:] for l in my_list]
<END>
<QUE>
How to move an item in a list two units down
<ANS>
def move (l, from_, to = 2):
    return l.insert (to, l.pop (from_) )
<END>
<QUE>
Encrypt in PHP, Decrypt in Python
<ANS>
from Crypto.Cipher import AES
import base64

AES.key_size=128
iv="your iv"
key="your key"
crypt_object=AES.new(key=key,mode=AES.MODE_CBC,IV=iv)

decoded=base64.b64decode(plain) # your ecrypted and encoded text goes here
decrypted=crypt_object.decrypt(decoded)
<END>
<QUE>
how to modify the reverse url for GET?
<ANS>
href="{% url foo %}?bar=1"
<END>
<QUE>
How to print specific json list items?
<ANS>
from __future__ import print_function

import json

raw_response = '[["Message","User string from here."]]'
data = json.loads(raw_response)

print(data[0][1])
<END>
<QUE>
convert python string date to mysql datetime
<ANS>
month_of_the_year = ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dec']

def convert_to_mysql_format(string):
  explode = string.split()
  day_of_the_month = explode[2][:-1]
  if int(explode[2][:-1]) < 10:
    day_of_the_month = "%02d" % (int(explode[2][:-1]),)

  if explode[5] == 'am':
    time_split = explode[4].split(':')
    if time_split[0] == '12':
      time_split[0] = '00'
    elif int(time_split[0]) < 10:
      time_split[0] = "%02d" % int(time_split[0])

  else:
    time_split = explode[4].split(':')
    if int(time_split[0]) in range(1, 12):
      time_split[0] = str(int(time_split[0]) + 12)


  if month_of_the_year.index(explode[1]) < 12:
    explode[1] = "%02d" % (month_of_the_year.index(explode[1])+1)

  return explode[3]+'-'+explode[1]+'-'+day_of_the_month+' '+time_split[0]+':'+time_split[1]+':00'

print convert_to_mysql_format("Lun Ene 27, 2014 9:52 am")
print convert_to_mysql_format("Lun Ene 27, 2014 9:52 pm")
<END>
<QUE>
pythonic string syntax corrector
<ANS>
inputstring = 'wrong_syntax(b>=c) correct_syntax(b,>=,c)'
regex = r"([^,])(>=|<=|!=|==|>|<|=)([^,])"
replace = r"\1,\2,\3"

result = re.sub(regex, replace, inputstring)

print(result)
<END>
<QUE>
Python package to work with GIS data?
<ANS>
from shapely.geometry import MultiPoint
points = MultiPoint([(0.0, 0.0), (1.0, 1.0)])
print points.centroid #True centroid, not necessarily an existing point
<END>
<QUE>
Python string formatting
<ANS>
name = 'foo'
age = 42
print "Hi %s, you are %d years old
" % (name, age)
<END>
<QUE>
Change cell size in python wx widget
<ANS>
sizer = wx.BoxSizer(wx.VERTICAL)
sizer.Add(myWidget, proportion=1, flag=wx.EXPAND|wx.ALL, border=5)
sizer.Add(myOtherWidget, proportion=0, flag=wx.ALL, border=5)
<END>
<QUE>
iterating over named tuples in a list
<ANS>
def price(rlist):
    return [item.price for item in rlist]
<END>
<QUE>
pandas dataframe, how to add new row efficiently
<ANS>
columns = ['A', 'B']
user_list = pd.DataFrame(np.zeros((1000, 2)) + np.nan, columns=columns)
user_list.iloc[0] = [3, 4]
user_list.iloc[1] = [4, 5]
<END>
<QUE>
Python: finding keys with unique values in a dictionary?
<ANS>
countMap = {}
for v in a.itervalues():
    countMap[v] = countMap.get(v,0) + 1
uni = [ k for k, v in a.iteritems() if countMap[v] == 1]
<END>
<QUE>
Error in Decoding JSON with Python, exporting jqGrid
<ANS>
from django.core.urlresolvers import resolve
view_match = resolve('/json/test_day/4982/')
json_data = view_match.func(request,**view_match.kwargs).content
<END>
<QUE>
Updating database with MySQLdb in Python
<ANS>
db.commit()
<END>
<QUE>
How to check the last element of a python list?
<ANS>
stack[-1]
<END>
<QUE>
Algorithm in Python to store and search daily occurrance for thousands of numbered events?
<ANS>
import numpy as np

nbLamps = 200000
nbDays = 365

arr = np.array([nbLamps, nbDays], dtype=np.bool)
<END>
<QUE>
De-animate an animated gif with python
<ANS>
from PIL import Image

try:
    im = Image.open('test.gif')
    f=0    
    while True:        
        im.seek(f)
        im.save('test_%02d.png' % f)
        f += 1
except EOFError:
    print "Done!"
except:
    print "Some Other Error"
<END>
<QUE>
How would I make my page choose between getting data from a drop-down menu or a text-field?
<ANS>
if 'on' in form and form['on']:
    doSomethingWithOn()
else:
    doSomethingWithDrop()
<END>
<QUE>
How do I use __getitem__ and __iter__ and return values from a dictionary?
<ANS>
def __iter__(self): return self.books.itervalues()
<END>
<QUE>
grab tweet with python encounters UnicodeEncodeError
<ANS>
for item in list:
    print item[u'text'].encode('utf-8')
<END>
<QUE>
Diff and intersection reporting between two text files
<ANS>
words1 = set(open("some1.txt").read().split())
words2 = set(open("some2.txt").read().split())

duplicates  = words1.intersection(words2)
uniques = words1.difference(words2).union(words2.difference(words1))

print "Duplicates(%d):%s"%(len(duplicates),duplicates)
print "
Uniques(%d):%s"%(len(uniques),uniques)
<END>
<QUE>
Selecting pandas cells with None value
<ANS>
yes_records_sample['name'].isnull()
<END>
<QUE>
Python pandas dataframe group by based on a condition
<ANS>
df.groupby('column').filter(lambda group: group.size > X)
<END>
<QUE>
python doc for docstring
<ANS>
import re
import os
import xmlutils # download it from: https://gist.github.com/huseyinyilmaz/1448723

my_dir = '<absolute path to my dir>'

doc_dict = dict()

for root, dirs, files in os.walk(my_dir):
    for filename in files:
        if filename.endswith('.py'):
            with open(os.path.join(root, filename), 'r') as py_file:
                basename = os.path.basename(filename)
                doc_dict[basename] = [m.group('doc') for m in re.finditer(
                    re.compile(r'("|\'){3}(?P<doc>.*?)\1{3}', re.DOTALL),
                    py_file.read()
                )]

dict2xml(dict(root=doc_dict))
<END>
<QUE>
How to Extend Scipy Sparse Matrix returned by sklearn TfIdfVectorizer to hold more features
<ANS>
scipy.sparse.hstack
<END>
<QUE>
How to test django application placed in subfolder?
<ANS>
__init__.py
models.py
<END>
<QUE>
Python inserting list of alphanumeric strings into database
<ANS>
con.commit()
<END>
<QUE>
Cplex Python how to avoid printing the output
<ANS>
prob.set_log_stream(None)
prob.set_error_stream(None)
prob.set_warning_stream(None)
prob.set_results_stream(None)
<END>
<QUE>
Seaborn regplot with colorbar?
<ANS>
import seaborn as sns
import matplotlib.pyplot as plt

tips = sns.load_dataset("tips")

points = plt.scatter(tips["total_bill"], tips["tip"],
                     c=tips["size"], s=75, cmap="BuGn")
plt.colorbar(points)

sns.regplot("total_bill", "tip", data=tips, scatter=False, color=".1")
<END>
<QUE>
how to print dataframe without index
<ANS>
print df.to_string(index=False)
<END>
<QUE>
how to serve downloadable zip file in django
<ANS>
zip_file = open(path_to_file, 'r')
response = HttpResponse(zip_file, content_type='application/force-download')
response['Content-Disposition'] = 'attachment; filename="%s"' % 'foo.zip'
return response
<END>
<QUE>
Python : Extend a copy of a list - Bug?
<ANS>
c = copy.deepcopy(a)
<END>
<QUE>
how to read and write INI file with Python?
<ANS>
import configparser

config = configparser.ConfigParser()
config.read('FILE.INI')
print(config['DEFAULT']['path'])     # -> "/path/name/"
config['DEFAULT']['path'] = '/var/shared/'    # update
config['DEFAULT']['default_message'] = 'Hey! help me!!'   # create

with open('FILE.INI', 'w') as configfile:    # save
    config.write(configfile)
<END>
<QUE>
is there a way to view the source of a module from within the python console?
<ANS>
import module
import inspect
src = inspect.getsource(module)
<END>
<QUE>
Numpy: Index 3d array by z-index array
<ANS>
import numpy as np 

a = np.arange(3*3*3).reshape(3,3,3)
z = np.array([[1, 0, 2],
       [2, 2, 1],
       [1, 1, 0]])
i = np.arange(a.shape[0]).repeat(a.shape[0]).reshape(a.shape[0], a.shape[1])
j = i.T
#Should do the same as this. possible more efficient, did not test.
#i, j = np.indices(a[...,0].shape)
print a[i,j,z]
<END>
<QUE>
Python IOError: Unable to Open Two Files
<ANS>
article = article[:325-len(current_dir)]
out.write(os.path.join(current_dir, article + '.txt'))
<END>
<QUE>
Python eval printing an extra 
 for a z3 expression
<ANS>
from z3 import *

set_param(max_lines=1, max_width=1000000)
print(str(clause))
<END>
<QUE>
Python & biology: using python to intersect datasets
<ANS>
list1 = [('chr1', '123', '345'), ('chr1', '567', '678'), ('chr2', '123', '234')]

list2 = [('chr1', '123', '567'), ('chr1', '777', '890'), ('chr2', '1', '288')]
newlist = []

for j,k,l in list1:
    for x,y,z in list2:
        if j == x:
            if int(k) >= int(y) or int(l) <= int(z):
                newlist.append(k)
            else:
                 pass
        else:
            pass
<END>
<QUE>
Populate an App Engine NDB entity with data from WTForms
<ANS>
form.populate_obj(user)
user.put()
<END>
<QUE>
Enumerations in python
<ANS>
class Directions:
    up = 0
    down = 1
    left = 2
    right =3
<END>
<QUE>
How can I start the python console within a program (for easy debugging)?
<ANS>
import code
import sys    

def DebugKeyboard(banner="Debugger started (CTRL-D to quit)"):

    # use exception trick to pick up the current frame
    try:
        raise None
    except:
        frame = sys.exc_info()[2].tb_frame.f_back

    # evaluate commands in current namespace
    namespace = frame.f_globals.copy()
    namespace.update(frame.f_locals)

    print "START DEBUG"
    code.interact(banner=banner, local=namespace)
    print "END DEBUG"
<END>
<QUE>
Fast detection or simulation of WSAECONNREFUSED
<ANS>
import errno
import socket
import time
import mock

PORT = 50123


def connect_mock(*agrs):
    raise socket.error(errno.WSAECONNREFUSED, "Testing")


def main():
    s = socket.socket()
    s.bind(('127.0.0.1', PORT))
    s.listen(0)
    client = socket.socket()
    client.connect(('127.0.0.1', PORT))

    client2 = socket.socket()
    start = time.time()

    with mock.patch('socket.socket.connect', connect_mock):
        try:
            client2.connect(('127.0.0.1', PORT))
            print "done"
        except socket.error as e:
            assert e.errno == errno.WSAECONNREFUSED
            print 'connection attempt took', time.time() - start
        finally:
            client2.close()
            client.close()
            s.close()


if __name__ == '__main__':
    main()
<END>
<QUE>
string split in python 
<ANS>
left, right = line.split(None, 1)
<END>
<QUE>
Sorting a dict on __iter__
<ANS>
def itersorted(d):
    for key in sorted(d):
        yield d[key]
<END>
<QUE>
How to merge multiple dicts with same key?
<ANS>
ds = [d1, d2]
d = {}
for k in d1.iterkeys():
    d[k] = tuple(d[k] for d in ds)
<END>
<QUE>
Python Flask, how to set content type
<ANS>
from flask import Response
@app.route('/ajax_ddl')
def ajax_ddl():
    xml = 'foo'
    return Response(xml, mimetype='text/xml')
<END>
<QUE>
opencv using python - copy roi to new smaller image
<ANS>
import os
import cv2

img = cv2.imread(filename)
roi = img[row:row+height,column:column+width]
cv2.imshow('ROI',roi)
cv2.waitKey(0)
<END>
<QUE>
Spawn a new non-blocking process using Python on Mac OS X
<ANS>
import os
pid = os.fork()
if 0 == pid:
  os.system('firefox')
  os._exit(0)
else:
  os._exit(0)
<END>
<QUE>
How do I execute a complex shell find command from Python?
<ANS>
subprocess.call(["find", ".", "-exec", "touch", "{}", ";"])
<END>
<QUE>
Modify db parameter group in AWS RDS using boto
<ANS>
pg = conn.get_all_dbparameters('mygroup')
pg2 = conn.get_all_dbparameters('mygroup', marker = pg.Marker)
pg2['slow_query_log'].value = True
pg2['slow_query_log'].apply(True)
<END>
<QUE>
Built in Python function to skip row of data
<ANS>
for line in nlines:
    line = line.strip()
    if line == '': 
        continue # skip empty lines

    line = line.replace('\t',' ')
    x, y, z = line.split()

    if x > somevalue: 
        continue # skip line if x > somevalue

    X.append(x)
    Y.append(y)
    Z.append(z)
<END>
<QUE>
How to hide PPT presentation using com/ironPython
<ANS>
if self.isVisible:
    self.com_app.Visible = self.isVisible
com_ppt = self.com_app.Presentations.Open(filename, WithWindow = isVisible)
<END>
<QUE>
How to sort list of String without considering Special characters and with case insensitive
<ANS>
sorted(list1, key=lambda x: re.sub('[^A-Za-z]+', '', x).lower())
<END>
<QUE>
How to differentiate between GET and POST in plain CGI
<ANS>
import os
print os.environ['REQUEST_METHOD']
<END>
<QUE>
How to use two returned values from a function in another function? MAIN()
<ANS>
def findGrid(n):   #This function takes one parameter.
    row = n + 1
    col = row ** 2

    return  row, col                  #Return two values

def calculate(a, b):
    a = a + 2
    b = a // 2

    return a, b

def main():
    x = int(input("Enter a number: "))
    y,z = findGrid(x)
    a,b = calculate(y, z)
    print a
    print b

main()
<END>
<QUE>
Concatenating subsets of blast hits according to their position to get complete hits
<ANS>
expected_query_seq = ""
for record in records:
   for alignment in record.alignments:
                hits = sorted((hsp.query_start, hsp.query_end, hsp.sbjct_start, hsp.sbjct_end, alignment.title, hsp.query, hsp.sbjct)\
                               for hsp in alignment.hsps)
                for q_start, q_end, sb_start, sb_end, title, query, sbjct in hits:
                      print title
                      print 'The query starts from position: ' + str(q_start)
                      print 'The query ends at position: ' + str(q_end)
                      print 'The hit starts at position: ' + str(sb_start)
                      print 'The hit ends at position: ' + str(sb_end)
                      print 'The  query is: ' + query
                      print 'The hit is: ' + sbjct

                      expected_query_seq += str(query[q_start:q_end])
print expected_query_seq
<END>
<QUE>
TypeError on beautifulsoup file open
<ANS>
from BeautifulSoup import BeautifulSoup as bs

def readHTML():   
    soup = bs("stats.html")
    print(soup.prettify())
<END>
<QUE>
how to dynamically insert data in a list in python
<ANS>
# create an empty list
a = [];
# take limt as input
lim = raw_input("Enter limit")

# this is python style of for loop
# here i will start from 0 and will go upto limit
for i in range (0, int(lim)):
    # take input from user one by one and append to list
    elem = raw_input("")
    a.append(int(elem))
<END>
<QUE>
OpenCV VideoWriter with python gives 5.54kb file
<ANS>
video = cv2.VideoWriter(r"C:\Users\Josh\Desktop\video.avi", 
cv2.cv.CV_FOURCC('F','M','P', '4'), 15, (1536, 1536), 1)
<END>
<QUE>
Date filter in list-comphresion with class variable
<ANS>
userSubset = set([user for user in users for record in user.records if dt < record.datetime < dt + timedelta(days=7)])
<END>
<QUE>
Remove duplicate sequences from fasta file based on ID
<ANS>
ids = set()
for rec in blah:
    if rec.id not in ids:
        ids.add(rec.id)
        # process it
<END>
<QUE>
Transferring a list from function to function in python
<ANS>
def show_multiples(low, high, multi):   
    #make empty list
    multi_list = []    
    #make the list
    for i in range(high, low, -1):    
        if i % multi == 0:
            multi_list.append(i)
            print('List was created')   
    return multi_list # <-- this should be out of the loop
<END>
<QUE>
How to abort App Engine pipelines gracefully?
<ANS>
def abort(self, abort_message=''):
    """Mark the entire pipeline up to the root as aborted.
    Note this should only be called from *outside* the context of a running
    pipeline. Synchronous and generator pipelines should raise the 'Abort'
    exception to cause this behavior during execution.

    Args:
      abort_message: Optional message explaining why the abort happened.

    Returns:
      True if the abort signal was sent successfully; False if the pipeline
      could not be aborted for any reason.
    """
<END>
<QUE>
Python - Fastest way to find elements in XML documents
<ANS>
import re
pattern = re.compile(r'<[c|d][^>]*>(?P<text>[^<]*)</[c|d]>')
with open('filename', 'r') as f:
    for txt in pattern.finditer(f.read()):
        print(txt.group('text').strip())
<END>
<QUE>
What is the best way to get the following data into long format using column labels?
<ANS>
arr = np.array([[1., 0., 0.], [1., 0., 0.], [0., 0.,1.], [0.,1.,0.]])
names = ['age01', 'age02', 'age03']
val = [float(names[ind][4:6]) for ind in np.where(arr == 1.)[1]]
<END>
<QUE>
How to change date format using matplolib in python
<ANS>
from matplotlib.dates import DateFormatter
formatter = DateFormatter('%Y-%m-%d %H:%M:%S')
plt.gcf().axes[0].xaxis.set_major_formatter(formatter)
<END>
<QUE>
How can I store a .CHM Help File as text with Python?
<ANS>
currentHelp = base64.b64decode(helpData.read())
<END>
<QUE>
Create arrows in matplotlib using annotate
<ANS>
plt.annotate(
    '30.2',
    xy=(3, y),
    xycoords='data',
    xytext=(3, y - 5),
    textcoords='data',
    horizontalalignment='center',
    arrowprops=dict(facecolor='black', arrowstyle="->")
)
<END>
<QUE>
How to process a string into layer of sublists
<ANS>
lst = "aaabaabacabaacaca"

def go(it):
    for x in it:
        if x == 'b':
            yield [x] + list(go(it))
        else:
            yield x
            if x == 'c':
                break 


print list(go(iter(lst)))
<END>
<QUE>
How can I split a string while preserving parentheses
<ANS>
re.findall('[(][^)]*[)]|\S+', key)
<END>
<QUE>
Efficient way to cluster colors using K-Nearest
<ANS>
import numpy as np
import cv2

src = cv2.imread('objects.png')
src_flatten = np.reshape(np.ravel(src, 'C'), (-1, 3))
dst = np.zeros(src.shape, np.float32)

colors = np.array([[0x00, 0x00, 0x00],
                   [0xff, 0xff, 0xff],
                   [0xff, 0x00, 0x00],
                   [0x00, 0xff, 0x00],
                   [0x00, 0x00, 0xff]], dtype=np.float32)
classes = np.array([[0], [1], [2], [3], [4]], np.float32)

knn = cv2.KNearest()
knn.train(colors, classes)
retval, result, neighbors, dist = knn.find_nearest(src_flatten.astype(np.float32), 1)

dst = colors[np.ravel(result, 'C').astype(np.uint8)]
dst = dst.reshape(src.shape).astype(np.uint8)

cv2.imshow('src', src)
cv2.imshow('dst', dst)
cv2.waitKey()
<END>
<QUE>
Using optparse to read in a list from command line options
<ANS>
import ast
(options, args) = parser.parse_args()    
myopt = ast.literal_eval(options.myopt)
<END>
<QUE>
How to check existing value in database and change it?
<ANS>
def check_function():
    form = CheckForm()
    code=form.some_code.data
    check_code = Codes.query.filter_by(code=code).first()
    if not check_code:
        print 'Code not found'
        return   # You don't have to worry about that again

    if check_code.activated == True:
        print 'Code already used'
        return   # Second case is already covered

    # That's the only case left, no need for an `if` condition
    check_code.activated = True
    db.session.add(check_code)
    db.session.commit()
<END>
<QUE>
How to get Numerical Readable Output of Float dtype in Numpy Array?
<ANS>
numpy.set_printoptions(suppress=True)
<END>
<QUE>
Get smallest N values from numpy array ignoring inf and nan
<ANS>
import numpy as np
a = np.random.rand(20)
a[4] = -np.inf
k = 10
a[np.isneginf(a)] = inf
result = a[np.argsort(a)[:k]]
<END>
<QUE>
Counter in OpenErp - Python
<ANS>
ir.sequence
<END>
<QUE>
In dictionary, converting the value from string to integer
<ANS>
dict_with_ints = dict((k,int(v)) for k,v in dict_with_strs.iteritems())
<END>
<QUE>
Learning Python: Print 3 consecutives lines from a PIPE
<ANS>
def cmds(cmd):
    infile = Popen(cmd, shell=True, stdout=PIPE).stdout
    print infile.readline()
    print infile.readline()
    print infile.readline()
    while True:
        line = infile.readline()
        if not line:
            break
        if line == '
':
            print infile.readline()
            print infile.readline()
            print infile.readline()
<END>
<QUE>
Inserting a value into a Binary Search Tree in Python
<ANS>
def insert(item, tree):
    if (item < tree.entry):
        if (tree.left != None):
            insert(item, tree.left)
        else:
            tree.left = Tree(item)
    else:
        if (tree.right != None):
            insert(item, tree.right)
        else:
            tree.right = Tree(item)
<END>
<QUE>
fetching multiple rows from database in django?
<ANS>
for item in value:
    item.col
<END>
<QUE>
How to check if the current time is in range in python using time strings?
<ANS>
import time

old_time = time.strptime('01:00', '%H:%M')
new_time = time.strptime('06:00', '%H:%M')

print(old_time)
print(new_time)

if old_time > new_time:
    print('old time is old')
else:
    print('new is cool')
<END>
<QUE>
How to recursively traverse an XML File in Python?
<ANS>
for child in [child for child_root in tree_root for child in child_root]:
    print(child)
<END>
<QUE>
Implementing PyMyType_Check methods with Python C API?
<ANS>
PyObject_IsInstance()
<END>
<QUE>
Reading from a text file into a dictionary with variable columns
<ANS>
users = {}

with open(text_file) as f:
    for line in f:
        parts = line.rstrip().split(', ')
        name = parts[0]
        users[name] = {}

        for rating in parts[1:]:
            song, score = rating.split(': ')
            song = song[1:-1]
            users[name][song] = score

print users
<END>
<QUE>
Enter hidden password in python
<ANS>
def spyder_getpass(prompt='Password: '):
  set_spyder_echo(False)
  password = raw_input(prompt)
  set_spyder_echo(True)
  return password
<END>
<QUE>
How do I run some python code in another process?
<ANS>
from multiprocessing import Process

def f(name):
    print 'hello', name

if __name__ == '__main__':
    p = Process(target=f, args=('bob',))
    p.start()
    p.join()
<END>
<QUE>
Is it possible to compile results into unique lists from inside of a comprehension?
<ANS>
even = []
odd = []
for i in my_list:
    (odd if i % 2 else even).append(i)
<END>
<QUE>
recursive function for a django model instance
<ANS>
def get_thread(msg):
    messages = [] # empty message set

    while msg.response_to:  
         messages.append(msg)
         msg = msg.response_to

    messages.append(msg) # will append the original message

    return messages
<END>
<QUE>
Python: Print only the message on warnings
<ANS>
warnings.showwarning()
<END>
<QUE>
Python input/strings
<ANS>
while True:
    try:
        # in python 3:
        # age = int(input('Please enter your age.(numerical value)'))
        # in python 2.7
        age = int(raw_input('Please enter your age.(numerical value)'))
        break
    except ValueError:
        print('that was not an integer; try again...')
<END>
<QUE>
How to get the content of a Html page in Python
<ANS>
''.join(soup.findAll(text=True))
<END>
<QUE>
How to make DDL from cursor.description or a select-statement
<ANS>
translator = { 'BINARY'         : 'RAW',\
           'BFILE'          : 'BFILE',\
           'BLOB'           : 'BLOB',\
           'CLOB'           : 'CLOB',\
           'CURSOR'         : 'CURSOR',\
           'DATETIME'       : 'DATE',\
           'FIXED_CHAR'     : 'CHAR',\
           'FIXED_UNICODE'  : 'NCHAR',\
           'INTERVAL'       : 'INTERVAL',\
           'LONG_STRING'    : 'LONG',\
           'LONG_UNICODE'   : 'LONG ',\
           'NCLOB'          : 'NCLOB',\
           'NUMBER'         : "NUMBER",\
           'OBJECT'         : 'OBJECT',\
           'ROWID'          : 'ROWID',\
           'STRING'         : 'VARCHAR2',\
           'TIMESTAMP'      : 'TIMESTAMP',\
           'UNICODE'        : "NVARCHAR2" }

str_coltype     # example:  "<type 'cx_Oracle.NUMBER'>"
cx_coltp = re.findall("\.([^\.]+)'>$", str_coltype)[0]
ora_coltp = translator[ cx_coltp ]
<END>
<QUE>
Appending list data to txt
<ANS>
txt = txt[:tagEnd] + ' '.join(lis) + wikiText + txt[endTag:]
<END>
<QUE>
How to go from list of words to a list of distinct letters in Python
<ANS>
words = 'She sells seashells by the seashore'

unique_letters = set(words.lower())
unique_letters.discard(' ') # If there was a space, remove it.
<END>
<QUE>
How do I merge two python iterators?
<ANS>
def imerge(a, b):
    for i, j in itertools.izip(a,b):
        yield i
        yield j
<END>
<QUE>
Dynamically set deep python dict
<ANS>
def create_deep_dict(value, layers):

    orig_data = {}
    data = orig_data
    last_layer = layers[-1]

    for layer in layers[:-1]:
        data[layer] = {}
        data = data[layer]

    data[last_layer] = value

    return orig_data

def deep_dict_value(data, layers):

    for layer in layers:
        data = data[layer]

    return data
<END>
<QUE>
Few slot connection in cycle
<ANS>
def abcmaker(ind):
    def abc(state):
        self.feature_inputs[ind].setEnabled(state == Qt.Checked)
    return abc
active_checkbox.stateChanged.connect(abcmaker(i))
<END>
<QUE>
I made a selection from a csv file and need to sum up one of the columns in python
<ANS>
import csv
import sys
import os

if __name__ == '__main__':
    total = 0
    source = '.'
    with open(os.path.join(source, 'data.csv'), 'r') as f:
        rows = csv.reader(f)
        for row in rows:
            try:
                t = row[1].split('_')
            except IndexError:
                continue
            if len(t) >= 4 and t[3] == '001': 
                total += int(row[13])
    print ('Club 001' + '\t' + str(total))
<END>
<QUE>
How to update values to the listbox under Combobox in ttk Python33
<ANS>
#update list upon drop down
self.cbox = Combobox(self, width = 10, postcommand = self.updtcblist)

def updtcblist(self):
    list = self.getPortLst()
    self.cbox['values'] = list
<END>
<QUE>
How can I use Python to pipe stdin/stdout to Perl script
<ANS>
def std_output(stdout,outfile=''):
    out = 0
    f = codecs.open(outfile,'w','UTF-8')
    for line in iter(stdout.readline, ''):
        f.write('%s
'%(line.rstrip().decode('UTF-8')))
        out += 1
        if i == out: break
    stdout.close()
    f.close()

outfile = '/path/myout'
infile = '/path/mydata'

subproc = subprocess.Popen(args,**kw)
t = threading.Thread(target=std_output,args=[subproc.stdout,outfile])
t.daemon = True
t.start()

i = 0
f = codecs.open(infile,'r','UTF-8')
for line in f:
    subproc.stdin.write('%s
'%(line.strip().encode('UTF-8')))
    i += 1
subproc.stdin.write('%s
'%(' '*4096)) ### push dummy data ###
f.close()
t.join()
subproc.terminate()
<END>
<QUE>
Django: Getting data associated with logged in user.
<ANS>
drafts = Draft.objects.filter(user=request.user)
<END>
<QUE>
Sqlite ascending order doesnt seem to work with bisect
<ANS>
# Add new to old and sort the whole lot...
old_hash_list.extend(new_hash_list)
old_hash_list.sort()

# Assuming new is already sorted than create new list of merged
import heapq
old_and_new = list(heapq.merge(old_hash_list, sorted(new_hash_list)))
<END>
<QUE>
Django tables names
<ANS>
Meta.app_label
<END>
<QUE>
How to debug Celery/Django tasks running localy in Eclipse
<ANS>
CELERY_ALWAYS_EAGER = True
<END>
<QUE>
Django group by to find the count
<ANS>
pages = Page.objects.annotate(num_countries=Count('country'))
pages[0].num_countries  # 3
pages[1].num_countries  # 4
<END>
<QUE>
How to extract the hyperlink cell from excel sheet using python
<ANS>
link = sh.hyperlink_map.get((row,2))
<END>
<QUE>
How to transfer a file to ssh server in an ssh-connection made by Python's paramiko?
<ANS>
s = paramiko.SSHClient()
s.set_missing_host_key_policy(paramiko.AutoAddPolicy())
s.connect("xxx.xxx.xxx.xxx",22,username=xxx,password='',timeout=4)

sftp = s.open_sftp()
sftp.put('/home/me/file.ext', '/remote/home/file.ext')
<END>
<QUE>
Color-coding a histogram
<ANS>
import numpy as np
import matplotlib
import matplotlib.pyplot as plt
# set up the bins
Nbins = 10
bins = np.linspace(0, 1, Nbins +1, endpoint=True)
# get some fake data
x = np.random.rand(300)
y = np.arange(300)
# figure out which bin each x goes into
bin_num = np.digitize(x, bins, right=True) - 1
# compute the counts per bin
hist_vals = np.bincount(bin_num)
# set up array for bins
means = np.zeros(Nbins)
# numpy slicing magic to sum the y values by bin
means[bin_num] += y
# take the average
means /= hist_vals

# make the figure/axes objects
fig, ax = plt.subplots(1,1)
# get a color map
my_cmap = cm.get_cmap('jet')
# get normalize function (takes data in range [vmin, vmax] -> [0, 1])
my_norm = Normalize()
# use bar plot 
ax.bar(bins[:-1], hist_vals, color=my_cmap(my_norm(means)), width=np.diff(bins))

# make sure the figure updates
plt.draw()
plt.show()
<END>
<QUE>
Parsing HTML that is horribly structured?
<ANS>
import requests
import bs4
import re
url = "http://www.tytnetwork.com/annual-archives/{year}-main-show-archives/"


def getPodCasts(m,d,y):
     my_url = url.format(year=y)
     print my_url
     soup = bs4.BeautifulSoup(requests.get(my_url,headers={'User-agent': 'Mozilla/5.0'}).content)
     calendar_row_for_month=soup.findAll(text=re.compile("^%s.*%s"%(m,y)))[0].parent.parent.parent
     for sib in calendar_row_for_month.findNextSiblings():
        if ">%02d<"%d in str(sib):
           break
     assert ">%02d<"%d in str(sib), "Error Date %s/%s/%s Not Found"%(m,d,y)
     audios = sib.find(text="%02d"%d).next.next
     return re.findall('https?:[^" ]*',str(audios))


print getPodCasts("June",12,2014)
<END>
<QUE>
How to create a large pandas dataframe from an sql query without running out of memory?
<ANS>
import pandas as pd
import pandas.io.sql as psql
chunk_size = 10000
offset = 0
dfs = []
while True:
  sql = "SELECT * FROM MyTable limit %d offset %d order by ID" % (chunk_size,offset) 
  dfs.append(psql.read_frame(sql, cnxn))
  offset += chunk_size
  if len(dfs[-1]) < chunk_size:
    break
full_df = pd.concat(dfs)
<END>
<QUE>
Is it possible to get a match back from pexpect.expect?
<ANS>
child.match.group(1)
<END>
<QUE>
Get inserted key before commit session
<ANS>
parent = Parent()
db.session.add(parent)
db.session.flush()

print parent.id  # after flush(), parent object would be automatically
                 # assigned with a unique primary key to its id field 

child = Child()
child.parent_id = parent.id
db.session.add(child)
<END>
<QUE>
fold a list of lists to produce a list
<ANS>
[reduce(lambda a, b: a*b, x)  for x in zip(*cd)]
<END>
<QUE>
how to avoid writing a gross for-loop on a pandas dataframe
<ANS>
import pandas as pd

begin_month = pd.Series([1, 19, 145, 32, 54])
end_month = pd.Series([19,45,32,54,99])

df = pd.DataFrame({"begin_month":begin_month, "end_month": end_month})

df['parity'] = df['begin_month'] == df['end_month'].shift()
df.ix[0,'parity'] = True

print df
<END>
<QUE>
Python random number excluding one variable
<ANS>
import random

x = int(raw_input("Number(1-6): ")) # note I made x an int

while True:
    y = random.randint(1, 6)
    if x != y: break
<END>
<QUE>
Basic Animation with matplotlib's pyplot
<ANS>
import pylab
import time

pylab.ion() # animation on

# Note the comma after line. This is placed here because 
# plot returns a list of lines that are drawn.
line, = pylab.plot(0,1,'ro',markersize=6) 
pylab.axis([0,1,0,1])

line.set_xdata([1,2,3])  # update the data
line.set_ydata([1,2,3])
pylab.draw() # draw the points again
time.sleep(6)

line1, = pylab.plot([4],[5],'g*',markersize=8) 
pylab.draw() 

for i in range(10):
    line.set_xdata([1,2,3])  # update the data
    line.set_ydata([1,2,3])
    pylab.draw() # draw the points again
    time.sleep(1)

print "done up there"
line2, = pylab.plot(3,2,'b^',markersize=6)     
pylab.draw() 

time.sleep(20)
<END>
<QUE>
Most Pythonic Way to Select Particular Tuple from List of Tuples
<ANS>
result = max(pairs, key=m)
<END>
<QUE>
Backgrounding a process after writing to its stdin
<ANS>
pid = os.fork()
if pid == 0:
     s = Popen('cat', stdin=PIPE, stdout=DEVNULL, stderr=DEVNULL)
     s.stdin.write(b'helloworld')
     s.stdin.close()
     s.wait()
     sys.exit()
time.sleep(1000)
<END>
<QUE>
apply a function to each pair of rows of an array
<ANS>
import numpy
import itertools as it
arr=numpy.random.rand(4,400)
transposed=arr.T
values=[numpy.dot(i,j) for i, j in it.combinations(transposed, 2)]
print values
<END>
<QUE>
Searching TXT files in Python
<ANS>
answer = ''

with open('yourFile.txt','r') as open_file, open('output_file','w') as output_file:
    for each_line in open_file:
        if each_line.find('[A>]'):
            start_position = each_line.find('[A>]')
            start_position = start_position + 3
            end_position = each_line[start_position:].find('[/W]')

            answer = each_line[start_position:end_position] + '
'
            output_file.write(answer)
<END>
<QUE>
Passing a variable from view to HTML
<ANS>
def some_view(request):
    context = {
        'a': 5
    }

    return render_to_response(
        'my_template.html',
        context,
        context_instance=RequestContext(request)
    )
<END>
<QUE>
Download .txt with Python that is accessed through an php request
<ANS>
headers = {
    "User-Agent": "jpostma1's crawler"
}

url = "http://manybooks.net/_scripts/send.php?tid=lovecrafthother06At_the_Mountains_of_Madness&book=1:text:.txt:text"
req = urllib2.Request(url, headers=headers)
testfile = urllib2.urlopen(req)
with open("book 001.txt",'w') as w:
    w.write(testfile.read())
<END>
<QUE>
Using cx_Freeze (Python 2.7) on a Windows box OOTB
<ANS>
msvcrXY.dll
<END>
<QUE>
How to convert Unicode dict to dict
<ANS>
import demjson

for data in datalist:
    dct = demjson.decode(data)
    print dct['gallery'] # etc...
<END>
<QUE>
Python Qt 4 not initializing window
<ANS>
app.exec_()
<END>
<QUE>
How to increase MemCacheProtocol's MAX_KEY_LENGTH?
<ANS>
class MyMemCacheProtocol(MemCacheProtocol):

    MAX_KEY_LENGTH = 1000
<END>
<QUE>
Python: Extracting data values from a website
<ANS>
html = '''
<input type="hidden" name="SECRETCODE" value="l53DLeOfj1" />
<input type="hidden" name="NotSoSecretCode" value="Nr4MNjyK" />
'''
soup = BeautifulSoup(html)
print soup.find("input", {"name":"SECRETCODE"})
print soup.find("input", {"name":"NotSoSecretCode"})
<END>
<QUE>
How to import module and use the methods in python
<ANS>
from eight import mynum
object = mynum()
object.numf(3,40)
<END>
<QUE>
How to fix forward slash issue in path on windows in python?
<ANS>
os.path.join()
<END>
<QUE>
Sqlite db, multiple row updates: handling text and floats
<ANS>
sql=('UPDATE results SET '
     + ', '.join(key+' = ?' for key in keys)
     + 'WHERE id = ?')
args = [results[key] for key in keys] + [id]
cur.execute(sql,args)
<END>
<QUE>
Length of the line in a file in Python returns value always as No. of Characters + 1
<ANS>
F = fileobj.readline().strip()
<END>
<QUE>
How to exclude the occurence of alpha char at the end the string
<ANS>
print re.findall(r"^(.+?)(?=\(\d{4}|\d{4})",Name)
<END>
<QUE>
Python: Create a list of nonmatching values
<ANS>
index_list = []
for n, item in enumerate(list):
    if len(item) == 0:
        index_list.append(n)
<END>
<QUE>
subprocess status never change at the end of process
<ANS>
P.wait()
<END>
<QUE>
Is there a more succinct for this date checking?
<ANS>
invoice_date = i.item_set.order_by('due_date')[0].due_date
<END>
<QUE>
Printing every item on a new line in Python
<ANS>
print '
'.join([str(factorial(x)) for x in range(0, 6)])
<END>
<QUE>
Identifying filtered features after feature selection with scikit learn
<ANS>
from sklearn.svm import LinearSVC
from sklearn.datasets import load_iris
import numpy as np

iris = load_iris()
X, y = iris.data, iris.target
print X.shape

lsvc = LinearSVC(C=0.01, penalty="l1", dual=False)
X_new = lsvc.fit_transform(X, y)
print X_new.shape

print lsvc.coef_

newData = np.random.rand(100,4)
newData_X = lsvc.transform(newData)
print newData_X.shape
<END>
<QUE>
How to preserve ordering of items in a python dictionary?
<ANS>
from collections import OrderedDict

dict=OrderedDict()
dict['first']=1
dict['second']=2
dict['third']=3
dict
<END>
<QUE>
Reading a text file multiple times in different functions and accessing these functions in one main function in python
<ANS>
Opened_File.seek(0)
<END>
<QUE>
Access RDS security Group using Boto
<ANS>
def get_db_info():

    rds_conn = boto.connect_rds2(profile_name=AWS_PROFILE)
    if not rds_conn:
        print(_red('Cannot connect to AWS.RDS'))
        return

    instances = rds_conn.describe_db_instances()
    if not instances:
        print(_red('No instances found'))
        return

    inst = instances['DescribeDBInstancesResponse']['DescribeDBInstancesResult']['DBInstances'][0]

    dbinfo = {}
    endpoint = inst['Endpoint']
    dbinfo['VPCSecurityGroupId'] = inst['VpcSecurityGroups'][0]['VpcSecurityGroupId']
    dbinfo['dbSecurityGroupName'] = inst['DBSecurityGroups'][0]['DBSecurityGroupName']

    print('')
    print(_blue('db Info ===========>
'))
    for item in dbinfo:
        print(_green('%20s : %s' % (item, dbinfo[item])))
<END>
<QUE>
In python, how does one catch warnings as if they were exceptions?
<ANS>
import warnings

def fxn():
    warnings.warn("deprecated", DeprecationWarning)

with warnings.catch_warnings(record=True) as w:
    # Cause all warnings to always be triggered.
    warnings.simplefilter("always")
    # Trigger a warning.
    fxn()
    # Verify some things
    assert len(w) == 1
    assert issubclass(w[-1].category, DeprecationWarning)
    assert "deprecated" in str(w[-1].message)
<END>
<QUE>
wxPython: ListCtrl finding the item with given string
<ANS>
item = ListCtrl_name.GetItem(instance_location_dictionary [item_name])
ListCtrl_name.Select(item.GetId())
<END>
<QUE>
Django - Custom SQL in the connection string
<ANS>
settings.py
<END>
<QUE>
How to standardize/normalize a date with pandas/numpy?
<ANS>
df = pd.DataFrame({
        'A':
            ['1980-01-01', '1980-02-02', '1980-03-02', '1980-01-21',
             '1981-01-21', '1991-02-21', '1991-03-23'] })
df['A'] = pd.to_datetime(df['A']).astype('int64')
max_a = df.A.max()
min_a = df.A.min()
min_norm = -1
max_norm =1
df['NORMA'] = (df.A- min_a) *(max_norm - min_norm) / (max_a-min_a) + min_norm
<END>
<QUE>
Parallel Coordinates plot in Matplotlib
<ANS>
#!/usr/bin/python
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.ticker as ticker

#vectors to plot: 4D for this example
y1=[1,2.3,8.0,2.5]
y2=[1.5,1.7,2.2,2.9]

x=[1,2,3,8] # spines

fig,(ax,ax2,ax3) = plt.subplots(1, 3, sharey=False)

# plot the same on all the subplots
ax.plot(x,y1,'r-', x,y2,'b-')
ax2.plot(x,y1,'r-', x,y2,'b-')
ax3.plot(x,y1,'r-', x,y2,'b-')

# now zoom in each of the subplots 
ax.set_xlim([ x[0],x[1]])
ax2.set_xlim([ x[1],x[2]])
ax3.set_xlim([ x[2],x[3]])

# set the x axis ticks 
for axx,xx in zip([ax,ax2,ax3],x[:-1]):
  axx.xaxis.set_major_locator(ticker.FixedLocator([xx]))
ax3.xaxis.set_major_locator(ticker.FixedLocator([x[-2],x[-1]]))  # the last one

# EDIT: add the labels to the rightmost spine
for tick in ax3.yaxis.get_major_ticks():
  tick.label2On=True

# stack the subplots together
plt.subplots_adjust(wspace=0)

plt.show()
<END>
<QUE>
Using variable value as dictionary/class name in Python
<ANS>
from collections import defaultdict
test_classes = {
    'test1': test1,
    'test2': test2
}
test_instances = defaultdict(list)
test_instances[testvariable].append(test_classes[testvariable])
<END>
<QUE>
programs paralyzing each other on the server (c++ with openMP and python)
<ANS>
omp_set_dynamic(1);
<END>
<QUE>
Accessing a local variable whose name comes from user input
<ANS>
lists = {
    "list1": ["one","Two","three"],
    "list2": ["1","2","3"],       
}

while True:
    choice = raw_input("enter the list name: ")
    try:
        for item in lists[choice]:
            print item
    except KeyError:
        print "I never heard of any list named '{}'! Try again.".format(choice)
    else:
        break
<END>
<QUE>
I'm trying to understand how to call a function from another function in the same class
<ANS>
self.do_search(linenumber)
<END>
<QUE>
Edit an xml file using python regular expression
<ANS>
import re

r = re.compile(r'(<my id="1">.*)(</my>)')

with open(infilename, 'r') as infile, open(newfile, 'w+') as outfile:
    for line in infile:
        match = r.search(line)
        if match:
            f.write(match.group(1) + '(1)' + match.group(2))
        else:
            f.write(line)
<END>
<QUE>
unable to post file+data using python-requests
<ANS>
import requests
url = 'http://10.1.1.161:8080/test-organization/test-app/photos/'
files = { 'file': ('13.jpg', open('/Users/dave/Downloads/13.jpg', 'rb'), 'image/jpeg')}
data = dict(name='barca', country='spain')
response = requests.post(url, files=files, data=data)
<END>
<QUE>
Add more sample points to data
<ANS>
import numpy as np
import scipy as sp
import scipy.interpolate
import matplotlib.pyplot as plt

# Generate some random data
y = (np.random.random(10) - 0.5).cumsum()
x = np.arange(y.size)

# Interpolate the data using a cubic spline to "new_length" samples
new_length = 50
new_x = np.linspace(x.min(), x.max(), new_length)
new_y = sp.interpolate.interp1d(x, y, kind='cubic')(new_x)

# Plot the results
plt.figure()
plt.subplot(2,1,1)
plt.plot(x, y, 'bo-')
plt.title('Using 1D Cubic Spline Interpolation')

plt.subplot(2,1,2)
plt.plot(new_x, new_y, 'ro-')

plt.show()
<END>
<QUE>
Creating lambda inside a loop
<ANS>
lambdas_list.append(lambda obj=obj: obj.some_var)
<END>
<QUE>
Text based adventure game inventory probems python
<ANS>
# Main Inventory
Inventory = createInventory()

# Populating given inventory aray with items to be used throughout the game.
def createItems(inv):
    items = inv
    items[1] = "Axe"
    items[2] = "Gas"
    items[3] = "keys"
    items[4] = "gun"
    items[5] = "note"
    items[9] = "full"

# Check if the item passed to it is still in the inventory array
def checkItems(item):
    items = Inventory
    for i in range(len(items)):
        if items[i] == item:
            return "yes"
    return "no"

def createInventory():
    inv = range(11)
    inv[10] = "made"
    return inv

def stockInventory(item):
    inv = Inventory
    for i in range (11):
        if inv[i] == 0:
            inv[i] = item
            break
    return inv

def checkInventory(item):
    inv = Inventory
    for i in range(0, 11):
        if item == inv[i]:
            return "yes"
    return "no"
<END>
<QUE>
Expanding elements in a list
<ANS>
def iter_new_list(old_list):    
    for x in old_list:
       if needs_expanding(x):
           for y in expand(x):
               yield y
       else:
           yield x

new_list = list(iter_new_list(old_list))
<END>
<QUE>
Convert vtkPoints to numpy array?
<ANS>
vtkout.to_array().T
<END>
<QUE>
My implementation of the Sieve of Eratosthenes is flawed?
<ANS>
number_primes = 10
prime_list = [True]*number_primes

for i in range (2, number_primes):    #check from 2 upwards
  if prime_list[i]:                   #If not prime, don't need to bother about searching
    j = 2
    while j*i < number_primes:        # Filter out all factors of i (2...n * prime)
      prime_list[j*i] = False
      j+=1
<END>
<QUE>
How do I add a string of numbers in python
<ANS>
s = raw_input()
print sum(int(c) for c in s.strip())
<END>
<QUE>
Some issues with Python regex findall
<ANS>
#!/usr/bin/python
import re

pat = re.compile(r'''
    (?P<open> \b [^\W_]+ ) ,, |
    ,, (?P<close> [^\W_]+ ) \b |
    (?P<attrName> \S+ ) [ ] (?P<attrValue> [^,
]+ ) [ ] ,, |
    (?P<textContent> [^,\s] (?: [^,] | , (?!,) )*? ) \s* (?=[^\W_]*,,)''',
      re.X)

txt = '''html,, 
    head,,        profile http://gmpg.org/xfn/11 ,,
                  lang en-US ,,

        title,,   Some markright page.
        ,,title
    ,,head'''

result = ''
opened = False
for m in pat.finditer(txt):
    if m.group('attrName'):
        result += ' ' + m.group('attrName') + '="' + m.group('attrValue') + '"'
    else:
        if opened:
            opened = False
            result += '>'
        if m.group('open'):
            result += '<' + m.group('open')
            opened = True
        elif m.group('close'):
            result += '</' + m.group('close') + '>'
        else:
            result += m.group('textContent')
print result
<END>
<QUE>
Creating variables out of returned CSV data
<ANS>
for line in open_f:
    if line[10]==SectionReq:
        SearchedBlock = '0'*SpacesReq
        strLine = ''.join(str(i) for i in line)
        if SearchBlock in strLine:
            # empty block found
            break
<END>
<QUE>
How to search strings with certain number of occurence using Regular Expression?
<ANS>
Str1 = '"HHHHLLLHHHHHLLLLL"'
if Str1.count("H") >= 8 : print "match"
<END>
<QUE>
How to plot a data cube in python
<ANS>
import random
from matplotlib import pyplot
from mpl_toolkits.mplot3d import Axes3D

mypoints = []
for _ in range(100):
    mypoints.append([random.random(),    #x
                    random.random(),     #y
                    random.random(),     #z
                    random.randint(10,100)]) #scalar

data = zip(*mypoints)

fig = pyplot.figure()
ax = fig.add_subplot(111, projection='3d')

ax.scatter(data[0], data[1], data[2], c=data[3])
pyplot.show()
<END>
<QUE>
Comparing two Sqlalchemy Table Objects with Python unittest
<ANS>
self.assertCountEqual(given_result.columns._data, expected_result.columns._data)
<END>
<QUE>
Find Min and Max from Text File - Python
<ANS>
numbers = [float(line[67:71].rstrip()) for line in input_file]

largest_num = max(numbers)
smallest_num = min(numbers)
total = sum(numbers)
count = len(numbers)
<END>
<QUE>
using .find for multiple letters in a string
<ANS>
if x in word and x!='':

        count=word.count(x)
        loc=0
        while count==1 or count>1:
            loc=word.find(x,loc)
            list[loc]=x
            loc+=1
            count-=1  
        print 'Good choice!'
<END>
<QUE>
Google App Engine - Production Only - Module Import Error
<ANS>
from test import test_handler
<END>
<QUE>
sqlite3 in-memory in serialized mode
<ANS>
sqlite3.connect("file::memory:?cache=shared")
<END>
<QUE>
How would I apply the python map function to an multidimensional array
<ANS>
lat_ = map(lambda i:radians(i[0]), l)
lon_ = map(lambda i:radians(i[1]), l)
<END>
<QUE>
Add new bins at each iteration of a an animation in matplotlib
<ANS>
import numpy as np
import matplotlib.pyplot as plt
from matplotlib import animation

fig = plt.figure()

ax = plt.subplot(1,1,1)

N = 10
M = 10

plt.xlim(0,N+M)
plt.ylim(0,N+M)

x = np.arange(N+M)
y = np.arange(N+M)

bars = [b for b in plt.bar(x[:N],y[:N],1)]

def init():
    return bars

# animation function.  This is called sequentially
def animate(i):
    if i<M:
        bars.append(plt.bar(x[N+i],y[N+i],1)[0]) 
    return bars

anim = animation.FuncAnimation(fig, animate, init_func=init,
                               frames = 10, interval=200, blit=True)
plt.show()
<END>
<QUE>
Exit Python thread based on flag
<ANS>
def run(self):
    if self.FLAG == True:
        pass
    else:
        print str(self.myName) + " is running."
<END>
<QUE>
Python multiple pairs replace in txt file
<ANS>
# Read the names
with open('names.txt') as f_names:
    names = dict(line.strip().split(':') for line in f_names)

# Read the numbers
with open('numbers.txt') as f_numbers:
    numbers = list(line.strip() for line in f_numbers)

# Replace numbers with names
with open('numbers.txt', 'w') as f_output:
    for n in numbers:
        f_output.write(names[n] + '
')
<END>
<QUE>
Python - how select/drop elements in data frames that have multiple (2) indices
<ANS>
nonCash = test.drop(['CASH'])
<END>
<QUE>
print python emoji as unicode string
<ANS>
#convert to unicode
teststring = unicode(teststring, 'utf-8')

#encode it with string escape
teststring = teststring.encode('unicode_escape');
<END>
<QUE>
Python: group a list basing on pairs of items
<ANS>
import copy

def group_and_split(mydata, static_mapping):
    remainder = copy.deepcopy(mydata)
    couples = []
    for couple in static_mapping:
        if couple[0] in mydata and couple[1] in mydata:
            remainder.remove(couple[0])
            remainder.remove(couple[1])
            couples.append(couple)
    return [couples, remainder]
<END>
<QUE>
Python - Using requests sends post message
<ANS>
payload = {
   'DropDownListCurrency': 'SGD'
}
r = requests.post("http://httpbin.org/post", data=payload)
<END>
<QUE>
List of products of values for all keys that match in two dictionaries
<ANS>
import numpy as np
import itertools

a_dict = {'a': [1,2], 'b': [2,], 'c': [1,3]}
b_dict = {'a': [6], 'c': [4]}

print(list(itertools.chain.from_iterable(
    itertools.product(value, b_dict[key]) for key,value in a_dict.iteritems()
    if key in b_dict)))
# [(1, 6), (2, 6), (1, 4), (3, 4)]
<END>
<QUE>
Function that returns a string of digits that represent the base b representation of n in python
<ANS>
#convert base 10 to any base between 2 and 16
def convBase(n, base):
    charSeq = '0123456789ABCDEF'
    if n < base:
        return charSeq[n]
    else:
        return convBase(n//base, base) + charSeq[n%base]

#print convBase(10,16)
<END>
<QUE>
Python Downloading a file without having a direct link on mechanize
<ANS>
link = [l for l in br.links()][-1]
br.click_link(link)
response = br.follow_link(link)
open('asd.mp3', 'w').write(response.read())
<END>
<QUE>
Parsing XML of different formats using Python
<ANS>
from lxml import etree
from cStringIO import StringIO

xml = """<foo><bar/> baz!</foo>"""

# parse from string
etree.fromstring(xml)

# parse from file-like; in this case, StringIO
s = StringIO(xml)
etree.parse(s)

# parse from URL
etree.parse("http://example.com/somefile.xml")
<END>
<QUE>
How do I run parallel jobs in python3 with asyncio?
<ANS>
loop = asyncio.get_event_loop()

asyncio.async(loop.run_in_executor(None, lambda: MyClass()))
asyncio.async(loop.run_in_executor(None, lambda: MyClass()))
<END>
<QUE>
Different 404 pages depending on the application in Django
<ANS>
request.path
<END>
<QUE>
Is there a simpler way to build a dictionary from strings and then vectorize the strings? Python
<ANS>
from itertools import chain, count

s1 = "this is is a foo"
s2 = "this is a a bar"
s3 = "that 's a foobar"

# convert each sentence into a list of words, because the lists
# will be used twice, to build the dictionary and to vectorize
w1, w2, w3 = all_ws = [s.split() for s in [s1, s2, s3]]

# chain the lists and turn into a set, and then a list, of unique words
index_to_word = list(set(chain(*all_ws)))

# build the inverse mapping of index_to_word, by pairing it with a counter
word_to_index = dict(zip(index_to_word, count()))

# create the vectors of word indices and of word count for each sentence
v1 = [(word_to_index[word], w1.count(word)) for word in w1]
v2 = [(word_to_index[word], w2.count(word)) for word in w2]
v3 = [(word_to_index[word], w3.count(word)) for word in w3]

print v1
print v2
print v3
<END>
<QUE>
Converting values in a list to their hashed forms (Python)
<ANS>
from hashlib import md5

input_list = ['a','b','c','d','e']

hashed_list = [int(md5(x).hexdigest(), base=16) for x in input_list]

# Do whatever you wanted to do with the list of hashes....
<END>
<QUE>
Format string in python with variable formatting
<ANS>
for item, qty in cart.items():
    print "{0:{1}} - {2}".format(item, column_width, qty)
<END>
<QUE>
Salt initializes differently each time server starts, trouble with credentials database in python bottle and sqlite3
<ANS>
def new_user(name, password):
    salt = uuid.uuid4().hex
    hash = hashlib.sha512(password + salt).hexdigest()
    c.execute("INSERT INTO Credentials(usernameDB,passhashDB,salt) VALUES(?,?,?)",
              (name, hash, salt))

def check_login(name, password):
    c.execute("SELECT salt, passhashDB FROM Credentials WHERE usernameDB = ?",
              (name,))
    for row in c:
        salt = row[0]
        actual_hash = row[1]
        input_hash = hashlib.sha512(password + salt).hexdigest()
        if input_hash != actual_hash:
            raise Exception("invalid password")
    else:
        raise Exception("invalid user name")
<END>
<QUE>
Redirection url using urllib in Python 3
<ANS>
u.geturl()
<END>
<QUE>
Tornado secure cookie expiration (aka secure session cookie)
<ANS>
expires_days=None
<END>
<QUE>
How to read most recent line from stdin in python
<ANS>
import sys
import threading

last_line = ''
new_line_event = threading.Event()


def keep_last_line():
    global last_line, new_line_event
    for line in sys.stdin:
        last_line = line
        new_line_event.set()

keep_last_line_thread = threading.Thread(target=keep_last_line)
keep_last_line_thread.daemon = True
keep_last_line_thread.start()
<END>
<QUE>
Serializing NDB model with repeated key property
<ANS>
def custom_to_dict(self):
    return {
      'propertyId': self.propertyID,
      'propertyParentKey': self.propertyParentKey.urlsafe(),
      'propertyItems': [key.urlsafe() for key in self.propertyItems]
    }
<END>
<QUE>
How to set colors for nodes in networkx python?
<ANS>
G = nx.erdos_renyi_graph(20,0.1)
color_map = []
for node in G:
    if node <10:
        color_map.append('blue')
    else: color_map.append('green')      
nx.draw(G,node_color = color_map,with_labels = True)
plt.show()
<END>
<QUE>
Create SVG / XML document without ns0 namespace using Python ElementTree
<ANS>
etree.register_namespace("","http://www.w3.org/2000/svg")
<END>
<QUE>
How to fast check list?
<ANS>
if any(len(x) != 3 for x in a):
    return False
<END>
<QUE>
Grouping data by multiple dates in pandas
<ANS>
from pandas import *
from numpy.random import randn
rng = date_range('1/1/2011', periods=7200, freq='H')
ts = Series(randn(len(rng)), index=rng)
for key, data in ts.groupby([rng.year, rng.month]):
    print key, data.sum()
<END>
<QUE>
lower bound to kernel density estimation with seaborn for matplotlib in python
<ANS>
seaborn.distplot(C77_diam, rug=True, hist=True, kde=True).set(xlim=(0, max_diam))
<END>
<QUE>
pandas - combining multiple columns in a dataframe
<ANS>
new_df = df.transpose()  
new_df['Group'] = new_df.index / 4  
new_df = new_df.groupby('Group').sum().transpose()
<END>
<QUE>
Pythonic Way To Check for A Parameter Type
<ANS>
class CrossDock(object):
    def __init__(self):
        self.locations = []

    def add_location(self, location):
        if isinstance(location, Location):
            self.locations.append(location)
        else:
            raise TypeError("location must be Location, got: " +
                            repr(type(location)))
<END>
<QUE>
How to identify objects with broken reference properties in google app engine
<ANS>
from google.appengine.api import datastore_errors

all_foo = Foo.all()
for bar in all_foo:
    try:
        user_refProperty = bar.user
    except datastore_errors.Error, e:
        if e.args[0][0:40] == "ReferenceProperty failed to be resolved:":
            bar.delete()
            self.response.out.write('deleted due to bad reference property')
        else: raise
<END>
<QUE>
How to query data rows with id is specified by another query with Django queryset
<ANS>
User.objects.filter(id__in=SomeModel.objects.filter(field=something).values_list('user_id', flat=True))
<END>
<QUE>
How to render PDF into Pixbuf with Python and GTK3+
<ANS>
surface = cairo.ImageSurface(cairo.FORMAT_ARGB32, w, h)
ctx = cairo.Context(surface)
page.render(ctx)
img = Gdk.pixbuf_get_from_surface(ctx.get_target(), 0, 0,
        ctx.get_target().get_width(),
        ctx.get_target().get_height())
<END>
<QUE>
Flatten 'next' and 'prev' links in a linked list
<ANS>
def convert(ls):
    last = None
    for x in ls:
        if x == 'prev': x = -1
        if x == 'next': x = +1
        if isinstance(x, int) and isinstance(last, int):
            x += last
        elif last:  # last is not None if you want zeroes
            yield last
        last = x
    yield last
<END>
<QUE>
Converting multi-line String to Dict in Python
<ANS>
import os
import csv
from StringIO import StringIO

scsv = """coupon,    months_to_maturity,    FACE_VALUE,
                0.3758,    12,    100,
                0.7287,    24,    100,
                1.0894,    36,    100,
                1.4019,    48,    100,
                1.6542,    60,    100,
                1.8512,    72,    100,
                2.0034,    84,    100,
                2.1213,    96,    100,
                2.2141,    108,    100,
                2.2891,    120,    100,
                2.3516,    132,    100,
             """

scsv = scsv.replace(' ','')  #remove white spaces
scsv = scsv.replace(',' + os.linesep, os.linesep) #remove commas at the end of the lines

f = StringIO(scsv)
reader = csv.DictReader(f, delimiter=',')
rows = [row for row in reader]

print rows[0]
# {'coupon': '0.3758', 'months_to_maturity': '12', 'FACE_VALUE': '100'}
<END>
<QUE>
trying to get an index of an item in a list
<ANS>
mylist = [3,5,7,8,4,6,3,8,7]
for index in range(len(mylist)):
    print 'number '+str(mylist[index])+' has index '+str(index)
<END>
<QUE>
Trouble searching User model using django-ajax-selects
<ANS>
AJAX_LOOKUP_CHANNELS = {
    'to' : dict(model='auth.User', search_field='username'),
}
<END>
<QUE>
Split string with commas also splits ampersands
<ANS>
data2 = data.replace('&', 'and')
<END>
<QUE>
column list in a method of pandas
<ANS>
trans.to_csv('study10.csv' , encoding='utf-8', columns = ["reg_no", "st_name", "c_six_to_ten", "values"] )
<END>
<QUE>
A multi-threaded python program with a strange requirement :)
<ANS>
mechanize.Browser
<END>
<QUE>
wxpython : button covers all in the frame
<ANS>
#!/usr/bin/python
# -*- coding: utf-8 -*-

import wx

class Example(wx.Frame):

    def __init__(self):
        wx.Frame.__init__(self, None, wx.ID_ANY, 'wxButton', pos=(300, 150), size=(320, 250))
        self.panel = wx.Panel(self, -1)
        self.button1 = wx.Button(self.panel, id=-1, label='Button1', pos=(8, 8), size=(100, 20))
        self.button1.Bind(wx.EVT_BUTTON, self.button1Click)
        self.Centre()
        self.Show()

    def button1Click(self,event):
        self.SetTitle("Button1 clicked")

if __name__ == '__main__':

    app = wx.App()
    Example()
    app.MainLoop()
<END>
<QUE>
How to I get scons to invoke an external script?
<ANS>
env.Command ('document.tex', '', 'python table_generator.py')
env.PDF ('document.pdf', 'document.tex')
<END>
<QUE>
Sequence of elements in a list satisfying a condition
<ANS>
from itertools import groupby, accumulate
from collections import defaultdict

def sub_seq(li, n):
    d = defaultdict(list)
    rle = [(k, len(list(g))) for k, g in groupby(li)]
    endpoints = accumulate(size for k, size in rle)
    for end_index, (value, count) in zip(endpoints, rle):
        for index in range(end_index - count, end_index - n + 1):
            d[value].append(index)
    return dict(d)
<END>
<QUE>
'Stringing together' a pymongo query based on a set of conditions
<ANS>
def find_things(tags=None, user=None, published_since=None):
    # all queries begin with something common, which may
    # be an empty dict, but here's an example
    query = {
        'is_published': True
    }
    if tags:
        # assume that it is an array of strings
        query['tags'] = {'$in': tags}
    if user:
        # assume that it is a string
        query['user'] = user
    if published_since:
        # assume that it is a datetime.datetime
        query['date_published'] = {'$gte': published_since}
    # etc...

    return db.collection.find(query)
<END>
<QUE>
How can you programmatically tell the CPython interpreter to enter interactive mode when done?
<ANS>
import os
os.environ["PYTHONINSPECT"] = "1"
<END>
<QUE>
Python script to insert thousand separator
<ANS>
import sys
arg = sys.argv[1]                  # get first command line parameter
if arg.isdigit():                  # integer value
    value = int(sys.argv[1])   
else:
    try:
        value = float(sys.argv[1]) # try float conversion
    except ValueError:             # if that fails
        value = None               # mark value as unusable
if value is not None:
    print "{:,}".format(value)     # print with thousands separator
else:                              # or, if not a number
    print arg                      # print as-is.
<END>
<QUE>
Python accessing cell with column name dynamically obtained
<ANS>
for row in rows:
    id = ''.join([getattr(row, col) for col in columns])
<END>
<QUE>
How to split the columns in python script by specifying characters?
<ANS>
data = np.fromregex('./Sample.txt',
    r'(\d+\.\d+)\s+(\d+)\.\d+\s+(\d+)\.\d+\s+(FAIL|PASS)\s+(\d+)\s+\[\s*(.*?)\s*\]',
    dtype=[('col1', 'f8'), ('col2', 'i16'), ('col3', 'i16'),
           ('col4', 'S15'), ('col5', 'i16'), ('col6',  'S24')])
<END>
<QUE>
Python program:How to concatenate two lists so that elements are in alternative position?
<ANS>
c = []

for i in range(len(a)):
    c.append(a[i])
    c.append(b[i])
<END>
<QUE>
Change menu name openerp
<ANS>
__openerp__.py
<END>
<QUE>
Changing the length of axis lines in matplotlib
<ANS>
ax.spines['left'].set_bounds(20, 80)
ax.spines['bottom'].set_bounds(20, 80)

for i in [0, -1]:
    ax.get_yticklabels()[i].set_visible(False)
    ax.get_xticklabels()[i].set_visible(False)

for i in [0, -2]:
    ax.get_yticklines()[i].set_visible(False)
    ax.get_xticklines()[i].set_visible(False)
<END>
<QUE>
Getting local dictionary for function scope only in Python
<ANS>
def my_view(request):
    context = {}
    context['items'] = Item.objects.all()
    context['anothervalue'] = context['items'][2].name
    return render_to_response('template.html', context)
<END>
<QUE>
How to write a function to edit raw input in an array?
<ANS>
data = []
user_input = int(raw_input('How many Subject do you wish to add? : ')) 

for i in range (0, user_input): 
    x = raw_input('Enter Subject: ') 
    data.append(x) 

while True:
    print ("would you like to add/remove any items in list")
    print ("1: yes")
    print ("2: remove")
    print ("3: exit")
    edit_input = int(raw_input('choose?: '))
    if edit_input == 1:
        edit_data = raw_input('Enter a new Subject: ')
        data.append(edit_data)
    elif edit_input == 2:
        edit_data = raw_input('Enter a Subject you want to remove: ')
        if edit_data in data:
            data.remove(edit_data)
        else:
            print('Subject not found!')
    else:
        # breaking off the loop here
        break

print data
<END>
<QUE>
Getting one value from a python tuple
<ANS>
i = 5 + Tup()[0]
<END>
<QUE>
Evaluating convergence of SGD classifier in scikit learn
<ANS>
verbose=1
<END>
<QUE>
Pass additional statement to Django model query
<ANS>
from django.db.models import Value
from django.db.models.functions import Coalesce

companies = Company.objects.values('name', 'id', 'logo_image').annotate(
    recommendations_score=Coalesce(Avg('companyinternshipreview__recommendation'), Value(0.0))
).annotate(
    apply_skills_score=Coalesce(Avg('companyinternshipreview__apply_skills'), Value(0.0))
).annotate(
    learn_new_score=Coalesce(Avg('companyinternshipreview__learn_new'), Value(0.0))
).order_by('-recommendations_score', '-apply_skills_score', '-learn_new_score')
<END>
<QUE>
numpy Fourier transformation produces unexpected results
<ANS>
x = np.arange(0, 50, 0.01)
<END>
<QUE>
How to apply custom column order to boxplot?
<ANS>
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

df = pd.DataFrame(np.random.rand(37,4), columns=list('ABCD'))
columns_my_order = ['C', 'A', 'D', 'B']
fig, ax = plt.subplots()
for position, column in enumerate(columns_my_order):
    ax.boxplot(df[column], positions=[position])

ax.set_xticks(range(position+1))
ax.set_xticklabels(columns_my_order)
ax.set_xlim(xmin=-0.5)
plt.show()
<END>
<QUE>
Django: one ModelForm for subclasses
<ANS>
import sys

for model in (Agent001, Agent002):
    form_name = model.__name__ + 'EditForm'

    class AgentEditForm(forms.ModelForm):
        class Meta:
            model = model
            exclude = ()

    AgentEditForm.__name__ = form_name
    setattr(sys.modules[__name__], form_name , AgentEditForm)
    del AgentEditForm
<END>
<QUE>
Add Timestamp to ElasticSearch with Elasticsearch-py using Bulk-API
<ANS>
request_body = {
    "settings" : {
        "number_of_shards": 1,
        "number_of_replicas": 0
    },
    "mappings" : {
        "_default_":{
            "_timestamp":{
                 "enabled":"true",
                 "store":"true",
                 "path":"plugins.time_stamp.string",
                 "format":"yyyy-MM-dd HH:m:ss"
             }
         }
    }
}
print("creating '%s' index..." % (index_name))
res = es.indices.create(index = index_name, body = request_body)
print(" response: '%s'" % (res))
<END>
<QUE>
Python: Finding a (string) key in a dictionary that contains a substring
<ANS>
[(k, v) for (k, v) in D.iteritems() if 'Light' in k]
<END>
<QUE>
Add separate colors for two (or more) specific values in color plot and color bar
<ANS>
import numpy as np
import matplotlib as mpl
from matplotlib import pyplot as plt

N = 10

np.random.seed(10)    
a=np.random.randint(-1, N, size=(5, 5))
print a

fig, ax = plt.subplots()

colors = [(0.0,0.0,0.0),(1.0,1.0,1.0)]
colors.extend(mpl.cm.jet(np.linspace(0, 1, N-1)))
cmap = mpl.colors.ListedColormap(colors)
mat=ax.matshow(a, cmap=cmap, vmin=-1, vmax=N-1)
cax = plt.colorbar(mat, ticks=np.linspace(-0.5, N-1-0.5, N+1))
cax.set_ticklabels(range(-1, N))
plt.show()
<END>
<QUE>
Python List of np arrays to array
<ANS>
np.vstack(dat_list)
<END>
<QUE>
Output first 100 characters in a string
<ANS>
print my_string[0:100]
<END>
<QUE>
How to find an XML file with a particular name
<ANS>
regex = re.compile('^\d{8}.NYP.xml$')
<END>
<QUE>
Python - how to refresh the Gtk.Image to get the latest image frame from same URL?
<ANS>
import pygtk
pygtk.require('2.0')
import gtk
import urllib2

class MainWin:
    def my_timer(self):
        self.response=urllib2.urlopen(
            'http://192.168.1.11:7007/video/now.jpeg')
        self.loader=gtk.gdk.PixbufLoader()
        self.loader.write(self.response.read())
        self.loader.close()
        self.image.set_from_pixbuf(self.loader.get_pixbuf())
        return True# do ur work here, but not for long


    def destroy(self, widget, data=None):
        print "destroy signal occurred"
        gtk.main_quit()

    def __init__(self):
        self.window = gtk.Window(gtk.WINDOW_TOPLEVEL)
        self.window.connect("destroy", self.destroy)
        self.window.set_border_width(10)
        self.image=gtk.Image()



        gtk.timeout_add(1000, self.my_timer) # call every min

        self.window.add(self.image)
        self.image.show()
        self.window.show()

    def main(self):
        gtk.main()

if __name__ == "__main__":
    MainWin().main()
<END>
<QUE>
How do I check values in a list of class in python?
<ANS>
class Person(object):
    def __init__(self, name, city):
        self.name = name
        self.city = city
names = ['Bob', 'Alex', 'John']
cities = ['New York', 'London', 'Rome']

persons = {n: Person(n,c) for n,c in zip(names, cities)}

print(persons['Bob'].city)
<END>
<QUE>
Python: How to find the string with most matches in a list of strings
<ANS>
texts = [ "The lion (Panthera leo) ...", "Panthera ...", "..." ]
keywords  = ['cat', 'lion', 'panthera', 'family']

# gives the count of `word in text`
def matches(text):
    return sum(word in text.lower() for word in keywords)

# or inline that helper function as a lambda:
# matches = lambda text:sum(word in text.lower() for word in keywords)

# print the one with the highest count of matches
print max(texts, key=matches)
<END>
<QUE>
streaming md5sum of contents of a large remote tarball
<ANS>
#!/usr/bin/env python
import tarfile
import sys
import hashlib
from contextlib import closing
from functools import partial

try:
    from urllib.request import urlopen
except ImportError: # Python 2
    from urllib2 import urlopen

def md5sum(file, bufsize=1<<15):
    d = hashlib.md5()
    for buf in iter(partial(file.read, bufsize), b''):
        d.update(buf)
    return d.hexdigest()

url = sys.argv[1] # url to download
with closing(urlopen(url)) as r, tarfile.open(fileobj=r, mode='r|*') as archive:
    for member in archive:
        if member.isreg(): # extract only regular files from the archive
            with closing(archive.extractfile(member)) as file:
                print("{name}\t{sum}".format(name=member.name, sum=md5sum(file)))
<END>
<QUE>
Find System Hard Disk Drive from Python?
<ANS>
import os
print os.getenv("SystemDrive")
<END>
<QUE>
Find functions explicitly defined in a module (python)
<ANS>
import sys, inspect

def is_mod_function(mod, func):
    return inspect.isfunction(func) and inspect.getmodule(func) == mod

def list_functions(mod):
    return [func.__name__ for func in mod.__dict__.itervalues() 
            if is_mod_function(mod, func)]


print 'functions in current module:
', list_functions(sys.modules[__name__])
print 'functions in inspect module:
', list_functions(inspect)
<END>
<QUE>
Numpy mean with condition
<ANS>
import numpy as np

def avg_positive_speed(speed):
    s = np.array(speed)
    positives = s > 0
    if positives.any():
        return s[positives].mean()
    else:
        return 0.


speed = [1., 2., 0., 3.]
print avg_positive_speed(speed)
# prints 2.0

print avg_positive_speed([0., 0.])
# prints 0.0
<END>
<QUE>
How to model a `UNIQUE` constraint in SQLAlchemy?
<ANS>
proxied_association.py
<END>
<QUE>
Python inserting lists into a list with given length of the list
<ANS>
L[0].append(47)
<END>
<QUE>
How do I create a 2D list/array of integers that corresponds to a board?
<ANS>
board = [['bad' for i in range(n + 1)] for j in range(n + 1)]
<END>
<QUE>
Scope of local variables in Python
<ANS>
global L
<END>
<QUE>
Duplicate django objects with ManyToManyFields
<ANS>
ee = deepcopy(e)
ee.id=None
ee.save()
ee.connexion.add(*e.connexion.all())
<END>
<QUE>
How do you count number of characters from each lines then add them all up?
<ANS>
def character_count(filename):
    with open(filename) as f:
        return sum(len(line.rstrip("
")) for line in f)
<END>
<QUE>
Solving a Programming Challenge: Apparatus, from Kattis
<ANS>
import numpy as np
from operator import mul

def apparatus(n, m, x, y):
    if not m:
        return np.math.factorial(n) % 1000003
    result = 1
    tmp = np.matrix([False] * x.shape[1])

    for i in xrange(x.shape[1]):
        if tmp[0, i]:
            continue
        tmp0 = np.prod(x[:, i] == x, 0)
        tmp1 = np.prod(x[:, i] == y, 0)
        if np.sum(tmp1) != np.sum(tmp0):
            return 0
        result *= np.math.factorial(np.sum(tmp1))
        result %= 1000003
        tmp += tmp1

    return result

x = np.matrix([[True, True, False]])
y = np.matrix([[False, True, True]])
print apparatus(3, 1, x, y)

x = np.matrix([[True, False, False, False], [False, False, False, False]])
y = np.matrix([[True, False, False, False], [False, False, True, False]])
print apparatus(4, 2, x, y)

print apparatus(1000, 0, [], [])
<END>
<QUE>
Can I patch a Python decorator before it wraps a function?
<ANS>
module.decorator = mymockdecorator
<END>
<QUE>
Get objects with date greater than today or empty date
<ANS>
from django.db.models import Q

@login_required
def event_new(request, person_uuid=None):
    today = datetime.datetime.today()
    #valid_until may be empty
    profile = Profile.objects.filter(company=request.user.company).filter(Q(valid_until__gte=today)|Q(valid_until=None))
<END>
<QUE>
PyQT application - where to hold data that is then processed by other widgets?
<ANS>
class MainWindow(QtGui.QMainWindow):

    def __init__(self):
        super(MainWindow, self).__init__()
        self.build_ui()
        self.imported_data = {}
        timer = QTimer()
        timer.timeout.connect(check_for_files)
        timer.start(10000)  # periodically check for new files

    def build_ui(self):
        self.ui = Ui_MainWindow()
        self.ui.setupUi(self)

    def check_for_files(self):
        # check for new files here
        if new_file:
            self.import_data(file_name)
            self.ui.filename_list.addItem(file_name)  # add file name widget
            self.plot_data(file_name)             

    def import_data(self, file_name):
        # open file and read data to file_data
        self.ui.imported_data[file_name] = file_data

    def plot_data(self, file_name):
        self.ui.graph.add_plot(self.imported_data[file_name])
<END>
<QUE>
How to handle a one line for loop without putting it in a List?
<ANS>
[legname for cow in listofcows for legname in cow.legnames]
<END>
<QUE>
Response from WSGI application gets downloaded in browser instead of getting displayed
<ANS>
urls = ('(.*)', 'hello')
<END>
<QUE>
Analyzing pixel RGB values with PIL
<ANS>
from PIL import Image
img = Image.open("filename.png")
pixels = img.load()

#get the B value of the pixel at x=23, y=42
print pixels[23, 42][2]
<END>
<QUE>
SQLAlchemy modelling a constraint based on a dictionary
<ANS>
colors = { 'Lion' : ['gold', 'orange'],
           'Tiger' : ['blackorange', 'whiteblue']
         }
class Sample(Base):
    __tablename__ = 'sample'
    id = Column(Integer, primary_key=True)
    type = Column(Enum(u'Lion', u'Tiger', name='type'))
    color = Column(Enum('gold', 'orange', 'blackorange', 'whiteblue', name='color'))

from sqlalchemy import event

def my_check_sample_listener(mapper, connection, target):
    assert target.color in colors[target.type]

event.listen(Sample, 'before_insert', my_check_sample_listener)
event.listen(Sample, 'before_update', my_check_sample_listener)

sample = Sample(type='Tiger', color='orange')
session.add(sample)
session.commit() # Fails

sample = Sample(type='Lion', color='orange')
session.add(sample)
session.commit() # OK

sample.type = 'Tiger'
sample.color = 'whiteblue'
session.commit() # OK

sample.color = 'orange'
session.commit() # Fails
<END>
<QUE>
How to only select and edit set ranges of values
<ANS>
for i in range(len(data)):
  if i >= 2148 and i <= 3505:
    if data[i][0] == 146: # assuming each data element is a 3 element tuple
     data[i][0] += 1
<END>
<QUE>
setting justOne limiter for pymongo remove throws TypeError
<ANS>
ufo.users.remove({'emails.address': 'foo@bar.com'}, safe=True)
<END>
<QUE>
Replace all occurences of one word in string in python
<ANS>
s = "Tag: tie, Tag: ball, Tag: honey"
print s.replace("Tag: ", "")
<END>
<QUE>
I need to plot a simple animated arrow vector in 3 dimensional space
<ANS>
from visual import *
import math

def make_grid(unit, n):
    nunit = unit * n
    f = frame()
    for i in xrange(n+1):
        if i%5==0: 
            color = (1,1,1)
        else:
            color = (0.5, 0.5, 0.5)

        curve(pos=[(0,i*unit,0), (nunit, i*unit, 0)],color=color,frame=f)
        curve(pos=[(i*unit,0,0), (i*unit, nunit, 0)],color=color,frame=f)
    return f

arrow(pos=(0,0,0), axis=(5,0,0), color=(1,0,0), shaftwidth=0.1)    
arrow(pos=(0,0,0), axis=(0,5,0), color=(0,1,0), shaftwidth=0.1)    
arrow(pos=(0,0,0), axis=(0,0,5), color=(0,0,1), shaftwidth=0.1)    
grid_xy = make_grid(0.5, 10)
grid_xz = make_grid(0.5, 10)
grid_xz.rotate(angle=pi/2, axis=(1,0,0), origin=(0,0,0))
grid_yz = make_grid(0.5, 10)
grid_yz.rotate(angle=-pi/2, axis=(0,1,0), origin=(0,0,0))
sphere(radius=0.3)

obj = arrow(pos=(0,0,0), axis=(1,2,3), shaftwidth=0.3)
th = 0
while True:
    rate(20)
    obj.axis = (3*math.cos(th), 3*math.sin(th), 2)
    th += 0.04
<END>
<QUE>
Python Regex Findall Lookahead
<ANS>
re.compile(r"M[A-Z]+\*")
<END>
<QUE>
wxPython Updating Grid Cell Background Colour
<ANS>
self.myGrid.ForceRefresh()
<END>
<QUE>
How to display a .py on CMD with only python script?
<ANS>
import time
import os

localtime = time.asctime(time.localtime(time.time()))

x = 1

print("Cobra Language 3.3.3 (v3.3.3:h3js89sj9fs, February 18 2014, 20:33:34) [MSC v.1600 32/64 bit (Intel) Raihaanium Code] on win32/64")
print("
A Replica of Python programming, but with an all new editor! The Cobra Editor Version 3.3.3!")

while x == 1:

    code = input("

Enter your Cobra Code below:

")

    f = open("C:\\Cobra Code Temp. File.py", "w+")

    m = code

    f.write(m)

    f.write("

")

    f.write("input(\"Press ENTER to Re-launch: \")")

    f.write("


")

    f.write("#Cobra Code 3.3.3 
\
#Code Generated on: ")

    f.write(localtime)

    f.close()

    os.system("python C:\\Cobra Code Temp. File.py")

    print("
**********RELAUNCHING...**********")
<END>
<QUE>
Python: How would I compare two strings using a function with only one of the strings as an argument?
<ANS>
def myFunction(self, cdate):
     return self.y == cdate.y and self.z == cdate.z
<END>
<QUE>
Rdflib, Python: Are there any object framing methods to get nested dict/list structure from a graph a-la JSON-LD?
<ANS>
jsonld.frame(doc, frame)
<END>
<QUE>
Parsing a file with ".data" extension in Python?
<ANS>
print os.stat("filename.data") #ensure that st_size > 0

with open("filename.data","rb") as f:
    print repr(f.read())
<END>
<QUE>
Checking number of elements in Python's `Counter`
<ANS>
sum(counter.itervalues())
<END>
<QUE>
Django: How to order comments of a post directly under each original post object?
<ANS>
for post in username.newpost_set.all():
    comments = postcomment.objects.filter(commenttag=post).order_by('-postcommentdate')
    # your code here
<END>
<QUE>
python: run a process with timeout and capture stdout, stderr and exit status
<ANS>
import subprocess
import time
import sys

class Timeout(Exception):
    pass

def run(command, timeout=10):
    proc = subprocess.Popen(command, bufsize=0, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    poll_seconds = .250
    deadline = time.time()+timeout
    while time.time() < deadline and proc.poll() == None:
        time.sleep(poll_seconds)

    if proc.poll() == None:
        if float(sys.version[:3]) >= 2.6:
            proc.terminate()
        raise Timeout()

    stdout, stderr = proc.communicate()
    return stdout, stderr, proc.returncode

if __name__=="__main__":
    print run(["ls", "-l"])
    print run(["find", "/"], timeout=3) #should timeout
<END>
<QUE>
Forward substitution of lower triangular matrix. How?
<ANS>
def solve(m, y):
    v = [0 for i in xrange(len(m))]
    for i in xrange(len(m)):
        v[i] = (y[i] - v.dotProduct(m[i]))/float(m[i][i])

    return v
<END>
<QUE>
receiving data over a python socket
<ANS>
while 1:
    data = conn.recv(1024)
    if not data: break
    conn.send(data)
conn.close()
<END>
<QUE>
Python type as a string
<ANS>
'This is a ' + type(somevariable).__name__
<END>
<QUE>
Django - Invalid Syntax with my view
<ANS>
queryresults = serializers.serialize("python", queryset, fields=('jobmst_id', 'jobmst_prntid', 'jobmst_name', 'jobdtl_cmd'))
#                                                                                                                    here--^
<END>
<QUE>
cx_freeze & pygobject in a subdirectory
<ANS>
os.environ['GI_TYPELIB_PATH'] = os.path.join(os.path.dirname(sys.executable),'bin\\lib\girepository-1.0')
<END>
<QUE>
Python: Create a new list from a list when a certain condition is met
<ANS>
newlist = [word for word in words if len(word) == 9]
<END>
<QUE>
how to write regex for below format using python
<ANS>
r'(Start \d+.*?group=.*?name=.*?number=.*?end=\d+)*'
<END>
<QUE>
Twisted LoopingCall with blocking function
<ANS>
from twisted.enterprise import adbapi


dbpool = adbapi.ConnectionPool('psycopg2', 'mydb', 'andrew', 'password') # replace psycopg2 with your db client name.

def getAge(user):
    return dbpool.runQuery('SELECT age FROM users WHERE name = ?', user)

def printResult(l):
    if l:
        print l[0][0], "years old"
    else:
        print "No such user"

getAge("joe").addCallback(printResult)
<END>
<QUE>
Django order by inline's updated date
<ANS>
baslik.updated = entry.updated 
baslik.save()
<END>
<QUE>
Python - shortening a redundant loop
<ANS>
suitcounter = [0, 0, 0, 0]
suits = {'C': 0, 'D': 1, 'S': 2, 'H': 3}

for card in hand:
    suitcounter[suits[card[1]]] += 1
<END>
<QUE>
Making an image bigger after creating it
<ANS>
img.save("a.jpg","JPEG")

img2 = img.resize( (800, 800))
img2.save("b.jpg","JPEG")
<END>
<QUE>
How to re-init dbus SessionBus
<ANS>
bus = dbus.bus.BusConnection(os.environ['DBUS_SESSION_BUS_ADDRESS'])
<END>
<QUE>
python MySQLdb wont insert into db
<ANS>
commit()
<END>
<QUE>
Flatten a list in python
<ANS>
itertools.chain.from_iterable
<END>
<QUE>
How to create json file having array in Python
<ANS>
import json

tables = ["a", "b", "c", "d"]
data = {}

for t in tables:
    results = sf.query("select id from %s" % t)["records"]
    data[t] = [r["id"] for r in results]

with open("Dataset.json", "w") as f:
    json.dump(data, f)
<END>
<QUE>
Fixing an Or Statement With Variables
<ANS>
bad = set(['bad','terrible', 'dumb'])
good = set(['good','happy','awesome'])
talk = raw_input("type:")
if bad & set(talk.lower().split()):
     print "I'm sorry to hear that :("
elif good & set(talk.lower().split()):
     print "That's good!"
<END>
<QUE>
How to get the name of a variable
<ANS>
class GolfClub:
    def __init__(self, name, size, distance):
        self.name = name
        self.size = size
        self.distance = distance

    def hits_further(self, other):
        if self.distance > other.distance:
            return "%s hits further" % self.name
        else:
            return "%s hits further" % other.name

club1 = GolfClub('Driver', 5, 200)
club2 = GolfClub('9Iron', 6, 300)
club1.hits_further(club2)
<END>
<QUE>
How to rearrange a Series to DataFrame using pandas
<ANS>
ser.groupby(lambda i: i[0]).apply(lambda x: x.rename({i: i[1] for i in x.index})).unstack()
<END>
<QUE>
Configuring a custom scrollbar in PyQt
<ANS>
self.list_widget = QListWidget()
files = glob.glob('YourDirectory/*.jpg') #Get all jpegs in your directory
for i in files:
    self.list_widget.addItem(QListWidgetItem(QIcon(i),'your text here'))
self.list_widget.setIconSize(QSize(400,300)) #Set your image size
<END>
<QUE>
Python - Replace list of strings in a file text
<ANS>
fichier_write.write("%.4s
" %a[i])
<END>
<QUE>
Return text from class without using any brackets (python)
<ANS>
class mcs(type):
    def __repr__(self):
        return "test - from metaclass"

class a(object):
    __metaclass__ = mcs
    def __repr__(self):
        return "test"

print a    # test - from metaclass
print a()  # test
<END>
<QUE>
how to receive streaming data using flask in python program
<ANS>
from contextlib import closing
import requests
with closing(requests.get('http://httpbin.org/get', stream=True)) as r:
    while r.iter_content:
        # Do something with the stream.. 
        pass
<END>
<QUE>
Using pytest with gaesessions session middleware in appengine
<ANS>
def test_session(anon_user):
    anon_user.get("/")  # get any url to call the app to create a session.
    from gaesessions import get_current_session
    assert get_current_session()
<END>
<QUE>
How to fill area between multiple points in a graph
<ANS>
import numpy as np
from scipy.spatial import ConvexHull
import matplotlib.pyplot as plt

pts1 = [[0.0, 10.0], [0.0, 20.0], [10.0, 0.0], [20.0, 0.0]]
pts = np.array(pts1)

hull = ConvexHull(pts)

plt.fill(pts[hull.vertices,0], pts[hull.vertices,1],'red',alpha=0.5)
plt.show()
<END>
<QUE>
Get lat lon for a pos when only dx dy is known from an other point
<ANS>
def melat(lat):
    return  degrees( log ( tan ( radians( lat / 2 + 45 ) ) ))

def latit(mlt):
    return ( degrees(atan ( exp ( radians(mlt) ) )) - 45 ) * 2

def XY2LatLong(x, y):
    EQUATOR_MINUTE_LENGTH = 1851.8518519
    GeoPoint = namedtuple('GeoPoint', ('lat', 'lon'))
    Point = namedtuple('Point', ('x', 'y'))
    base = GeoPoint(55.98619572, 11.62113936)
    factor = cos( radians(base.lat) ) * EQUATOR_MINUTE_LENGTH * 60.
    return GeoPoint(
        latit(melat(base.lat) + y / factor),
        base.lon + x / factor)
<END>
<QUE>
How do i make a game director in python?
<ANS>
import os
print('What game do you want to play?')
print('1.  Hangman')
print('2.  Dragon Realm')
print('3.  Crafting Challenge')

gamechoice = input()
print('Ok, sending you there...')

if gamechoice == 1:
    os.startfile('hangman.py')
elif gamechoice == 2:
    os.startfile('Dragon Realm.py')
elif gamechoice == 3:
    os.startfile('crafting challenge.py')
<END>
<QUE>
Regular expression in Python Tree
<ANS>
astr = '''(ROOT
(S
(INTJ (UH Hello))
(, ,)
(NP (PRP$ My) (NN name))
(VP (VBZ is) (ADJP (JJ Melroy)))
(. .)))
(ROOT
(SBARQ
(WHNP (WP What))
(SQ (VBZ is) (NP (PRP$ your) (NN name)))
(. ?)))'''


def get_tree(astr):
    import re
    out = []
    lines = astr.splitlines()

    for line in lines:
        pat = '\(([^\(\)]+?)( \(([^\)\(]+?) [^\(\)]+?\)).*?\)'
        res = re.search(pat, line)
        while res:
            out.append((res.group(1), res.group(3)))
            line = line.replace(res.group(2),'')
            # line = re.sub('(\([^\s\(\)]*\))', '', line)
            res = re.search(pat, line)

    return out

get_tree(aster) # returns [('INTJ', 'UH'), ('NP', 'PRP$'), ('NP', 'NN'), ('VP', 'VBZ'), ('ADJP', 'JJ'), ('WHNP', 'WP'), ('SQ', 'VBZ'), ('NP', 'PRP$'), ('NP', 'NN')]
<END>
<QUE>
How do I make bar plots automatically cycle across different colors?
<ANS>
#!/usr/bin/python 
from matplotlib import cm
import matplotlib.pyplot as plt

#data
x=[1,2,4]
y=[11,12,8]

for i in range(0,len(x)):
  plt.bar(x[i],y[i],color=cm.jet(1.*i/len(x)))

plt.show()
<END>
<QUE>
Passing a variable from Excel to Python with XLwings
<ANS>
RunPython ("import Test; Test.sayhi('" &  name & "')")
<END>
<QUE>
How to use highlighter in pyLucene?
<ANS>
analyzer = StandardAnalyzer(Version.LUCENE_CURRENT)

# Constructs a query parser.
queryParser = QueryParser(Version.LUCENE_CURRENT, FIELD_CONTENTS, analyzer)

# Create a query
query = queryParser.parse(QUERY_STRING)

topDocs = searcher.search(query, 50)

# Get top hits
scoreDocs = topDocs.scoreDocs
print "%s total matching documents." % len(scoreDocs)

HighlightFormatter = SimpleHTMLFormatter();
highlighter = Highlighter(HighlightFormatter, QueryScorer (query))

for scoreDoc in scoreDocs:
    doc = searcher.doc(scoreDoc.doc)
    text = doc.get(FIELD_CONTENTS)
    ts = analyzer.tokenStream(FIELD_CONTENTS, StringReader(text))
    print doc.get(FIELD_PATH)
    print highlighter.getBestFragments(ts, text, 3, "...")
    print ""
<END>
<QUE>
Sending custom Mime Types Google App Engine Email
<ANS>
application/msword
<END>
<QUE>
How to not split English into separate letters in the Stanford Chinese Parser
<ANS>
import re
pat = re.compile("[A-Za-z]+")
for sentence in text:
    sent_tokens = []
    prev_end = 0
    for match in re.finditer(pat, sentence):
        print match.start(0), match.end(0), match.group(0)
        chinese_part = sentence[prev_end:match.start(0)]
        sent_tokens += tokenize(chinese_part)
        sent_tokens.append(match.group(0))
        prev_end = match.end(0)
    last_chinese_part = sentence[prev_end:]
    sent_tokens += tokenize(last_chinese_part)
    print sent_tokens
<END>
<QUE>
python move characters based on string position
<ANS>
x= "th i s. i s. a. n i^ c e. s s t. s t r i ng."
for i in range(len(x)):
    if x[i] == '^':
        j = i + 1
        if x[j] == ' ':
            j = j + 1
            while j < len(x) and x[j] != ' ':
                j = j + 1
                print x
            x= x[0:i] + x[i+1:]
            x= x[0:j-1] + "^" + x[j-1:]
            print x
            exit()
<END>
<QUE>
Circular Linked list in python
<ANS>
dummy.next is dummy
<END>
<QUE>
How do I find out the size of a canvas item in Python/Tkinter?
<ANS>
bounds = self.canvas.bbox(myText)  # returns a tuple like (x1, y1, x2, y2)
width = bounds[2] - bounds[0]
height = bounds[3] - bounds[1]
<END>
<QUE>
set user session in django
<ANS>
def login(request):
    m = Member.objects.get(username=request.POST['username'])
    if m.password == request.POST['password']:
        request.session['member_id'] = m.id
        return HttpResponse("You're logged in.")
    else:
        return HttpResponse("Your username and password didn't match.")
<END>
<QUE>
How do I remove duplicate words from a list in python without using sets?
<ANS>
fname = "stuff.txt"
fhand = open(fname)
AllWords = list()      #create new list
ResultList = list()    #create new results list I want to append words to

for line in fhand:
    line.rstrip()   #strip white space
    words = line.split()    #split lines of words and make list
    AllWords.extend(words)   #make the list from 4 lists to 1 list

AllWords.sort()  #sort list

for word in AllWords:   #for each word in line.split()
    if word not in ResultList:    #if a word isn't in line.split            
        ResultList.append(word)   #append it.


print(ResultList)
<END>
<QUE>
Adding variable to a foreignkey form
<ANS>
location = Location.objects.get(pk=location_id)
form.location = location
<END>
<QUE>
Dynamic File Path in Django and South
<ANS>
class Model(models.Model):
  def save(self, *args, **kwargs):
    instance = super(Model, self).save(*args, **kwargs)
    # your logic here to change the file location
    return instance
<END>
<QUE>
how to test django project
<ANS>
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': 'mydatabase',
        'TEST_NAME': 'mytestdatabase'
    }
}
<END>
<QUE>
How to return 'negative' of a value in pandas dataframe?
<ANS>
-df["A"]
<END>
<QUE>
Figure Size & Position after Matplotlib Zoom
<ANS>
from matplotlib import pyplot as plt
import numpy

fig = plt.figure()
ax = fig.add_subplot(111)
ax.plot(numpy.random.rand(10))

def ondraw(event):
    # print 'ondraw', event
    # these ax.limits can be stored and reused as-is for set_xlim/set_ylim later
    print ax.get_xlim(), ax.get_ylim()

cid = fig.canvas.mpl_connect('draw_event', ondraw)

plt.show()
<END>
<QUE>
Scrapy: re-crawling with the same rule
<ANS>
Rule(SgmlLinkExtractor(allow=("ShowUserReviews-g.*",), restrict_xpaths=('//*[@id="REVIEWS"]/div[4]/div/div[2]/div/div/div[1]/a[text() = "Next"]',), unique=True), callback='parse_item', follow= True)
<END>
<QUE>
How to use KDE Okular's document view widget in a Python Qt app?
<ANS>
import sys
from PyKDE4.kdecore import ki18n, KAboutData, KCmdLineArgs
from PyKDE4.kdecore import KLibLoader as ll
from PyKDE4.kdeui import KApplication
import PyKDE4.kparts as kp


appName     = "KApplication"
catalog     = ""
programName = ki18n ("KApplication")
version     = "1.0"
description = ki18n ("KApplication")
license     = KAboutData.License_GPL
copyright   = ki18n ("(c) 2007 John Doe")
text        = ki18n ("none")
homePage    = "www.johndoe.com"
bugEmail    = "johndoe@nowhere.com "

aboutData   = KAboutData(
    appName, catalog, programName, version, description,
    license, copyright, text, homePage, bugEmail
)

KCmdLineArgs.init( sys.argv, aboutData)

app = KApplication()
win= kp.KParts.MainWindow()
okupart= ll.self().factory( 'okularpart').create()
win.setCentralWidget( okupart.widget())
win.show()

app.exec_()
<END>
<QUE>
How do I generate a random string (of length X, a-z only) in Python?
<ANS>
''.join(random.choice(string.lowercase) for x in range(X))
<END>
<QUE>
Getting a number of digits
<ANS>
"%.3f" % math.pi
<END>
<QUE>
Returning variables and while True loop
<ANS>
def function1():
    var1 = raw_input("Please enter a number")
    var2 = raw_input("Please enter another number")
    return var1,var2

def function2():
    var1,var2 = function1()
    print var1,var2

while True:
    function2()
<END>
<QUE>
How to download a file via the browser from Amazon S3 using Python (and boto) at Google App Engine?
<ANS>
generate_url(expires_in, method='GET', headers=None, query_auth=True, force_http=False)
<END>
<QUE>
Writing value just once to file in for loop
<ANS>
from operator import itemgetter
from itertools import groupby


#input file
f=open('mytxt','rb')
#output file
f_out=open('out','w')

#skip the first line
header=f.readline()

# read every line
lines=f.readlines()
lines=[i.split(';')  for i in lines if i != '
']

#grouping
groups=[]
for k,g in groupby(lines,itemgetter(1)):
    groups.append(list(g))


#iterate and write to a file
for j in range(len(groups)):
    headers=[[i[0],i[2]]  for i in groups[j]]
    final_headers=["PLZ"+'\t'] + [i[0]+'\t' for i in headers]
    final_values=[str(j+1)+'\t']+[i[1].strip()+'\t' for i in headers]
    f_out.write("".join(final_headers))
    f_out.write("
")
    f_out.write("".join(final_values))
    f_out.write("
")
<END>
<QUE>
Django: No of Instances of a Foreign Key
<ANS>
def num_of_choices(question):
    return question.choice_set.count()
<END>
<QUE>
Count number of specific elements in between other elements in list
<ANS>
cur = 0
res = []
with open("file.txt") as f:
    for line in f:
        if line.strip() == '0':
            cur += 1
        else:
            res.append(cur)
            cur = 0
<END>
<QUE>
Using Scrapy to crawl a list of urls in a section of the start url
<ANS>
rules = (Rule(LinkExtractor(restrict_xpaths=(".//*[@id='mw-content- text']/ul[19]"), ), callback='parse_items', follow=True), 
 Rule(LinkExtractor(deny_domains='...start url...'), callback='parse_items',follow= True),)
<END>
<QUE>
imaplib/gmail how to download full message (all parts) while not marking read
<ANS>
# get uids of unseen messages
result, uids = conn.uid('search', None, '(UNSEEN)')

# convert these uids to a comma separated list
fetch_ids = ','.join(uids[0].split())

# first fetch the headers, this will mark them read (SEEN)
status, headers = conn.uid('fetch', fetch_ids, '(RFC822.HEADER)')

# now mark each message unread (UNSEEN)
status1, flags = conn.uid('store', fetch_ids,'-FLAGS','\\Seen')
<END>
<QUE>
Relating two consecutive lines in a file
<ANS>
dd = {}
referrer = None

for line in open('hosts.txt'):
    if line.startswith('Host'):
        host = line.split(': ')[1].strip('
')
    elif line.startswith('Referer'):
        referrer = line.split(': ')[1].strip('
')

    if referrer is not None:
        dd.setdefault(referrer, set()).add(host)
        referrer = None

for k, v in dd.iteritems():
    print k, len(v)
<END>
<QUE>
List of List to ndarray
<ANS>
data = [[1,2,3,4],[4,5,6,7,8]]
data_arr = np.array(data)

data_arr
array([[1,2,3,4],
       [5,6,7,8]])
<END>
<QUE>
Can't read from NamedTemporaryFile after being written
<ANS>
file.seek(0)
logging.debug(file.readlines())
<END>
<QUE>
How to convert list of numpy arrays into single numpy array?
<ANS>
numpy.concatenate( LIST, axis=0 )
<END>
<QUE>
SQLAlchemy ORM conversion to pandas DataFrame
<ANS>
df = pd.read_sql(query.statement, query.session.bind)
<END>
<QUE>
Python comma delimiting a text file
<ANS>
with open('infile.txt') as infile, open('outfile.txt', 'w') as outfile:
    outfile.write(', '.join(infile.read().split('
')) + '
')
<END>
<QUE>
sqlalchemy create a foreign key?
<ANS>
id | var            
1  |  10            
1  |  11          
2  |  10
<END>
<QUE>
How to build simuPOP on Mac OS X with python3?
<ANS>
gcc-4.2
<END>
<QUE>
How to convert specific CSV format to JSON using Python
<ANS>
import json
from collections import defaultdict

fh = open("yourfile.csv")
result = defaultdict(dict) #dictionary holding the data
current_key = "" #current category
ignore_next = False #flag to skip header

for line in fh:
    line = line.strip() #throw away newline
    if line == "": #line is empty
        current_key = ""
        continue
    if current_key == "": #current_key is empty
        current_key = line #so the current line is the header for the following data
        ignore_next = True
        continue
    if ignore_next: #we're in a line that can be ignored
        ignore_next = False
        continue
    (a,b) = line.split(",")
    result[current_key][a] = b
fh.close()

#pretty-print data
print json.dumps(result, sort_keys=True, indent=4)
<END>
<QUE>
Remove every word of after a bracket and append remaining words to Python list
<ANS>
import re
s = "[AA BB, CC, DD, EE] [PP QQ, RR] [WW XX, YY, ZZ]"
response = re.findall('(?<![[\w])\w+', s)
<END>
<QUE>
Convert a single valued dictionary to multivalued dictionary in python
<ANS>
from random import choice
for key in total_values:
    total_values[key] = (total_values[key], choice((True, False)))
<END>
<QUE>
How do I create a datetime in Python from milliseconds?
<ANS>
datetime.datetime.fromtimestamp(ms/1000.0)
<END>
<QUE>
List to dictionary order changing
<ANS>
collections.OrderedDict
<END>
<QUE>
convert string numbers separated by comma to integers or floats in python
<ANS>
total = 0
for i in s.split(','):
    i = float(i) #using float because you don't only have integers
    total += i
<END>
<QUE>
Fabric Remote Execution requiring a user response from a prompt?
<ANS>
local("php root/protected/yiic.php migrate --interactive=0")
<END>
<QUE>
How can I find a file in a directory
<ANS>
import os    #bring in the necessary library to access your specific os

filename = raw_input("Enter file: ")   #get user input

dirList = os.listdir('.')    #get the current directory listing
if filename in dirList:      #if the filename sought was in that dirlist....
    print "file found: " + filename   #display it
else:                            #otherwise...
    print "That file does not exist."
<END>
<QUE>
Sending Strings Queue to Clipboard in python
<ANS>
import time,os,win32api
from msvcrt import getch

def addToClipBoard(text):
    command = 'echo ' + text.strip() + '| clip'
    os.system(command)


def testpress(key):
    return (win32api.GetKeyState(key) & (1 << 7)) != 0

key = 17 #ctrl key
key2= ord('V')
copy=1

while True:
    keydown = testpress(key)
    key2down = testpress(key2)
    if keydown and key2down:
        print 'CtrlV pressed!'
        if copy==1:
          addToClipBoard('Foo')
        elif copy==2:
            addToClipBoard('Shoo')
        elif copy==3:
            addToClipBoard('THA END')
        if copy>3:
            exit(1)
        copy+=1
    time.sleep(0.10)
<END>
<QUE>
Looping Python dictionaries in entered sequence
<ANS>
collections.OrderedDict
<END>
<QUE>
wxPython. How do I center a static size panel?
<ANS>
import wx


class Main(wx.Frame):

    def __init__(self, parent, id):
        wx.Frame.__init__(self, parent, id, 'Main', size=(700, 500))

        self.SetBackgroundColour('white')

        panel = wx.Panel(self, wx.ID_ANY, size=(50, 50))
        panel.SetBackgroundColour('blue')

        sizer = wx.BoxSizer()
        sizer.AddStretchSpacer(1)
        sizer.Add(panel, 0, wx.ALIGN_CENTER)
        sizer.AddStretchSpacer(1)

        self.SetSizer(sizer)


if __name__ == '__main__':
    app = wx.App()
    frame = Main(parent=None, id=-1)
    frame.Show()
    app.MainLoop()
<END>
<QUE>
Mysqldb Update error with set %s
<ANS>
sql2 = """UPDATE student
          SET f_name = %s
          WHERE id_user = %s"""
cursor.execute(sql2, (se, the))
<END>
<QUE>
Debugging Flask in PyCharm
<ANS>
'pydevd' in sys.modules
<END>
<QUE>
Make pyplot faster than gnuplot
<ANS>
import numpy as np
import matplotlib.pyplot as plt

import textwrap
fname='/tmp/tmp.dat'
with open(fname,'w') as f:
    f.write(textwrap.dedent('''\
        id col1 col2 col3
        2010 1 2 3 4
        # Foo

        2011 5 6 7 8
        # Bar        
        # Baz
        2012 8 7 6 5
        '''))

data = np.genfromtxt(fname, 
                     comments='#',    # skip comment lines
                     dtype = None,    # guess dtype of each column
                     names=True)      # use first line as column names
print(data)
plt.plot(data['id'],data['col2'])
plt.show()
<END>
<QUE>
Take user input and put it into a file in Python?
<ANS>
filename = input ("filename: ");
with open (filename, "w") as f:
  f.write (input ());
<END>
<QUE>
Combining two lists of strings together once in Python 3.4.3
<ANS>
for name, surname in zip(firstname, surname):
   print(name, surname)
<END>
<QUE>
Sampling on a spline to a given max chordal deviation
<ANS>
simplify()
<END>
<QUE>
I want to extract data from a txt file with python
<ANS>
import re
import sys

file = open("fixVel.txt")
textfile = file.readlines()
count = -1
matrix = []
for row in textfile:
    if row.find("Time") == 0:
        count = count + 1
        matrix.append([])
    if row.find("DICPCG") == 0:
        index = row.find("Initial residual")
        index1 = row[index:].find(",")
        matrix[count].append(row[index+19:index+index1])
#print matrix
for i in matrix:
    for j in i:
        sys.stdout.write(j + " ")
    print
<END>
<QUE>
Python - Getting all images from an html file
<ANS>
import urllib2
from BeautifulSoup import BeautifulSoup
page = BeautifulSoup(urllib2.urlopen("http://www.url.com"))
page.findAll('img')
<END>
<QUE>
Determine if a group within a regex match is a number
<ANS>
m.group(WHICHEVER_YOU_WANT).isdigit()
<END>
<QUE>
Tracking white color using python opencv
<ANS>
import cv2
import numpy as np

cap = cv2.VideoCapture(0)

while(1):

    _, frame = cap.read()
    hsv = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)

    # define range of white color in HSV
    # change it according to your need !
    lower_white = np.array([0,0,0], dtype=np.uint8)
    upper_white = np.array([0,0,255], dtype=np.uint8)

    # Threshold the HSV image to get only white colors
    mask = cv2.inRange(hsv, lower_white, upper_white)
    # Bitwise-AND mask and original image
    res = cv2.bitwise_and(frame,frame, mask= mask)

    cv2.imshow('frame',frame)
    cv2.imshow('mask',mask)
    cv2.imshow('res',res)

    k = cv2.waitKey(5) & 0xFF
    if k == 27:
        break

cv2.destroyAllWindows()
<END>
<QUE>
Pass the value of a variable to a function in Python3
<ANS>
def any_func(former_id):
    pass

def get_id_from_file():
    file = open(r'C:/Users/my.name/Documents/test.txt', 'r')
    farmer_id = file.readline()
    return farmer_id

farmerid = get_id_from_file()
any_func(farmerid)
<END>
<QUE>
Defining a dictionary with a very large amount of columns
<ANS>
dict(zip(col_names, p))
<END>
<QUE>
How to remove some connected components in python?
<ANS>
def CC(Map):
    label_img, cc_num = ndimage.label(Map)
    CC = ndimage.find_objects(label_img)
    cc_areas = ndimage.sum(Map, label_img, range(cc_num+1))
    area_mask = (cc_areas < 1500)
    label_img[area_mask[label_img]] = 0
return label_img, CC
<END>
<QUE>
How to re-order dataframe fields?
<ANS>
df = df.loc[:,['timestamp', 'user_id', 'val1', 'val2', 'val3']]
<END>
<QUE>
Splitting a text document into an excel sheet xls
<ANS>
import re

# Strip all spaces and dump all data into an array
lines = [mo for mo in re.findall('(?s)(?<=\|)([<\w].+?)\s+?\|', open('py.txt').read())]
# Create an array to hold the transformation
combined = ['' for x in range(len(lines) / lines.count("<DOg>|"))]
# Append by rows
for idx in range(len(lines)):
  combined[idx % len(combined)] += lines[idx] + ','

# Write array to file
output = open('numbersConverted.csv','w')
for comb in combined:
  output.write(comb + "
")
output.close
<END>
<QUE>
Importing a csv with a long list of urls to Python in order to find 404 errors
<ANS>
def get_url_status(url):
    try:
        r = requests.head(url)
        return url, r.status_code
    except requests.ConnectionError:
        print "failed to connect"
        return url, 'error'

results = {}
with open('url.csv', 'rb') as infile:
    for url in infile:
        url_status = get_url_status(url)
        results[url_status[0]] = url_status[1]
<END>
<QUE>
multidimensional numpy array __eq__
<ANS>
x = np.array([[1,2], [4,5], [4,6], [5,4], [4,5]])
(x == [4,5]).all(1)

#out: array([False,  True, False, False,  True], dtype=bool)
<END>
<QUE>
loop over list of selected object properties in python to create a tree view
<ANS>
class Restaurant:
    def __init__(self, name, location, phone, parent = None):
        self.staff = []
        self.tables = []
        self.menu = []
        self.name = name
        self.location = location
        self.phone = phone

        self.rest_dict = {"Staff": self.staff, "Tables": self.tables, "Menu": self.menu}

    def addStaff(self, staff_object):
        self.staff.append(staff_object)

    def addTables(self, table_object):
        self.tables.append(table_object)

    def addMenu(self, menu_object):
        self.menu.append(menu_object)
r = Restaurant("foo","bar",911) # instantiate 
r.addStaff("Foo")
r.addStaff("Bar") # append using method
r.staff.append("Foo1") # you can also  access attributes directly
r.addMenu("Lunch")
r.addMenu("Dinner")
r.menu.append("Lunch")
r.addTables(1)
r.addTables(2)
r.tables.append(3)
print r.rest_dict

{'Menu': ['Lunch', 'Dinner', 'Lunch'], 'Tables': [1, 2, 3], 'Staff': ['Foo', 'Bar', 'Foo1']}
<END>
<QUE>
Read list written in different ways from file
<ANS>
import re
lines=[]
for l in f_dat:
    if l and l[0]!='#':
        lines.append([float(i) for i in re.findall('[0-9.]+',l)])
print lines
<END>
<QUE>
How to read each line from a file into list word by word in Python
<ANS>
list_words = [i.split(',') for i in f]
<END>
<QUE>
Is there anyway to get the names of passed arguments to a function in python?
<ANS>
arguments = ('a', 1, 10)
somefunction(*(arguments[:2] + [10]))
<END>
<QUE>
How to check if a nested list has a value
<ANS>
try:
    item = list[2][2]
except IndexError:
    print 'There is no value at list[2][2]'
else:
    print '{} is at list[2][2]'.format(item)
<END>
<QUE>
stuck with encodings in python with BeautifulSoup
<ANS>
print( [e.encode('utf-8', 'ignore') for e in stuff] )
<END>
<QUE>
How to add a value to a specific line in a file in python?
<ANS>
def replace_score(file_name, line_num, text):
  f = open(file_name, 'r')
  contents = f.readlines()
  f.close()

  contents[line_num] = text+"
"

  f = open(file_name, "w")
  contents = "".join(contents)
  f.write(contents)
  f.close()

replace_score("file_path", 10, "replacing_text")
<END>
<QUE>
how to find unique items in a total data set
<ANS>
from collections import Counter

items = Counter()
with open('data_file.txt', 'r') as f:
    for line in f:
        items.update(line.split())

print("Total Unique Items: {0}".format(len(items)))

for item, count in items.most_common(5):
    print("Item {0} was purchased {1} times".format(item, count))
<END>
<QUE>
How to quickly sort dict() with a huge number of keys?
<ANS>
keys = mydict.keys(); keys.sort()
<END>
<QUE>
Celery with MongoDB Broker
<ANS>
CELERY_RESULT_BACKEND = 'mongodb'
BROKER_HOST = "subdomain.mongolab.com"
BROKER_PORT = 123456
BROKER_TRANSPORT = 'mongodb'
BROKER_VHOST = 'testdb'
CELERY_IMPORTS = ('tasks',)
CELERY_MONGODB_BACKEND_SETTINGS = { 
       'host': 'subdomain.mongolab.com',
       'port': 123456,
       'database': 'testdb',
       'user': user,
       'password': password,
       'taskmeta_collection': 'teskmeta'
       }
<END>
<QUE>
In Python, how to chart customer transactions over time (see embedded image for example)
<ANS>
import pandas as pd
import matplotlib.pyplot as plt
import datetime as dt

df = pd.DataFrame({
    'customer_id': ['00001', '00002', '00002', '00003', '00003'],
    'transaction_date': ['1997-01-01 00:00:00', 
                         '1997-01-12 00:00:00', 
                         '1997-01-12 00:00:00', 
                         '1997-01-02 00:00:00', 
                         '1997-03-30 00:00:00']
                  })

markers = ['x', 'o', '+'] 

for index, row in df.iterrows():
    t = dt.datetime.strptime( row['transaction_date'], '%Y-%m-%d %H:%M:%S')
    x = (t - dt.datetime(1970,1,1) ).total_seconds()
    y = int(row['customer_id']) 
    plt.scatter(x,y, marker= markers[y-1],s=200)

plt.yticks( range(1,4) ) 
plt.show()
<END>
<QUE>
referencing static methods from class variable
<ANS>
class Foo:
    # static method
    @staticmethod
    def test():
        pass

    # class variable
    c = {'name' : test }
<END>
<QUE>
removing extensions in subdirectories
<ANS>
import os.path, shutil

def remove_ext(arg, dirname, fnames):
    argfiles = (os.path.join(dirname, f) for f in fnames if f.endswith(arg))
    for f in argfiles:
        shutil.move(f, f[:-len(arg)])

os.path.walk('/some/path', remove_ext, '.tex')
<END>
<QUE>
LXML unable to retrieve webpage using link from file
<ANS>
url = urljoin(BASE_URL, line[i].strip())
<END>
<QUE>
Execute Shell Script from python with arguments
<ANS>
from subprocess import Popen, STDOUT, PIPE
print('Executing: /root/bin/xen-limit ' + str(dom) + ' ' + str(result) + ' --nosave')
handle = Popen('/root/bin/xen-limit ' + str(dom) + ' ' + str(result) + ' --nosave', shell=True, stdout=PIPE, stderr=STDOUT, stdin=PIPE)
print(handle.stdout.read())
<END>
<QUE>
Django: Sort object by string attribute non-alphabetically
<ANS>
type_buy_order_list = []
for order in volume_buy_order_list:
    if order[3] == "limit":
        type_buy_order_list.append(order)
    if order[3] == "liquid":
        type_buy_order_list.append(order)
    if order[3] == "conditional":
        type_buy_order_list.append(order)
<END>
<QUE>
How to resolve a NameError: global name 'ContactForm' is not defined
<ANS>
from flask.ext.wtf import Form

from wtforms import TextField, TextAreaField, SubmitField, validators


class ContactForm(Form):
    name = TextField("Name", [validators.Required()])
    email = TextField("Email", [validators.Required(), validators.email()])
    subject = TextField("Subject", [validators.Required()])
    message = TextAreaField("Message", [validators.Required()])
    submit = SubmitField("Send")
<END>
<QUE>
Django: Meaning of leading underscore in list of tuples used to define choice fields?
<ANS>
from django.utils.translation import ugettext_lazy as _
<END>
<QUE>
Selecting specific excel rows for analysis in pandas/ipython?
<ANS>
df.iloc[[4,9,20,26]].sum()
<END>
<QUE>
Python 3: How to convert a bytearray to an ASCII string
<ANS>
3>> bytearray(b'S\x00t\x00a\x00n\x00d\x00a\x00r\x00d\x00F\x00i\x00r\x00m\x00a\x00t\x00a\x00.\x00i\x00n\x00o\x00').decode('utf-16le')
'StandardFirmata.ino'
<END>
<QUE>
Assignment in list slice in Python
<ANS>
[1] * 2
<END>
<QUE>
Sikuli in Loop Mode
<ANS>
import time

while True:
    time.sleep(1200) #1200 sec = 20 min
    #your code
<END>
<QUE>
In Python, I can print HTML to the browser, how can I ensure that the CSS that relates to it also get "printed"
<ANS>
print file('/path/to/your/file/styles.css').read()
<END>
<QUE>
How to import a function I wrote in python
<ANS>
import imp

foo = imp.load_source('module.name', '/home/morbo/document/python/python_script/morbo_function_lib.py')
<END>
<QUE>
Sort a list of Python dictionaries depending on a ordered criteria
<ANS>
list.index()
<END>
<QUE>
Django Model object creation
<ANS>
from django.contrib.auth.models import User as DjangoUser
from django.db import models

class ClientDetails(models.Model):
   user = models.OneToOneField(DjangoUser)
   address = models.ForeignKey(Address, blank=True, null=True)
<END>
<QUE>
Embed icon in python script
<ANS>
import base64
import os
from Tkinter import *
##The Base64 icon version as a string
icon = \
""" REPLACE THIS WITH YOUR BASE64 VERSION OF THE ICON
"""
icondata= base64.b64decode(icon)
## The temp file is icon.ico
tempFile= "icon.ico"
iconfile= open(tempFile,"wb")
## Extract the icon
iconfile.write(icondata)
iconfile.close()
root = Tk()
root.wm_iconbitmap(tempFile)
## Delete the tempfile
os.remove(tempFile)
<END>
<QUE>
How to monkeypatch a static method?
<ANS>
A.b = staticmethod(B.b)
<END>
<QUE>
start_urls in Scrapy
<ANS>
allowed_domains = ["go-on.fi"]
start_urls = ["http://www.go-on.fi/tyopaikat"]

def parse(self, response):
    pages = response.xpath('//ul[@class="pagination"][last()-1]/a/text()').extract()
    page = 1
    start = 0
    while page <= pages:
        url = "http://www.go-on.fi/tyopaikat?start="+str(start)
        start += 20
        page += 1
        yield Request(url, callback=self.parse_page)

def parse_page(self,response):
    hxs = HtmlXPathSelector(response)
    items = []
    titles = hxs.select("//tr")

    for row in titles:
        item = JobData()
        item['header'] = row.select("./td[1]/a/text()").extract()
        item['link'] = row.select("./td[1]/a/@href").extract()
        items.append(item)
<END>
<QUE>
Mapping a range of values to another
<ANS>
def translate(value, leftMin, leftMax, rightMin, rightMax):
    # Figure out how 'wide' each range is
    leftSpan = leftMax - leftMin
    rightSpan = rightMax - rightMin

    # Convert the left range into a 0-1 range (float)
    valueScaled = float(value - leftMin) / float(leftSpan)

    # Convert the 0-1 range into a value in the right range.
    return rightMin + (valueScaled * rightSpan)
<END>
<QUE>
A difficult homework with Python and I'm new
<ANS>
x = input("Number: ")
x = int(x)
y = 0
z = 0
while y < x + 1:
    z = z + y 
    y += 1

print (z)
<END>
<QUE>
Center of mass of a numpy array, how to make less verbose?
<ANS>
R -= R.sum(0) / len(R)
<END>
<QUE>
In Python, how do I efficiently check if a string has been found in a file yet?
<ANS>
found = False
newlines = []

for line in f:
    if oldstring in line:
        found = True
        newlines.append(line.replace(oldstring, newstring))
    else:
        newlines.append(line)
<END>
<QUE>
Verify ssh-agent signature in Python
<ANS>
from paramiko import Message
from paramiko.rsakey import RSAKey
from sshkey import load_rsa_pub_key
with open('.ssh/testssh.pub') as fh:
  ketype, b64key, _ = fh.next().strip().split(None, 2)
decoded_key = base64.b64decode(b64key)
pkey = RSAKey(data=decoded_key)
psig = Message(agentsig)
print pkey.verify_ssh_sig(plaintext, psig)
# True
print pkey.verify_ssh_sig("bogus", psig)
# False
<END>
<QUE>
Get the inner HTML of a element in lxml
<ANS>
from lxml import etree
print(etree.tostring(root, pretty_print=True))
<END>
<QUE>
Python edit file with an insanely long line
<ANS>
def replace(self, search_str, replace_str):
    f = open(self.path,'r+')
    new_path = self.path.split('.')[0]+'.TEMP'
    new_f = open(new_path,'w')
    new_lines = [x.replace(search_str, replace_str) for x in f]
    new_f.writelines(new_lines)
    f.close()
    new_f.close()
    os.remove(self.path)
    os.rename(new_path, self.path)
<END>
<QUE>
storing the browser title derived from selenium
<ANS>
from selenium import webdriver
from selenium.common.exceptions import NoSuchElementException
from selenium.webdriver.common.keys import Keys
import time

browser = webdriver.Firefox() # Get local session of firefox

# 0 wait until the pages are loaded
browser.implicitly_wait(3) # 3 secs should be enough. if not, increase it

browser.get("http://www.google.com") # Load page

# 1 & 2 
title = browser.title
print title, len(title)

# 3 & 4
curre = browser.current_url
print curre, len(curre)

#5
browser.refresh()

#6
page_source = browser.page_source
print page_source, len(page_source)
<END>
<QUE>
Find a file in a directory using python by partial name
<ANS>
file_ids = [line.strip() for line in text_file if not line.isspace()]
<END>
<QUE>
get vmId via pyVmomi
<ANS>
from pyVim.connect import SmartConnect
from pyVmomi import vim
si = SmartConnect(host='10.12.254.137', user='administrator@vsphere.local', pwd='password')
content = si.RetrieveContent()
children = content.rootFolder.childEntity
for child in children:
    print child

'vim.Datacenter:datacenter-33'
'vim.Datacenter:datacenter-2'
children[0].name
'1000110'
dc = vim.Datacenter('datacenter-33')
dc._stub = si._stub
dc.name
'1000110'
<END>
<QUE>
How to design a program with many configuration options?
<ANS>
def f(x,y,opt_a=None, opt_b=None):
    if opt_a is None: opt_a = rcParams['group1.opt_a']
<END>
<QUE>
Django getting especific object using QuerySet in reverse relationship many-to-one
<ANS>
from django.db.models import Q

Chat.objects.filter(Q(chatsubscription__profile__in=[profileA,profileB]) & Q(community=communty))
<END>
<QUE>
About slices in Python
<ANS>
slice(None, None, None)
<END>
<QUE>
How to make Twisted use Python logging?
<ANS>
from twisted.python import log
observer = log.PythonLoggingObserver(loggerName='logname')
observer.start()
<END>
<QUE>
couldn't remove origin point in matplotlib polycollection
<ANS>
poly = PolyCollection(verts, facecolors = [cc('r'), cc('g'), cc('b'),
                                           cc('y')], closed=False)
<END>
<QUE>
Python Find Average in Nested Loop
<ANS>
sums = [0] * N

for x in range (N2):
    I = 1 #resets the variables
    Q = 0
    U = 0
    for x in range (N):
        theta = 90 + randint(-dtheta, dtheta) #random component 
        #you don't need to copy these variables, they're redundant
        #Q0=Q
        #U0=U
        #I0=I

        #reuse the P-value from previous iteration
        I = (I * cosh(dTp) + S * sinh(dTp)) * exp(-dT)
        Q = (Ip * cos(2 * theta) + Q) * exp(-dT)
        U = (Ip * sin(2 * theta) + U) * exp(-dT)
        P = 100 * sqrt(Q**2 + U**2) / I
        print P

        #add the value of P to the corresponding index at x in sums[]
        sums[x] += P

#this is called a list comprehension
#it is a nicer way of looping over an iterable object (like a list)
avgs = [n / float(N2) for n in sums]
<END>
<QUE>
How to declare array of zeros in python (or an array of a certain size)
<ANS>
buckets = [0] * 100
<END>
<QUE>
How to add opencv window in pygtk?
<ANS>
image = gtk.Image()
img_pixbuf = gtk.gdk.pixbuf_new_from_data(img.tostring(),
                                          gtk.gdk.COLORSPACE_RGB,
                                          False,
                                          img.depth,
                                          img.width,
                                          img.height,
                                          img.width*img.nChannels)  

image = gtk.gdk.set_image_from_pixbuf(img_pixbbuf)
<END>
<QUE>
How can I make a list in Python like (0,6,12, .. 144)?
<ANS>
for i in range(0,150,6):
     print i
<END>
<QUE>
Get a file's directory in a string selected by askopenfilename
<ANS>
import tkinter
import tkinter.filedialog
import getpass
# Need this for the `os.path.split` function
import os
gui = tkinter.Tk()
user = getpass.getuser()
def click():
    # Get the file
    file = tkinter.filedialog.askopenfilename(initialdir='C:/Users/%s' % user)
    # Split the filepath to get the directory
    directory = os.path.split(file)[0]
    print(directory)
button = tkinter.Button(gui, command=click)
button.grid()
gui.mainloop()
<END>
<QUE>
How to create a migration script with dialect types (HSTORE) in SQLAlchemy-Migrate?
<ANS>
from sqlalchemy.dialects.postgresql import HSTORE
<END>
<QUE>
How can I run a file using Python?
<ANS>
os.system("myfile.py")
<END>
<QUE>
printing dynamically string in one line in python
<ANS>
import sys
import time

sys.stdout.write('name=')
last_lenght = 0
with open('names.txt') as names:
    for name in names:
        sys.stdout.write('\b' * last_lenght)    # go back
        sys.stdout.write(' ' * last_lenght)     # clear last name
        sys.stdout.write('\b' * last_lenght)    # reposition
        sys.stdout.write(name.strip())
        sys.stdout.flush()
        last_lenght = len(name.strip())
        time.sleep(0.5)
<END>
<QUE>
Django remove unicode in values_list
<ANS>
definitions_list = [definition.encode("utf8") for definition in definitions.objects.values_list('title', flat=True)]
<END>
<QUE>
How to use curl command via python
<ANS>
subprocess.call('curl "https://api.keen.io/3.0/projects/PROJECT_ID/events/EVENT_COLLECTION?api_key=WRITE_KEY" -H "Content-Type: application/json" -d @purchase1.json', shell=true)
<END>
<QUE>
Create a Postgres Data base using python
<ANS>
import psycopg2
from psycopg2.extensions import ISOLATION_LEVEL_AUTOCOMMIT # <-- ADD THIS LINE

con = psql.connect(dbname='postgres',
      user=self.user_name, host='',
      password=self.password)

con.set_isolation_level(ISOLATION_LEVEL_AUTOCOMMIT) # <-- ADD THIS LINE

cur = con.cursor()
cur.execute("CREATE DATABASE %s  ;" % self.db_name)
<END>
<QUE>
How to check if all modules imported by a Python script are installed without running the script?
<ANS>
from modulefinder import ModuleFinder
finder = ModuleFinder()
finder.run_script('bacon.py')

print 'Loaded modules:'
for name, mod in finder.modules.iteritems():
    print '%s: ' % name,
    print ','.join(mod.globalnames.keys()[:3])

print '-'*50
print 'Modules not imported:'
print '
'.join(finder.badmodules.iterkeys())
<END>
<QUE>
Python: Closest Power of Two To Target
<ANS>
def power_of_two(target):
    if target > 1:
        for i in range(1, int(target)):
            if (2 ** i >= target):
                return 2 ** i
    else:
        return 1
<END>
<QUE>
Get value inside array?
<ANS>
components = "Set(['LPE', 'CLK'])"
x = components.lstrip("Set([").rstrip("])")
for i in x.split(", "):
    z = i.lstrip("'").rstrip("'")
    print z
<END>
<QUE>
passing a variable with colon in function python
<ANS>
g.vertices.index.lookup(**{"bad:identifier":"value"})
<END>
<QUE>
Parsing dbpedia JSON in Python
<ANS>
print [abstract['value'] for abstract in json_data["http://dbpedia.org/resource/Ceramic_art"]["http://dbpedia.org/ontology/abstract"] if abstract['lang'] == 'en'][0]
<END>
<QUE>
Multiple databases in Pyramid
<ANS>
engine= create_engine('postgresql://user:pswd@localhost/db1')
DBSession = scoped_session(sessionmaker(extension=ZopeTransactionExtension()))
DBSession.configure(bind=engine)

engine2= create_engine('postgresql://user:pswd@localhost/db2')
DBSession2 = scoped_session(sessionmaker(extension=ZopeTransactionExtension()))
DBSession2.configure(bind=engine2)
<END>
<QUE>
python regular expression get all the text after a string
<ANS>
r'Email:\s*(.*)'
<END>
<QUE>
Python loops through CSV, but writes header row twice
<ANS>
with open('file.csv', 'r') as src, open('file2.csv', 'w') as dst:
    dst.write(next(src).replace(" ", ""))     # delete whitespaces from header
    dst.writelines(line for line in src)
<END>
<QUE>
Simple while loop until break in python
<ANS>
#!/usr/bin/python
friends = {'John' : {'phone' : '0401',
        'birthday' : '31 July',
        'address' : 'UK',
        'interests' : ['a', 'b', 'c']},
    'Harry' : {'phone' : '0402',
        'birthday' : '2 August',
        'address' : 'Hungary',
        'interests' : ['d', 'e', 'f']}}

response = ['']
error_message = "Sorry, I don't know about that. Please try again, or type 'exit' to leave the program: "

while response[0] != 'exit':
    response = raw_input("Please enter search criteria, or type 'exit' to exit the program: ").split()
    try:
        print "%s's %s is %s" % (response[0], response[1], friends[response[0]][response[1]])
    except KeyError:
        print error_message
    except IndexError:
        print error_message

print ('Thank you, good bye!')
<END>
<QUE>
Get the cartesian product of a series of lists in Python
<ANS>
import itertools
for element in itertools.product(*somelists):
    print element
<END>
<QUE>
Collapsing dataframe column into a single string
<ANS>
import pandas as pd 
import numpy as np
df = pd.DataFrame(np.array([['abc', 11], ['xyz', 21],['pqr',31]]),columns=['member','value'])

sql_string = "select * from table1 where member in "
members = tuple(df.member.tolist())
query = sql_string + str(members)
<END>
<QUE>
Python Modules listed in help differ from what pip is finding
<ANS>
sys.path.append('/usr/lib/python2.7/dist-packages')
help('modules')
<END>
<QUE>
List within a Dictionary confusion
<ANS>
label, number = irTable["al"]
print("It's the {}".format(label))
<END>
<QUE>
Intensity normalization of image using Python+PIL - Speed issues
<ANS>
import numpy as np
from PIL import Image

def normalize(arr):
    """
    Linear normalization
    http://en.wikipedia.org/wiki/Normalization_%28image_processing%29
    """
    arr = arr.astype('float')
    # Do not touch the alpha channel
    for i in range(3):
        minval = arr[...,i].min()
        maxval = arr[...,i].max()
        if minval != maxval:
            arr[...,i] -= minval
            arr[...,i] *= (255.0/(maxval-minval))
    return arr

def demo_normalize():
    img = Image.open(FILENAME).convert('RGBA')
    arr = np.array(img)
    new_img = Image.fromarray(normalize(arr).astype('uint8'),'RGBA')
    new_img.save('/tmp/normalized.png')
<END>
<QUE>
Can't decode output from BeautifulSoup in Python
<ANS>
from BeautifulSoup import BeautifulSoup as bs
import urllib as ul

base_url = 'http://www.yellowpages.ca'
data_file = open('yellow_file.txt', 'a')

bt = bs(ul.urlopen(base_url + '/locations/Quebec/Montreal/90014002.html'))

for div in bt.findAll('div', 'ypgCategory'):
    for a in div.findAll('a'):
        link = base_url + a['href']

        bt = bs(ul.urlopen(link), convertEntities=bs.HTML_ENTITIES)

        titles = bt.findAll('span', 'listingTitle')
        phones = bt.findAll('a', 'phoneNumber')

        for title, phone in zip(titles, phones):
            line = '%s   %s
' % (title.text, phone.text)
            data_file.write(line.encode('utf-8'))
            print line.rstrip()

data_file.close()
<END>
<QUE>
How to hide application icon from Mac OS X dock
<ANS>
LSUIElement=1
<END>
<QUE>
make first values positive in a list of tuples
<ANS>
list_of_tuples = [(0, 0), (0, -1), (1, -1), (1, -2), (1, -3), (1, -4), (0, -4), (0, -3), (-1, -3), (-2, -3), (-2, -2), (-2, -1), (-1, -1), (-1, -2), (0, -2)]
to_add = min(list_of_tuples)[0]
if to_add < 0:
    list_of_tuples = [(a[0]-to_add, a[1]) for a in list_of_tuples]

# [(2, 0), (2, -1), (3, -1), (3, -2), (3, -3), (3, -4), (2, -4), (2, -3), (1, -3), (0, -3), (0, -2), (0, -1), (1, -1), (1, -2), (2, -2)]
<END>
<QUE>
How to remove multiple elements from a list>
<ANS>
x = [e for i, e in enumerate(x) if i not in [5, 12, 23]]
<END>
<QUE>
PyQt strange behavior on clicked items
<ANS>
def handleItemClicked(self, account):
    try:
        accountsSelected = set()

        for account in range(self.mainAccountTable.rowCount()):
            if self.mainAccountTable.cellWidget(account, 0).findChild(type(QCheckBox())).isChecked():
                accountsSelected.add(self.mainAccountTable.item(account, 1).text())                    
                print ("selected:",accountsSelected)
        for account in range(self.mainAccountTable.rowCount()):
            if not self.mainAccountTable.cellWidget(account, 0).findChild(type(QCheckBox())).isChecked():
                accountsSelected.remove(self.mainAccountTable.item(account, 1).text())
                print ("not selected:",accountsSelected)  

        print ("main:", accountsSelected)
        return accountsSelected
    except Exception as e:
        print ("error:",e)
<END>
<QUE>
How to implement image upload while creating a user directory if he doesn't have one in django?
<ANS>
FileField.storage
<END>
<QUE>
How to represent a data structure like this in python pandas?
<ANS>
df = pd.DataFrame(np.arange(27).reshape(3,9) , 
columns = [
     ['x' , 'y' , 'z' , 'Group1' , 'Group1' , 'Group1' , 'Group2' , 'Group2' , 'Group2'] , 
     [ 'x' , 'y' , 'z' , 'prop1' , 'prop2' , 'prop3' , 'prop1' , 'prop2' , 'prop3']
          ]
)

df['Group1']['prop1']

# 0     3
# 1    12
# 2    21
<END>
<QUE>
Store user's name on Google App Engine, without calling get_current_user every time?
<ANS>
class BaseHandler(webapp.RequestHandler):
    def __init__(self):
        pass

    def render(self, template_filename, template_args):
        nick = users.get_current_user().nickname()
        template_args['nick'] = nick

        self.response.out.write(
            template.render(
                self.template_path(template_filename), template_args))
<END>
<QUE>
Django-Models: TypeError: coercing to Unicode: need string or buffer, User found
<ANS>
def __unicode__(self):
     return '%s' % (self.user)
<END>
<QUE>
How to change the shutdown message for Windows using python?
<ANS>
import subprocess
subprocess.call(["shutdown", "-f", "-r", "-t", "10", "-c", '"MESSAGE HERE"'])
<END>
<QUE>
New lines/tabulators turn into spaces in generated document
<ANS>
document.add_paragraph('Simple paragraph')
p = document.add_paragraph()
p.add_run('Name:\t\t').bold = True
p.add_run(name)
document.add_paragraph()
p = document.add_paragraph()
p.add_run('Surname:\t\t').bold = True
p.add_run(surname)
<END>
<QUE>
Passing variables between modules
<ANS>
def setHost(host):
    global _host
    _host = host
<END>
<QUE>
Skipping over array elements of certain types
<ANS>
for i in list:
    try:
        myVal.append(float(i))
    except:
        pass
<END>
<QUE>
Python 2.5 string, modified list, into modified tuple
<ANS>
s1="hello world"
L1=s1.split(" ")
t1=tuple(L1)
print type(t1)
tuple


print(t1)
('hello', 'world')
<END>
<QUE>
Python code simplification? One line, add all in list
<ANS>
sum(int(n) for n in str(2**1000))
<END>
<QUE>
python : get the print output in an exec statement
<ANS>
import sys
import StringIO
import contextlib

@contextlib.contextmanager
def stdoutIO(stdout=None):
    old = sys.stdout
    if stdout is None:
        stdout = StringIO.StringIO()
    sys.stdout = stdout
    yield stdout
    sys.stdout = old

code = """
i = [0,1,2]
for j in i :
    print j
"""
with stdoutIO() as s:
    exec code

print "out:", s.getvalue()
<END>
<QUE>
PyGtk: How to unpack boxes
<ANS>
vbox.remove(self.hbox)
<END>
<QUE>
Parsing out a hex block range from a hex dump in Python
<ANS>
block_per_line = 36
line_no = 1
start_block = block_per_line * (line_no - 1) + 18
selected = all_data[start_block: start_block + 17]  # is this what you want?
<END>
<QUE>
find a capital in a string. No loops. Only if statements and string methods python
<ANS>
has_capital = lambda s:s[0].isupper() or has_capital(s[1:]) if s else False
<END>
<QUE>
Pass range of files to stdin in Python
<ANS>
files = sys.stdin.splitlines()
for n in range(start,end):
  fname = 'test%02d.ext' % (n,)
  if fname in files:
    some_loop(fname)
<END>
<QUE>
How to iterate through every six tuples in a list in python
<ANS>
from itertools import izip_longest
groups_of_six = izip_longest(*[iter(my_list_of_tuples)]*6)
for a_group in groups_of_six:
    do_some_processing_on(a_group)
<END>
<QUE>
How to read a subset of records from a warc file
<ANS>
import warc
from itertools import islice

N = 10
warc_file = warc.open('/path/to/file.warc')
for record in islice(warc_file, N):
    do_stuff_with(record)
<END>
<QUE>
Use variables from iPython in a script
<ANS>
import IPython.ipapi
ip = IPython.ipapi.get()

def run_this_plot(self, arg_s=''):
    """ Run
    Examples
    In [1]: import demo
    In [2]: rtp x y <z> 
    Where x, y, and z are numbers of any type
    """
    args = []
    for arg in arg_s.split():
        try:
            args.append(self.shell.user_ns[arg])
        except KeyError:
            raise ValueError("Invalid argument: %r" % arg)
    print "args: ", args
    # Do something here with args, such as plot them

# Activate the extension
ip.expose_magic("rtp", run_this_plot)
<END>
<QUE>
How to delete all the items of a specific key in a list of dicts?
<ANS>
d1 = {'a': 1, 'b': 2}
d2 = {'a': 1}
l = [d1, d2, d1, d2, d1, d2]
for d in l:
    d.pop('b',None)
print l
<END>
<QUE>
Pyramid FileResponse changes name
<ANS>
response.content_disposition = 'attachment; filename="my_filename.txt"'
<END>
<QUE>
Getting all rows through peewee based on foreign key
<ANS>
User.select().join(Game).where(Game.id == game_id)
<END>
<QUE>
Highlighting last data point in pandas plot
<ANS>
Y.tail(1).plot(style='rx')
<END>
<QUE>
How to create a class decorator that can add multiple methods to a class?
<ANS>
def decorator(*args):
    def wrapper(cls):
        if not issubclass(cls, Screen):
            raise ValueError("You can't apply this decorator "
                             "on this class.")

        for arg in args:
            def clicker(self, marg=arg):
                return "Hey !" + marg
            setattr(cls, arg, clicker)
        return cls
    return wrapper
<END>
<QUE>
How to Submit HTTP authentication with Selenium python-binding webdriver
<ANS>
from selenium import webdriver

profile = webdriver.FirefoxProfile()
profile.set_preference('network.http.phishy-userpass-length', 255)
driver = webdriver.Firefox(firefox_profile=profile)
driver.get("https://username:password@somewebsite.com/")
<END>
<QUE>
Migration issue with custom model field
<ANS>
def deconstruct(self):
    # Use ImageField as path, as the deconstruc() will return ImageWithThumbnailsField
    field_class = "django.db.models.fields.files.ImageField"
    name, path, args, kwargs = super(BaseThumbnailField, self).deconstruct()
    return name, field_class, args, kwargs
<END>
<QUE>
QQuickView only supports loading of root objects that derive from QQuickItem error?
<ANS>
class Main(QObject):
    def __init__(self,parent=None):
        super().__init__(parent)
        self.engine = QQmlApplicationEngine(self)
        self.engine.load(QUrl.fromLocalFile('main.qml'))
        self.window = self.engine.rootObjects()[0]

    def show(self):
        self.window.show()
<END>
<QUE>
limiting a search (python)
<ANS>
for exploit in results['matches'][:5]:
        print '%s:' % (exploit['description'])
<END>
<QUE>
Adding parameter values to a url in flask python
<ANS>
from flask import request

@app.route('/summary',methods = ['GET'])
def api_summary_2():
    filename = request.args.get('file', None)
    if filename is None:
        abort(404)
    else:
        return api_summary(filename)
<END>
<QUE>
How do I compare a record in a csv (txt) file to a record in another csv (txt) file and calculate a number based on their comparison?
<ANS>
import numpy as np

# Load the files:
answers = np.loadtxt(open("Answer.txt"), dtype='str', delimiter=",")
test = np.loadtxt(open("Text.txt"), dtype='str', delimiter=",")

# Compare
scores = 2 * np.sum(answers == test, axis=0)

# save
np.savetxt("Score.csv", scores, delimiter=",")
<END>
<QUE>
How to create a bytes or bytearray of given length filled with zeros in Python?
<ANS>
bytearray(100)
<END>
<QUE>
StrictButton at the bottom of a modelforms
<ANS>
self.helper.layout = Layout(
        *(self.Meta.fields + (StrictButton('Send', css_class='btn-default', type='submit'),))
    )
<END>
<QUE>
Changing default page breaks in xls-file via Python module xlwt
<ANS>
import xlsxwriter
import random
wb = xlsxwriter.Workbook('page_breaks.xlsx')
ws = wb.add_worksheet('Sample page')

headers = ['header1', 'header2']
# set headers
for col, header in enumerate(headers):
    ws.write(0+1, col+1, 'header'+str(col))

# let it be 300 rows of data
for row in xrange(2,302):
    ws.write(row, 1, row)

# fill table with some random data
for _ in xrange(3000):
    row = random.randrange(2, 302)
    col = random.randrange(2, 16)
    ws.write(row, col, 'X')

# print_area(), set_paper() and fit_to_pages() do the trick
ws.print_area(1, 1, 301, 15)
ws.set_paper(9)  # set A4 as page format
pages_horz = 1
pages_vert = 4
ws.fit_to_pages(pages_horz, pages_vert)

wb.close()
<END>
<QUE>
Combine similar rows to one row in python dataframe
<ANS>
import pandas as pd
df = pd.read_csv('df.csv',index_col=0)
df_combined = df.groupby(['yyyymmdd','hr']).max()
df_combined
<END>
<QUE>
Calculating means of values for subgroups of keys in python dictionary
<ANS>
cq={'A1_B2M_01':2.4, 'A2_B2M_01':5, 'A3_B2M_01':4, 'B1_B2M_02':3, 'B2_B2M_02':7, 'B3_B2M_02':6}

sums = dict()
for k, v in cq.iteritems():
    _, p2 = k.split('_', 1)
    if p2 not in sums:
        sums[p2] = [0, 0]
    sums[p2][0] += v
    sums[p2][1] += 1


res = {}
for k, v in sums.iteritems():
    res[k] = v[0]/float(v[1])

print res
<END>
<QUE>
Making one string in python
<ANS>
def lower_case(a):
    x=str(a).lower()
    y = "This is now Lowercase:" + x;
    return y;
<END>
<QUE>
Display gaps in dates with Python and Django
<ANS>
days = set( Post.objects.filter(user=TARGET).values_list("log_date", flat=True) )
curr = min(days)
while curr <= date.today():
    print curr,
    if curr not in days:
        print "NO ENTRY",
    print
    curr += timedelta(days=1)
<END>
<QUE>
Errow while uploading gzip via http POST
<ANS>
"Content-Length"
<END>
<QUE>
How to count the number of possible combinations to fill an arrray of K boxes and S symbols
<ANS>
def combinations(S,K):
    return S**K;
<END>
<QUE>
Console input not evaluating correctly with python script built into an exe with cx_freeze
<ANS>
x = input("Continue? ").strip()
<END>
<QUE>
importing module in python and not able to use functions from module
<ANS>
filename = 'actions.email'
mod = __import__(filename)
VAR = getattr(mod, 'email')
VAR.OpenEmail()
<END>
<QUE>
Square roots in python
<ANS>
def my_sqrt(x):
    root1 = math.sqrt(x)
    root2 = -root1
    return root1,root2
<END>
<QUE>
Running eventlet server in bottle framework
<ANS>
run(server='eventlet',host='localhost', port=8080, reloader=True)
<END>
<QUE>
Key but not mouse event received in pygame display embedded in GTK+ widget
<ANS>
self.drawingarea_game.set_events(gtk.gdk.BUTTON_PRESS_MASK)
<END>
<QUE>
manipulate python variable inside a GTK action listener
<ANS>
def on_checkbutton1_toggled(self, widget, data=None):
    global test
    chkbtn1 = self.builder.get_object("checkbutton1")
    print "BUTTON CHECKED -",chkbtn1.get_active()
    if chkbtn1.get_active() == 0:
        test = 0
    if chkbtn1.get_active() == 1:
        test = 1
    print test

def __init__(self):

    global test
<END>
<QUE>
Looping through a directory of files in Python
<ANS>
import fnmatch
import os

path = os.path.expanduser('~/documents')
tree = ET.parse("sync_list.xml")
root = tree.getroot()
synced = [elt.text for elt in root.findall('synced/sfile')]
for filename in os.listdir(path):
    if fnmatch.fnmatch(filename, '*.blah') and filename not in synced:
        filename = os.path.join(path, filename)
<END>
<QUE>
Python: How to obtain an instance's name at runtime?
<ANS>
for name, obj in self.__dict__.iteritems():
    if isinstance(obj, QtCore.QObject) and not obj.objectName(): # QObject without a name
        obj.setObjectName(name)
<END>
<QUE>
Couple of clarifications on python descriptors
<ANS>
# Not a data descriptor because it doesn't define __set__
class NonDataDescriptor(object):
    def __get__(self, obj, objtype):
        return 3

class Namespace(object):

    # Data descriptor - defines both __get__ and __set__
    @property
    def foo(self):
        return 3

    bar = NonDataDescriptor()

x = Namespace()
x.__dict__['foo'] = 4  # We bypass the foo descriptor's __set__ here,
x.bar = 4              # but there's no bar setter, so this one goes to the dict

# x now has foo and bar descriptors and __dict__ entries

print x.foo  # prints 3 - data descriptor wins over instance __dict__ entry
print x.bar  # prints 4 - instance __dict__ entry wins over non-data descriptor
<END>
<QUE>
'get' returning blank value python
<ANS>
def initUI(self):
    self.parent.title("HOME SCREEN")


    frame = Frame(self)

    self.pack(fill=BOTH, expand=1)
    label1=Label(frame,text="USERNAME",)
    label2=Label(frame,text="PASSWORD")
    text1=Entry(frame, show="*", width=15,)
    text2=Entry(frame,width=15)
    login=Button(self,text="Login",command=self.load)
    register=Button(self,text='Register',command=self.dump)
    Quit=Button(self,text='Quit',command=self.quit)
    delete=Button(self,text='Delete Account',command=self.delete)
    showb=Button(self,text='Show Accounts',command=self.show)


    label1.pack(side=LEFT)
    text2.pack(side=LEFT, padx=5, pady=5)
    label2.pack(side=LEFT )
    text1.pack(side=LEFT, padx=5, pady=5)
    frame.pack(fill=BOTH, expand=1)

    Quit.pack(side=RIGHT ,padx=5, pady=5)
    register.pack(side=RIGHT)
    login.pack(side=RIGHT)
    delete.pack(side=RIGHT)
    showb.pack(side=RIGHT)
    global text1
    global text2
def dump(self):

    z=(text1.get())
    a=(text2.get())
<END>
<QUE>
Python Celery - Switch TaskRegistry implementation
<ANS>
app._tasks=MyCustomTaskRegistry()
<END>
<QUE>
how to direct python logger to Tkinker's Listbox?
<ANS>
from logging import Handler, getLogger

class ListboxHandler(Handler):
    def __init__(self, box):
        self._box = box
        Handler.__init__(self)

    def emit(self, record):
        r = self.format(record)
        self._box.insert(0, r)

# quick test:
target = [] # supports insert like Listbox :)
rootLogger = getLogger()
# add handler to the root logger here
# should be done in the config...
rootLogger.addHandler(ListboxHandler(target))
rootLogger.warn('test')
print(target)
<END>
<QUE>
In Python how do you split a list into evenly sized chunks starting with the last element from the previous chunk?
<ANS>
splitlists = [mylist[i:i+n] for i in range(0, len(mylist), n-1)]
splitlists[-1].append(splitlists[0][0])
<END>
<QUE>
How to write a csv with quotes?
<ANS>
writer=csv.writer(m,delimiter=',',quotechar=('
"'),quoting=csv.QUOTE_ALL)
<END>
<QUE>
How to turn a comma-delimited list of date attributes into a MySQL date value?
<ANS>
f=open(filename,"r")
listOfLines=f.readlines()
for line in listOfLines:
    splitLine=line.split(",")
    print "Day of Month: "+splitLine[4]#this is an example of one piece of info.
    print "Month: "+splitLine[5]#this is an example of one piece of info.
<END>
<QUE>
Algorithm to match 2 lists with wildcards
<ANS>
def matcher (l1, l2):
    if (l1 == []):
        return (l2 == [] or l2 == ['*'])
    if (l2 == [] or l2[0] == '*'):
        return matcher(l2, l1)
    if (l1[0] == '*'):
        return (matcher(l1, l2[1:]) or matcher(l1[1:], l2))
    if (l1[0] == l2[0]):
        return matcher(l1[1:], l2[1:])
    else:
        return False
<END>
<QUE>
How do you recognize speech with the Python module Dragonfly?
<ANS>
from dragonfly.all import Grammar, CompoundRule

# Voice command rule combining spoken form and recognition processing.
class ExampleRule(CompoundRule):
    spec = "do something computer"                  # Spoken form of command.
    def _process_recognition(self, node, extras):   # Callback when command is spoken.
         print "Voice command spoken."

# Create a grammar which contains and loads the command rule.
grammar = Grammar("example grammar")                # Create a grammar to contain the command    rule.
grammar.add_rule(ExampleRule())                     # Add the command rule to the grammar.
grammar.load()                                      # Load the grammar.

while True:
    pythoncom.PumpWaitingMessages()
    sleep(.1)
<END>
<QUE>
Joining 2 data frames with overlapping data
<ANS>
df = df.reindex(columns=df2.columns.union(df.columns),
                index=df2.index.union(df.index))
<END>
<QUE>
Python insert missing elements in array
<ANS>
existing = set(x[0] for x in setup)
for expected in ('iapsetting', 'mmssetting', 'iap-mms'):
    if expected not in existing:
        setup.append((expected, 0))
<END>
<QUE>
How to get Desktop location using Python
<ANS>
shutil.copy(txtName, os.path.join(os.environ["HOMEPATH"], "Desktop"))
<END>
<QUE>
How do i cast char to integer while querying in django ORM?
<ANS>
students.objects.filter(student_id__contains="97318") \
                .extra({'stident_id_uint': "CAST(student_id as UNSIGNED)"}) \
                .order_by('-student_id_uint')
<END>
<QUE>
Kivy args_converter function: 'ValueError' after trying to build ListView item with kwargs
<ANS>
background = ObjectProperty()
<END>
<QUE>
pythonic way to sort a SortedDict
<ANS>
sorted_dict.keyOrder = [key[1] for key in sorted((v['priority'],k) for k,v in sorted_dict.items())]
<END>
<QUE>
Python: Getting static properties via a property name
<ANS>
getattr(My,name)
<END>
<QUE>
Fast way to remove a few items from a list/queue
<ANS>
somelist = [x for x in somelist if not determine(x)]
<END>
<QUE>
Receiving 16-bit integers in Python
<ANS>
import struct
# read 2 bytes from hardware as a string
s = hardware.readbytes(2)
# h means signed short
# < means "little-endian, standard size (16 bit)"
# > means "big-endian, standard size (16 bit)"
value = struct.unpack("<h", s) # hardware returns little-endian
value = struct.unpack(">h", s) # hardware returns big-endian
<END>
<QUE>
how to calculate the height of a BST in python
<ANS>
def height(bst):
    if isempty(bst):
        return 0
    else:
        return 1 + max(height(bst.left), height(bst.right))
<END>
<QUE>
How to accumulate a count in directed graph in Python
<ANS>
# x = root node
def acyc(graph,x=0):
    node = graph[x]

    if len(node) == 0:
        return {x:1}

    # call self on children
    count_map = {}
    for i in node:
        count_map.update(acyc(graph,i))
    count_map[x] = sum([node[i]*count_map[i] for i in node])

    return count_map
<END>
<QUE>
How to save Qt graphic scene items in file and open it again?
<ANS>
scene = QGraphicsScene();
scene.addEllipse( 100, 100, 50, 50 )
scene.addRect( 200, 12, 120, 50 )
scene.addLine( 50, 70, 100, 400 )

for item in scene.items():
    if item.type() == QGraphicsEllipseItem().type():
        print "Ellipse",  item.rect()
    elif item.type() == QGraphicsRectItem().type():
        print "Rectangle",  item.rect()
    elif item.type() == QGraphicsLineItem().type():
        print "Line", item.line().p1(), item.line().p2()
<END>
<QUE>
Accessing objects with OneToOne relationship to a model in Django
<ANS>
User.objects.exclude(teacher=None)
<END>
<QUE>
How can scrapy crawl more urls?
<ANS>
sites = hxs.select('//ul/li')
items = []

for site in sites:
    item = Website()
    # this extracts a list, so i guess .extract()[0] is expected
    item['name'] = site.select('a/text()').extract() 
    # '//a[...]' maybe you expect that this gets the links within the `site`, but it actually get the links from the entire page; you should use './/a[...]'.
    # And, again, this returns a list, not a single url.
    item['url'] = site.select('//a[contains(@href, "http")]/@href').extract()
<END>
<QUE>
Peewee model to JSON
<ANS>
class MyModel(peewee.Model):

  def __str__(self):
    r = {}
    for k in self._data.keys():
      try:
         r[k] = str(getattr(self, k))
      except:
         r[k] = json.dumps(getattr(self, k))
    return str(r)


class User(MyModel):
    email = CharField()
    status = CharField(default="enabled")
    firstname = CharField()
    lastname = CharField()
    class Meta:
        database = db
<END>
<QUE>
Compiling a Python binding on Linux
<ANS>
python-dev
<END>
<QUE>
Python Epoch Fail with 2-digit year
<ANS>
dt = datetime.datetime.strptime(dateVariable, "%b-%y")
if dt > datetime.now():
    dt = dt - datetime.timedelta(years=100)
<END>
<QUE>
Selenium + Python - how to get the response from the site after uploading an image
<ANS>
ages = driver.execute_script("function get_ages() { arr=[]; $('#faces .tooltip-inner div').each(function () { arr.push($(this).text()); }); return arr;}; return get_ages()")
<END>
<QUE>
Retrieving the Return Value of a Stackless Python Tasklet Bound Function?
<ANS>
def RunFunctionAndGetResult(chan, func, *args, **kwargs):
      chan.send(func(*args, **kwargs))
<END>
<QUE>
Create loglog plot of histogram data in xy style - python matplotlib
<ANS>
x = sorted( degree_frequencies.keys( ) )
y = [ degree_frequencies[ k ] for k in x ]
plt.loglog( x, y )
<END>
<QUE>
How to set the delivery time for new messages in mailbox?
<ANS>
msg.__setitem__('Date',
                time.strftime("%a, %d %b %Y %H:%M:%S %z",
                              entry_time))
<END>
<QUE>
Parse static HTML file with Python
<ANS>
url = "C:\Program Files\Whatever Folder\Whatever.html"
with open(url, 'r') as f:
    data = f.read()
<END>
<QUE>
Set default for transparency savefig
<ANS>
rcParams['savefig.transparent']
<END>
<QUE>
python unicode: How can I judge if a string needs to be decoded into utf-8?
<ANS>
if not isinstance(data, unicode):
    # It's not Unicode!
    data = data.decode('UTF8')
<END>
<QUE>
Cartesian product of more than two DataFrames that contain duplicate indices
<ANS>
import pandas as pd
from StringIO import StringIO

data = \
'user,time,event
\
a,1,x
\
a,2,y
\
a,3,z
\
b,1,x
\
b,2,x
\
b,3,z
\
b,4,z
\
c,1,y
\
c,2,y
\
c,3,z
\
d,1,z
'

df = pd.read_csv(StringIO(data), index_col='user')
dfs = [d[['time']].rename(columns={'time': k}) for k, d in df.groupby('event')]
dfm = dfs[0]
for d in dfs[1:]:
    dfm = pd.merge(dfm, d, left_index=True, right_index=True, how='outer')
<END>
<QUE>
Can a python list hold a multi-dimentional array as its element?
<ANS>
def Minimum_Close(shade_corrected_image, size):

    uint32_shade_corrected_image = pymorph.to_int32(shade_corrected_image)

    angles = np.arange(12) * 15

    def pymorph_op(angle):
        struct_element = pymorph.seline(size, angle)
        return pymorph.close(uint32_shade_corrected_image, struct_element)

    image_close = np.dstack(pymorph_op(a) for a in angles)

    min_close_image = np.min(image_close, axis=-1) - shade_corrected_image

    return min_close_image
<END>
<QUE>
How to show multiple windows simultaneously in simpleCV after cropping image in four segments
<ANS>
from SimpleCV import *
crops = ((0,0,320,240),(320,0,320,240),(0,240,320,240),(320,240,320,240))
cam=VirtualCamera('vd.mpg','video')
while True:
    imgs=[]
    img=cam.getImage()
    for crop in crops:
        imgs.append(img.crop(crop[0],crop[1],crop[2],crop[3]))
    row1=imgs[0].sideBySide(imgs[1])
    row2=imgs[2].sideBySide(imgs[3])
    outputimg=row1.sideBySide(row2, 'top')
    outputimg.show()
<END>
<QUE>
Python: Make new tuple by attaching info from existing list
<ANS>
result = tuple(itertools.izip_longest(l, (x[1] for x in f for y in range(x[0])), fillvalue='None'))
<END>
<QUE>
Parsing JSON string/object in Python
<ANS>
for key, value in jdata.iteritems():
    print key, value
<END>
<QUE>
Using Javascript to change all textareas in an html page
<ANS>
document.getElementsByTagName("textarea")
<END>
<QUE>
Is there a way to turn binary into a QR code programmatically?
<ANS>
from PIL import Image, ImageDraw
im = Image.new('1', (width, height), color=1) # Background white
draw = ImageDraw.Draw(im)
draw.point((x, y), 0) # Draw black
<END>
<QUE>
Is there a way to add a conditional string in Python's advance string formatting "foo {}".format(bar)?
<ANS>
print "You can {} that step!".format('check' if checked else 'uncheck')
<END>
<QUE>
How to sort a numpy array based on the values in a specific row?
<ANS>
import numpy as np

c = np.array([5,2,8,2,4])    
a = np.array([[ 0,  1,  2,  3,  4],
              [ 5,  6,  7,  8,  9],
              [10, 11, 12, 13, 14],
              [15, 16, 17, 18, 19],
              [20, 21, 22, 23, 24]])

i = np.argsort(c)
a = a[:,i]
<END>
<QUE>
Variable assignment in function
<ANS>
import random
health = 20
enemy_health = 20

def punch():
    global enemy_health
    x = random.randint(1,3)
    enemy_health -= x
    if x == 3:
        print"your hit was very effective enemy lost 3 hp"
    if x == 2:
        print "Your punch was effective enemy lost 2 hp"
    if x == 1:
        print "enemy lost 1 point"
    print "Enemy Health is", enemy_health

def kick():
    global enemy_health
    x = random.randint(1,5)
    enemy_health -= x
    if x > 3:
        print "your kick was very effective enemy lost %d hp" % x
    if x > 1 < 3:
        print "Your kick was effective enemy lost %d hp" % x
    if x == 1:
        print "enemy lost 1 point"
    print "Enemy Health is", enemy_health

def attackChoice(c):
    if c == "punch":
        punch()
    if c == "kick":
        kick()

while True:
    c = raw_input("Choice Attack
Kick Or Punch: ")
    attackChoice(c)
<END>
<QUE>
calling a function from another class file
<ANS>
from logisticRegression import LogisticRegression

my_instance = LogisticRegression()
my_instance.negative_log_likelihood()
<END>
<QUE>
matplotlib, including more than one defined variable on legend label
<ANS>
plt.plot(x, y, label='y = %.2f x + %.2f' %(A, B))
<END>
<QUE>
How to achieve one to one mapping between elements just like dictionaries but allowing duplicates also?
<ANS>
from xlrd import open_workbook


data = []

def get_data():
    filename = "Demo.xlsx"
    exl_file = open_workbook(filename)
    sheet = exl_file.sheet_by_index(0)
    for row_index in range(1,4):
            col_a_data = sheet.cell(row_index,0).value
            col_b_data = sheet.cell(row_index,1).value
            data.append({col_a_data:col_b_data});

get_data()

print data
<END>
<QUE>
Python: How to create a new list based on existing list without certain objects
<ANS>
a = ['house', 'bikeCT', 'car', 'bike', 'houseCT']
b = [x for x in a if 'CT' not in x]
<END>
<QUE>
Matrix of array creation in numpy
<ANS>
import numpy as np
A = np.ndarray(shape=(2,2), dtype=float, order='F')
B = np.ndarray(shape=(2,2), dtype=float, order='F')
C = np.ndarray(shape=(2,2), dtype=float, order='F')
D = np.ndarray(shape=(2,2), dtype=float, order='F')

T = np.array([[A,B],[C,D]])
<END>
<QUE>
Assigning Values to Variables from List in Python 2.7
<ANS>
header_row = 0

# build list of lists that represents row values in worksheet,
# including column names from header row
rows = [worksheet.row_values(row) for row in range(worksheet.nrows)]

# extract list of column names to use for insert statement, values to be inserted remain
columns = rows.pop(header_row)

cnxn = pyodbc.connect(r"DRIVER={SQL Server};SERVER=XXXXXXXXXX\DEV_CON1;DATABASE=GGG;UID=AAA_dbo;PWD=XXXXXXXXX;")
cursor = cnxn.cursor()

# list of column names used to build SQL statement, including parameter placeholders (?)
populate_db = "insert into tblSnap_TEST ({}) values ({})".format(', '.join(columns),
                                                                 ', '.join('?' * len(columns)))

# insert is executed once for each sequence of parameter values
cursor.executemany(populate_db, rows)
cnxn.commit()
cnxn.close()
<END>
<QUE>
QPushButton Default State
<ANS>
button.setDefault(True)
<END>
<QUE>
Invalid literal for int() in Django model
<ANS>
user_playlists = Everything.objects.filter(profile__username=friend).values('playlist').distinct()
<END>
<QUE>
Content of text file as a input to python script
<ANS>
with open ("data.txt", "r") as myfile:
    data=myfile.read().replace('
', '')
<END>
<QUE>
Python, checking if a module has a certain function
<ANS>
try:
    from mymodule import myfunction
except ImportError:
    def myfunction():
        print("broken")
<END>
<QUE>
How to iteratively sha256 in Python using native lib (ie hashlib), using byte[] as input and not hex string
<ANS>
import hashlib

# hash 1 time...
digest = hashlib.sha256(raw).digest()

# then hash 64k-1 times
for x in range(0, 64000-1):
  digest = hashlib.sha256(digest).digest()
print digest.encode("hex")
<END>
<QUE>
copying a 24x24 image into a 28x28 array of zeros
<ANS>
blank_image = np.zeros((28,28,3), uint8)
<END>
<QUE>
How to create a nodes every time i go through the loop in python
<ANS>
import xml.etree.ElementTree as ET

doc    = ET.parse("users.xml")
root = doc.getroot() #Returns the root element for this tree.
root_new  = ET.Element("person") 
for child in root:
    name                = child.attrib['name']
    password             = child.attrib['password']

    user  = ET.SubElement(root_new, "user") # create subelement in cycle! 
    user.set("username",name)               # username variable is not declared
    user.set("password",password)

tree = ET.ElementTree(root_new)
tree.write("new.xml")

import sys
tree.write(sys.stdout)
<END>
<QUE>
Howto bin series of float values into histogram in Python?
<ANS>
#!/usr/bin/env python
import numpy as np

a = np.fromfile(open('file', 'r'), sep='
')
# [ 0.     0.005  0.124  0.     0.004  0.     0.111  0.112]

# You can set arbitrary bin edges:
bins = [0, 0.150]
hist, bin_edges = np.histogram(a, bins=bins)
# hist: [8]
# bin_edges: [ 0.    0.15]

# Or, if bin is an integer, you can set the number of bins:
bins = 4
hist, bin_edges = np.histogram(a, bins=bins)
# hist: [5 0 0 3]
# bin_edges: [ 0.     0.031  0.062  0.093  0.124]
<END>
<QUE>
Access video data without spawning a subprocess in python
<ANS>
WSGIApplicationGroup %{GLOBAL}
<END>
<QUE>
adding a **kwarg to a class
<ANS>
if kwargs.has_key('bases_queryset'):
    bases_queryset = kwargs['bases_queryset']
    del kwargs['bases_queryset']
<END>
<QUE>
How to scrape specific text from a webpage in Python using BeautifulSoup?
<ANS>
import requests
from bs4 import BeautifulSoup

r = requests.get('https://www.xoom.com/india/send-money')
data = r.text
soup = BeautifulSoup(data)

for rate in soup.find_all('em'):
    print rate.text
<END>
<QUE>
Django: how to hide/overwrite default label with ModelForm?
<ANS>
# I prefer to importing django.forms
# but import the fields etc individually
# if you prefer 
from django import forms

class BooklogForm(forms.ModelForm):
    book_comment = forms.CharField(widget=forms.Textarea, label='')

    class Meta: 
        model = Booklog
        exclude = ('Author',)
<END>
<QUE>
How to use return value of a function as condition of while that returns tuple in python
<ANS>
s = True
while s:
    s, i = capture.read()
    if s:
        do_some_stuff(i)
<END>
<QUE>
Pythonic enumeration of while loop
<ANS>
x = 0
for c in itertools.takewhile(lambda c: x < 10, itertools.count()):
    x = int(raw_input())
    print x, c
<END>
<QUE>
Turning off ggplot2 grids in rpy2
<ANS>
from rpy2.robjects.lib.ggplot2 import ggplot, \
                               aes_string, \
                               geom_histogram, \
                               element_blank, \
                               theme_bw, \
                               theme
from rpy2.robjects import r

nogrid_x_theme = theme(**{'panel.grid.major.x': element_blank(),
                         'panel.grid.minor.x': element_blank()})
iris = r('iris')
p = ggplot(iris) + geom_histogram(aes_string(x = 'Sepal.Width'))
p += theme_bw() + nogrid_x_theme
p.plot()
<END>
<QUE>
Python add item to the tuple
<ANS>
a = ('2',)
b = 'z'
new = a + (b,)
<END>
<QUE>
Print data in a dictionary nested in a dictionary, in a nice way?
<ANS>
from pprint import pprint
pprint(dict(dictionary))
<END>
<QUE>
How to remove duplicates in a python list
<ANS>
set(lis)
<END>
<QUE>
Reverse tree building (with an odd number of children)
<ANS>
def proclevel(levels):
    if levels > 0:
        generator = proclevel(levels - 1)
        temp = None
        for firsthash, secondhash in generator:
            if not temp: temp = hashofthem(firsthash, secondhash)
            else: yield temp, hashofthem(firsthash, secondhash); temp = None
        #If odd number of packets
        if temp: yield temp, None
    else:
        temp = None
        for chunk in chunks:
            if not temp: temp = hash(chunk)
            else: yield temp, hash(chunk); temp = None
        if temp: yield temp, None
<END>
<QUE>
How to convert numpy time series stock data with day resolution to month or week resolution
<ANS>
import numpy as np
share_prices  = np.array([100,102,104,106,104, 109, 110])
median_price = np.median(share_prices)
104.0
average_price = np.average(share_prices)
105.0
min_price = np.min(share_prices)
100
max_price = np.max(share_prices)
110
<END>
<QUE>
Bar Graph with Legend without Colors
<ANS>
import matplotlib.pyplot as plt

data_dic={1:'1:Text 1',2:'2:Text 2',3:'3:Text 3',4:'4:Text 4'}
ax1 = plt.subplot(111)
xval = [1,2,3,4]
yval = [ 22.,  13.,  21.,   6.]
for j in range(len(xval)):
    ax1.bar(xval[j], yval[j], width=0.8, bottom=0.0, align='center', color='k')
    ax1.plot(1,1,label = data_dic[xval[j]],marker = '',ls ='') #plot with not marker or line
ax1.set_xticks(xval)
ax1.legend(frameon = False)
plt.show()
<END>
<QUE>
how to split a string in groups of multiple variables
<ANS>
s = 'abcdefgh12345678abcdefgh'
import re

a, b, c = re.findall("\w{8}", s)
print(a, b, c)

a, b, c = (s[i:i + 8] for i in range(0, len(s), 8))
print(a, b, c)
<END>
<QUE>
Putting message into azure queue
<ANS>
from azure.storage import QueueService
import base64
queue_service = QueueService(account_name, account_key)
queue_service.put_message('taskqueue', base64.b64encode('Hello world!'))
<END>
<QUE>
How to print contents of mongoengine's QuerySet
<ANS>
qs = qs.filter(reduce(operator.or_, or_queries)).as_pymongo()
print qs
<END>
<QUE>
Set default region in boto config
<ANS>
[DynamoDB]
region = us-west-2
validate_checksums = True
<END>
<QUE>
How can I add integers recursively in Python?
<ANS>
def sumD(num):
    if num == 0: return 0
    return (num % 10) + sumD(num // 10)
<END>
<QUE>
how to make ndb model declarations order independent
<ANS>
class A(ndb.Model):
   some_property = ndb.KeyProperty('B' , required=True)

class B(ndb.Model):
   some_other_property = ndb.KeyProperty(A , required=True)
<END>
<QUE>
Using Amazon's API to find a product's UPC (Python)
<ANS>
node = api.item_lookup('B001OXUIIG', ResponseGroup='Medium')
<END>
<QUE>
Python database WITHOUT using Django (for Heroku)
<ANS>
from pymongo import Connection
connection = Connection()

# Get your DB
db = connection.my_database

# Get your collection
cars = db.cars

# Create some objects
import datetime
car = {"brand": "Ford",
       "model": "Mustang",
       "date": datetime.datetime.utcnow()}

# Insert it
cars.insert(car)
<END>
<QUE>
Numbapro cuda python defining array in thread register in gpu
<ANS>
numba.cuda.local.array(shape, type)
<END>
<QUE>
Sum of subsequences recursion in Python
<ANS>
ans = 0
count = 0
for item in raw_input():
    temp = (ans * 10 + (count + 1)*(int(item)))%1000000007
    ans = (ans + temp)%1000000007
    count = (count*2 + 1)%1000000007

print ans
<END>
<QUE>
scaling each element in a tuple in python
<ANS>
x =  (((-300, 49.3878), (-300, 400), (-220.045, 400), (-169.193, 204.22), (-300, 49.3878)))

y = tuple(tuple(i / 100.0 for i in inner) for inner in x)

# You can remove the tuple and instead use [] if you don't mind it being a list.
y_list = [[i / 100.0 for i in inner] for inner in x]
<END>
<QUE>
cutting a string at spaces python
<ANS>
"hello world my name is".split(' ')
<END>
<QUE>
PJSIP/PJSUA - Python - Check registration status
<ANS>
acc_cfg.ka_interval =30;
<END>
<QUE>
Generate Cartesian product of each word from file1 x file2
<ANS>
with open('list1.txt', 'r') as l1, open('list2.txt', 'r') as l2, open('list3.txt', 'w') as l3:
    for left_part in l1:
        for right_part in l2:
            l3.write('%s%s
' % (left_part.replace("
",""), right_part.replace("
","")))
        l2.seek(0)
<END>
<QUE>
How do I return the earliest letter in the alphabet from a choice of letters?
<ANS>
def mostWantedLetter(text):
    # count how many times each letter occurs
    mwl = {}
    for ch in text.lower():
        if ch.isalpha():
            mwl[ch] = mwl.get(ch, 0) + 1

    # ordered descending by count (highest first) then ascending by letter
    least = min(mwl.items(), key=lambda x:(-x[1], x[0]))

    # return the letter from the least item
    return least[0]
<END>
<QUE>
How to re.search html source with regex in python
<ANS>
link = 'https://graph.facebook.com/123'
result = browser.open(link)
data = json.load(result)
print data['id']
<END>
<QUE>
Testing multiple browsers with a single test definition in Selenium
<ANS>
class TestFirefox:
    browser = '*firefox'

    def pytest_funcarg__selenium(self, request):
        sel = selenium('10.3.10.154', 5555, self.browser, 'http://10.3.10.180:8000')
        sel.start()
        return sel 

class TestChrome(TestFirefox):
    browser = '*opera'
<END>
<QUE>
Filling a list with regular expression results python
<ANS>
line = '"RUn.exe O" "" "   2ne, " two! . " "'
import re
regex = re.compile(r'"[^"]*"|[^\s]+')
matches = [el.strip('"') for el in regex.findall(line)]

print '
'.join(matches)
<END>
<QUE>
getting whole file in response instead of actual response
<ANS>
ScriptAlias /cgi-bin/ "/path/to/cgi-bin/folder"
<END>
<QUE>
Selenium webdriver python, cannot find by value?
<ANS>
browser.find_element_by_xpath("//input[@value='1']")
<END>
<QUE>
determining numerator and denominator in a relatively complex mathematical expression using python
<ANS>
py2tex.Interpret
<END>
<QUE>
How do you get the text from an HTML 'datacell' using BeautifulSoup
<ANS>
headerRows[0][10].contents[0].find('b').string
<END>
<QUE>
How to store number from string in python
<ANS>
m = re.search("\d+", string)
print m.group(0)
<END>
<QUE>
How to add custom fields to InlineFormsets?
<ANS>
model = models.Progress
<END>
<QUE>
Count vowels in a string
<ANS>
def numVowels(a):
    vowels = "aeuioAEUIO"
    result = 0
    for char in a:
        if char in vowels:
            result = result + 1
    return result

numVowels("ajdgejfifhou")
<END>
<QUE>
how to generate numbers given their prime factors, but with unknow exponents?
<ANS>
# http://www.cs.utexas.edu/users/EWD/ewd07xx/EWD792.PDF

n = 15
bases = [2, 3, 5]

nums = [1] * n
candidates_indexes = [0 for _ in bases]
candidates = [base for base in bases]

for i in range(1, n):
    nextn = min(candidates)
    nums[i] = nextn

    for index, val in enumerate(candidates):
        if val == nextn:
            candidates_indexes[index] += 1
            candidates[index] = bases[index] * nums[candidates_indexes[index]]

print(nums)
<END>
<QUE>
In python - Find the maximum date in a nested dictionary
<ANS>
max(my_dict.items(), key=lambda x: x[1]['last_event'])[0]
<END>
<QUE>
Simulate mouse click/Detect color under cursor in Python
<ANS>
def grab_main_color(self, rect, max_colors=256):
    """returns a tuple with the RGB value of the most present color in the given rect"""
    img=ImageGrab.grab(rect)
    colors = img.getcolors(max_colors)
    max_occurence, most_present = 0, 0
    try:
        for c in colors:
            if c[0] > max_occurence:
                (max_occurence, most_present) = c
        return most_present
    except TypeError:
        raise Exception("Too many colors in the given rect")
<END>
<QUE>
How is TF calculated in Sklearn
<ANS>
for i in xrange(countMat.toarray().__len__()):
    row = countMat.toarray()[i]
    row / np.sqrt(np.sum(row**2))
<END>
<QUE>
Injecting variable before/during import
<ANS>
__import__('blah', dict(jim=1, **globals()))
<END>
<QUE>
Adding columns from joined table
<ANS>
models.Detail.query.join(details_usages).add_columns(details_usages.c.is_required).all()
<END>
<QUE>
Python: Perform an operation on each dictionary value
<ANS>
# A nice one liner (edited to remove square brackets)   
my_dict.update((x, y*2) for x, y in my_dict.items())
<END>
<QUE>
Displaying pics in Labels with a for Statement using tkinter, can it be done?
<ANS>
pics = [None, None, None, None]   #  This will be the list that will hold a reference to each of your PhotoImages.

def randp(*args):
    w = ['wb.gif', 'wc.gif', 'wd.gif', 'we.gif']
    random.shuffle(w)
    am = 1

    for k, i in enumerate(w):    # Enumerate provides an index for the pics list.
        pic = PhotoImage(file=i)
        pics[k] = pic      # Keep a reference to the PhotoImage in the list, so your PhotoImage does not get garbage-collected.
        ttk.Label(mainframe, image=pic).grid(column=am, row=0, sticky=(W, E))
        am+=1
<END>
<QUE>
Azure Machine Learning - python
<ANS>
def formData(dataset):

    listOfTransaction = list()
    listOfTransaction = dataset.values.tolist()
    cleanedList = []
    for transaction in listOfTransaction:
        itemList = []
        for item in transaction:
            if False ==  pd.isnull(item):
                itemList.append(item)
        cleanedList.append(itemList)

    return cleanedList

def formToPandas(result):
    return pd.DataFrame(result)
<END>
<QUE>
How can I find the intersection of two Django querysets?
<ANS>
class FeatureManager(models.Manager):

    @staticmethod
    def _test_cases_eq_0( qs ):
       return qs.annotate( num_test_cases=models.Count('testcase_set') ).filter(num_test_cases=0)

    @staticmethod
    def _standardized_gt_0( qs ):
        return qs.annotate( standardised=Count('documentation_set__standard') ).filter(standardised__gt=0)

    def without_test_cases(self):
        return self._test_cases_eq_0( self.get_query_set() )

    def standardised(self):
        return self._standardized_gt_0( self.get_query_set() )

    def intersection( self ):
        return self._test_cases_eq_0( self._standardized_gt_0( self.get_query_set() ) )
<END>
<QUE>
How to protect text when doing INSERT using MySQLdb
<ANS>
cursor.execute (
    "INSERT INTO text (text_key, language_id, text) VALUES (%s, %s, %s)",
    (key, language_id, text))
<END>
<QUE>
PyQt, QComboBox with QStringModel cause QObject::startTimer: QTimer can only be used with threads started with QThread
<ANS>
combo.setModel(QStringListModel(string_list, combo))
<END>
<QUE>
How can I do an interpolating reindex in pandas using datetime indices?
<ANS>
from pandas import Series
import datetime

datetime_index = [datetime.datetime(2010, 1, 5), datetime.datetime(2010, 1, 10)]
s1 = Series([5, 15], [datetime.datetime(2010, 1, 5), datetime.datetime(2010, 1, 15)])
s2 = Series(None, datetime_index)
s3 = s1.combine_first(s2)
s3.interpolate()
<END>
<QUE>
Creating constant from sort in Z3 Python API
<ANS>
A = DeclareSort('A')
a = Const('a', A)
<END>
<QUE>
Check one string with dictionary-keys python?
<ANS>
import re

def check_system(ope_sys):
    system_keywords = {
        "macos": ["macos"],
        "linux": ["linux", "with"],
        "windows": ["windows"],
    }
    for system, keywords in system_keywords.items():
        if all(re.search(kw, ope_sys) for kw in keywords):
            return system
    return None

check_system("linux-2.6.32-312-ec2-x86_64-with-debian-6.0.8")
<END>
<QUE>
Storing the query result in a list variable in plpython function
<ANS>
sum([x['laius'] for x in Xarray])
<END>
<QUE>
How to substract 2 columns of unaligned data with Python/Pandas?
<ANS>
import pandas as pd
import pylab as pl

df1 = pd.DataFrame([[0.0,0.0],[1.0,1.0],[2.0,2.0],[4.0,3.0]],columns=['x','y1'])
df2 = pd.DataFrame([[0.0,0.0],[0.5,1.9],[1.5,2.0],[3.0,3.0],[4.0,4.0]],columns=['x','y2'])
x = np.union1d(df1.x, df2.x)
y1 = np.interp(x, df1.x, df1.y1)
y2 = np.interp(x, df2.x, df2.y2)
pl.plot(x, y1, "-o")
pl.plot(x, y2, "-o")
<END>
<QUE>
One to many and many to one access in Django
<ANS>
m1.model2_set.all()
<END>
<QUE>
How can I keep multiple gevent servers serving forever?
<ANS>
from gevent import monkey
def main():
    monkey.patch_thread()
# etc, etc
t = threading.Thread(target=bcastserver.serve_forever)
t.setDaemon(True)
t.start()
tradeserver.serve_forever()
<END>
<QUE>
Django: Check if a user is logged in before allowing them to register?
<ANS>
def get(self, request):
    if request.user.is_authenticated():
        # If a user is logged in, redirect them to a page informing them of such
        return render(request, 'users/already_logged_in.html')
    else:
        return super(RegisterView, self).get(request)
<END>
<QUE>
Python: using reuests library for multipart/form-data
<ANS>
from requests.packages.urllib3.filepost import encode_multipart_formdata

(content, header) = encode_multipart_formdata([('key', 'value')])
r = requests.post(url, data=content, headers={'Content-Type': header})
<END>
<QUE>
Getting quantiles from a beta distribution using python
<ANS>
from scipy.stats import beta
import numpy as np
a, b = 2.31, 0.627
x = np.linspace(beta.ppf(0.01, a, b), beta.ppf(0.99, a, b), 100)
distribution=beta.pdf(x, a, b)
def quantile(x,quantiles):
    xsorted = sorted(x)
    qvalues = [xsorted[int(q * len(xsorted))] for q in quantiles]
    return zip(quantiles,qvalues)
quantiles = quantile(distribution,[0.05,0.16,.5,.84, 0.95])
<END>
<QUE>
Python how to get the domain of a cookie
<ANS>
cookie['Cycle']['domain']    # lowercase domain !
<END>
<QUE>
Python- Connecting Lines with plot_date in Matplotlib
<ANS>
plot_data(x,y,'b-')
<END>
<QUE>
Tensorflow image reading & display
<ANS>
filename_queue = tf.train.string_input_producer(['/Users/HANEL/Desktop/tf.png']) #  list of files to read

reader = tf.WholeFileReader()
key, value = reader.read(filename_queue)

my_img = tf.image.decode_png(value) # use png or jpg decoder based on your files.

init_op = tf.initialize_all_variables()
with tf.Session() as sess:
  sess.run(init_op)

# Start populating the filename queue.

coord = tf.train.Coordinator()
threads = tf.train.start_queue_runners(coord=coord)

for i in range(1): #length of your filename list
  image = my_img.eval() #here is your image Tensor :) 

print(image.shape)
Image.show(Image.fromarray(np.asarray(image)))

coord.request_stop()
coord.join(threads)
<END>
<QUE>
Is there a limit to the number of values that a python set can contain?
<ANS>
s = set(xrange(10000000))
<END>
<QUE>
How to reformat a timestamp in Python
<ANS>
#!/usr/bin/env python

from datetime import datetime

with open("stuff.txt", "r") as f:
    for line in f:
        # Remove initial or ending whitespace (like line endings)
        line = line.strip()

        # Split the timestamp and value
        raw_timestamp, value = line.split(",")

        # Make the timestamp an actual datetime object
        timestamp = datetime.strptime(raw_timestamp, "%Y%m%d")

        # Print the timestamp separated by -'s. Replace - with / or whatever.
        print("%s,%s" % (timestamp.strftime("%Y-%m-%d"), value))
<END>
<QUE>
Python how to filter string based on substring
<ANS>
import csv

def loadCSVfile (path):
    exclusions = ['@', '%', '
', '[@' , '[%']
    csvData = open(path, 'r')
    spamreader = csv.reader(csvData, delimiter=',', quotechar='|')      

    lines = [line for line in spamreader if ( line and line[0][0:1] not in exclusions and line[0][0:2] not in exclusions )]

    for line in lines:
        print(line)


loadCSVfile('C:/Users/anaim/Desktop/Data Mining/OneR/iris.arff')
<END>
<QUE>
List of objects with a unique attribute
<ANS>
d = {}
for obj in object_list:
    d[obj.thing] = obj
desired_list = d.values()
<END>
<QUE>
Python read from command line arguments or stdin
<ANS>
import fileinput
for line in fileinput.input():
  process(line)
<END>
<QUE>
python xlrd convert xlsx to csv
<ANS>
for rownum in xrange(sheet.nrows):
      wr.writerow([unicode(val).encode('utf8') for val in sheet.row_values(rownum)])
<END>
<QUE>
How to "merge" two Python twisted applications?
<ANS>
from twisted.internet import protocol, reactor

class Echo(protocol.Protocol):
    def dataReceived(self, data):
        self.transport.write(data)

class EchoFactory(protocol.Factory):
    def buildProtocol(self, addr):
        return Echo()

class Echo2(protocol.Protocol):
    def dataReceived(self, data):
        self.transport.write(data+" From 2")

class EchoFactory2(protocol.Factory):
    def buildProtocol(self, addr):
        return Echo2()

reactor.listenTCP(1234, EchoFactory())

reactor.listenTCP(1235, EchoFactory2())
reactor.run()
<END>
<QUE>
migrating an existing app via south
<ANS>
class ToDo(models.Model):

    title = models.CharField(null=True, blank=True, max_length=200)
    status = models.IntegerField(choices=TASK_STATUS, null=True, blank=True)
    assigned_to = models.ManyToManyField(OrgStaff, null=True, blank=True, related_name='assigned_to')
    assigned_by = models.ManyToManyField(OrgStaff, null=True, blank=True, related_name='assigned_by')
    assigned_time = models.DateTimeField(auto_now_add=True)
    completed_time = models.DateTimeField(null=True, blank=True)
<END>
<QUE>
Rebalancing after failover a couchbase node
<ANS>
payload = {'ejectedNodes': 'ns_1@10.90.150.21', 'knownNodes': 'ns_1@10.90.150.21,ns_1@10.90.150.22,ns_1@10.90.150.23'}
requests.post(url, data=payload, auth=(un, pwd))
<END>
<QUE>
How do I properly construct an UPDATE statement that references an attached database table?
<ANS>
c.execute('''UPDATE table_b SET number = 1 WHERE table_b.word IN (SELECT string FROM table_a)''')
<END>
<QUE>
python xlrd string match
<ANS>
for i in range(sheet.nrows):
     row = sheet.row_values(i)
     for j in range(len(row)):
          if row[j] == search_value:
                return i,j
return None
<END>
<QUE>
Monitoring a Facebook page
<ANS>
#!/usr/bin/python
# -*- coding: utf-8 -*-

from time import strftime, gmtime
import csv
from urllib2 import urlopen
from simplejson import loads
c = csv.writer(open('FB_Monitoring.csv', "a"), delimiter=';')
First = ['Name', 'Likes', 'Talking About']
c.writerow(First)

source = open("FBPAGES.txt", "r")
FacebookPages = source.readlines()


for Page in FacebookPages:
    Page = Page.replace('facebook.com','graph.facebook.com')
    content = loads(urlopen(Page).read())
    liste = [content['name'],content['likes'],content['talking_about_count']]
    c.writerow(liste)
<END>
<QUE>
How to use admin.TabularInline in a ModelForm
<ANS>
class CombinedFormSet(BaseInlineFormSet):
    # Validate formset data here
    def clean(self):
        super(CombinedFormSet, self).clean()
        for form in self.forms:
            if not hasattr(form, 'cleaned_data'):
                continue

            data = self.cleaned_data
            valid = False
            for i in data:
                if i != {}:
                    if i['is_correct']:
                        valid = True

            if not valid:
                #TODO: translate admin?
                raise forms.ValidationError("A Question must have an answer.")

            # Always return the cleaned data, whether you have changed it or
            # not.
            return data


class ChoiceInline(admin.TabularInline):
    model = Choice
    extra = 4
    formset = CombinedFormSet
<END>
<QUE>
Selenium send keys to log in box not working
<ANS>
#Click Sign In Button
driver.find_element_by_xpath(".//*[@id='bs-example-navbar-collapse-1']/ul/li[3]/a").click()
#Type Username
driver.find_element_by_xpath("(//*[@id='Username'])[3]").send_keys("Username")
#Type Password
driver.find_element_by_xpath("(//*[@id='Password'])[2]").send_keys("Password")
#Click Submit button
driver.find_element_by_xpath("(//div[@class='login_section']//a[@class='dk-btn dk-btn-success'])[2]").click()
<END>
<QUE>
Python BeautifulSoup - get onmouseover attibutes
<ANS>
tag['onmouseover']
<END>
<QUE>
Displaying stackOverflow API JSON data using Flask
<ANS>
from flask import Flask,jsonify
import requests
import simplejson 
import json

app = Flask(__name__)

@app.route("/")
def home():
    uri = "https://api.stackexchange.com/2.0/users?   order=desc&sort=reputation&inname=fuchida&site=stackoverflow"
    try:
        uResponse = requests.get(uri)
    except requests.ConnectionError:
       return "Connection Error"  
    Jresponse = uResponse.text
    data = json.loads(Jresponse)

    displayName = data['items'][0]['display_name']# <-- The display name
    reputation = data['items'][0]['reputation']# <-- The reputation

    return Jresponse

if __name__ == "__main__":
    app.run(debug = True)
<END>
<QUE>
Even numbers in Python
<ANS>
range(0, 10, 2)
<END>
<QUE>
How can I store multiple strings into a list from regex?
<ANS>
re.finditer
<END>
<QUE>
Python: How can you iterate over a list that is nested inside a while-loop?
<ANS>
shape = input("Please enter your choice of shape? ")    

nthTime = ["second","third","fourth","fifth","sixth"]
undesired_shapes = ["octagon","heptagon","hexagon"]

indx = 0

while shape.lower() not in undesired_shapes:
    print("Please select a shape from the list!")
    shape = input("Pick a shape, for the " + nthTime[indx] + " time! ")
    indx += 1
    if indx >= len(nthTime):
        print 'Giving up !!'
        break
<END>
<QUE>
Defining a set of random numbers
<ANS>
mu = MatrixSymbol('mu', n, 1)
Sigma = MatrixSymbol('Sigma', n, n)

X = Normal('X', mu, sigma)  # A multivariate normal distribution
<END>
<QUE>
Assiging a value to wtform field
<ANS>
self.glb_data_list = {'disp_type': 2}

disp_type = fields.SelectField(u'Preset Mapping',
                                      choices=[(0, u'Custom'),
                                      (1, u'Loopback'),
                                      (2, u'All_East'),
                                      (3, u'All_Wast'),
                                      (4, u'16_East_16_West'),
                                      (5, u'8_East_8_West'),
                                      (6, u'STM1_East')],
                                    coerce=int, default=0) 

disp_type.data = self.glb_data_list['dist_type']
<END>
<QUE>
How to replace .. in a string in python
<ANS>
import re 

s = "haha..hehe.hoho"
#pattern = '\.\.' #If you want to remove when there's 2 dots
pattern = '\.{2,}' #If you want to remove when there's at least 2 dots
s = re.sub(pattern, ' ', s)
<END>
<QUE>
Can any one explain how can i pass arg or kwargs from redirect to another view?
<ANS>
# before redirect
request.session['users_list'] = users_list

# in sent view
users_list = request.session.get('users_list', None)
<END>
<QUE>
With python: intervals at x:00 repeat
<ANS>
time.time
<END>
<QUE>
How to exactly solve quadratic equations with large integer coefficients (over integers)?
<ANS>
a, b, c = 2, 616872928410303123, -1850618785230909388
x = Symbol('x')
int(max(solve(a*x**2 + b*x + c, x)))
<END>
<QUE>
separate text and numbers and convert to dataframe in python
<ANS>
from collections import defaultdict
# Use a default dict to make our life easier (we already know we are working with lists)
data = defaultdict(list)
# Get each item from each list, the below list-comprehension is efficient.
for item in [item for sublist in biglist for item in sublist if '=' in item]:
    key, value = item.split('=', 1)  # split the items on '=' but only once.
    data[key].append(value)  # add our new value to our dictionary. 

pd.DataFrame(data)  # tada!
<END>
<QUE>
How to get file descriptor for the port on which tcp client has been bound in twisted
<ANS>
class MyProtocol(protocol.Protocol):

    def connectionMade(self):
         print 'file descriptor is: ', self.transport.file.fileno()
<END>
<QUE>
How does a super method work in python in case of multiple inheritance?
<ANS>
class B(A):
    def test(self):
        return 'B->'+super(C, self).test()
<END>
<QUE>
Python - How to raise a value error of multiple items in list
<ANS>
if len(l1) != 8 or len([n for n in l1 if n not in (1, 0)]) != 0:
  raise ValueError('Invalid entries or incorrect length')
<END>
<QUE>
How to hide the taskbar on pygame
<ANS>
screen = pygame.display.set_mode((640, 320), pygame.NOFRAME)
<END>
<QUE>
How can I remove duplicate letters in strings?
<ANS>
re.sub(r'(\w)\1+', r'\1', 'yeeeesssss')  // yes
<END>
<QUE>
KDE in python with different mu, sigma / mapping a function to an array
<ANS>
import numpy as np

def solve_gaussian(val,data_array,sigma_array):
    return sigma_array * np.exp(- (val - data_array) * (val - data_array) / (2 * sigma_array * sigma_array))

def solve_kde(xlist,data_array,sigma_array):
    kde_array = np.array([])
    for xx in xlist:
        single_kde = solve_gaussian(xx,data_array,sigma_array)
        if np.ndim(kde_array) == 3:
            kde_array = np.concatenate((kde_array,single_kde[np.newaxis,:,:]),axis=0)
        else:
            kde_array = np.dstack(single_kde)
    return kde_array

xlist = np.linspace(0,1,101) #Adjust as needed
kde_array = solve_kde(xlist,data_array,sigma_array)
kde_vector = np.sum(np.sum(kde_array,axis=2),axis=1)
mode_guess = xlist[np.argmax(kde_vector)]
<END>
<QUE>
While trying to set up Django on Windows: AttributeError: 'Settings' object has no attribute 'DATABASES'
<ANS>
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': 'mydatabase'
    }
}
<END>
<QUE>
Replacing a segmented part of an image with it's unsegmented part
<ANS>
import cv2

# Load in your original image
originalImg = cv2.imread('Inu8B.jpg',0)

# Load in your mask
mask = cv2.imread('2XAwj.jpg', 0)

# Get rid of quantization artifacts
mask[mask < 128] = 0
mask[mask > 128] = 1

# Create output image
outputImg = originalImg * (mask == 0)
outputImg[mask == 1] = 255

# Display image
cv2.imshow('Output Image', outputImg)
cv2.waitKey(0)
cv2.destroyAllWindows()
<END>
<QUE>
How to put a Tkinter window on top of the others
<ANS>
from Tkinter import *

root = Tk() 
root.title("app")
screen_width = root.winfo_screenwidth()
screen_height = root.winfo_screenheight()
root.geometry("550x250+%d+%d" % (screen_width/2-275, screen_height/2-125))
root.configure(background='gold')
root.lift ()

mainloop()
<END>
<QUE>
How to get to the key name of a referenced entity property from an entity instance without a datastore read in google app engine?
<ANS>
Player.team.get_value_for_datastore(player)
<END>
<QUE>
Google App Engine with local Django 1.1 gets Intermittent Failures
<ANS>
#setup django environment
from django.core.management import setup_environ
import settings
setup_envion(settings)
<END>
<QUE>
what's wrong with this image on a wx.boxsizer
<ANS>
self.hFooterImagePanel = wx.Panel(self.hPanel, wx.ID_ANY)
self.hFooterImage = wx.StaticBitmap(self.hFooterImagePanel)
self.hFooterImage.SetBitmap(wx.Bitmap("img/tick.png"))
self.hFooterStatusLabel = wx.StaticText(self.hPanel, label = 'Ready')
self.hFooterBox = wx.BoxSizer(wx.HORIZONTAL)
self.hFooterBox.Add(self.hFooterImagePanel, 0, wx.ALL | wx.ALIGN_LEFT, 5)
self.hFooterBox.Add(self.hFooterStatusLabel, 0, wx.ALL | wx.ALIGN_LEFT, 5)
<END>
<QUE>
Check the attributes for a SQLAlchemy Column?
<ANS>
col.type
<END>
<QUE>
Setting values in grouped data frame in pandas
<ANS>
test.loc[g_test.get_group((1, 5, 13, 8)).index, 'monthly_sales'] = \
           g_train.get_group((1, 5, 13, 8)).monthly_sales.mean()
<END>
<QUE>
How can i pass configuration variable values into the pyodbc connect command?
<ANS>
self.db = pyodbc.connect('driver={%s};server=%s;database=%s;uid=%s;pwd=%s' % ( driver, server, db, user, password ) )
<END>
<QUE>
Merging multiple dictionaries in python
<ANS>
dico_list=[{"item1": {"item2": "300"}}, {"item1": {"item3": {"item4": "400"}}}, {"item1": {"item3": {"item6": "16"}}}, {"item1": {"item7": "aaa"}}, {"item1": {"item8": "bbb"}}, {"item1": {"item9": {"item10" : "2.2"}}}, {"item1": {"item9": {"item11" : "xxx"}}}]

def merge(merge_dico,dico_list):
    for dico in dico_list:
        for key,value in dico.items():
            if type(value)==type(dict()):
                merge_dico.setdefault(key,dict())
                merge(merge_dico[key],[value])
            else:
                merge_dico[key]=value
    return merge_dico

print(merge(dict(),dico_list))
#{'item1': {'item7': 'aaa', 'item9': {'item11': 'xxx', 'item10': '2.2'}, 'item8': 'bbb', 'item3': {'item4': '400', 'item6': '16'}, 'item2': '300'}}
<END>
<QUE>
Plot a Wave files Audio Visually In Python
<ANS>
wave_file = wave.open('mono.wav', 'r')
data_size = wave_file.getnframes()
sample_rate = wave_file.getframerate()


while True:

    waveData = wave_file.readframes(10000)
    signal = np.fromstring(waveData , 'Int16')
    Time=np.linspace(0, len(signal), num=len(signal))

    plt.figure()
    fig = plt.figure(figsize=(xinch,yinch) , frameon=False)
    #fig = plt.figure(frameon=False)
    ax = fig.add_axes([0, 0, 1, 1])
    #ax.axis('off')

    plt.axis('off')
    line = plt.plot(Time,signal , 'w')
    plt.setp(line, linewidth=10)

    plt.savefig('signal' + str(x) + '.png')
    plt.close

    x+= 1
    if  wave_file.tell() == data_size:
            break
<END>
<QUE>
Adding numbers from a file - Python
<ANS>
import re
file1 = open('so.txt')

numlist = list()
for line in file1:
    line_list = re.findall(r'[0-9.]+',line)
    if len(line_list) > 0:
        numlist.extend(line_list)

print numlist
total = 0
for sum in numlist:
    total += int(sum)
print (total)
<END>
<QUE>
Counting the number of lines that special characters appear in a txt file from user input (Python 2.7)
<ANS>
x = re.findall(yo, line)
if x:
    count += 1 # multiple non-overlapping occurences on one line

print "what.txt had {0} lines that matched {1}".format(count, yo)
<END>
<QUE>
Error with detecting Keypresses in pygame
<ANS>
pygame.K_LEFT
<END>
<QUE>
Bypass Python IOError while disconnected from network?
<ANS>
import time
import errno

retry_this = [errno.ETIMEOUT,]

currtokenurl = "http://www.example.com/heady"

while True:
    try:
        f = urllib.urlopen(currtokenurl)
        break
    except IOError, e:
        if e.errno in retry_this:
            time.sleep(10)
        else:
            raise
currtoken = f.read()
<END>
<QUE>
how to set priority in python
<ANS>
os.nice()
<END>
<QUE>
How to code item interaction in text adventure
<ANS>
lamp = 0
rooms = ["hallEnt", "hallMid", "snowRoom", "giantNature", "strangeWall", "riverBank"]
room = rooms[0]

if lamp == 1:
        connected_room = ["hallMid", "snowRoom"]
        print "You are currently inside the " + room + "."
        print "You can see " + connected_room[0] + " and " + connected_room[1] + " in the distance."
else:
        connected_room = ["snowRoom"]
        print "You are currently inside the " + room + "."
        print "You can see the " + connected_room[0] +  " in the distance."
<END>
<QUE>
All Files in Dir & Sub-Dir
<ANS>
import os

searchdir = r'C:\root_dir' # traversal starts in this directory (the root) 

for root, dirs, files in os.walk(searchdir):
    for name in files:
        (base, ext) = os.path.splitext(name) # split base and extension
        print base, ext
<END>
<QUE>
When table name already exist I want to show a message but also ask again for a new table name
<ANS>
def createTable():
    ok = False
    while not ok:
        try:
            verifyTable = test.get_table(raw_input("Please enter the name for table: "))
            ok = True
        except BotoServerError:
            print "Table already exist"
<END>
<QUE>
Merge two python pandas data frames of different length but keep all rows in output data frame
<ANS>
df1.merge(df2,how='left', left_on='Column1', right_on='ColumnA')
<END>
<QUE>
Sync Data between SAP and DataModels in Django
<ANS>
created_on = models.DateTimeField('Created On', auto_now_add=True)
last_modified = models.DateTimeField('Last Modified', auto_now=True)
<END>
<QUE>
read in specific values from a file and store them in a list python
<ANS>
with open(filename) as f:
    lines = [l.split() for l in f.readlines()]
lines = [map(float, l[:3]) for l in lines if len(l)>=3]
<END>
<QUE>
Choosing items from a list on a percent basis
<ANS>
from itertools import accumulate
from random import uniform

class ProbItem(object):
    def __init__(self, value, prob):
        self.value = value
        self.prob = prob

def pick(items):
    accum = list(accumulate(item.prob for item in items))
    rand = uniform(0, accum[-1])
    for i, prob in enumerate(accum):
        if rand < prob:
            return items.pop(i).value

drivers = [
    ProbItem("John Doe", 23.7),
    ProbItem("Bill Smith", 17),
    ProbItem("Trent Baxter", 12.43),
    ProbItem("Ray Olson", 9.99),
]

while (drivers):
    print(pick(drivers))
<END>
<QUE>
python user permissions
<ANS>
os.fchown()
<END>
<QUE>
Is there a description of how __cmp__ works for dict objects in Python 2?
<ANS>
def smallest_diff_key(A, B):
    """return the smallest key adiff in A such that A[adiff] != B[bdiff]"""
    diff_keys = [k for k in A if A.get(k) != B.get(k)]
    return min(diff_keys)

def dict_cmp(A, B):
    if len(A) != len(B):
        return cmp(len(A), len(B))
    adiff = smallest_diff_key(A, B)
    bdiff = smallest_diff_key(B, A)
    if adiff != bdiff:
        return cmp(adiff, bdiff)
    return cmp(A[adiff], b[bdiff])
<END>
<QUE>
python multiprocessing, manager initiates process spawn loop
<ANS>
import multiprocessing
import logging

def g1(results, x):
    y = x*x
    print "processing: y = %s" % y
    results.append(y)

def f1():
    logger = multiprocessing.log_to_stderr()
    logger.setLevel(multiprocessing.SUBDEBUG)
    manager = multiprocessing.Manager()
    results = manager.list()
    pool = multiprocessing.Pool(processes=4)
    for (i) in range(0,15):
        pool.apply_async(g1, [results, i])
    pool.close()
    pool.join()


def main():
    f1()

if __name__ == "__main__":
    main()
<END>
<QUE>
Multiple rows from MySQL query saved in an array structure
<ANS>
self.lock_tables("read", ['nets_permissions as n', 'devices_permissions as d'])
usrs = self.db.query("SELECT n.user_id FROM nets_permissions as n \
                    left join devices_permissions as d \
                    on n.user_id = d.user_id \
                    where d.user_id is null \
                    and n.network_id=%s and n.perm<>3", netid)
self.unlock_tables()

for usr in usrs:
    self.lock_tables("write", ['devices_permissions'])
    self.db.execute("INSERT devices_permissions SET \
                     user_id=%s, network_id=%s, device_id=%s, perm=%s",\
                     usr['user_id'], netid, sensid, perm)
    self.unlock_tables();
<END>
<QUE>
How to import a new Vertex Instruction (Line) in the Kivy Language?
<ANS>
from kivy.factory import Factory
Factory.register('Line', module='myfile')
<END>
<QUE>
Create 'rememeber me' feature in defult django login view
<ANS>
url(r'^login/$',
        auth_views.login,
        {'template_name': 'your/login/template.html', 'form':YourExtendedForm},
        name='auth_login'),
<END>
<QUE>
changing size of a plot in a subplot figure
<ANS>
import matplotlib.pyplot as plt
import numpy as np

x,y = np.random.rand(2,10)
img = np.random.rand(10,10)

fig = plt.figure()
ax1 = fig.add_subplot(221)
im = ax1.imshow(img,extent=[0,1,0,1])

plt.colorbar(im)
ax2 = fig.add_subplot(222)
im = ax2.imshow(img,extent=[0,1,0,1])
plt.colorbar(im)

ax3 = fig.add_subplot(223)
ax3.plot(x,y)
ax3.axis([0,1,0,1])

ax4 = fig.add_subplot(224)
im = ax4.imshow(img,extent=[0,1,0,1])
plt.colorbar(im)

pos4 = ax4.get_position().bounds
pos1 = ax1.get_position().bounds
# set the x limits (left and right) to first axes limits
# set the y limits (bottom and top) to the last axes limits
newpos = [pos1[0],pos4[1],pos1[2],pos4[3]]

ax3.set_position(newpos)

plt.show()
<END>
<QUE>
Speed up creation of random data
<ANS>
import numpy
import numpy.random

f = open('2014-07-17-1M_testdata_1Mx500.csv', 'w', 50000000)

for i in range(1000):
    m = numpy.random.random_integers(0, 1000000, (1000, 500))
    numpy.savetxt(f, m, delimiter=',')

f.close()
<END>
<QUE>
Conditional search returning tuples of arrays for 1D arrays?
<ANS>
import numpy as np
my_array = np.random.randint(1,10, (4, 5))
pos = np.where(my_array > 5)
my_array[pos]
<END>
<QUE>
Data frame column with conditional data - Python
<ANS>
df["group"][df["pc"] < 0.66] = 2
df["group"][df["pc"] < 0.33] = 1
<END>
<QUE>
Random choice with negative weights
<ANS>
weights = [10, -2, 7]
offset = min(weights)
positiveweights = [z - offset + 1 for z in weights]
<END>
<QUE>
Allow user to read only first variable of the return of function in python
<ANS>
import inspect, dis

def expecting():
    """Return how many values the caller is expecting"""
    f = inspect.currentframe()
    f = f.f_back.f_back
    c = f.f_code
    i = f.f_lasti
    bytecode = c.co_code
    instruction = ord(bytecode[i + 3])
    if instruction == dis.opmap['UNPACK_SEQUENCE']:
        howmany = ord(bytecode[i + 4])
        return howmany
    elif instruction == dis.opmap['POP_TOP']:
        return 0
    return 1


def f(n):
    howmany = expecting()
    a = n * n
    b = a + 1
    if howmany == 1:
        return b
    else:
        return b, a

a = f(1)
print a # this prints 2

a, b = f(1)
print a # this prints 2 
print b # this prints 1
<END>
<QUE>
Django: change pdf file name using pisa reportlab
<ANS>
if not pdf.err:
    response = HttpResponse(result.getvalue(), mimetype='application/pdf')
    response['Content-Disposition'] = 'attachment; filename=Client_Summary.pdf'
    return response
<END>
<QUE>
read part text from a large file  as a page  by python
<ANS>
import os
def getpage(fname, pageindex, pagesize=100, ahead=20):
    """read page roughly by byte size"""
    size = os.path.getsize(fname)
    pagenum = size/pagesize
    f=open(fname,'r')
    pos=pageindex * pagesize
    #ahead some line
    pos -= ahead
    if pos <0: 
        pos = 0
    f.seek(pos)
    f.readline()
    txt = f.read(pagesize)
    txt += f.readline()    
    return txt
<END>
<QUE>
Getting some response from a python socket server
<ANS>
# Server code
import xmlrpclib
from SimpleXMLRPCServer import SimpleXMLRPCServer

def is_even(n):
    return n%2 == 0

server = SimpleXMLRPCServer(("localhost", 8000))
print "Listening on port 8000..."
server.register_function(is_even, "is_even")
server.serve_forever()


# Client code
import xmlrpclib

proxy = xmlrpclib.ServerProxy("http://localhost:8000/")
print "3 is even: %s" % str(proxy.is_even(3))
print "100 is even: %s" % str(proxy.is_even(100))
<END>
<QUE>
Python Conditional Password Program
<ANS>
sum(x.isupper() for x in password)
<END>
<QUE>
Plot lower triangle in a seaborn Pairgrid
<ANS>
import numpy as np
import seaborn as sns
iris = sns.load_dataset("iris")
g = sns.pairplot(iris)
for i, j in zip(*np.triu_indices_from(g.axes, 1)):
    g.axes[i, j].set_visible(False)
<END>
<QUE>
Python multiple if statements in a single if statement
<ANS>
if x != 5 and y < 4:
  statement
<END>
<QUE>
How to handle web and mobile requests in django view
<ANS>
class YourView(generics.TypOfView):
    renderer_classes = (TemplateHTMLRenderer, JSONRenderer,)
    template_name = 'path_to_template.html'
<END>
<QUE>
Convert User Input into a List name
<ANS>
d = {}

for _ in range(TotalLists):   # The same loop you have now
    ListName = input("whatever...")
    d[ListName] = []
<END>
<QUE>
Python generate thumbnail with transparancy and fixed width
<ANS>
#!/usr/bin/python

from PIL import Image

margin=20
X=150
Y=150
in_path="flower.jpg"
out_path="thumbnail.png"

#creates a transparent background, RGBA mode, and size 150 by 150.
background = Image.new('RGBA', (X,Y))


# opening an image and converting to RGBA:
img = Image.open(in_path).convert('RGBA')

# Resizing the image

img = img.resize((X, Y-margin*2), Image.ANTIALIAS)

# Putting thumbnail on background

background.paste(img, (0, margin), img)
background.save(out_path)
<END>
<QUE>
How to start TLS on an active connection in python?
<ANS>
import ssl
import base64
from socket import *


cc = socket(AF_INET, SOCK_STREAM)
cc.connect(("smtp.gmail.com", 587))
# cc.read(..)

cc.send('helo tester.com\r
')
cc.send('starttls\r
')
# cc.read(..) If the server responds ok to starttls
#             tls negotiation needs to happen and all
#             communication is then over the SSL socket 

scc = ssl.wrap_socket(cc, ssl_version=ssl.PROTOCOL_SSLv23)
scc.send('auth login\r
')
# scc.read(..)

scc.send(base64.b64encode('username')+'\r
')
scc.send(base64.b64encode('password')+'\r
')

# css.send(
#  mail from:
#  rcpt to:
#  data
#  etc
<END>
<QUE>
ANSI Escape Sequences Fail in Cygwin
<ANS>
ANSI.SYS
<END>
<QUE>
How can I convert a python urandom to a string?
<ANS>
from base64 import b64encode
from os import urandom

random_bytes = urandom(64)
token = b64encode(random_bytes).decode('utf-8')
<END>
<QUE>
Want to display the latest note entry only in Django
<ANS>
try:
    last_note = client.note_set.latest("datetime")
except DoesNotExist:
    last_note = None
<END>
<QUE>
Python - Bind all events from single object
<ANS>
def callback(event):
    print(event.char, event.keysym, event.keycode)

root = Tk()
root.bind('<Key>', callback)
root.mainloop()
<END>
<QUE>
takeOrdered key error with Pyspark in Python 3
<ANS>
sc.parallelize([("a", 10), ("c", 5), ("b", 7)]).takeOrdered(3, key=lambda kv: -kv[1])
<END>
<QUE>
Python Run Two Codes At Once
<ANS>
pid = os.fork()
if pid == 0:
    print("I am the child!")
else:
    print("I am the parent!")
<END>
<QUE>
How to sort a string of email addresses to a list
<ANS>
sorted_list = sorted(unsorted.split(), key=lambda x: x.split('@')[1])

print(sorted_list)
#['sge@grg.lt', 'ggrge@yahoo.com']
<END>
<QUE>
How to check if folder exist inside a directory if not create it using python
<ANS>
from ftplib import FTP 

ftp = FTP('ftp.hostname.com')
ftp.login('login', 'passwrd')
ftp.cwd('www') # change into 'www' directory

if 'foo' in ftp.nlst() : #check if 'foo' exist inside 'www'
    print 'YES'
    ftp.cwd('foo')  # change into "foo" directory
    ftp.retrlines('LIST') #list directory contents

else : 
    print 'NO'
    ftp.mkd('foo') #Create a new directory called foo on the server.
    ftp.cwd('foo') # change into 'foo' directory
    ftp.retrlines('LIST') #list subdirectory contents

ftp.close() #close connection
<END>
<QUE>
Resolving and saving hostnames in parallel with Python
<ANS>
from __future__ import with_statement
import sys
import gevent
from gevent import socket
from gevent.pool import Pool

N = 1000
# limit ourselves to max 10 simultaneous outstanding requests
pool = Pool(10)
finished = 0


def job(url):
    global finished
    try:
        try:
            ip = socket.gethostbyname(url)
            print ('%s = %s' % (url, ip))
        except socket.gaierror:
            ex = sys.exc_info()[1]
            print ('%s failed with %s' % (url, ex))
    finally:
        finished += 1

with gevent.Timeout(2, False):
    for x in xrange(10, 10 + N):
        pool.spawn(job, '%s.com' % x)
    pool.join()

print ('finished within 2 seconds: %s/%s' % (finished, N))
<END>
<QUE>
How to print the number of columns and lines in a csv file?
<ANS>
for row in rd:
    list = []
    list.append(row)
    print list
    for items in row:
        pass # or whatever other logic you want, if you do not want to do anything remove this loop
    print len(row)
<END>
<QUE>
parsing huge csv file into mysql [python]
<ANS>
# faster lookup on users
cur.execute ("select ref from users")
users = set(row[0] for row in cur.fetchall())

with open("your/file.CSV") as f:
    r = reader(f)
    for row in r:
        if row[0] in users:
            do_something_with(row)
<END>
<QUE>
How can I identify two different connections to sockets using python?
<ANS>
import select

connections = []

while True:
    rlist,wlist,xlist = select.select(connections + [s],[],[])
    for i in rlist:
        if i == s:
            conn,addr = s.accept()
            connections.append(conn)
            continue
        data = i.recv(1024)
        for q in connections:
            if q != i and q != s:
                q.send(data)
<END>
<QUE>
Python If-elif statement
<ANS>
options = {
16: '[{A:16} [{B:9} [{*G:25}]] [{C:12} [{*H:28}]] [{D:-14} [{*I:2}]] [{E:-9} [{*J:7}]] [{F:9} [{*K:6}]] ]',
9: '[{A:9} [{B:16} [{*G:25}]] [{C:12} [{*H:21}]] [{D:-14} [{*I:-5}]] [{E:-9} [{*J:0}]] [{F:-10} [{*K:-1}]] ]',
12: '[{A:12} [{B:16} [{*G:28}]] [{C:9} [{*H:21}]] [{D:-14} [{*I:-2}]] [{E:-9} [{*J:3}]] [{F:-10} [{*K:2}]] ]',
-14: '[{A:-14} [{B:16} [{*G:2}]] [{C:9} [{*H:-5}]] [{D:12} [{*I:-2}]] [{E:-9} [{*J:-23}]] [{F:-10} [{*K:-24}]] ]',
9: '[{A:-9} [{B:16} [{*G:7}]] [{C:9} [{*H:0}]] [{D:12} [{*I:3}]] [{E:-14} [{*J:-23}]] [{F:-10} [{*K:-19}]] ]',
-10: '[{A:-10} [{B:16} [{*G:6}]] [{C:9} [{*H:1}]] [{D:12} [{*I:2}]] [{E:-14} [{*J:-24}]] [{F:-9} [{*K:-19}]] ]'
}


humanint = int(input("What number will you place your piece on?"))
mmtree = options.get(humanint)
<END>
<QUE>
Count of a given item in a particular position across sublists in a list
<ANS>
a = [[(1, 2), (2, 1)], [(1, 2), (1, 2)], [(2, 3), (2, 2)]]
item = (1,2)
count = [sublist[0] for sublist in a].count(item)
<END>
<QUE>
Relative import of submodule
<ANS>
from ..http import client
<END>
<QUE>
How to check if datetime is older than 20 seconds
<ANS>
import datetime
lastplus = q.get()
if lastplus.date < datetime.datetime.now()-datetime.timedelta(seconds=20):
    print "Go"
<END>
<QUE>
groupby after concat, column missing in the group mean
<ANS>
df.d1 = df.d1.astype(np.float64) 
# do the same for d2..etc..
<END>
<QUE>
Two-dimensional interpolation/smoothing of unevenly sampled angular values
<ANS>
x, y = np.random.uniform(-1, 1, size=(2, 1000))
z = np.arctan2(y, x) % (2*np.pi)

# convert from polar --> cartesian
u, v = np.cos(z), np.sin(z)

# interpolate x and y components separately
rbf_u = interpolate.Rbf(x, y, u, function='linear', smooth=0.1)
rbf_v = interpolate.Rbf(x, y, v, function='linear', smooth=0.1)
xi, yi = np.mgrid[-1:1:100j, -1:1:100j].reshape(2, -1)
ui = rbf_u(xi, yi)
vi = rbf_v(xi, yi)

# convert from cartesian --> polar
zi = np.arctan2(ui, vi) % (2*np.pi)
<END>
<QUE>
How to obtain the real number of file descriptors used by this process with psutil?
<ANS>
open_files()
<END>
<QUE>
What is the most efficient way to remove a group of indices from a list of numbers in Python 2.7?
<ANS>
def remove_indices(numbers, indices):
    result = []
    i=0
    for j in sorted(indices):
        result += numbers[i:j]
        i = j+1
    result += numbers[i:]
    return result
<END>
<QUE>
Python - Shortest way to format a string to an url
<ANS>
import re
re.sub(r'!|\?|,', '', text)
<END>
<QUE>
How to create grouped dropdown list in django admin?
<ANS>
items=(
    ("Animals", (("1","Monkey"), ("2","Turtle"))),
    ("Aliens", (("3","Zim"), ("4","Tak"))),
)

select=forms.ChoiceField(label="Selection", choices=items)
<END>
<QUE>
Python - Multiple frames with Grid manager
<ANS>
from tkinter import *

class Application(Frame):
    def __init__(self, master=None):
        Frame.__init__(self, master)
        self.grid()
        self.master.title("Grid Manager")

        for r in range(6):
            self.master.rowconfigure(r, weight=1)    
        for c in range(5):
            self.master.columnconfigure(c, weight=1)
            Button(master, text="Button {0}".format(c)).grid(row=6,column=c,sticky=E+W)

        Frame1 = Frame(master, bg="red")
        Frame1.grid(row = 0, column = 0, rowspan = 3, columnspan = 2, sticky = W+E+N+S) 
        Frame2 = Frame(master, bg="blue")
        Frame2.grid(row = 3, column = 0, rowspan = 3, columnspan = 2, sticky = W+E+N+S)
        Frame3 = Frame(master, bg="green")
        Frame3.grid(row = 0, column = 2, rowspan = 6, columnspan = 3, sticky = W+E+N+S)

root = Tk()
app = Application(master=root)
app.mainloop()
<END>
<QUE>
Lookup Table for BlackJack Deck of Cards
<ANS>
self.unused_cards.append({'face': face, 'suit': suit, 'rank': self.values[face]})
<END>
<QUE>
How would I make this query in Django?
<ANS>
Comments.objects.filter(content__author=request.user)
<END>
<QUE>
Is there a way in Django to make it so that when a form with initial text is clicked the text disappears?
<ANS>
Username =forms.CharField(max_length=35,
                          required=True, 
                          widget=forms.TextInput(attrs={'placeholder': 'Username'}))
<END>
<QUE>
Converting a binary sequence read from a file into a fixed point number
<ANS>
struct.unpack()
<END>
<QUE>
Python - ElementTree Library - Search through tree by attribute value
<ANS>
tree.find( './/*[@cookie_diameter="12"]' )
<END>
<QUE>
Triangle in python
<ANS>
def main():

    a = float(input('Enter the length of the first side: '))
    b = float(input('Enter the length of the second side: '))
    c = float(input('Enter the length of the third side: '))



    print('The perimeter of the triangle is: ', format(per(a, b, c),',.1f'))

    print('The area of the triangle is: ', format(area_per(a, b, c),',.1f'))

def area_per(a, b, c):

    p = per(a,b,c)
    s = p / 2
    area = (s*(s-a)*(s-b)*(s-c)) ** 0.5
    return area

def per(a,b,c):
    return a+b+c  

main()
<END>
<QUE>
Non-recursive means of printing a list in Python
<ANS>
stack = [(my_list, -1)]
while stack:
    item, level = stack.pop()

    if isinstance(item, list):
        for i in reversed(item):
            stack.append((i, level+1))
    else:
        print "\t" * level, item
<END>
<QUE>
Cannot decode or read website URL for counting a string
<ANS>
relevantcompile = re.compile("MAIN FISHERMAN(.*)SECONDARY FISHERMAN", re.DOTALL)
relevantsearch = re.search(relevantcompile, html)
relevantgrouped = relevantsearch.group()
relevantcount = relevantgrouped.count("SEA BASS")
print(relevantcount)
<END>
<QUE>
Converting xls file into csv/txt file in Python
<ANS>
import xlrd
import csv

def xls_to_csv():

    x =  xlrd.open_workbook('data.xls')
    x1 = x.sheet_by_name('Sheet1')
    csvfile = open('data.csv', 'wb')
    writecsv = csv.writer(csvfile, quoting=csv.QUOTE_ALL)

    for rownum in xrange(sh.nrows):
        writecsv.writerow(x1.row_values(rownum))

    csvfile.close()
<END>
<QUE>
wxpython pass variable to callback event. Lambda land
<ANS>
import wx

class ClassName(wx.Frame):
    def __init__(self, parent, title):
        wx.Frame.__init__(self, parent, title=title)
        self.panel = wx.Panel(self)
        self.PhotoMaxSize = 240
        self.createWidgets()
        self.Show()

    def createWidgets(self):
        self.palletNumberText = wx.TextCtrl(self.panel, size=(80,-1))

        self.palletNumberText.Bind(wx.EVT_TEXT, self.onPalletNumberText)


    def onPalletNumberText(self, event):
        '''
        save palletNumbertTxt Value when text is entered
        '''
        print self.palletNumberText.GetValue()
        print "This is a test"
        # Store Value

        return

#----------------------------------------------------------------------
if __name__ == "__main__":
    app = wx.App(False)
    frame = ClassName(None, "Test")
    app.MainLoop()
<END>
<QUE>
Pandas DataFrame from re.findall list
<ANS>
import os
import pandas as pd
import re

directory = "/Folder/on/Drive/"

docs = os.listdir(directory)
match=[]
for filename in docs:
    if filename.lower().endswith(".pdf"):
        match.extend(re.findall("\D{2}\d{10}", filename))
df = pd.DataFrame(match, columns=["Match"])
df.to_csv(directory + "match.csv", index=False, delimiter=",")
<END>
<QUE>
Writing console output(space seperated text) to seperate columns of excel sheet using Python
<ANS>
#!/usr/bin/env python
import subprocess
import xlwt
process=subprocess.Popen('Test_Project.exe',stdout=subprocess.PIPE)
out,err = process.communicate()
wb=xlwt.Workbook()
sheet=wb.add_sheet('python')
row = 0
for line in out.split('
'): 
    for i,wrd in enumerate(line.split()):    
        sheet.write(row,i,wrd)
    row=row+1 
wb.save('stdoutput.xls')
<END>
<QUE>
Python base 36 encoding
<ANS>
def base36encode(number, alphabet='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'):
    """Converts an integer to a base36 string."""
    if not isinstance(number, (int, long)):
        raise TypeError('number must be an integer')

    base36 = ''
    sign = ''

    if number < 0:
        sign = '-'
        number = -number

    if 0 <= number < len(alphabet):
        return sign + alphabet[number]

    while number != 0:
        number, i = divmod(number, len(alphabet))
        base36 = alphabet[i] + base36

    return sign + base36

def base36decode(number):
    return int(number, 36)

print base36encode(1412823931503067241)
print base36decode('AQF8AA0006EH')
<END>
<QUE>
Make a window transparent using Win32?
<ANS>
import win32gui
import win32con
import winxpgui
import win32api
import subprocess
import time

subprocess.Popen("notepad.exe", shell=True)
time.sleep(1)
hwnd = win32gui.FindWindow(None, "New file - metapad")  ## The caption of my empty notepad (MetaPad)

win32gui.SetWindowLong (hwnd, win32con.GWL_EXSTYLE, win32gui.GetWindowLong (hwnd, win32con.GWL_EXSTYLE ) | win32con.WS_EX_LAYERED )
winxpgui.SetLayeredWindowAttributes(hwnd, win32api.RGB(0,0,0), 180, win32con.LWA_ALPHA)
<END>
<QUE>
How do I make this maze?
<ANS>
import random
def init_maze():
    maze = [[]] * 9
    for counter in range(0, 9):
        maze[counter] = [-1] * 4
    return maze

def print_maze(maze):

    for column in range(0, 9):
        for row in range(0, 4):
            print maze[column][row],
        print ''

def set_cells(maze):
    for column in range(0, 9):
        for row in range(0, 4):
            maze[column][row] = random.randint(1,5)
    return maze

def change_room(room, direction):
    newRoom = 0
    if maze[room][direction] == -1:
        print "you have hit a wall"
    else:
        newRoom = maze[room][direction]
        print "You are now in room {0}".format(newRoom)
    room = newRoom

maze = init_maze()
print_maze(maze)
print 'Randomizing...'
maze = set_cells(maze)
print 'Done'
print_maze(maze)
<END>
<QUE>
calculate an integral in python
<ANS>
import sympy as sym


x, a, z = sym.symbols('x a z')
g = sym.integrate(x**(a-1) * sym.exp(-x), (x, z, sym.oo))
<END>
<QUE>
Connecting two points in a 3D scatter plot in Python and matplotlib
<ANS>
import matplotlib.pyplot
from mpl_toolkits.mplot3d import Axes3D

dates       = [20020514, 20020515, 20020516, 20020517, 20020520]
highs       = [1135, 1158, 1152, 1158, 1163]
lows        = [1257, 1253, 1259, 1264, 1252]
upperLimits = [1125.0, 1125.0, 1093.75, 1125.0, 1125.0]
lowerLimits = [1250.0, 1250.0, 1156.25, 1250.0, 1250.0]

zaxisvalues0= [0, 0, 0, 0, 0]
zaxisvalues1= [1, 1, 1, 1, 1]
zaxisvalues2= [2, 2, 2, 2, 2]

fig = matplotlib.pyplot.figure()
ax  = fig.add_subplot(111, projection = '3d')

ax.plot(dates, zaxisvalues1, lowerLimits, color = 'b')
ax.plot(dates, zaxisvalues2, upperLimits, color = 'r')

for i,j,k,h in zip(dates,zaxisvalues0,lows,highs):
    ax.plot([i,i],[j,j],[k,h],color = 'g')

ax.scatter(dates, zaxisvalues0, highs, color = 'g', marker = "o")
ax.scatter(dates, zaxisvalues0, lows, color = 'y', marker = "^")

matplotlib.pyplot.show()
<END>
<QUE>
Read and print a user selected file's contents
<ANS>
import os

def print_file_contents(file_path):
    assert os.path.exists(file_path), "File does not exist: {}".format(file_path)
    with open(file_path) as f:
        print (f.read())

user_input = raw_input("Enter a file path: ") # just input(...) in Python 3+
print_file_contents(user_input)
<END>
<QUE>
Python reading 2 strings from the same line
<ANS>
# out is your file
out.readline().split() # result is ['francesco', '10']
<END>
<QUE>
Python:How to change the position in the file from current file position?
<ANS>
fileobj = open("intro.txt","rb");
<END>
<QUE>
elegant way to convert date
<ANS>
form.cleaned_data['start_date']
<END>
<QUE>
Python - bulk promote variables to parent scope
<ANS>
globals().update(__import__(sys.argv[1]).__dict__)
<END>
<QUE>
Merge several lists with different length into a matrix
<ANS>
class Matrix:
    def __init__ (self, columns):
        self.columns = columns
        self.rows = []

    def push (self, row):
        nRow = []
        row = dict (row)
        for key in self.columns:
            nRow.append (row [key] if key in row else 0)
        self.rows.append (nRow)

    def result (self): return self.rows

    def colNames (self): return self.columns

word_list = ["a", "b","c","d", "e"]
input1 = [("b",20),("a",10)]
input2 = [("c",9)]
input3 = [("d",70)]

m = Matrix (word_list)
m.push (input1)
m.push (input2)
m.push (input3)
print (m.result () )
print (m.colNames () )
<END>
<QUE>
Get indices of array at certain value python
<ANS>
for y, row in enumerate(array):
    for x, val in enumerate(row):
        if val == 1:
            print x, y
<END>
<QUE>
Unpacking list of dictionary elements into pandas data frame
<ANS>
import xml.etree.ElementTree as ET
import pandas as pd
root=ET.fromstring('<dict><key>Track ID</key><integer>3636</integer></dict>')
#parsing into a dictionary
d={}
k=''
for t in root:
  if t.tag=='key':
    k=t.text
    continue
  d[k]=t.text
#transforming to a DataFrame
df=pd.DataFrame(d.items(),columns=['key','value'])
print (df)
<END>
<QUE>
Separating a string in Python
<ANS>
initial = "aSuffixbSuffixcSuffix"

final = initial.replace("Suffix", "Suffix ")
print(final)
<END>
<QUE>
How to dump a Python dictionary to JSON when keys are non-trivial objects?
<ANS>
import datetime, json

D = {datetime.datetime.now(): 'foo',
     datetime.datetime.now(): 'bar'}

new_D = {}

for k,v in D.iteritems():
  new_D[k.isoformat()] = v

json.dumps(new_D)
<END>
<QUE>
Count occurence adaptor in multiple fasta file
<ANS>
from Bio import SeqIO
fnames = ["file.fastq", "file1.fastq", "file2.fastq"]
for fname in fnames:
    adaptor = (rec for rec in \
                    SeqIO.parse(fname, "fastq") \
                    if rec.seq.startswith("TGA"))
    count = SeqIO.write(adaptor, "adaptor.fastq", "fastq")
    print("Saved %i adaptor in file %s" %(count, fname))
<END>
<QUE>
The best way to open two files
<ANS>
import android
import hashlib
import time
name = 0
droid = android.Android()

f_in = open('input.txt', 'r',) 
f_out = open('output.txt', 'w',) 
for line in f_in.readlines():
    hash_object = hashlib.md5 (line)
    f_out.write(hash_object.hexdigest())

f_in.close()
f_out.close()
<END>
<QUE>
Making dynamic list of option menus with invidual variable
<ANS>
from Tkinter import *

list1 = ['001 aaa', '002 bbb', '003 ccc']
status = ["On", "Off", "Unknown"]
master = Tk()

def create_option(r, x):
    x = x.split(" ", 2)
    variable = StringVar(master)
    Label(master, text=x[0], relief=RIDGE, anchor=W).grid(row=r, column=0, sticky=W+E)
    Label(master, text=x[1], relief=RIDGE, anchor=W).grid(row=r, column=1, sticky=W+E)
    OptionMenu(master, variable, *status).grid(row=r, column=2, sticky=W+E)
    return variable

variables = [create_option(r,x) for r, x in enumerate(list1)]
root.mainloop()
<END>
<QUE>
A good data model for finding a user's favorite stories
<ANS>
UserFavorite.get_by_name(user_id, parent=a_story)
<END>
<QUE>
Launch program with python on a specific core
<ANS>
import win32api, win32con, win32process

def setaffinity():
    pid  = win32api.GetCurrentProcessId()
    mask = 128 # core 7
    handle = win32api.OpenProcess(win32con.PROCESS_ALL_ACCESS, True, pid)
    win32process.SetProcessAffinityMask(handle, mask)
<END>
<QUE>
Confirmation that a postgres 'update' query worked in python
<ANS>
import sqlite3

def main():
    try:
        conn=sqlite3.connect(":memory:")
        cur = conn.cursor()
        cur.execute("create table master(id text, sub text)")
        cur.execute("insert into master(id, sub) values ('1', 'abc')")
        cur.execute("insert into master(id, sub) values ('2', 'def')")
        cur.execute("insert into master(id, sub) values ('3', 'ghi')")
        conn.commit()
    except:
        print("I am unable to connect to the database.")
        sys.exit()

    cur.execute("select id, sub from master where sub='abc'")
    print(cur.fetchall())
    cur.execute("UPDATE master SET sub = ('xyz') WHERE sub = 'abc'")
    conn.commit()
    cur.execute("select id, sub from master where sub='abc'")
    print(cur.fetchall())
    cur.execute("select id, sub from master where sub='xyz'")
    print(cur.fetchall())

if __name__=="__main__":
    main()
<END>
<QUE>
How to work with unicode in Python
<ANS>
s=unicodestring.replace(u'\xa0',u'')
<END>
<QUE>
BeautifulSoup XML Python extracting attributes from specific tags
<ANS>
import os
import sys

# Import Custom libraries
from BeautifulSoup import BeautifulStoneSoup

xml_str = \
'''
<?xml version="1.0" encoding="UTF-8"?>
    <first-tag>
      <second-tag>
        <events-data>
           <event-date>
                <date>20040913</date>
           </event-date>
        </events-data>

      <events-data>
         <event-date>
           <date>20040913</date>
         </event-date>
      </events-data> 
     </second-tag>
   </first-tag>
'''
soup = BeautifulStoneSoup(xml_str)

event_data_location = lambda x: x.name == "events-data"

events = soup.findAll(event_data_location)
if(events):
    # The last event-data
    print events[-1].text
<END>
<QUE>
More elegant computation of zscore of column differences in Pandas
<ANS>
df = pd.DataFrame(random_integers(0,100,(3,3)),columns=list('ABC'),index=list('abc'))


differ = reshape([sum(df[col2]-df[col]) for col2 in df for col in df], (3,3))
differ = pd.DataFrame(differ, columns=list('ABC'),index=list('ABC'))

differ
<END>
<QUE>
Nice way (for CPU) to wait for a free lock in Python
<ANS>
with myLock:
    doSomething()
<END>
<QUE>
Converting from Tuple to List to modify in Python
<ANS>
for currentrow in data : 
     description= currentrow[1].read()
     tupled_data= tuple([currentrow[0],description])


print tupled_data
<END>
<QUE>
openssl inside a chroot
<ANS>
# touch chroot/dev/random
# mount --bind /dev/random chroot/dev/random
<END>
<QUE>
Raise Http404 in url pattern
<ANS>
django.views.defaults.page_not_found
<END>
<QUE>
python pass variable to function parameter
<ANS>
def foo(idx):
    return lambda t: make_frame(t, idx)

for idx, path in enumerate(paths):
    clip2 = VideoClip(foo(idx), False, 10)
<END>
<QUE>
configuring django to send email via the microsoft live smtp server
<ANS>
# import settings
import os
os.environ.setdefault("DJANGO_SETTINGS_MODULE", "settings")

# send an email
from django.core.mail import EmailMessage
message = EmailMessage(subject="Peter Maffay", body="test", from_email="it@maffay.com",  to=["peter.maffay@gmail.com"])
message.send(fail_silently=False)
<END>
<QUE>
How to customize QListWidget backgound color (and not QListWidgetItem)
<ANS>
self.setStyleSheet( """QListWidget{
                    background: yellow;
                }
                """
)
<END>
<QUE>
SQLAlchemy: Modification of detached object
<ANS>
inst = session.query(Model).first()
session.expunge(inst)

make_transient(inst)
inst.id = None
session.add(inst)
session.flush()
print inst.id #New ID
<END>
<QUE>
getting data from nested span tags
<ANS>
import json
import urllib

url = 'http://api.openweathermap.org/data/2.5/weather?units=metric&q=' + str(b)
request = urllib.urlopen(url)
text = request.read()

data = json.loads(text)

print u"{}\xb0C from {} to {}\xb0C, wind {}m/s, clouds {}%, {} hpa".format(
    data['main']['temp'], data['main']['temp_min'], data['main']['temp_max'],
    data['wind']['speed'], data['clouds']['all'], data['main']['pressure'])
<END>
<QUE>
Retrieving array elements with an array of frequencies in NumPy
<ANS>
np.arange(5).repeat([1,0,3,2,0])
<END>
<QUE>
Return from inheritance
<ANS>
class A(object):
    test = []

    def coolThings(self):
        # do cool things here and print the new self.test
        print self.test
<END>
<QUE>
convert a text file into a list of variables
<ANS>
with open(input_path, 'r') as infile, open(output_path, 'w') as outfile:
  for line in infile:
    line_name, line_id = line.split(':')
    line_name = line_name.strip().replace(' ', '_')
    print('{} = ["{}"]'.format(line_name, line_id.strip()))
<END>
<QUE>
How to convert base64 string to image?
<ANS>
import base64
imgdata = base64.b64decode(imgstring)
filename = 'some_image.jpg'  # I assume you have a way of picking unique filenames
with open(filename, 'wb') as f:
    f.write(imgdata)
# f gets closed when you exit the with statement
# Now save the value of filename to your database
<END>
<QUE>
replacing items of tuples
<ANS>
my_dict = {}
for line in myfile_text.splitlines():
    my_dict[line.split()[0]] = line.split()[1]
result_list = []
list_tuples = ast.literal_eval(myfile_tuples)
for tup in list_tuples:
    temp_list = []
    for term in tup:
        temp_list.append(my_dict[term])
    result_list.append(tuple(temp_list))
print(result_list)
<END>
<QUE>
Accessing a URL in Windows machine from Docker Container
<ANS>
netstat -a -n -o
<END>
<QUE>
Using PostGIS on Python 3
<ANS>
import psycopg2
conn = psycopg2.connect(database='postgis', user='postgres')
curs = conn.cursor()

# Find the distance within 1 km of point-of-interest
poi = (-124.3, 53.2)  # longitude, latitude

# Table 'my_points' has a geography column 'geog'
curs.execute("""\
SELECT gid, ST_AsGeoJSON(geog), ST_Distance(geog, poi)
FROM my_points, (SELECT ST_MakePoint(%s, %s)::geography AS poi) AS f
WHERE ST_DWithin(geog, poi, 1000);""", poi)

for row in curs.fetchall():
    print(row)
<END>
<QUE>
How do I configure the ip address with CherryPy?
<ANS>
cherrypy.server.socket_host = 'www.machinename.com'
cherrypy.engine.start()
cherrypy.engine.block()
<END>
<QUE>
In Python 2.x, is there anyway to check if a string can be converted to an integer?
<ANS>
try:
    your_list.append(int(user_input))
except ValueError:
    pass
<END>
<QUE>
animated NetworkX Graph in TkCanvas: background color
<ANS>
import matplotlib
matplotlib.use('TkAgg')
from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg
import matplotlib.pyplot as plt
import Tkinter as Tk
import networkx as nx
from tkMessageBox import showinfo

root = Tk.Tk()
root.wm_title("Animated Graph embedded in TK")
root.wm_protocol('WM_DELETE_WINDOW', root.quit())

f = plt.figure(figsize=(5,4))
a = f.add_subplot(111)
plt.axis('off')

# the networkx part
G=nx.complete_graph(5)
pos=nx.circular_layout(G)
nx.draw_networkx(G,pos=pos,ax=a)
xlim=a.get_xlim()
ylim=a.get_ylim()



# a tk.DrawingArea
canvas = FigureCanvasTkAgg(f, master=root)
canvas.show()
canvas.get_tk_widget().pack(side=Tk.TOP, fill=Tk.BOTH, expand=1)

def next_graph():
    if G.order():
        a.cla()
        G.remove_node(G.nodes()[-1])
        nx.draw_networkx(G, pos, ax=a)
        a.set_xlim(xlim)
        a.set_ylim(ylim)
        plt.axis('off')
        canvas.draw()

b = Tk.Button(root, text="next",command=next_graph)
b.pack()

Tk.mainloop()
<END>
<QUE>
Searching for one of two complexish regex patterns in Python without creating submatches
<ANS>
re.findall("((?<=^\[)[^[\]]+(?=\]$)|^[INTEXT]{3}\. .+?$)", text)
<END>
<QUE>
How to check to see if a folder contains files using python 3
<ANS>
for dirpath, dirnames, files in os.walk('.'):
    if files:
        print dirpath, 'has files'
    if not files:
        print dirpath, 'is empty'
<END>
<QUE>
search a file using python
<ANS>
data = "this this this %this %this"

data = ' '.join(data.split('%')[::2])

data # => "this this this  this"
<END>
<QUE>
Mapping element-wise a NumPy array into an array of more dimensions
<ANS>
def complex_array_to_rgb(X, theme='dark', rmax=None):
    '''Takes an array of complex number and converts it to an array of [r, g, b],
    where phase gives hue and saturaton/value are given by the absolute value.
    Especially for use with imshow for complex plots.'''
    absmax = rmax or np.abs(X).max()
    Y = np.zeros(X.shape + (3,), dtype='float')
    Y[..., 0] = np.angle(X) / (2 * pi) % 1
    if theme == 'light':
        Y[..., 1] = np.clip(np.abs(X) / absmax, 0, 1)
        Y[..., 2] = 1
    elif theme == 'dark':
        Y[..., 1] = 1
        Y[..., 2] = np.clip(np.abs(X) / absmax, 0, 1)
    Y = matplotlib.colors.hsv_to_rgb(Y)
    return Y
<END>
<QUE>
Conditionally adding to dictionary without updating tuple value
<ANS>
key, value = item

if value[0] != "'" and value[-1] != "'":
    value = "'{0}'".format(value)

self.keyvalues[key] = value
<END>
<QUE>
how do you cacculate avg of a list
<ANS>
slopes=filter(None,slopes)
<END>
<QUE>
Cursor position changed in textview
<ANS>
from gi.repository import Gtk

class CursorSample(Gtk.Application):
    def __init__(self):
        Gtk.Application.__init__(self, application_id="org.app.CursorSample")

        self.buffer = Gtk.TextBuffer()
        self.buffer.connect("notify::cursor-position",
                            self.on_cursor_position_changed)

        self.tw = Gtk.TextView()
        self.tw.set_buffer(self.buffer)
        self.tw.props.wrap_mode = Gtk.WrapMode.CHAR

    def do_activate(self):
        main_window = Gtk.Window(Gtk.WindowType.TOPLEVEL)
        main_window.add(self.tw)
        self.add_window(main_window)
        main_window.set_position(Gtk.WindowPosition.CENTER)
        main_window.show_all()

    def on_cursor_position_changed(self, buffer, data=None):
        print buffer.props.cursor_position

if __name__ == "__main__":
    cursorsample = CursorSample()
    cursorsample.run(None)
<END>
<QUE>
Convert an int value to unicode
<ANS>
chr(somenumber)
<END>
<QUE>
How to insert the group_id of a user to 'auth_user_groups' table
<ANS>
user = User.objects.get(id=1)
group = Group.objects.get(id=5)

user.groups.add(group)
<END>
<QUE>
Python - Keyword arguments using variable as key - fun(self.key="value)?
<ANS>
calculate_fun(**{self.key1: "some_value", self.key2: "another_value"})
<END>
<QUE>
How to group pandas DataFrame entries by date in a non-unique column
<ANS>
data.groupby(data['date'].map(lambda x: x.year))
<END>
<QUE>
How To check if entered letters are in a list?
<ANS>
letters = set(["a","b","c","d"])
inpt = raw_input()
if set(inpt).issubset(letters):
    print "letters are in list"
else:
    print "letters are not in list"
<END>
<QUE>
Python PANDAS: Drop All Rows After First Occurrence of Column Value
<ANS>
import pandas as pd
#create dataframe
df = pd.DataFrame({
'Rank' : [5, 1, 10 ,6, 9],   
'Status' : ['Closed', 'Closed', 'Open', 'Closed', 'Open']
})

# sort and reindex
df = df.sort('Rank').reset_index()

#slice to first occurrence of your value
df.loc[: df[(df['Status'] == 'Open')].index[0], :]
<END>
<QUE>
How to parse command line arguments with flags and without
<ANS>
parser.add_argument('action')
<END>
<QUE>
plotting a timeseries graph in python using matplotlib from a csv file
<ANS>
import pandas as pd
a=pd.read_csv('yourfile.txt',delim_whitespace=True)
for x in a.iterrows():
    x[1][4:].plot(label=str(x[1][0])+str(x[1][1])+str(x[1][2])+str(x[1][3]))

plt.ylim(-1,10)
plt.legend()
<END>
<QUE>
find and replace whole line python
<ANS>
f1 = open('fileInput', 'r')
f2 = open('fileInput+".tmp"', 'w')
for line in f1:
    if line[:-1].endswith("invalid"):
        f2.write("\t".join(line.split("\t")[:2] + ["reviewed", "rd"]) + "
")
    else:
        f2.write(line)
f1.close()
f2.close()
<END>
<QUE>
Random sum - python
<ANS>
import random
no1 =(random.randint(1,20))
function =(random.choice("+-*"))
no2 =(random.randint(1,20))
answer =str(no1) + function + str(no2)
print(str(no1) + function + str(no2) + '=' + str(eval(answer)))
<END>
<QUE>
Python Tkinter: How to obtain all available Entry values
<ANS>
from Tkinter import *

class App(object):

    def __init__(self, top):
        self.top = top
        self.ok_button = Button(self.top, text='OK', command=self.ok)
        self.make_entries()

    def make_entries(self): 
        self.entries = []
        for d in extra:
            e2 = Entry(self.top, bd = 5)
            e2.grid(column = 1, row = row)
            self.entries.append(e2)
            row += 1

    def ok(self):
        values = [e.get().strip() for e in self.entries]

root = Tk()
app = App(root)
root.mainloop()
<END>
<QUE>
Check if Google App Engine datastore entity has a particular property
<ANS>
if hasattr(entity, 'list'):
    a = entity.list[0] # or whatever operation you want
<END>
<QUE>
How to decode unicode raw literals to readable string?
<ANS>
s.decode('unicode_escape')
<END>
<QUE>
Python: most effcient way to strip line from text file
<ANS>
glines = (line.strip() for line in lines)
<END>
<QUE>
How to get more than one field with django filter icontains
<ANS>
from django.db.models import Q
expense.objects.filter(
    Q(name__icontains=q) | Q(amount__icontains=q) | Q(category__icontains=q)
)
<END>
<QUE>
How to wait for execution in other window in python
<ANS>
EntryResult = dataentry.py.Ui_DataEntry() #considering that the UI class in dataentry.py is Ui_DataEntry
<END>
<QUE>
openCV video saving in python
<ANS>
import numpy as np
import cv2

cap = cv2.VideoCapture(0)

# Define the codec and create VideoWriter object
#fourcc = cv2.cv.CV_FOURCC(*'DIVX')
#out = cv2.VideoWriter('output.avi',fourcc, 20.0, (640,480))
out = cv2.VideoWriter('output.avi', -1, 20.0, (640,480))

while(cap.isOpened()):
    ret, frame = cap.read()
    if ret==True:
        frame = cv2.flip(frame,0)

        # write the flipped frame
        out.write(frame)

        cv2.imshow('frame',frame)
        if cv2.waitKey(1) & 0xFF == ord('q'):
            break
    else:
        break

# Release everything if job is finished
cap.release()
out.release()
cv2.destroyAllWindows()
<END>
<QUE>
How to return cursor in Python (sqlite)?
<ANS>
executemany()
<END>
<QUE>
is there any way to change the default text editor for textfield django in admin panel?
<ANS>
from ckeditor.fields import RichTextField
class Heading(models.Model):
    content = models.RichTextField()
<END>
<QUE>
xlswriter - Python module to create excel files
<ANS>
import xlsxwriter

workbook = xlsxwriter.Workbook('chart_line.xlsx')
worksheet = workbook.add_worksheet()
worksheet1 = workbook.add_worksheet()
# Add the worksheet data to be plotted.
data = [10, 40, 50, 20, 10, 50]
worksheet1.write_column('A1', data)

# Create a new chart object.
chart = workbook.add_chart({'type': 'line'})

# Add a series to the chart.
chart.add_series({'values': '=Sheet2!$A$1:$A$6'})

# Insert the chart into the worksheet.
worksheet.insert_chart('C1', chart)

workbook.close()
<END>
<QUE>
Sum in list with the same name
<ANS>
from collections import defaultdict

my_dict = defaultdict(int)

for k,v in mylist:
    my_dict[k] += v

print(my_dict)   
# defaultdict(<class 'int'>, {'USD': 4500, 'THB': 25})
<END>
<QUE>
Python: convert 2 ints to 32 float
<ANS>
from struct import *
# Two integers to a floating point
i1 = 0xC3F5
i2 = 0x4840
f = unpack('f',pack('>HH',i1,i2))[0]

# Floating point to two integers
i1, i2 = unpack('>HH',pack('f',3.14))
<END>
<QUE>
QTreeWidget: Windows Explorer-like editing
<ANS>
def populate( self, tree ):
    tree.setEditTriggers(tree.SelectedClicked)
    for i in range(10):
        item = QTreeWidgetItem(['Testing %02i' % i])
        item.setFlags(item.flags() | item.ItemIsEditable)
<END>
<QUE>
Django accessing ForeignKey model objects
<ANS>
employee.license_set.all()
<END>
<QUE>
how to upload image to the cloud storage via app engine?
<ANS>
enctype="multipart/form-data"
<END>
<QUE>
How to import module from folder
<ANS>
from app.models import *
<END>
<QUE>
Label name for ModelAdmin in Django
<ANS>
class EditedAddress(models.Model):
    class Meta:
        verbose_name = 'Edited Address'
        verbose_name_plural = 'Edited Addresses'
<END>
<QUE>
Routing subdomains in Pyramid
<ANS>
add_route()
<END>
<QUE>
Outputting hyperlinks to outlook
<ANS>
def getsanityresults(xmlfile):
    testresult=[]
    dom = minidom.parse(xmlfile)
    data=dom.getElementsByTagName('Sanity_Results')
    textnode = data[0].childNodes[0]
    testresults=textnode.data
    for line in testresults.splitlines():
        line = line.strip('\r,
')
        line = re.sub(r'(http://[^\s]+|//[^\s]+|\\\\[^\s]+)', r'<a href="\1">\1</a>', line)
        testresult.append(line) 
    return '<br>'.join(testresult)
<END>
<QUE>
Function for averages of tuples in a dictionary
<ANS>
def score(s, d):
    included = [d[word][0] for word in d if word in s]
    return sum(included) / float(len(included))
<END>
<QUE>
How to remove matplotlib axis from multiple plots?
<ANS>
import numpy as np
import matplotlib.pyplot as plt

array_list = [np.random.random_integers(0, i, (5,5)).astype(bool) for i in range(10)]

count = 0    
fig, axes = plt.subplots(nrows=2, ncols=5)
for i in range(2):
    for j in range(5):
        axes[i, j].imshow(array_list[count], interpolation='nearest')
        count += 1
        axes[i, j].axis('off')
plt.show()
<END>
<QUE>
django one to many issue at the admin panel
<ANS>
class Province(models.Model):
    numberPlate = models.IntegerField(primary_key=True)
    name = models.CharField(max_length=20)
    content = models.TextField()
    office = models.ManyToManyField(Office)
    def __unicode__(self):
        return self.name
<END>
<QUE>
PyQt: how to receive keyboard events in a subclassed QWidget?
<ANS>
class PostDialog(QtGui.QDialog):
    def __init__(self, parent=None):
        QtGui.QDialog.__init__(self, parent)
        self.ui = Ui_Dialog() #code from designer!!
        self.ui.setupUi(self)

        self.ui.plainTextEdit.installEventFilter(self)

    def eventFilter(self, event):
        if event.type() == QtCore.QEvent.KeyPress:
            # do some stuff ...
            return True # means stop event propagation
        else:
            return QtGui.QDialog.eventFilter(self, event)
<END>
<QUE>
Why can I only invoke sys.stdin with a for loop
<ANS>
help(sys.stdin)
<END>
<QUE>
convert string to float without silent NaN/Inf conversion
<ANS>
def is_finite(x):
    return not math.isnan(x) and not math.isinf(x)

def get_floats(source):
    for x in source.split():
        try:
            yield float(x)
        except ValueError:
            pass

def get_finite_floats(source):
    return (x for x in get_floats(source) if is_finite(x))
<END>
<QUE>
Split string words in pairs for all side by side words
<ANS>
from itertools import izip
[' '.join(pair) for pair in izip(words[:-1], words[1:])]
<END>
<QUE>
how to replace punctuation in a string python?
<ANS>
import string
replace_punctuation = string.maketrans(string.punctuation, ' '*len(string.punctuation))
text = text.translate(replace_punctuation)
<END>
<QUE>
Get Python Flask to return application/json using json.dumps
<ANS>
from flask import Response

@app.route("/<arg1>")
def route1(arg1):
    dict1 = {"prop1": "p1", "prop2": "p2"}
    return Response(json.dumps(dict1), mimetype='application/json')
<END>
<QUE>
How to add 2 list from a function without using global variables?
<ANS>
def inscription():
    list_1 = [150, 250, 190, 230]
    list_2 = [110, 200, 125, 130]
    return list_1, list_2

def add_lists(first_list, second_list):
    #results = sum(first_list+second_list)

    results = []
    for a, b in zip(first_list, second_list):
        results.append(a+b)

    return results

listeJudo, listePatinage = inscription()

sum_lists = add_lists(listeJudo, listePatinage)
<END>
<QUE>
show two plot together in Matplotlib like show(fig1,fig2)
<ANS>
from beeswarm import beeswarm
fig = plt.figure(figsize=(5,7))
ax1 = fig.add_subplot(111)
# Here you may want to use ax1.set_ylim(0,11) instead fig.ylim=(0,11)
ax1.set_ylim(0,11)
d2 = np.random.random_integers(10,size=100)
beeswarm(d2,col="red",method="swarm",ax=ax1,ylim=(0,11))
boxplot(d2,positions=[0])
<END>
<QUE>
ValueError: invalid literal for int() with base 10 How to fix error
<ANS>
print (str(num1) + ops + str(num2))
<END>
<QUE>
Search that returns array of founds in wxPython?
<ANS>
import re

full_text = my_stc.GetText()
search_string = 'a string to find'

matches = [i.start() for i in re.finditer(search_string, full_text)]
<END>
<QUE>
Python list syntax help
<ANS>
results=[key for key, value in adictionary.items() if str(key).startswith('target') 
             and value > 0 ]
<END>
<QUE>
tz-aware datetime series producing UTC-based .date() output in pandas series apply(lambda) operation
<ANS>
print local_dates.dt.date

# 0    2014-04-04
# 1    2014-07-18
# 2    2015-11-22
# dtype: object
<END>
<QUE>
List of lists of objects to JSON with Python
<ANS>
json.dumps([[ob.__dict__ for ob in lst] for lst in list_dep])
<END>
<QUE>
python multiprocessing pool terminate
<ANS>
for process in pool:
    processId = process.pid
    print "attempting to terminate "+str(processId)
    command = " ps -o pid,ppid -ax | grep "+str(processId)+" | cut -f 1 -d \" \" | tail -1"
    ps_command = Popen(command, shell=True, stdout=PIPE)
    ps_output = ps_command.stdout.read()
    retcode = ps_command.wait()
    assert retcode == 0, "ps command returned %d" % retcode
    print "child process pid: "+ str(ps_output)
    os.kill(int(ps_output), signal.SIGTERM)
    os.kill(int(processId), signal.SIGTERM)
<END>
<QUE>
how to assign a python variable whose name is generated on-the-fly?
<ANS>
globals()['yourvariables'] = variable
<END>
<QUE>
Python: Grab all sections between <html> and </html> from a txt file
<ANS>
writing = False
html_file = open('my_file.html', 'a')
with open(origpath) as f:    
    for line in f:
        # find start indicator
        if line == start:
            writing = True
        if writing:
            html_file.write(line + '
')
        # yield lines until stop indicator found
        if line == stop:
            writing = False

html_file.close()
<END>
<QUE>
converting django ForeignKey to a usable directory name
<ANS>
def material_path(instance, filename):
    return 'documents/%d' % instance.id_presentations.id

class Materials(models.Model):
    id_presentations = models.ForeignKey(Presentations)
    document = models.FileField(upload_to=material_path)
    docname = models.CharField(max_length=40)
<END>
<QUE>
Replace continuous occurrence of "
" with a single "
" in python
<ANS>
import re
txt = re.sub('
+','
',txt)
<END>
<QUE>
Reaching a dictionary inside a list of dictionaries by key
<ANS>
first_with_id_or_none = \
    next((value for value in dictionary['items'] if value['id'] == 1), None)
<END>
<QUE>
Python equivalent of R's R2HTML to output interactive results?
<ANS>
to_html()
<END>
<QUE>
Merge two lists of lists - Python
<ANS>
dict_a = dict(list_a)
dict_x = dict(list_x)

shared_keys = set(dict_a).intersection(set(dict_x))

result = dict((k, (dict_a[k], dict_x[k])) for k in shared_keys)
<END>
<QUE>
Adding symbolic constants with hex values to Python extension module
<ANS>
PyModule_AddIntMacro(m, SYM);
<END>
<QUE>
Basic help needed in PyQt4
<ANS>
from PyQt4 import QtGui
import sys

class SubWindow(QtGui.QDialog):
    def __init__(self):
        super(SubWindow , self).__init__()     
        label = QtGui.QLabel("Hey, subwindow here!",self);

class MainWindow(QtGui.QMainWindow):
    def __init__(self):
        super(MainWindow , self).__init__()     
        self.window()

    def window(self):
        Action = QtGui.QAction(QtGui.QIcon('action.png') , 'action' , self)          
        Action.triggered.connect(self.a)

        mb = self.menuBar()
        option = mb.addMenu('File')
        option.addAction(Action)

        self.show()

    def a(self):

        s = SubWindow()
        s.exec_()

if __name__ == '__main__':
    app = QtGui.QApplication(sys.argv)
    mw = MainWindow()
    sys.exit(app.exec_())
<END>
<QUE>
How to convert malformed list into a list of int in python
<ANS>
import ast
print ast.literal_eval([y for x in list_ for y in x][0])
<END>
<QUE>
streaming data into command with subprocess.Popen
<ANS>
#!/usr/bin/env python2
import fileinput
import subprocess

process = subprocess.Popen(['sort'], stdin=subprocess.PIPE)
with process.stdin as pipe, fileinput.FileInput() as file:
    for line in file:
        if file.isfirstline(): # print header
            print line,
        else: # pipe tails
            pipe.write(line)
process.wait()
<END>
<QUE>
Django, how to see session data in the admin interface
<ANS>
from django.contrib.sessions.models import Session
class SessionAdmin(ModelAdmin):
    def _session_data(self, obj):
        return obj.get_decoded()
    list_display = ['session_key', '_session_data', 'expire_date']
admin.site.register(Session, SessionAdmin)
<END>
<QUE>
Python - Put new line into file at largest indent
<ANS>
start = 1
lines = ['Step' + str(start) + ':
']
with open('file.txt','r') as inF:
    prevspace = -1
    for line in inF:
        lspaces = len(line) - len(line.lstrip())
        if lspaces > prevspace and prevspace != -1:
            lines.append('Step' + str(start+1) + ':
')
            start = start + 1
            lines.append(line)
            prevspace = lspaces
        else:
            lines.append(line)
            prevspace = lspaces
    ifF.close()

with open('newfile.txt','w') as outF:
    for line in lines:
        outF.write(line)
    outF.flush()
    outF.close()
<END>
<QUE>
Is there a way to implement sample weights in python logistic regression?
<ANS>
import statsmodels.api as sm
logmodel=sm.GLM(trainingdata[['Successes', 'Failures']], trainingdata[['const', 'A', 'B', 'C', 'D']], family=sm.families.Binomial(sm.families.links.logit)).fit()
<END>
<QUE>
Creating a SubstructureGenerateModes object in ABAQUS?
<ANS>
mdb.models[name].SubstructureGenerateStep(modeRange=((1, 60, 1), ), name=
    name, previous=previousName, retainedEigenmodesMethod=MODE_RANGE, 
    substructureIdentifier=1)
<END>
<QUE>
Is there a point to using nested iterators?
<ANS>
first_items = itertools.imap(lambda x: x[0], list_of_tuples)
repeated_tuple = itertools.repeat(some_tuple, len(list_of_tuples))
items = itertools.izip(repeated_tuple, first_items)
result = itertools.starmap(lambda x,y: x + (y,), items)
<END>
<QUE>
How to use AndroidViewClient Culebra to scroll down
<ANS>
android___id_list.uiScrollable.flingToEnd()
<END>
<QUE>
How to determine 4 nearest adjacent points in grid database around given latitude and longitude using python
<ANS>
def find_adjacent_coords(db, lat, lon, step=0.041667):
    """Find coords that are in a +/- step range of lat, lon."""
    #XXX disregard values near +/- 90 latitude, +/- 180 longitude
    coords_range = lat-step, lat+step, lon-step, lon+step
    return db.execute("""select lat, lon from coords where 
lat > ? and lat < ? and
lon > ? and lon < ?""", coords_range).fetchall()
<END>
<QUE>
Drawing a selection area with mouse in Tkinter
<ANS>
class Annotate(object):
    def __init__(self):
        print "Annotate is runing"
        # rest of your code

root = Tk()
my_object = Annotate()

root.mainloop()
<END>
<QUE>
create properties with loop
<ANS>
fget = lambda x, f=func: f(x.z)
<END>
<QUE>
Explode multiple slices of pie together in matplotlib
<ANS>
# original part (left)
import numpy as np
import matplotlib.pyplot as plt
f,ax = plt.subplots(1,2) 
ax[0].set_aspect('equal')
data=np.abs(np.random.randn(7))
wedges, texts = ax[0].pie(data)

# redraw plot using patches (right)
import matplotlib.patches as mpatches
from matplotlib.collections import PatchCollection
ax[1].set_aspect('equal')
ax[1].axis('off')

groups=[[0,1,2],[3,4],[5,6]]
radfraction = 0.1
patches = []
for i in groups:
  ang = np.deg2rad((wedges[i[-1]].theta2 + wedges[i[0]].theta1)/2,)
  for j in i:
    we = wedges[j]
    center = (radfraction*we.r*np.cos(ang), radfraction*we.r*np.sin(ang))
    patches.append(mpatches.Wedge(center, we.r, we.theta1, we.theta2))

colors = np.linspace(0, 1, len(patches))
collection = PatchCollection(patches, cmap=plt.cm.hsv)
collection.set_array(np.array(colors))
ax[1].add_collection(collection)
ax[1].autoscale(True)
<END>
<QUE>
Generic deleteview with condition
<ANS>
class EmployeeDeleteView(DeleteView):
    success_url = reverse_lazy('index')

    def delete(self, request, *args, **kwargs):
        self.object = self.get_object()
        can_delete = self.object.can_delete()

        if can_delete:
            return super(EmployeeDeleteView, self).delete(
                request, *args, **kwargs)
        else:
            raise Http404("Object you are looking for doesn't exist")
<END>
<QUE>
Print out a certain section of a file
<ANS>
def search_entries():
    found = 0
    search = raw_input("Please enter the person's name: ")
    for line in open('addbook.txt', 'r').readlines():
        if search in line:
            found = 1
        if found >= 1:
            print line
            found = found + 1
            if found == 4: break
<END>
<QUE>
How do I remove duplicate entries in my output file in Python?
<ANS>
#!/usr/local/cpython-3.3/bin/python

with open('/etc/crontab', 'r') as infile, open('output.txt', 'w') as outfile:
    seen = set()
    for line in infile:
        for word in line.split():
            if word not in seen:
                seen.add(word)
                outfile.write('{}
'.format(word))
<END>
<QUE>
Wrong recursive function to find number of possible routes
<ANS>
def _find_path(self, point_a, end_point, current_stops, routes, maxstops):
        current_stops += 1

        if current_stops > maxstops:
            return routes

        if end_point in self.digraph[point_a]:
            return 1
        else:
            for x in self.digraph[point_a]:
                routes += self._find_path(x, end_point, current_stops, routes, maxstops)

        return routes
<END>
<QUE>
Pyglet running multiple windows
<ANS>
import pyglet

class Test(object):
    def setUp(self):
        self.window = pyglet.window.Window()

    def tearDown(self):
        self.window.close()
        del self.window

    def wtf(self):
        self.setUp()
        self.tearDown()
        self.setUp()
        pyglet.app.run()

test = Test()
test.wtf()
<END>
<QUE>
How to move files based on their names to specific directories in python?
<ANS>
srcDir = '/user/local'
targetDir = '/user/data'
for fname in os.listdir(srcDir):
    if not os.path.isdir(os.path.join(srcDir, fname)):
        for prefix in ['jenjar.dat', 'jenmis.dat']:
            if fname.startswith(prefix):
                if not os.path.isdir(os.path.join(targetDir, prefix)):
                    os.mkdir(os.path.join(targetDir, prefix))
                shutil.move(os.path.join(srcDir, fnmae), targetDir)
<END>
<QUE>
Can only write newlines to file
<ANS>
f = open(filename, "a")
<END>
<QUE>
Randomly choosing a tuple set and then removing itself from the orignal tuple list
<ANS>
listpack_list = (["data", "data", "data"], ["test", "test", "test"], ["sof", "sof", "sof"])
import random
rem = random.randrange(3)
varToBePrinted, Main1, Main2 = listpack_list[rem]
listpack_list = tuple(item for index, item in enumerate(listpack_list) if index != rem)
print varToBePrinted
<END>
<QUE>
Retrieving all "Yahoo Answers" Questions that contain a certain word . Issue with rate limiting
<ANS>
first_50 = app.questionSearch({'query':'tornado', 'start' : 0, 'results' : 50})
next_50 = app.questionSearch({'query':'tornado', 'start' : 50, 'results' : 50})
<END>
<QUE>
pythonic way to map set of strings to integers
<ANS>
g_proptypes = dict((string, i) for i, string in enumerate(string_list))
<END>
<QUE>
How to get item name in pandas panel.apply function
<ANS>
mypanel = pd.Panel(np.random.randn(2, 5, 4), items=['Item1', 'Item2'],
                  major_axis=pd.date_range('1/1/2000', periods=5),
                  minor_axis=['A', 'B', 'C', 'D'])

def func1(k, x):
    print(k)
    return x.apply(np.log)

mypanel.apply(lambda x: func1('the wrong name', x))  # 1000 loops, best of 3: 1.01 ms per loop
pd.Panel({k: func1(k, v) for k, v in mypanel.iteritems()})  # 1000 loops, best of 3: 800 ??s per loop
<END>
<QUE>
Error when updating SQL table with Pyodbc from data extracted from Excel spreadsheet
<ANS>
min_bid_off     = float(sheet.cell(row_index,2).value)
<END>
<QUE>
Print out the index of a map function
<ANS>
for i,s in map(lambda n: (n,(n*(n+1))/2), range(1,101)):
    print "sum of the first %d integers: %d" % (i,s)
<END>
<QUE>
Buffer to Image with PIL
<ANS>
from PIL import Image
import cStringIO

def ThumbFromBuffer(buf,size):
    im = Image.open(cStringIO.StringIO(buf))
    im.thumbnail(size, Image.ANTIALIAS)
    return im
<END>
<QUE>
Frequency plotting in python
<ANS>
import matplotlib.pyplot as plt

x = [1,2,3,4,5]
y = [10,40,30,10,3]

plt.bar(x,y)

plt.show()
<END>
<QUE>
Python Search the specific word sequence from the pos sequence and highlight it
<ANS>
import re
re.sub(r'((?:He|well.*?made|Italian.*?American).*?)(\s)', r'[\1]\2', string)
<END>
<QUE>
Calculations within pandas aggregate
<ANS>
data = data.groupby(['type', 'name']).agg({'min':np.min, 'max':np.max, 'calculation': calculation})
<END>
<QUE>
Removing unwanted data from lists
<ANS>
for i in range(0,100):
    n.append(i)
    if len(n)>10: n[:] = n[1:]
    print len(n) # will never go above 10
<END>
<QUE>
Read shell output from python line-by-line
<ANS>
import subprocess
cmd = ["ls", "-la"]
proc = subprocess.Popen(cmd, stdout=subprocess.PIPE)
for line in proc.stdout.readlines():
    print line
<END>
<QUE>
Django query: Want to count a set in template
<ANS>
count = models.StorageItem.objects.filter(client=client_id, itemstatushistory__isnull=False).count()
<END>
<QUE>
How to write a "&" in button text in wxpython
<ANS>
import wx

class MainWindow(wx.Frame):
  def __init__(self,parent,title):
    wx.Frame.__init__(self,parent,title=title,size=(200,-1))
    self.sizer = wx.BoxSizer(wx.HORIZONTAL)
    self.buttons = [
      wx.Button(self,-1,"Button &One"),
      wx.Button(self,-1,"Button &&Two"),
    ]
    for btn in self.buttons:
      self.sizer.Add(btn,1,wx.EXPAND)
    self.SetSizer(self.sizer)
    self.SetAutoLayout(1)
    self.sizer.Fit(self)
    self.Show()

app = wx.App(False)
frame = MainWindow(None,"Hello Ampersand")
app.MainLoop()
<END>
<QUE>
python read(4) returning a string of length 1 not 4
<ANS>
array.fromfile()
<END>
<QUE>
How to convert QPointf to QPoint in PyQt
<ANS>
from PyQt4 import QtGui, QtCore
point = QtCore.QPointF(100.2, 144.23)
QtGui.QCursor.pos(), QtGui.QCursor.setPos(point.toPoint()), QtGui.QCursor.pos()
# (PyQt4.QtCore.QPoint(1335, 691), None, PyQt4.QtCore.QPoint(100, 144))
<END>
<QUE>
Python: Indexing a list of lists
<ANS>
for l in x:
    print ', '.join(map(str, l))
<END>
<QUE>
Turn UAC off with python
<ANS>
import win32com.shell.shell as win32shell   

def disable_UAC():
    command1 = 'reg delete HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System /v EnableLUA'
    win32shell.ShellExecuteEx(lpVerb='runas', lpFile='cmd.exe', lpParameters='/c ' + command1)
    command2 = 'reg add HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System /v EnableLUA /t REG_DWORD /d 0 /f'
    win32shell.ShellExecuteEx(lpVerb='runas', lpFile='cmd.exe', lpParameters='/c ' + command2)
<END>
<QUE>
Return all values when a condition value is NULL
<ANS>
query = 'SELECT * FROM table1 WHERE id = COALESCE(%s,id)'
<END>
<QUE>
Using a python keyword as an option in argparse
<ANS>
parser = argparse.ArgumentParser()

group = parser.add_mutually_exclusive_group()
group.add_argument("--export", help="Export source(s)", action="store_true")
group.add_argument("--import", dest="imp", help="Import source(s)", action="store_true")
group.add_argument("--diff", help="Diff sources", action="store_true")

parser.add_argument("filename", help="XML Filename used for exporting to, importing from or comparing while doing diff.")

args = parser.parse_args()

if args.export:
    export_sources(args.filename)
elif args.imp:
    import_sources(args.filename)
elif args.diff:
    diff_sources(args.filename)
<END>
<QUE>
JSON parsing in python gives error
<ANS>
json.load()
<END>
<QUE>
Python - error 98 Adress already in use, how to make it faster? So that on kill and quick restart it does not fail?
<ANS>
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
s.bind((HOST, PORT))
<END>
<QUE>
How do I get the picture size with PIL?
<ANS>
(width, height) = im.size
<END>
<QUE>
how to invoke another function when sprites collide in pygame
<ANS>
hitApples = pygame.sprite.spritecollide(snake, apple_list, True)
if hitApples:
    callback()
<END>
<QUE>
Python write to file based on offset
<ANS>
_buffData[t_offset:t_offset + len(t_data)] = bytearray(t_data)
<END>
<QUE>
How to include all points into error-less triangulation mesh with scipy.spatial.Delaunay?
<ANS>
points -= points.mean(axis=0)
tri = Delaunay(points)
<END>
<QUE>
Firefox + Selenium in python: How to interactively get an element html?
<ANS>
driver.execute_script("for(var i = 0; i < document.links.length; i++){document.links[i].onclick = function clicked(){var e = document.createElement('a'); e.setAttribute('id','myUniqueID'); e.setAttribute('value', this); document.getElementsByTagName('body')[0].appendChild(e);};}")

clicked = driver.find_element_by_id('myUniqueID').get_attribute('value')
<END>
<QUE>
How to sort in a django queries?
<ANS>
from django.db.models import Count

#group by portfolios count
User.objects.annotate(portfolios=Count('portfolio')).order_by('portfolios')
#group by projects count
User.objects.annotate(projects=Count('portfolio__project')).order_by('projects')
<END>
<QUE>
Getting a RichTextCtrl's default font size in wxPython
<ANS>
self.defaultstyle = wx.richtext.RichTextAttr()
self.GetStyle(self.GetInsertionPoint(), self.defaultstyle)
self.defaultsize = self.defaultstyle.GetFont().GetPointSize()
<END>
<QUE>
python - count files (can't count values in a dictionary)
<ANS>
for ext in extension_list:
    mydict[ext] += 1
<END>
<QUE>
How to unpack 6 bytes as single integer using struct in Python
<ANS>
def unpack48(x):
    x1, x2, x3 = struct.unpack('<HHI', x)
    return x1, x2 | (x3 << 16)
<END>
<QUE>
How many computer instructions are involved in a Python print statement?
<ANS>
sys.stdout
<END>
<QUE>
python, how to add variable value from xml response?
<ANS>
import re
import urllib
stream=urllib.urlopen("http://....")
result=re.search('<dcdIntegerValue>(\d*)</dcdIntegerValue>',stream.read(),re.IGNORECASE)
if result:
     value=result.group(1)
<END>
<QUE>
How to implement simple login page in Django?
<ANS>
from django.shortcuts import redirect

def login(request):
    if request.method == 'POST':
        return redirect('all_members')
    else:
        context = RequestContext(request)
        return render_to_response("templates/login.html", context)
<END>
<QUE>
How to print certain lines and certain parts of line in a text file
<ANS>
import re

s = '''   <DT><A HREF="http://gmazars.info/conf/index.html" 
            <DT><A HREF="http://research.google.com/" 
            <DT><A HREF="http://research.microsoft.com/en-us/" 
            <DT><A HREF="http://techresearch.intel.com/articles/index.html" 
'''

print re.findall("HREF=\"(.*?)\"", s)
<END>
<QUE>
How do I copy a file to a remote server in python using scp or ssh?
<ANS>
import os
os.system("scp FILE USER@SERVER:PATH")
#e.g. os.system("scp foo.bar joe@srvr.net:/path/to/foo.bar")
<END>
<QUE>
Using global variables in python
<ANS>
def noofways(firstnumchosen, sum, numofnum):
    global count
    # don't set count to 0 here
    if sum<0:
        return 
    if sum==0 and not(numofnum==0):
        return
    if sum==0 and numofnum==0:
       count+=1
       return
    if numofnum<=0:
       return
    if firstnumchosen>sum:
       return
    noofways(firstnumchosen+1,sum,numofnum)
    noofways(firstnumchosen+1,sum-firstnumchosen,numofnum-1)

# set count to 0 here
count = 0
res=noofways(1,8,3);
print count
<END>
<QUE>
Python AppEngine, how to take parameters to another page
<ANS>
import urllib

class AHandler(webapp2.RequestHandler):
  def get(self):
    name = 'Some name'
    redirect('b?%s' % urllib.urlencode({'name': name}))

class BHandler(webapp2.RequestHandler):
  def get(self):
    name = self.request.get('name')
    # do something with name
<END>
<QUE>
How does this single line for loop work in Python? [list comprehension]
<ANS>
names  = []

for row in cursor.fetchall():
    names.append(row[0])
<END>
<QUE>
Adding elements to a set , adds elements to all the instances of the object containing this set
<ANS>
class Player:
    def __init__(self, name):
        self.name = name 
        self.cardsInHand = set()
        self.hasBid = False
<END>
<QUE>
python compare and replace strings in txt file with filenames
<ANS>
import os

with open("data.txt") as infile:
    for line in infile:
        line = line.strip()
        if os.path.isfile(os.path.join("sounds", line)):
            os.rename(os.path.join("sounds", line), os.path.join("sounds", os.path.splitext(line)[0] + '.wav'))
<END>
<QUE>
Command to make a Python application open a webpage
<ANS>
webbrowser.open('http://www.google.com/')
<END>
<QUE>
Splitting Code in different Files - Python / App Engine
<ANS>
import db

db_handler = db.DbHandler()
<END>
<QUE>
Vectorize numpy array for loop
<ANS>
import numpy as np

def foo(a, b):
    # cond is a boolean array marking where the condition is met
    cond = a[1:] < a[:-1]
    cond = np.insert(cond, 0, False)
    # values is an array of the items in from a that will be used to fill b
    values = a[cond]
    values = np.insert(values, 0, b[0])
    # labels is an array of increasing indices into values
    label = cond.cumsum()
    b[:] = values[label]
<END>
<QUE>
Python DBF module is adding extra rows to a table export
<ANS>
for rec in db:
    if not rec.deleted:
        row_tuple = (rec["name"], rec["address"], rec["age"])
        rows_list.append(row_tuple)
<END>
<QUE>
Access all defined loggers with logging library in Python
<ANS>
logging.Logger.manager.loggerDict
<END>
<QUE>
Replacing enumerate to output a string
<ANS>
file=open("file1.txt","r")
text="target"
count=0
for line in file:
    count += 1
    if text in line:
        print (count, line)
<END>
<QUE>
Color handling in Python
<ANS>
random.seed(i)
<END>
<QUE>
How to create test database with Flask-Testing
<ANS>
app = Flask(__name__)
app.config.from_pyfile('base')
app.config.from_envvar('YOURAPPLICATION_SETTINGS')
<END>
<QUE>
Convert a time-only string such as "6:02PM" to a datetime object?
<ANS>
import datetime as dt

now = dt.datetime.now()
then = dt.datetime.combine(now, dt.datetime.strptime("6:02PM", "%I:%M%p").time())
print(then)
# 2012-08-26 18:02:00

tdelta = now - then
print(tdelta)
# -1 day, 20:53:25.190721
<END>
<QUE>
Get Binary Representation of PIL Image Without Saving
<ANS>
s = StringIO.StringIO()
window.save(s, "jpg")
encodedWindow = base64.b64encode(s.getvalue())
<END>
<QUE>
Get max value from a list with lists?
<ANS>
def max_value(inputlist):
    return max([sublist[-1] for sublist in inputlist])

print max_value(resultlist)
# 9.1931
<END>
<QUE>
Reading corrupted file in python
<ANS>
entire_file = open('hello.txt', 'rb').read()

print 'number of \
: %d, number of bytes %d' % (
    entire_file.count('
'), len(entire_file))
<END>
<QUE>
send mail using python
<ANS>
import smtplib
from email.mime.multipart import MIMEMultipart
from email.mime.text import MIMEText

fromaddr = 'demo@gmail.com'
toaddrs = 'demotest@gmail.com'

msg = MIMEMultipart('alternative')
msg['Subject'] = "Link"
msg['From'] = "good morning" #like name
msg['To'] = "GGGGGG"

body = MIMEText("example email body")
msg.attach(body)

username = 'demo@gmail.com'
password = ''
server = smtplib.SMTP_SSL('smtp.googlemail.com', 465)
server.login(username, password)
server.sendmail(fromaddr, toaddrs, msg.as_string())
server.quit()
<END>
<QUE>
python: create raw string of variables
<ANS>
key_word = ['width', 'height', 'left', 'right']
regex_template = r'{}\s*:\s*\d+'
for key in key_word:
    print re.search(regex_template.format(key), line)
<END>
<QUE>
Getting my IP using python
<ANS>
ip = r.text.strip()
<END>
<QUE>
Dynamically importing a base class in Python
<ANS>
def make_scrapy_command_class(base_class):
    class ScrapyCommand(base_class):
        # your methods here
        pass

    return ScrapyCommand

ScrapyCommand = make_command_class(someotherapp.crawl.OtherCommand)
<END>
<QUE>
How to get the mean of subtraction of 2 dataframes in Python?
<ANS>
def mean_forecast_err(y, y_predict):
   return y.sub(y_predict).mean()

# other preparation before ...
y = df['sensor_19']
arma_mod12 = sm.tsa.ARMA(y, (1, 2)).fit()
y_predict12 = arma_mod12.predict()
print "ARMA(1, 2): err_mean=" + str(mean_forecast_err(y, y_predict12))
<END>
<QUE>
can not read post data in app engine
<ANS>
request.get()
<END>
<QUE>
Extracting Rows of Data from a CSV-like File Using Python
<ANS>
import re
import csv
import time
import StringIO

print(time.ctime())

input_name = "C:/Users/User/Desktop/File with No Extension That's Very Similar to CSV"
output_name = "C:/Users/User/Desktop/testoutput.csv"

with open(input_name, 'r') as f_input, open(output_name, 'wb') as f_output:
    # Read whole file in
    all_input = f_input.read()  

    # Extract interesting lines
    ab_input = re.findall(r'Point A(.*?)Point B', all_input, re.DOTALL)[0]

    # Convert into a file object and parse using the CSV reader
    fab_input = StringIO.StringIO(ab_input)
    csv_input = csv.reader(fab_input)
    csv_output = csv.writer(f_output)

    # Iterate a row at a time from the input
    for input_row in csv_input:
        # Skip any empty rows
        if input_row:
            # Write row at a time to the output
            csv_output.writerow(input_row)

print(time.ctime())
<END>
<QUE>
Add "entry" to JSON File with Python
<ANS>
for filename in os.listdir('./json/'):
    sources = None
    with open('./json/'+filename) as data_file:    
        sources = json.load(data_file)
        sourcelist = sources['sources']
        for i, s in enumerate(sourcelist):
            sources['sources'][i]['collectorName'] = 'Collector' + str(i)
    with open('./json/'+filename, 'w') as data_file:  
        data_file.write(json.dumps(sources))
<END>
<QUE>
Django: Saving an image file from a form
<ANS>
im = Image.open(StringIO(request.FILES['im'].read()))
<END>
<QUE>
python: Replacing special characters in a string
<ANS>
def strip_accents(s):
  return ''.join((c for c in unicodedata.normalize('NFD', s) if unicodedata.category(c) != 'Mn'))
<END>
<QUE>
Compute separate correlations, grouped by column value
<ANS>
x, y = A.groupby('one'), B.groupby('one')

res = {i[0]:i[1].two.corr(y.get_group(i[0]).two) for i in x}

pd.DataFrame(res.items())
#   0  1
#0  a -1
#1  b -1
<END>
<QUE>
Regular Expressions in unicode strings
<ANS>
missingParen=re.compile(r"^\(\d$")
<END>
<QUE>
Two wtforms submit on the same page. validate_on_submit works only with last
<ANS>
class ProfileForm(Form):
    birthday  = DateTimeField('Your Birthday', format='%m/%d/%y')
    signature = TextAreaField('Forum Signature')

class AdminProfileForm(ProfileForm):
    username = StringField('Username', [validators.Length(max=40)])
    level = IntegerField('User Level', [validators.NumberRange(min=0, max=10)])
<END>
<QUE>
Tack on session support to a 'stateless' xml-rpc app
<ANS>
from twisted.web import xmlrpc, server

class MultiStep(xmlrpc.XMLRPC):
    def __init__(self) :
        xmlrpc.XMLRPC.__init__(self)
        self.db = {}
    def getX(self, user, x):
       self.db[user] = {'x' : x}
       return 'OK'
    def getY(self, user, y):
       self.db[user]['y'] = y
       return 'OK'
    def plus(self,user) :
       return self.db[user]['x'] + self.db[user]['y']

if __name__ == '__main__':
    from twisted.internet import reactor
    r = MultiStep()
    reactor.listenTCP(6666, server.Site(r))
    reactor.run()
<END>
<QUE>
Python String replacing special characters
<ANS>
import re

pattern = "[- ]+"
re.sub(pattern, " ", your_string)
<END>
<QUE>
Create all sequences from the first item within a list
<ANS>
prefixes = [your_list[:end] for end in xrange(1, len(your_list) + 1)]
<END>
<QUE>
Python nested json object being serialize as str
<ANS>
class jsonEncoder(simplejson.JSONEncoder):
    def default(self, obj):
        if isinstance(obj, db.GeoPt):
            return {'lat': obj.lat, 'lon': obj.lon}
        else:
            return simplejson.JSONEncoder.default(self, obj)
<END>
<QUE>
Python unittest module, general assertion logger
<ANS>
class MyTestCase(unittest.TestCase):
    def run(self, result=None):
        '''Show log output on failed tests'''

        if result:
            orig_err_fail = result.errors + result.failures

        super().run(result)

        if result and result.errors + result.failures > orig_err_fail:
            print ("assertion failed")
<END>
<QUE>
Turning a python ndarray into a matlab file
<ANS>
import numpy as np
out_dict[filename]=np.array(arr, dtype=np.float64)
<END>
<QUE>
Python p12 to pem
<ANS>
from OpenSSL import crypto
p12 = crypto.load_pkcs12(file("push.p12", 'rb').read(), [password])

# PEM formatted private key
print crypto.dump_privatekey(crypto.FILETYPE_PEM, p12.get_privatekey())

# PEM formatted certificate
print crypto.dump_certificate(crypto.FILETYPE_PEM, p12.get_certificate())
<END>
<QUE>
Combine two txt files into one dictionary with corrections
<ANS>
from collections import defaultdict

def clean_line(line):
    name, _, value = line.partition(':')
    return name.strip(), value.strip()

def process_file(dic_, file, key):
    for line in file:
        name, value = clean_line(line)
        dic_[name][key] = value

def f_phone_addr(phonefile, addrfile):

    out = defaultdict(dict)
    with open(phonefile) as pf, open(addrfile) as af:
        process_file(out, pf, 'phone')
        process_file(out, af, 'address')
    return out
<END>
<QUE>
How to bin the sum of list values in Python?
<ANS>
bin_width = int(round(duration / bins))
followers = [sum(followersList[i:i+bin_width]) for i in xrange(0, duration, bin_width)]
<END>
<QUE>
Adding new Keys to a Dictionary
<ANS>
lst = collections.defaultdict(list)
<END>
<QUE>
curl post request failing in the presence of special characters
<ANS>
newjson = json.loads(result.read().decode('utf-8').encode("ascii","xmlcharrefreplace"))
<END>
<QUE>
Using selenium webdriver, how to click on multiple random links in webpage one after another continuously to detect broken links?
<ANS>
import requests

def find_broken_links(root, driver):
    visited = set()
    broken = set()
    # Use queue for BFS, list / stack for DFS.
    elements = [root]
    session = requests.session()

    while len(elements):
        el = elements.pop()
        if el in visited:
            continue

        visited.add(el)

        resp = session.get(el)
        if resp.status_code in [500, 404]:
            broken.add(el)
            continue

        driver.get(el)
        links = driver.find_element_by_tag_name("a")
        for link in links:
            elements.append(link.get_attribute('href'))

    return broken
<END>
<QUE>
How to auto log into gmail atom feed with Python?
<ANS>
import urllib2

def get_unread_msgs(user, passwd):
    auth_handler = urllib2.HTTPBasicAuthHandler()
    auth_handler.add_password(
        realm='New mail feed',
        uri='https://mail.google.com',
        user='%s@gmail.com' % user,
        passwd=passwd
    )
    opener = urllib2.build_opener(auth_handler)
    urllib2.install_opener(opener)
    feed = urllib2.urlopen('https://mail.google.com/mail/feed/atom')
    return feed.read()
<END>
<QUE>
scheduling jobs using python apscheduler
<ANS>
import os

try:
    with open("/tmp/myproc.pid") as pidfile:
        pidfile.write(str(os.getpid()))
    main()
finally:
    os.remove("/tmp/myproc.pid")
<END>
<QUE>
Python: How to import from an __init__.py file?
<ANS>
from . import db
<END>
<QUE>
how do i calculate the average of 12 test scores using a for loop?
<ANS>
avg=sum/12.
<END>
<QUE>
Make link with CamelCase
<ANS>
from django.utils.safestring import mark_safe    

@register.filter
def wikify(value):
    output = wikilink.sub(r"<a href='/wikicamp/\1/'>\1</a>", value)
    return mark_safe(output)
<END>
<QUE>
Longest distinct consecutive list in Python
<ANS>
a = [2, 3, 5, 6, 6, 7, 10, 11, 13, 14, 15, 16, 16, 17, 18, 20, 21]

seqlist = [] # List of Sequences
seq = []     # Current Sequence
last = -1

for item in a:
   # Start a new sequence if the gap from the last item is too big
   if item - last > 1:
       seqlist.append(seq)
       seq = []

   # only add item to the sequence if it's not the same as the last
   if item != last:
        seq.append(item)

   last = item

# Print longest sequence found
print max(seqlist)
<END>
<QUE>
Confused by Python returning JSON as string instead of literal
<ANS>
people = models.UserRelationships.query.filter_by(user_id=user_id, active=ACTIVE_RECORD)
friends = people.filter_by(friends=YES)

return jsonify(friends.first().as_dict())
<END>
<QUE>
Having Trouble with multiple "groupby" with a variable and a category (binned data)
<ANS>
#Depending on the content of vol_B you can do astype(int) or astype(float) as well.
gb = df.groupby([df['vol_B'].astype(str), df['expiry']])
<END>
<QUE>
Developing a function to show time without imports
<ANS>
def show_time(hour, minutes):
    if hour >= 12:
        suffix = "pm"
        if hour != 12:
            hour -= 12
    else:
        suffix = "am"
        if hour == 0:
            hour = 12
    return "{0}:{1:02}{2}".format(hour, minutes, suffix)
<END>
<QUE>
How to get all application link in a page?
<ANS>
from bs4 import BeautifulSoup
import urllib

for page in range(1, 27+1): # currently there are 27 pages.
    url = 'http://www.brothersoft.com/windows/mp3_audio/midi_tools/{}.html'.format(page)
    html = urllib.urlopen(url)
    soup = BeautifulSoup(html)

    for a in soup.select('div.freeText dl a[href]'):
        print "http://www.borthersoft.com"+a['href'].encode('utf-8','replace')
<END>
<QUE>
Retrieving information stored in other sessions with gae-sessions
<ANS>
for activesession in SessionModel.all():
    data = Session._Session__decode_data(activesession.pdump)
    logged_in.append(data['user'])
<END>
<QUE>
How do I insert a JPEG image into a python Tkinter window?
<ANS>
import Tkinter as tk
from PIL import ImageTk, Image

#This creates the main window of an application
window = tk.Tk()
window.title("Join")
window.geometry("300x300")
window.configure(background='grey')

path = "Aaron.jpg"

#Creates a Tkinter-compatible photo image, which can be used everywhere Tkinter expects an image object.
img = ImageTk.PhotoImage(Image.open(path))

#The Label widget is a standard Tkinter widget used to display a text or image on the screen.
panel = tk.Label(window, image = img)

#The Pack geometry manager packs widgets in rows or columns.
panel.pack(side = "bottom", fill = "both", expand = "yes")

#Start the GUI
window.mainloop()
<END>
<QUE>
Unable to select only first occurrence of href in anchor tag?
<ANS>
"/(http:\/\/www\.mega\.pk\/mobiles-\w+\/)(?!.*\1)/gs"
<END>
<QUE>
Sorting and printing a text file in Python idle
<ANS>
gradebook = list()
with open('scores.txt') as infile:
    for line in file:
        line = line.split(':').rstrip()
        gradebook.append((line[0], line[1]))
<END>
<QUE>
How do I call a Python/Perl script in bin folder from a Bash script?
<ANS>
python /path/to/my/python/script.py
<END>
<QUE>
How do I implement word count in Python?
<ANS>
x = "I use computers"
print len(x.split())
<END>
<QUE>
Comparing Django object attributes against a list of objects
<ANS>
week_song_list = []
seen_ids = []
for song in week_songs:
    if song.song_id not in seen_ids:
        week_song_list.append(song)
        seen_ids.append(song.song_id)
<END>
<QUE>
Datastore set property name from variable
<ANS>
class StoreNames(db.Expando):
  index = db.FloatProperty()

name = "unknown"

value = "something"

store = StoreNames()

setattr(db, name, value)
<END>
<QUE>
Regex findall produces strange results in python3
<ANS>
b = re.compile('\/\*(.*?)\*/', re.M|re.S)
<END>
<QUE>
algorithm to find independent sets
<ANS>
make -j
<END>
<QUE>
Text File Reading and Printing Data
<ANS>
with open('MyText.txt', 'r') as f:
  lineArr=f.read().split('
')
  if 'Sample Text' in lineArr:
    timeTaken = [s for s in lineArr if "Time Taken" in s]
    print timeTaken[0]
<END>
<QUE>
How to append existing keys by value in python dictionary?
<ANS>
matching = [d for d in session['cart'] if d['product_id'] == id]
if matching:
    matching[0]['qty'] += int(qty)
else:
    session['cart'].append(dict({'product_id': id, 'qty': int(qty)}))
<END>
<QUE>
Django ModelForm with Admin Widgets
<ANS>
from django.contrib.admin.widgets import AdminDateWidget

class MyForm(ModelForm):

    class Meta:
        widgets = {
            'date': AdminDateWidget(),
        }
<END>
<QUE>
Using 3rd Party Libraries in Python
<ANS>
setup(
    name="mypkg", version="0.0.1",
    # etc etc blah blah blabh
    install_requires=["PIL"],
)
<END>
<QUE>
Remove whitespace and make all lowercase in a string for python
<ANS>
''.join(c.lower() for c in s if not c.isspace())
<END>
<QUE>
How to check a python list whether it contains the element I have just inserted
<ANS>
content = list(f)
f.write('905771
')
<END>
<QUE>
Replacing abbreviations from dictionary
<ANS>
import re

month_pair = (re.compile('(\d\s*)m'), 'months')
year_pair = (re.compile('(\d\s*)y'), 'years')

def substitute(s, pairs):
  for (pattern, substitution) in pairs:
    match = pattern.search(s)
    if match:
      s = pattern.sub(match.group(1)+substitution, s)
  return s

pairs = [month_pair, year_pair]
print(substitute('65 y 4m', pairs))
<END>
<QUE>
Copy a property-decorated member to a new class
<ANS>
class ToAdd(object):
    @property
    def foo(self):
        return 'foo!'

class Base(object):
    pass

b = Base()

NewBase = type('NewBase', (Base, ToAdd), {})
b.__class__ = NewBase
print(b.foo)
# foo!
<END>
<QUE>
parsing XML file in python with cElementTree: dealing with errors and line number in the file
<ANS>
elem.sourceline
<END>
<QUE>
How to make Django admin shows OneToMany instead of ForeignKey
<ANS>
class DiferencialItemInline(admin.TabularInline):
    model = DiferencialItem

class DiferencialAdmin(admin.ModelAdmin):
    inlines = [DiferencialItemInline]
<END>
<QUE>
Writing in file's actual position in Python
<ANS>
source_file = open("myfile", "r")
file_data = list(source_file.read())
source_file.close()
file_data.insert(position, data)
open("myfile", "wb").write(file_data)
<END>
<QUE>
Filtering a complete date in django?
<ANS>
from datetime import datetime
Entry.objects.filter(pub_date=datetime(2008, 10, 18))
<END>
<QUE>
Sliding Window with Variable Increment - Python
<ANS>
# taking every 3rd element moves the start by 3
print list(islice(window(idlist, n=2),None,None,3))
<END>
<QUE>
How to generate exponential variate without negative numbers in Python?
<ANS>
random.expovariate
<END>
<QUE>
Count Even Numbers User has Inputted PYTHON 3
<ANS>
def is_even(number):
    return number % 2 == 0

def even_count(numbers_list):
    count = 0

    for number in numbers_list:
        if is_even(number): count += 1

    return count

raw_numbers = input("Please enter more than one number: ")
numbers_list = [int(i) for i in raw_numbers.split()]

count = even_count(numbers_list)
print(count)
<END>
<QUE>
SQLAlchemy: Join to subquery with no from field
<ANS>
from sqlalchemy.dialects.postgresql import array

# First write the subquery.  array() function is used for Pg ARRAY literals.
subq = db.session.query(
    db.func.unnest(array([1])).label('model_id'),
    db.func.unnest(array([2])).label('quantity')
).subquery()

# Now when you have the subquery, you can use it as if it were a Table object.
q = db.session.query(db.func.sum(ProductModel.mass * subq.c.quantity)).\
    join(subq, ProductModel.id == subq.c.model_id).\
    group_by(ProductModel.id)
<END>
<QUE>
Adjust my input to the right - python
<ANS>
print(' '*(60 - len(s))+s)
<END>
<QUE>
How can I resolve a name clash between a defined function and a parameter in another function?
<ANS>
globals()['clean']()
<END>
<QUE>
extracting data from file python
<ANS>
def main():
    isTime = False
    newLists = []
    with open("time.txt", 'r') as newFile:
        result = newFile.readlines()
        for line in result:
            if "$TIME" in line:
                isTime = True
            elif isTime:
                newLists.append(line)

    for line in newLists:
        print line

if __name__ == '__main__':
    main()
<END>
<QUE>
Convert a space-delimited tree to useful dict in python
<ANS>
tree = """Root
  Branch1
    LeafA
    LeafB
  Branch2
    LeafC
      LeafZ
    LeafD"""

aDict = {}
iDict = {}
for line in tree.split("
"):
    key = line.lstrip(" ")
    indent = (len(line) - len(key)) / 2
    if indent == 0:
        aDict[key] = None
    else:
        aDict[key] = iDict[indent - 1]
    iDict[indent] = key

print aDict
# {'LeafD': 'Branch2', 'LeafA': 'Branch1', 'Branch2': 'Root', 'LeafC': 'Branch2', 'LeafB': 'Branch1', 'Branch1': 'Root', 'Root': None, 'LeafZ': 'LeafC'}
<END>
<QUE>
python - most recent file in list
<ANS>
list = [['multinational_intel_2014-10-22T110406Z.zip', '2014 10 22 11:05:19'],
        ['multinational_intel_2014-10-24T140006Z.zip', '2014 10 24 14:02:51'],
        ['multinational_intel_2014-11-12T104622Z.zip', '2014 11 12 10:47:49'],
        ['multinational_intel_2014-11-10T131155Z.zip', '2014 11 10 13:13:57'],
        ['multinational_intel_2014-11-14T172344Z.zip', '2014 11 14 17:25:17'],
        ['multinational_intel_2014-11-11T103518Z.zip', '2014 11 11 10:36:47']]

sorted_list = sorted(list, key=lambda x: x[1], reverse=True)
most_recent = sorted_list[0][0]
print most_recent
<END>
<QUE>
How to start mapreduce job from cron on GAE Python
<ANS>
from mapreduce import control

mapreduce_id = control.start_map(
    "My Mapper",
    "main.my_mapper",
    "mapreduce.input_readers.DatastoreInputReader",
    {"entity_kind": "models.MyEntity"},
    shard_count=10)
<END>
<QUE>
How to get the frequency of a square wave in a python script
<ANS>
import time

NUM_CYCLES = 10
start = time.time()
for impulse_count in range(NUM_CYCLES):
    GPIO.wait_for_edge(25, GPIO.FALLING)
duration = time.time() - start      #seconds to run for loop
frequency = NUM_CYCLES / duration   #in Hz
<END>
<QUE>
python http page without heads
<ANS>
def Mypage(self,ip):
    try:
        conn = httplib.HTTPConnection(ip)
        conn.request("GET", "/path/to/mypage.php")
        resp = conn.getresponse()
        if (resp.status == 200):
            html = BeautifulSoup(resp.read())
            data = html.find('title')
            titulo = str(data.contents[0])
            if titulo == "THE TITLE":
                return True
            else:
                return False
        else :
            return False
    except :
        return False
<END>
<QUE>
Python: Making hangman. Trouble with strings
<ANS>
temp_word = 'correct'
letters_guessed = ['g','r','a','b']

for letter in temp_word:
    if letter not in letters_guessed:
        temp_word = temp_word.replace(letter,'_')

print temp_word

## >>> '__rr___'
## string.replace(old, new) you can use any character for new '*' returns '**rr***'
<END>
<QUE>
Format pandas datatime object to show fiscal years from Feb to Feb and be formatted as %Y?
<ANS>
df['DATE']=pd.to_datetime(df.DATE).apply(pd.Period, freq='A-FEB')
<END>
<QUE>
Using ExecuteBatch from Python on Google Calendars API
<ANS>
uri = self.calendar.GetAlternateLink().href
batch_uri = uri + u'/batch'
calendar_service.ExecuteBatch(request_feed, batch_uri)
<END>
<QUE>
three subplots in a grid, one equal aspect subplot with shared x and y axes
<ANS>
import numpy as np
import matplotlib.pyplot as plt

xlim = (-60.,60.)
ylim = (-110.,110.)
axes_pad = 0.02
cbar_height = 0.025
h_pad = 0.1
v_pad = 0.1

fig_w = 7.
fig_h = 6.

height = 1-axes_pad-cbar_height-2*v_pad
width = np.abs((xlim[1]-xlim[0])/(ylim[1]-ylim[0]))*height*fig_h/fig_w # ensure equal aspect

bottom_h = v_pad+height+axes_pad
left_h = h_pad+width+axes_pad

rect_c = [h_pad, v_pad, width, height]
rect_cbar = [h_pad, bottom_h, width, cbar_height]
rect_r = [left_h, v_pad, 1-axes_pad-width-2*h_pad, height]

fig = plt.figure(1, figsize=(fig_w,fig_h))
ax_c = plt.axes(rect_c)
ax_cbar = plt.axes(rect_cbar)
ax_r = plt.axes(rect_r)

ax_c.set_xlim(xlim)
ax_c.set_ylim(ylim)
ax_r.set_ylim(ylim)

ax_rty = ax_r.twiny()
ax_rty.set_xlim((-100,0)) # determined dynamically later
ax_r.set_xlim((0,0.5)) # determined dynamically later

plt.savefig('skeleton.pdf',bbox_inches='tight')
<END>
<QUE>
How to read only specific rows from a text file?
<ANS>
import numpy as np
import itertools
with open('test.dat') as f_in:
    x = np.genfromtxt(itertools.islice(f_in, 1, 12, None), dtype=float)
    print x[0,:]
<END>
<QUE>
python web framework -- dynamic routes to extension modules
<ANS>
import sys 

@GET("/some/path/extensions/:module/:func/:params")
def callmodule(module, func, params):
    D = dict(params)
    # Pull module instance from systems stack
    moduleInstance = sys.modules[module]
    # Grab method from module
    functionInstance = getattr(moduleInstance,func)
    # Pass "D" variable to function instance
    functionInstance(D)
<END>
<QUE>
Python Subplot function parameters
<ANS>
import matplotlib.pyplot as plt

fig = plt.figure()
ax1 = fig.add_subplot(4,2,1)
ax2 = fig.add_subplot(4,2,4)
ax3 = fig.add_subplot(4,2,5)
ax4 = fig.add_subplot(4,2,8)

fig.subplots_adjust(hspace=1)

plt.show()
<END>
<QUE>
How to make a list from a raw_input in python?
<ANS>
string_input = raw_input()
input_list = string_input.split() #splits the input string on spaces
# process string elements in the list and make them integers
input_list = [int(a) for a in input_list]
<END>
<QUE>
python Google App Engine : Webapp2 : Authentication
<ANS>
def post(self):
  """
  username: Get the username from POST dict
  password: Get the password from POST dict
  """
  username = self.request.POST.get('username')
  password = self.request.POST.get('password')
  # Try to login user with password
  # Raises InvalidAuthIdError if user is not found
  # Raises InvalidPasswordError if provided password doesn't match with specified user
  try:
    self.auth.get_user_by_password(username, password)
    self.redirect('/secure')
  except (InvalidAuthIdError, InvalidPasswordError), e:
    # Returns error message to self.response.write in the BaseHandler.dispatcher
    # Currently no message is attached to the exceptions
    return e
<END>
<QUE>
Integer square root in python
<ANS>
def isqrt(n):
    x = n
    y = (x + 1) // 2
    while y < x:
        x = y
        y = (x + n // x) // 2
    return x
<END>
<QUE>
Matching text with regex/python - remove "=/r/" at line breaks
<ANS>
for part in mail.walk():
    if part.get_content_type() == 'text/plain':
        content = part.get_payload()
        message = re.compile(r'\%(.+?)\%', re.DOTALL).findall(content)
        # This will just substitue the '=\r\' with nothing.
        message = re.sub(r'=\\r\\', '', message)
        print message
<END>
<QUE>
Map Color Algorithm in Python
<ANS>
countArea()
<END>
<QUE>
Setting fabric hosts list from an external hosts file
<ANS>
def set_hosts():
    env.hosts = open('hosts_file', 'r').readlines()
<END>
<QUE>
Enthought: no Python documentation found for 'modules' + version number
<ANS>
import sys
print sys.modules
<END>
<QUE>
In Python, when iterating through items in list, how to start at 0 if end is reached?
<ANS>
mylist = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k']
i = 0
while i <= 27:
    print mylist[i % len(mylist)]
    i +=1
<END>
<QUE>
FeinCMS allow a contenttype only once per page object
<ANS>
class FooContent(models.Model):
    content = models.Bar('...')

    class Meta:
        abstract = True

    def clean(self):
        if self.parent.foocontent_set.count() >= 1:
            raise ValidationError('FooContent is only allowed once per Page.')

    def render(self, **kwargs):
        return render_to_string('content/foo.html', {
            'content': self.content
        })
<END>
<QUE>
Remove specific character from a csv file, and rewrite to a new file
<ANS>
import csv
import string

input_file = open('DesktopData.csv', 'r')
output_file = open('fixformat.csv', 'w')
data = csv.reader(input_file)
writer = csv.writer(output_file,quoting=csv.QUOTE_ALL)# dialect='excel')
specials = '%'

for line in data:
    line = str(line)
    new_line = str.replace(line,specials,'')
    writer.writerow(new_line.split(','))

input_file.close()
output_file.close()
<END>
<QUE>
Global variables in Python 3 class
<ANS>
import urllib
from urllib.request import urlopen

x = None

class ABC(object):

 def __init__(self):
   global x
   x=urlopen('http://www.google.com/').read()
<END>
<QUE>
Plotting discrete, lumpy 2D matplotlib plots with logarithmic colouring
<ANS>
X = np.array(xvals)
Y = np.array(yvals)
Z = np.array(zvals)
Y_bot = np.array(bottomvals)

fig = plt.figure()
ax = fig.add_subplot(111)

jet = plt.get_cmap('jet')

log_norm = colors.LogNorm()

for x,y,z,bot in zip(X,Y,Z,Y_bot):
    log_z = np.log10(z)/np.log10(max(Z))
    colour = jet(log_price)
    ax.bar(x,y,bottom=bot, width=1, edgecolor='none',color=c_col)

a = np.vstack((Z,Z))
im = plt.imshow(a, aspect='auto', cmap=jet, origin='lower', norm=log_norm)
im.set_visible(False)
plt.colorbar(format='%.1f')
plt.axis([values])
plt.show()
<END>
<QUE>
How to use python markdown to process a file that is read in?
<ANS>
f = open('myfile.txt', 'r')
htmlmarkdown=markdown.markdown( f.read() )
<END>
<QUE>
Apply formula to specific numpy array values
<ANS>
cond2 = (SPN >= -alpha) & (SPN <= 0)
SPN[cond2] = -np.cos(SPN[cond2]*np.pi/(2*alpha))
<END>
<QUE>
Getting the functionality of the scrapy crawl command when running a spider from a script
<ANS>
settings = get_project_settings()
settings.set('USER_AGENT','Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)')
process = CrawlerProcess(settings)
process.crawl(MySpider3)
process.start()
<END>
<QUE>
3d Drawing in Python with OpenGL
<ANS>
python-ogre
<END>
<QUE>
Regex for string starting with $ followed by integer and contains brackets
<ANS>
'^\$\d+=.*\(.*\).*'
<END>
<QUE>
What is the best way to store integers mapped to strings so that the keys can be ranges in python?
<ANS>
doodahs = (
    (0, "FOO"),
    (257, "BAR"),
    (258, "FISH"),
    (279, "MOOSE"),
    (280, "Darth Vader"),
    (65535, "Death to all newbies")
)
<END>
<QUE>
How can I get number of files uploaded in tkinter Python
<ANS>
self.uploadedfilenames
<END>
<QUE>
passing a pointer value to a C function from python
<ANS>
from ctypes import *

Val_GetStatus= CDLL('x').Val_GetStatus
Val_GetStatus.argtypes = [c_int,POINTER(c_unit8)]
Val_GetStatus.restype = c_int

deviceStatus = ctypes.c_uint8()

print Val_GetStatus(0, byref(deviceStatus))
print deviceStatus.value
<END>
<QUE>
Python show all installed packages
<ANS>
import apt
cache = apt.Cache()

for mypkg in apt.Cache():
    if cache[mypkg.name].is_installed:
        print mypkg.name
<END>
<QUE>
How to add clickable links to open a folder/file in output of a print statement? (Python desktop application)
<ANS>
print('<a href="http://www.example.com">example text</a>')
<END>
<QUE>
Variable number of inputs with Django forms possible?
<ANS>
class EligibilityForm(forms.Form):
    def __init__(self, *args, **kwargs):
        super(EligibilityForm, self).__init__(*args, **kwargs)
        # dynamic fields here ...
        self.fields['plan_id'] = CharField()
    # normal fields here ...
    date_requested = DateField()
<END>
<QUE>
How to get full output of python program?
<ANS>
import logging
logger = logging.getLogger('myapp')
hdlr = logging.FileHandler('/var/tmp/myapp.log')
formatter = logging.Formatter('%(asctime)s %(levelname)s %(message)s')
hdlr.setFormatter(formatter)
logger.addHandler(hdlr) 
logger.setLevel(logging.WARNING)
<END>
<QUE>
Using tempfile to create a sub-directory for all of my tempfiles
<ANS>
import os
import tempfile

#define the location of 'mytemp' parent folder relative to the system temp
sysTemp = tempfile.gettempdir()
myTemp = os.path.join(sysTemp,'mytemp')

#You must make sure myTemp exists
if not os.path.exists(myTemp):
    os.makedirs(myTemp)

#now make your temporary sub folder
tempdir = tempfile.mkdtemp(suffix='foo',prefix='bar',dir=myTemp)

print tempdir
<END>
<QUE>
How to check if my table has a specific letter
<ANS>
table = [['*', '*', '*', '*', '*'],
        ['*', '*', '*', '*', '*'],
        ['*', '*', '*', '*', '*'],
        ['*', '*', '*', '*', '*'],
        ['*', '*', '*', '*', '*']]

def print_table():
    print('
'.join(['\t'.join(x) for x in table]))

def table_has_letter(letter):
    return any(letter in x for x in table)

print(table_has_letter('*'))
<END>
<QUE>
Tricky Django QuerySet with Complicated ForeignKey Traversals
<ANS>
return BuildPart.objects.filter(build__id=part.product.pk)
<END>
<QUE>
Comparing day ranges with Django
<ANS>
Deal.objects.filter(
  Q(deal_day_start__lte=current_day, deal_day_end__gte=current_day) | 
  Q(deal_day_start__lte=current_day, deal_day_end__lt=F("deal_day_start")) | 
  Q(deal_day_start__gte=current_day, deal_day_end__gte=current_day, deal_day_end__lt=F("deal_day_start"))
)
<END>
<QUE>
Reading multidimensional array data into Python
<ANS>
data = numpy.loadtxt('position.txt')
<END>
<QUE>
Delete all expressions in Expression editor
<ANS>
cmds.delete(cmds.ls(type='expression'))
<END>
<QUE>
Is there a method to load a 2D array into three 1D arrays?
<ANS>
X,Y =  np.indices(data.shape)
Z = data.ravel()
X = X.ravel()
Y = Y.ravel()
<END>
<QUE>
SQLAlchemy: Using delete/update with a join query
<ANS>
db.session.query(Post).filter(Post.user_id==current_user.id).delete()
<END>
<QUE>
Showing a .png image in a window in wxPython
<ANS>
png = wx.Image(imageFile, wx.BITMAP_TYPE_ANY).ConvertToBitmap()
wx.StaticBitmap(self, -1, png, (10, 5), (png.GetWidth(), png.GetHeight()))
<END>
<QUE>
Using Tkinter to export user input to a .csv file
<ANS>
from tkinter import * 
import csv

class App(Frame):
    def __init__(self, master=None):
        Frame.__init__(self, master)
        self.pack()
        self.output()

    def output(self):
        Label(text='Name:').pack(side=LEFT,padx=5,pady=5)
        self.e = Entry(root, width=10)
        self.e.pack(side=LEFT,padx=5,pady=5)

        self.b = Button(root, text='Submit', command=self.writeToFile)
        self.b.pack(side=RIGHT,padx=5,pady=5)

    def writeToFile(self):
        with open('WorkOrderLog.csv', 'a') as f:
            w=csv.writer(f, quoting=csv.QUOTE_ALL)
            w.writerow([self.e.get()])

if __name__ == "__main__":
    root=Tk()
    root.title('Auto Logger')
    root.geometry('1000x100')
    app=App(master=root)
    app.mainloop()
    root.mainloop()
<END>
<QUE>
How to explain an attribute in Python to a novice
<ANS>
car.color()
<END>
<QUE>
Mysql timestamp Data truncated for column
<ANS>
cursor.execute("""INSERT INTO temps VALUES (%s,%s,CURRENT_TIMESTAMP)""",(avgtemperatures[0],avgtemperatures[1]))
<END>
<QUE>
Django-tastypie multiple urls in prepend_urls
<ANS>
def prepend_urls(self):
        return [
            url(
                r"^(?P<resource_name>%s)/(?P<my_id>\d+)/$"
                % self._meta.resource_name, self.wrap_view('dispatch_detail'),
                name="api_dispatch_detail_id"),
            url(
                r"^(?P<resource_name>%s)/(?P<name>[\w\d_.-]+)/$"
                % self._meta.resource_name, self.wrap_view('dispatch_detail'),
                name="api_dispatch_detail_name"),
        ]
<END>
<QUE>
Django urls straight to html template
<ANS>
urlpatterns = patterns('django.views.generic.simple',
    (r'(.+\.html)$', 'direct_to_template'),
    # ...
)
<END>
<QUE>
How do I direct output to a file when there are UTF-8 characters?
<ANS>
PYTHONIOENCODING=utf8
<END>
<QUE>
Returning for loop inside a while loop in python
<ANS>
def izpisi(polje):
    return '
'.join([ # inserts '
' between the lines
        ''.join(map(str, sublst)) # converts list to string of numbers
        for sublst in zip(*polje) # zip(*...) transposes your matrix
    ][::-1]) # [::-1] reverses the list

polje = [[1, 2, 4, 4], [4, 1, 4, 2], [2, 1, 4, 3], [2, 4, 2, 3], [1, 2, 3, 4]]
print izpisi(polje)
<END>
<QUE>
In Python, how should one extract the second-last directory name in a path?
<ANS>
'/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisTop/2.0.24/RootCore'.split('/')[-2]
<END>
<QUE>
Django - How to use a filter with a foreign key field?
<ANS>
LogEntry.objects.filter(content_type__name='visitor')
<END>
<QUE>
Can i cycle through line styles in matplotlib
<ANS>
import matplotlib.pyplot as plt
from itertools import cycle
lines = ["-","--","-.",":"]
linecycler = cycle(lines)
plt.figure()
for i in range(10):
    x = range(i,i+10)
    plt.plot(range(10),x,next(linecycler))
plt.show()
<END>
<QUE>
how to get English tweets alone using python?
<ANS>
for i in range (0,1000):
   if data['statuses'][i][u'lang']==u'en':
      print data['statuses'][i]['text']
      print '
'
<END>
<QUE>
Python mechanize login to website
<ANS>
import mechanize

self.browser = mechanize.Browser()
self.browser.open(self.url)
self.browser.select_form(name="login")

self.browser["login_nick"] = self.username
self.browser["login_pwd"] = self.password
self.browser.new_control("HIDDEN", "action", {})
control = self.browser.form.find_control("action")
control.readonly = False
self.browser["action"] = "login"
self.browser.method = "POST"
self.browser.action = self.url

response = self.browser.submit()
<END>
<QUE>
Python - How to Send a Command to a Web Server
<ANS>
import urllib2
content = urllib2.urlopen(some_url)
<END>
<QUE>
Use search with regex to find Korean characters using Python
<ANS>
import re

line = [u'x', u'y', u'z', u'???', u'a']

if any([re.search(u'[\u3131-\ucb4c]', x) for x in line[3:]]):
    print "found character"
<END>
<QUE>
Terminate importation of module non-fatally?
<ANS>
# code

if __name__ == "__main__": exec("""

# main code

#""")
<END>
<QUE>
create a file in the script using python
<ANS>
open('1.txt', 'w')
<END>
<QUE>
if loop in finding for a value in a List
<ANS>
isid_node=[100,105]
isid_init_val=100
isid_new=[]

while(len(isid_new)<=5):
  if isid_init_val in isid_node:
    isid_init_val=isid_init_val+1
  else:
    isid_new.insert(20,isid_init_val)
    isid_init_val=isid_init_val+1

print isid_new
<END>
<QUE>
Don't wait for files to download with Scrapy
<ANS>
from scrapy.contrib.pipeline.media import MediaPipeline

class VideoPipeline(MediaPipeline):
    VIDEOS_DIR = "/stack/scrapy/video/video/store"

    def get_media_requests(self, item, info):
        """
        Evaluate file and, if you like it, download it.
        """
        os.system("vlc -vvv %s > /dev/null 2>&1 &" % item['video_url'][0])
        your_opinion = raw_input("how does it look?")
        item["comment"] = your_opinion
        if your_opinion == "hot":
            # issue request download video
            return Request(item["video_url"][0], meta={"item":item})

    def media_downloaded(self, response, request, info):
        """
        File is downloaded available as response.body save it.
        """
        item = response.meta.get("item")
        video = response.body
        video_basename = item['title'][0]
        new_filename = os.path.join(self.VIDEOS_DIR, video_basename)
        f = open(new_filename, 'wb')
        f.write(video)
        f.close()
<END>
<QUE>
Getting a string from subprocess.call?
<ANS>
p = subprocess.Popen(cmd, shell=False, stdout=subprocess.PIPE)
somestr = p.stdout.readline()
<END>
<QUE>
How can I grab the table data for select rows in BeautifulSoup
<ANS>
from bs4 import BeautifulSoup
import requests

r=requests.get('http://www.virginiaequestrian.com/main.cfm?action=greenpages&GPType=8')
soup=BeautifulSoup(r.content)

tbl = soup.findAll('table')[2]
for tr in tbl.findAll('tr'):
    for td in tr.findAll('td'):
        if td.p:
            print td.p.string
<END>
<QUE>
What is the best way to extract load average float values from a string in Python?
<ANS>
# s is the string to parse
loadavg = [float(x) for x in s.rsplit('load average: ', 1)[1].split(', ')]
<END>
<QUE>
PowerPoint presentation slide count from Python?
<ANS>
from os import getcwd

filename = getcwd() + '//' + filename
<END>
<QUE>
Convert a list of strings to a list of tuples in python
<ANS>
[tuple(int(s) for s in i.split(',')) for i in k]
<END>
<QUE>
How to filter a list with relevant elements left only
<ANS>
list1 = [i for i in list1 if not(i%3==0)]
<END>
<QUE>
Refining fnmatch pattern for more specific results
<ANS>
filnames = ["LOG.001","LOG.002","LOG.001.csv","LOG.003.csv","LOG.1002"]
print [x for x in filnames if re.search("LOG.\d+$",x)]

['LOG.001', 'LOG.002', 'LOG.1002']
<END>
<QUE>
Basic for loop in Python 3
<ANS>
for i in range(numberOfValues):
    print startValue + i * increment
<END>
<QUE>
two lists into one multidimensional list
<ANS>
list3 = [list(a) for a in zip(list1, list2)]
<END>
<QUE>
Gather arguments in a recursive function
<ANS>
return gcd((b, a % b))
<END>
<QUE>
Remove Duplicates from Text File
<ANS>
from collections import OrderedDict

with open('/home/jon/testdata.txt') as fin:
    lines = (line.rstrip() for line in fin)
    unique_lines = OrderedDict.fromkeys( (line for line in lines if line) )

print unique_lines.keys()
# ['None_None', 'ConfigHandler_56663624', 'ColumnConverter_56963312',PredicatesFactory_56963424', 'PredicateConverter_56963648', 'ConfigHandler_80134888']
<END>
<QUE>
Backtesting multiple stocks using Python
<ANS>
def run_strategy(smaPeriod,inst):

        # Download the bars.
    feed = yahoofinance.build_feed([inst], 2011, 2013, ".")

        # Evaluate the strategy with the feed's bars.
    myStrategy = MyStrategy(feed, inst, smaPeriod)
    myStrategy.run()
    print "Final portfolio value: $%.2f" % myStrategy.getBroker().getEquity()
def main():
    instruments = ["AAPL","EBAY", "NFLX", "BBY"]
    for inst in instruments:
            run_strategy(10,inst)
if __name__ == '__main__':
        main()
<END>
<QUE>
Finding whether a string starts with one of a list's variable-length prefixes
<ANS>
name=name[len(filter(name.startswith,prefixes+[''])[0]):]
<END>
<QUE>
Updating tkinter labels in python
<ANS>
def user_updater(self):
    self.user_updater_id = self.user_label.after(1000, self.user_updater)
    lines = []
    for user in self.server.Users:
        lines.append(user)
    self.user_label["text"] = "
".join(lines)

def stop_user_updater(self):
    self.user_label.after_cancel(self.user_updater_id)
<END>
<QUE>
How to extract the raw data from a mp3 file using python?
<ANS>
from pydub import AudioSegment

sound = AudioSegment.from_mp3("test.mp3")

# sound._data is a bytestring
raw_data = sound._data
<END>
<QUE>
Resizing tkinter listbox to width of largest item, using .grid
<ANS>
len_max = 0
list_items = ["item2", "item2", "item3+a few characters for the size"]
for m in list_items:
    if len(m) > len_max:
        len_max = len(m)

import tkinter
master = Tk()

my_listbox1 = Listbox(master, width = len_max)
my_listbox1.grid(row = 0, column = 0)

my_listbox2 = Listbox(master, width = len_max)
my_listbox2.grid(row = 0, column = 1)

my_listbox1.insert(END, list_items[0])
my_listbox2.insert(END, list_items[1])
my_listbox2.insert(END, list_items[2])

master.mainloop()
<END>
<QUE>
How to crawl links to a particular domain by searching on Google?
<ANS>
return [FormRequest.from_response(response,
            formdata={'search': 'you\'re search string'},
            callback=self.parse)]
<END>
<QUE>
Python Quickest Method to Iteratively Slice List of Date Strings
<ANS>
import numpy as np

d = np.random.choice(xrange(0, 1000), size=100000, replace=True).tolist()
d = [str(item) for item in d]

total = len(d)
greatest = d[total-1]
for i in reversed(xrange(total)):
    greatest = max(greatest, d[i])
    if i % 1000 == 0:  # To track progress
        print i
<END>
<QUE>
How to get the user email from auth.User when filterring a field in UserProfile?
<ANS>
groups_list = User.objects.filter(userprofile__status__in=group_list).values_list('email',    flat=True)
<END>
<QUE>
python, pass a variable so it's recognized as an attribute
<ANS>
temp = gc.open(row['sheet'])
wks = temp.row['worksheet']
<END>
<QUE>
How to output a Numpy array to a file object for Picloud
<ANS>
import cloud
import cPickle as pickle

# to write
cloud.bucket.putf(pickle.dumps(P), 'p.csv')

# to read
obj = pickle.loads(cloud.bucket.getf('p.csv').read())
<END>
<QUE>
Get row of 2d array where min value is in first col
<ANS>
m[np.argmin(m[:, 0]), :]
<END>
<QUE>
Plotting orbits in Python from orbital elements
<ANS>
import matplotlib.pyplot as plt;
plt.plot(X, Y, color);
plt.show();
<END>
<QUE>
How do I convert a python list comprehension to a map/filter function calls?
<ANS>
return map(lambda x: x.doSomething(), 
           filter(lambda x: x[0] == "z", getIterator()))
<END>
<QUE>
Extracting from csv files with python code
<ANS>
for row in cr:
    if row or any(row) or any(field.strip() for field in row):
         ca.writerow(row)

# add these two lines
outputCSV.close() 
appendCSV.close()

f=csv.reader(open('C:\\..\\OUTPUT.csv','rb'))
for column in f:
     if column or any(column) or any(fields.strip() for fields in column):
         ca_final.writerow(column[3:]) # put a colon here

# close files
inputCSV.close()
outputCSV.close()
appendCSV.close()
<END>
<QUE>
extracting more information from webdriver
<ANS>
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
import time
driver = webdriver.Firefox()
driver.get("http://www.flipkart.com/mobiles/pr?   p%5B%5D=sort%3Dfeatured&sid=tyy%2C4io&ref=659eb948-c365-492c-99ef-59bd9f0427c6")
time.sleep(3)
for i in range(5):
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);") # scroll to bottom of page
    time.sleep(2)
driver.find_element_by_xpath('//*[@id="show-more-results"]').click() # click load more  button, needs to be done until you reach the end.
elem=[]
elem=driver.find_elements_by_xpath('.//div[@class="pu-title fk-font-13"]')
for e in elem:
   print e.text
<END>
<QUE>
sqlite3 index table in python
<ANS>
sql = ("CREATE INDEX index_my_table2 ON my_table (value);")
cursor.execute(sql)
<END>
<QUE>
How to exclude a sign of equality in regular expressions?
<ANS>
_ATTRIBUTE_PATTERN = r'[\w_]+\s*=\s*[\w\.\-]+' # matches ad = 0.013p
# _ATTRIBUTE_PATTERN = r'[^=]+=[^=]+' # matches string containing '='
_PIN_PATTERN = r'\w+\s*:\s*\w+'  # matches VSS:F85
# _PIN_PATTERN = r'[^=]+' # if you want to match any string which does not contain '=' char
<END>
<QUE>
converting binary string into float
<ANS>
def as_float32(self):
    """
    See: http://en.wikipedia.org/wiki/IEEE_754-2008
    """
    from struct import pack,unpack
    s = self.bitlist
    return unpack("f",pack("I", bits2int(s)))

# Where the bits2int function converts bits to an integer.  
def bits2int(bits):
    # You may want to change ::-1 if depending on which bit is assumed
    # to be most significant. 
    bits = [int(x) for x in bits[::-1]]

    x = 0
    for i in range(len(bits)):
        x += bits[i]*2**i
    return x
<END>
<QUE>
How to create a zip archive of a directory
<ANS>
#!/usr/bin/env python
import os
import zipfile

def zipdir(path, ziph):
    # ziph is zipfile handle
    for root, dirs, files in os.walk(path):
        for file in files:
            ziph.write(os.path.join(root, file))

if __name__ == '__main__':
    zipf = zipfile.ZipFile('Python.zip', 'w')
    zipdir('tmp/', zipf)
    zipf.close()
<END>
<QUE>
Log in to website using Python Requests module
<ANS>
payload_login = {
    'proxyUsername': username,
    'proxyPassword': password,
    'proxyRememberUser': true
}
<END>
<QUE>
how can i improve my multi threading usage to decrease run time, python
<ANS>
some_task()#do processor heavy task
<END>
<QUE>
converting image name extension from .PNG to .png in Python
<ANS>
import os

files = os.listdir(".")
for filename in files:
    file_wo_ext, file_ext = os.path.splitext(filename)
    if file_ext == ".PNG":
        newfile = file_wo_ext + ".png"
        os.rename(filename, newfile)
<END>
<QUE>
How do I draw a reverse triangle using characters and nested while loops in Python code?
<ANS>
chr = "*"
size = 5
row = 1
while row <= size:
    col = size - row + 1
    while col <= size:
        print ' ', 
        col = col + 1
    col = 0
    while col <= size-row:
        print chr, 
        col = col + 1
    row = row + 1
    print ''
print ''
<END>
<QUE>
Python BaseHTTPServer: How to get it to stop?
<ANS>
please_die = threading.Event()

# in handler
please_die.set()

# in main thread
please_die.wait()
httpd.shutdown()
<END>
<QUE>
Contour with Z(X,Y)
<ANS>
from pylab import *

def genuchten(t,C,k):
    return 1/(1+(C/t)**k)**(1-1/k)

###MAIN#######
t0, Y, X = ogrid[0:10:100j, 1:10:10j, 1:10:10j]
f0 = genuchten(t0, 3, 3)
f = genuchten(t0, X, Y)
Z = sum(abs(f0-f), axis=0)
contourf(X.ravel(), Y.ravel(), Z)
show()
<END>
<QUE>
Want to change progress bar color to Black in wx python
<ANS>
import wx.lib.agw.pyprogress.ProgressGauge as pg

prog = pg.ProgressGauge(self, -1)
prog.SetGaugeBackground(wx.Colour(0, 0, 0))
<END>
<QUE>
Python : append mysql results
<ANS>
import _mysql

db=_mysql.connect("localhost","sundar","","test")

db.query("select username from auth_user")

result = db.store_result()
r=""
while True:
    record = result.fetch_row()
    if not record: break
    elif record is None:break
    else:r+= record[0][0]
print r
<END>
<QUE>
Converting a tuple into two parts
<ANS>
def list_parser(l):
    for t in l:
        items = t[0].split(", ")
        category = items[0]
        number_strings = items[1:]
        numbers = [float(n) for n in number_strings]
        yield (category, numbers)
<END>
<QUE>
Loop line by line and wall clock time with a Python Filter
<ANS>
import time
def time_chunk( some_source, period=10 ):
    start= time.time()
    buffer= []
    for line in some_source:
        buffer.append( line )
        if time.time() - start >= period:
            start= time.time()
            yield buffer
            buffer= []
    yield buffer

for chunk in time_chunk( sys.stdin ):  
    print( stats( chunk ) )
<END>
<QUE>
How to make a function print many times on the same line, e.g. print('test')*3
<ANS>
def myprint(times):
    print(times*"foobar")
foo = random.randint(1, 6)
myprint(foo)
<END>
<QUE>
nesting to a dynamic depth in Python
<ANS>
def example(arg_list, res=[]):
    if arg_list == []:
        print res
        return
    for i in arg_list[0]:
        example(arg_list[1:], res+[i])
<END>
<QUE>
Update primary key Django MySQL
<ANS>
e2.delete()
<END>
<QUE>
Print in Reverse Order Python
<ANS>
f = urlopen ('http://ichart.finance.yahoo.com/table.csv?s=AAPL&d=4&e=29&f=2014&g=d&a=8&b=22&c=1981&ignore=.csv')
with open('output.csv', 'w') as out:
    # print header first
    out.write(f.readline())

    # then print reversed lines
    for line in reversed(f.readlines()):
        out.write(line)

f.close()  # !!!
<END>
<QUE>
How to zip a set of lists which store in a list in python?
<ANS>
zip(*list_of_list)
<END>
<QUE>
List from string of digits question
<ANS>
s = raw_input() # input() in Python 3
try:
  numbers = map(int, s.split())
except ValueError:
  print('Invalid format')
<END>
<QUE>
Updating a embedded documents in mongoengine
<ANS>
Feed.objects(_id="...", posts__text="findvalue").update(set__posts__S__value="updatevalue")
<END>
<QUE>
Add form field data based on user input
<ANS>
def save(self):
    data = self.cleaned_data

    questions = get_questions_with_tag('example_tag')
    questions = questions[:data['number_of_questions']]

    self.instance.save()
    self.instance.questions = questions

    quiz.save()
<END>
<QUE>
Python: how can I get rid of the second element of each sublist?
<ANS>
a = [[501, 4], [501, 4], [501, 4], [501, 4]]
b = [c[0] for c in a]
<END>
<QUE>
Finding out if half the letters in a word are vowels
<ANS>
def mostlyVowels(words):
  acc = []
  for word in words.split():
    i = 0
    for char in word.lower():
      if char in 'aeiou': i += 1
      else:               i -= 1
    if i > 0: acc.append(word)
  return acc
<END>
<QUE>
How to clone pexpect winsize from current terminal?
<ANS>
rows, cols = map(int, os.popen('stty size', 'r').read().split())
child.setwinsize(rows, cols)
<END>
<QUE>
Returning default value from a nested dict lookup in python
<ANS>
def try_get(dic, default, *keys):
    for key in keys:
        try:
            dic = dic[key]
        except KeyError:
            return default
    return dic

e['a'] = try_get(d, 0, 'a')
e['d'] = try_get(d, 0, 'b', 'c', 'd')
<END>
<QUE>
Implementing a Class Called Average as a Subclass of List
<ANS>
class AvgList(list):
  def avg(self):
     for items in self:
        if not isinstance(items,int):
            raise ValueError('Invalid item in list. All items need to be an integer.')

     return sum(self)/len(self)
<END>
<QUE>
python print only the names from text file
<ANS>
with open("malenames.txt") as f:
   for line in f:
      print (line.split()[0])
<END>
<QUE>
Appending a line to a plot in matplotlib, axis glitch
<ANS>
import matplotlib.pyplot as plt
def add_lines(ax=None):
    ax = ax or plt.gca()
    return ax.plot([1, 2], [1, 2])
<END>
<QUE>
Python reading from tempfile not successful
<ANS>
import subprocess
import tempfile

editor = ['gedit']

with tempfile.NamedTemporaryFile(delete=False) as tmpfile:
    subprocess.call(editor + [tmpfile.name])    # editor = 'subl -w -n' for example 
    tmpfile.file.close()
    tmpfile = file(tmpfile.name)
    print tmpfile.read()
<END>
<QUE>
Count the elements in list & array in succession
<ANS>
A = [1,1,1,-1,-1,-1,-1,1,1,1,-1,-1]
AA = ['a','a','b','b','b','a','b','b','b','b','b','a','a']
var = 0
counter = 0
B = []
BB = []
for num, val in enumerate(A):
    if var:
        if var==val:
            count = count + val
        else:
            var = val
            B.append(count)
            count = val
    else:
        var = val
        count = val
    if num == len(A) - 1:
        B.append(count)

var = 0
counter = 0
for num, val in enumerate(AA):
    if var: 
        if var==val:
            count = count + 1
        else:
            BB.append([var, count])
            var = val
            count = 1
    else:
        var = val
        count = 1
    if num == len(AA) - 1:
        BB.append([val, count])
<END>
<QUE>
python: difference of two timedate strings
<ANS>
import datetime

d1 = datetime.datetime.strptime('2011:10:01:10:30:00', '%Y:%m:%d:%H:%M:%S')
d2 = datetime.datetime.strptime('2011:10:01:11:15:00', '%Y:%m:%d:%H:%M:%S')
diff = (d2 - d1).total_seconds() / 60
<END>
<QUE>
Reading an HTML File from Folder in Python
<ANS>
HtmlFile = open(fname, 'r', encoding='utf-8')
source_code = HtmlFile.read()
<END>
<QUE>
How to extract email body using the google app engine mail api?
<ANS>
body = re.sub("^[\s\S]*?[
\r][
\r]", "", body)
<END>
<QUE>
Python how calculate a polygon perimeter using an osgeo.ogr.Geometry object
<ANS>
poly = [(0,10),(10,10),(10,0),(0,0)]


def segments(poly):
        """A sequence of (x,y) numeric coordinates pairs """
        return zip(poly, poly[1:] + [poly[0]])

def area(poly):
    """A sequence of (x,y) numeric coordinates pairs """
    return 0.5 * abs(sum(x0*y1 - x1*y0
        for ((x0, y0), (x1, y1)) in segments(poly)))

def perimeter(poly):
    """A sequence of (x,y) numeric coordinates pairs """
    return abs(sum(math.hypot(x0-x1,y0-y1) for ((x0, y0), (x1, y1)) in segments(poly)))
<END>
<QUE>
How to read the data of a raw image in python - approach
<ANS>
raw_data = imread('my_picture.raw')
<END>
<QUE>
Python pandas dataframe: retrieve number of columns
<ANS>
import pandas as pd
df = pd.DataFrame({"pear": [1,2,3], "apple": [2,3,4], "orange": [3,4,5]})

len(df.columns)
3
<END>
<QUE>
how to imitate a link click in QTextBrowser
<ANS>
from tabwidget import Ui_MainWindow
import sys
from PyQt4 import QtGui, QtCore

class MyApp(QtGui.QMainWindow):
    def __init__(self, parent=None):
        QtGui.QWidget.__init__(self, parent)
        self.ui = Ui_MainWindow()
        self.ui.setupUi(self)

        QtCore.QObject.connect(self.ui.pushButton, QtCore.SIGNAL('clicked()'), self._show)

    def _show(self):
        self.ui.tabWidget.setCurrentWidget(self.ui.tab_2)
        self.ui.textBrowser.setSource(QtCore.QUrl('text.html#anchor'))

if __name__ == "__main__":
    app = QtGui.QApplication(sys.argv)
    mw = MyApp()
    mw.show()
    app.exec_()
<END>
<QUE>
How to upload a base64 encoded string to s3 and access the url in html file in python
<ANS>
conn = boto.connect_s3(AWS_ACCESS_KEYXXX, AWS_SECRET_KEYXXX)
bucket = conn.get_bucket(AWS_BUCKET_NAMEXXX)
k = Key(bucket)
k.key = s3_file_name
k.set_metadata('Content-Type', 'image/jpeg')
k.set_contents_from_file(file_obj)
<END>
<QUE>
defaultdict how to get sum of all values in a list?
<ANS>
d = defaultdict(int)

for model in models:

    getids = model.objects.values_list('keyword', 'score')
    for kw, score in getids:
        d[kw] += score
<END>
<QUE>
AttributeError in Python Tornado to configure log into a file
<ANS>
tornado.options.options.log_file_prefix = "local.log"
<END>
<QUE>
Python strptime - Handling single digit dates
<ANS>
def convertTime(seconds, tz):
    tzhours, tzminutes = map(int, (tz.lstrip('-')[:2], tz[-2:]))
    offset = tzhours * 3600 + tzminutes * 60
    if tz.startswith('-'):
        offset *= -1
    return time.strftime('%Y%m%d_%H%M%S', time.gmtime(seconds + offset))
<END>
<QUE>
How use the mean method on a pandas TimeSeries with Decimal type values?
<ANS>
import numpy as np
ts.groupby([by('year'), by('month'), by('day')]).apply(lambda x: np.mean(x))
<END>
<QUE>
PHP SHA-512 to Python+C SHA-512
<ANS>
import crypt
def hashPassword(salt, password, rounds=5000):
    return crypt.crypt(password, '$6$rounds={:d}${}$'.format(rounds, salt))
<END>
<QUE>
Is it possible to run a Python script as a service in Windows? If possible, how?
<ANS>
import pythoncom
import win32serviceutil
import win32service
import win32event
import servicemanager
import socket


class AppServerSvc (win32serviceutil.ServiceFramework):
    _svc_name_ = "TestService"
    _svc_display_name_ = "Test Service"

    def __init__(self,args):
        win32serviceutil.ServiceFramework.__init__(self,args)
        self.hWaitStop = win32event.CreateEvent(None,0,0,None)
        socket.setdefaulttimeout(60)

    def SvcStop(self):
        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)
        win32event.SetEvent(self.hWaitStop)

    def SvcDoRun(self):
        servicemanager.LogMsg(servicemanager.EVENTLOG_INFORMATION_TYPE,
                              servicemanager.PYS_SERVICE_STARTED,
                              (self._svc_name_,''))
        self.main()

    def main(self):
        pass

if __name__ == '__main__':
    win32serviceutil.HandleCommandLine(AppServerSvc)
<END>
<QUE>
How to make an authenticated request from a script to appengine?
<ANS>
from google.appengine.tools import appengine_rpc
use_production = True
if use_production:
  base_url = 'myapp.appspot.com'
else:
  base_url = 'localhost:8080'


def passwdFunc():
  return ('user@gmail.com','password')

def main(argv):
  rpcServer = appengine_rpc.HttpRpcServer(base_url,
                                          passwdFunc,
                                          None,
                                          'myapp',
                                          save_cookies=True,
                                          secure=use_production)
# Makes the actual call, I guess is the same for POST and GET?
blah = rpcServer.Send('/some_path/')

print blah

if __name__ == '__main__':
  main(sys.argv)
<END>
<QUE>
Python datetime formatting conversion
<ANS>
datetime.strptime("2012-03-10", "%Y-%m-%d").strftime("%a, %d %b %Y %H:%M:%S EDT")
<END>
<QUE>
How to accelerate matrix multiplications in Python?
<ANS>
scipy.sparse
<END>
<QUE>
Submenu items in Nautilus right-click menu
<ANS>
import nautilus

class ExampleMenuProvider(nautilus.MenuProvider):
    def __init__(self):
        pass

    def get_file_items(self, window, files):
        submenu = nautilus.Menu()

        item = nautilus.MenuItem('Nautilus::sbi','Nau-T','image')
        item.set_submenu(submenu)

        item_two = nautilus.MenuItem('Nautilus::s','www','image')
        submenu.append_item(item_two)

        return item,
<END>
<QUE>
Coordinate of the closest point on a line
<ANS>
# Length along line that is closest to the point
print(line.project(p))

# Now combine with interpolated point on line
np = line.interpolate(line.project(p))
print(np)  # POINT (5 7)
<END>
<QUE>
how to get hour integer from python datetime.time field
<ANS>
def set_hour_for_date(customer, hour_str, transaction_date):
    meridian = hour_str[-2:]
    hour = int(hour_str[:2])
    if meridian == 'PM':
        hour = hour + 12
    relative_time = customer.time_zone.localize(datetime(
                                                        transaction_date.year, 
                                                        transaction_date.month, 
                                                        transaction_date.day, 
                                                        hour, 
                                                        0, 
                                                        0, 
                                                        294757))

    return relative_time
<END>
<QUE>
How to remove all not float numbers and duplicates from list
<ANS>
import re
result = set(['17.99', '0.0', '26.95', '26.95', '17.99', 'None', '0.0'])
result = [item for item in result if re.match('\d+\.\d+$', item)]
result = [item for item in result if float(item) != 0.0]
<END>
<QUE>
variables included in TEMPLATE_CONTEXT_PROCESSORS not in template with DEBUG=False
<ANS>
ALLOWED_HOSTS = ['localhost']
<END>
<QUE>
Correct python code to insert NULL value into MySQL
<ANS>
cur.execute("INSERT INTO name (first, middle, last) VALUES (%s, %s, %s)", (f, m, l))
<END>
<QUE>
Display multiple images in Python Tkinter Sequentially
<ANS>
self.panel1.configure(image=new_image)
<END>
<QUE>
Setting Tkinter default widgets kwargs
<ANS>
my_options = {"bg" : "gray60", "font" : ("Tahoma", 20)}

tk.Label(root, text = "Same background", **my_options).grid(row = 1, column = 1)
tk.Button(root, text = "and font.", **my_options).grid(row = 1, column = 2, padx = (5, 0))
<END>
<QUE>
Removing duplicates from dataframe with index + row matching
<ANS>
a.combine_first(b)
<END>
<QUE>
Python, print a letter n times on an nth iteration
<ANS>
for i in range(1, 10):
    for j in "abcdefghijklmnopqrstuvwxyz":
        print j * i
<END>
<QUE>
How can I create two objects that monitor each other?
<ANS>
import multiprocessing as mp

queue = mp.Queue()

def adder(q):  # for the sake of this example, let's say we want to add squares of all numbers to the queue
    i = 0
    while i < 100:
        q.put(i**2)
        i += 1
    q.put(None)

def monitor(q):  # monitor the queue and do stuff with the data therein
    for e in iter(q.get, None):
        print(e)   # for now, let's just print the stuff


a = mp.Process(target=adder, args=(queue,))
b = mp.Process(target=monitor, args=(queue,))
a.start()
b.start()
a.join()  # wait for the process to finish
b.join()  # wait for the process to finish (both processes running simultaneously)
a.terminate()
b.terminate()
<END>
<QUE>
Building Dynamic HTML Email Content with Python
<ANS>
#!/usr/bin/env python

from smtplib import SMTP              # sending email
from email.mime.text import MIMEText  # constructing messages

from jinja2 import Environment        # Jinja2 templating

TEMPLATE = """
<html>
<head>
<title>{{ title }}</title>
</head>
<body>

Hello World!.

</body>
</html>
"""  # Our HTML Template

# Create a text/html message from a rendered template
msg = MIMEText(
    Environment().from_string(TEMPLATE).render(
        title='Hello World!'
    ), "html"
)

subject = "Subject Line"
sender= "root@localhost"
recipient = "root@localhost"

msg['Subject'] = subject
msg['From'] = sender
msg['To'] = recipient

# Send the message via our own local SMTP server.
s = SMTP('localhost')
s.sendmail(sender, [recipient], msg.as_string())
s.quit()
<END>
<QUE>
SQLAlchemy mapping case statements into model fields
<ANS>
query = session.query(
    Account,
    case([(FollowAssociation.follower_id == None, False)], else_=True).label('first'),
    case([(ali.follower_id == None, False)], else_=True).label('second')
).outerjoin(
    FollowAssociation,
    and_(Account.id == FollowAssociation.followee_id, FollowAssociation.follower_id == 1)
).outerjoin(ali, and_(Account.id == ali.follower_id, ali.followee_id == 1))


class CustomAccount(object):
    pass


mapper(CustomAccount, query.statement.alias())

res = session.query(CustomAccount).all()
print(res[0].id)
print(res[0].first)
<END>
<QUE>
Return Latitude and Longitude values from a PointField using tastypie
<ANS>
class MyModelResource(Resource):
    class Meta:
        qs = MyModel.objects.all()

    def dehydrate(self, bundle):
        # remove unneeded point-field from the response data
        del bundle.data['point']
        # add required fields back to the response data in the form we need it
        bundle.data['lat'] = bundle.obj.point.y
        bundle.data['lng'] = bundle.obj.point.x
        return bundle
<END>
<QUE>
Efficient way to replace a single element in the list with None
<ANS>
list[list.index('foo')] = None
<END>
<QUE>
Python : How to Pretty print html into a file
<ANS>
from BeautifulSoup import BeautifulSoup as bs
root=lh.tostring(sliderRoot) #convert the generated HTML to a string
soup=bs(root)                #make BeautifulSoup
prettyHTML=soup.prettify()   #prettify the html
<END>
<QUE>
concatenate data in excel using openpyxl in Python
<ANS>
max_row = ws.get_highest_row() # find last row of worksheet
reff = "A1:A" + str(max_row) # build an Excel range covering the data
values = [cell.value for cell in ws.range(reff)] # collect the data
ws.cell('A' + str(max_row + 1)).value = ' '.join(values) # write values
<END>
<QUE>
Optimalization of the primes finding function
<ANS>
def basic_gen_primes(n):
    """Return a list of all primes less then or equal to n"""
    if n < 2:
        return []

    # The sieve.  Each entry i represents (2i + 1)
    size = (n + 1) // 2
    sieve = [True] * size

    # 2(0) + 1 == 1 is not prime
    sieve[0] = False

    for i, value in enumerate(sieve):
        if not value:
            continue

        p = 2*i + 1

        # p is prime.  Remove all of its multiples from the sieve
        # p^2 == (2i + 1)(2i + 1) == (4i^2 + 4i + 1) == 2(2i^2 + 2i) + 1
        multiple = 2 * i * i + 2 * i 
        if multiple >= size:
            break

        while multiple < size:
            sieve[multiple] = False
            multiple += p 

    return [2] + [2*i+1 for i, value in enumerate(sieve) if value]
<END>
<QUE>
how to assign current logined user to a models object in django
<ANS>
save_prof = comp_prof.save(commit=False)
save_prof.user = request.user
save_prof.save()
<END>
<QUE>
running python script (with GUI wxpython) as a service
<ANS>
import myGUI

while True:
  try:
    myGUI.runGUICode() # make sure the execution stays in this loop
  except:
    pass # or do some recovery, initiallization, and logging here
<END>
<QUE>
Parsing an html line and pulling out only numbers that meet a certain criteria
<ANS>
if int(c.high0) >= 34:
            plt.text(x, y, int(c.high0), fontsize=7, fontweight='bold')
<END>
<QUE>
overwrite parent method partially in python
<ANS>
class parent(object):
  def method(self):
    blah
    self.helper()
    blah
  def helper(self):
    print("parent running")

class child(parent):
  def helper(self):
    print("child running")
<END>
<QUE>
How to turn users input into a list in Python?
<ANS>
user_choice_port = "23, 80, 44"
print map(int, user_choice_port.split(","))
print [int(n) for n in user_choice_port.split(",")]
<END>
<QUE>
How to handle urllib's timeout in Python 3?
<ANS>
from socket import timeout
try:
    response = urllib.request.urlopen(url, timeout=10).read().decode('utf-8')
except (HTTPError, URLError) as error:
    logging.error('Data of %s not retrieved because %s
URL: %s', name, error, url)
except timeout:
    logging.error('socket timed out - URL %s', url)
else:
    logging.info('Access successful.')
<END>
<QUE>
Python - Dumping a dictionary to certain format
<ANS>
with open('some_namespace.belns', 'w') as fp:
    for key in sorted(hgnc_ns_dict):
        fp.write('    {0}|{1}
'.format(key, hgnc_ns_dict[key]))
<END>
<QUE>
How do I compare an element in the list with a string value in python?
<ANS>
changes = "D A C"
messages1 = changes.split(" ")
if messages1[0] == "D":
    print "message1 == 'D'"
    #..... you logic here
<END>
<QUE>
How to sum dict elements
<ANS>
dictf = reduce(lambda x, y: dict((k, v + y[k]) for k, v in x.iteritems()), dict1)
<END>
<QUE>
I need a clean approach for range-checking floats in Python
<ANS>
if tmin is None: tmin = -INF
if tmax is None: tmax = +INF

tval = float(-b - discriminant) / float (2*a)
if tmin <= tval <= tmax:
    return tval 

tval = float(-b + discriminant) / float (2*a)
if tmin <= tval <= tmax:
    return tval

# Neither solution was within the acceptable range.
return None
<END>
<QUE>
Solving Sparse Linear Problem With Some Known Boundary Values
<ANS>
scipy.linalg.solve
<END>
<QUE>
Use of int(str)
<ANS>
try:
    how_much = int(next)
except ValueError:
    # handle the conversion failing; pass means 'ignore'
    pass
<END>
<QUE>
How to make new cells in ipython notebook markdown by default?
<ANS>
from IPython.display import display, Javascript

def markdown_below():
    display(Javascript("""
    IPython.notebook.insert_cell_below('markdown')
    """));

markdown_below()
<END>
<QUE>
Reading rows of CSV file into string in Python
<ANS>
import csv
with open('eggs.csv', 'rb') as csvfile:
    spamreader = csv.reader(csvfile, delimiter=' ', quotechar='|')
    for row in spamreader:
        print ', '.join(row)
<END>
<QUE>
Using jcifs in jython in order to access site using NTLM security
<ANS>
ai = NTLMAuthenticationInfo("domain", "your host", "user", "password")
result = request101.GET('/')
result = NTLMAuthentication(result, request101, ai)
<END>
<QUE>
Running a process within my Python code
<ANS>
import subprocess

p = subprocess.Popen('commands to run program', shell=True, stdin=subprocess.PIPE)
p.communicate(input='Y')
p.wait()
<END>
<QUE>
how to use the output/value of variable in python
<ANS>
back_minutes = timedelta(minutes=int(sys.argv[2]))
<END>
<QUE>
How do I integrate a timed loop in pyqt
<ANS>
QTimer.singleShot(60000, self.RefreshData)
<END>
<QUE>
ordering shuffled points that can be joined to form a polygon (in python)
<ANS>
import math
import matplotlib.patches as patches
import pylab
pp=[(-0.500000050000005, -0.5), (-0.499999950000005, 0.5), (-0.500000100000005, -1.0), (-0.49999990000000505, 1.0), (0.500000050000005, -0.5), (-1.0000000250000025, -0.5), (1.0000000250000025, -0.5), (0.499999950000005, 0.5), (-0.9999999750000024, 0.5), (0.9999999750000024, 0.5), (0.500000100000005, -1.0), (0.49999990000000505, 1.0), (-1.0, 0.0), (-0.0, -1.0), (0.0, 1.0), (1.0, 0.0), (-0.500000050000005, -0.5)]
# compute centroid
cent=(sum([p[0] for p in pp])/len(pp),sum([p[1] for p in pp])/len(pp))
# sort by polar angle
pp.sort(key=lambda p: math.atan2(p[1]-cent[1],p[0]-cent[0]))
# plot points
pylab.scatter([p[0] for p in pp],[p[1] for p in pp])
# plot polyline
pylab.gca().add_patch(patches.Polygon(pp,closed=False,fill=False))
pylab.grid()
pylab.show()
<END>
<QUE>
Python - Beautiful Soup - Remove Tags
<ANS>
numbers_data = [int(e.text) for e in soup.find_all('td', 'right')]

print numbers_data
<END>
<QUE>
Sorting a list of objects in python on basis of attribute's three different value?
<ANS>
score = dict(high=0, medium=1, low=2)
mylist.sort(key=lambda x: score[x.priority])
<END>
<QUE>
AND in Python's slicing with modulus
<ANS>
arra = sum(a for i,a in enumerate(arra) if i %3==1 and i != 16)
<END>
<QUE>
Clean Up HTML in Python
<ANS>
from BeautifulSoup import BeautifulSoup
tree = BeautifulSoup(bad_html)
good_html = tree.prettify()
<END>
<QUE>
Reverse DNS lookup in Python
<ANS>
from dns import resolver,reversename
addr=reversename.from_address("2001:4860:4860::8888")
str(resolver.query(addr,"PTR")[0])
<END>
<QUE>
How to create a matplotlib bar chart with a threshold line?
<ANS>
import numpy as np
import matplotlib.pyplot as plt

# some example data
threshold = 43.0
values = np.array([30., 87.3, 99.9, 3.33, 50.0])
x = range(len(values))

# split it up
above_threshold = np.maximum(values - threshold, 0)
below_threshold = np.minimum(values, threshold)

# and plot it
fig, ax = plt.subplots()
ax.bar(x, below_threshold, 0.35, color="g")
ax.bar(x, above_threshold, 0.35, color="r",
        bottom=below_threshold)

# horizontal line indicating the threshold
ax.plot([0., 4.5], [threshold, threshold], "k--")

fig.savefig("look-ma_a-threshold-plot.png")
<END>
<QUE>
Python: How to create an event time column in Pandas
<ANS>
df[c] = df[c] - 500
<END>
<QUE>
random position that knows previous position
<ANS>
import matplotlib.pyplot as plt
from random import random

def get_dots(width, height, pitch):
    xs, ys = [], []
    for y in range(height // pitch):
      for x in range(width // pitch):
          xs.append((x + random()) * pitch)
          ys.append((y + random()) * pitch)
    return xs, ys

def main():
    xs, ys = get_dots(20, 20, 2)
    plt.scatter(xs, ys, c="r")
    plt.axis((0., 20., 0., 20.))
    plt.show()

if __name__=="__main__":
    main()
<END>
<QUE>
Using Python simplejson to return pregenerated json
<ANS>
lat = float(request.GET.get('lat'))
lng = float(request.GET.get('lng'))
a = Authority.objects.get(area__contains=Point(lng, lat))
if a:
    json = simplejson.dumps({'name': a.name, 
                             'area': "{replaceme}",
                             'id': a.id}), 
    return HttpResponse(json.replace('"{replaceme}"', a.area.geojson),
                        mimetype='application/json')
<END>
<QUE>
Go to line in python?
<ANS>
from sys import exit

def menu():
    a = raw_input("choose: apple[a], grape[g], quit[q] ")
    if a == 'a':
        return 'apple'
    elif a == 'g':
        return 'grape'
    elif a == 'q':
        print 'Are you sure you want to quit?'
        b = raw_input ('Choose: yes[y], no[n] ')
        if b == 'y':
            exit()
        elif b == 'n':
            return menu()  # This calls the function again, so we're asked question "a" again

menu()
<END>
<QUE>
Python: Iterating through a csv in a while loop
<ANS>
line = list(csv_data) #Convert into a list

lineCount = line[n] # Done so I can iterate line by line

while (startTime + 30) > timeToEpoch(lineCount['EnterN']) >= startTime:
    print "time on"
    pc = playerCount(lineCount['EnterN'],lineCount['ExitN'],lineCount['Player'])
    n += 1
    lineCount = line[n]
<END>
<QUE>
Python plotting data generated from for loop inside for loop
<ANS>
import numpy as np
import matplotlib.pyplot as plt

x = 0.1
# preallocate xn
xn = np.zeros([1001, 200])
# linspace is better for a non-integer step
zz = np.linspace(2.8, 3.9, 1001)

# use enumerate instead of counting iterations
for j,z in enumerate(zz):
    print(j)
    for n in range(200):
        # use tuple unpacking so old values of x are unneeded
        xn[j,n], x = x, z*x*(1 - x)

plt.plot(zz, xn[:, 100:], 'r.')
plt.show()
<END>
<QUE>
Pycaffe: How to create custom weights in a python layer?
<ANS>
class Param(caffe.Layer):
    def setup(self, bottom, top):
        self.blobs.add_blob(1,2,3)
        self.blobs[0].data[...] = 0

    def reshape(self, bottom, top):
        top[0].reshape(10)

    def forward(self, bottom, top):
        print(self.blobs[0].data)
        self.blobs[0].data[...] += 1

    def backward(self, top, propagate_down, bottom):
        pass
<END>
<QUE>
reading middlebury 'flow' files with python (bytes array & numpy)
<ANS>
import numpy as np
import os
import sys

# WARNING: this will work on little-endian architectures (eg Intel x86) only!
if '__main__' == __name__:
    if len(sys.argv) > 1:
        with open(sys.argv[1], 'rb') as f:
            magic = np.fromfile(f, np.float32, count=1)
            if 202021.25 != magic:
                print 'Magic number incorrect. Invalid .flo file'
            else:
                w = np.fromfile(f, np.int32, count=1)
                h = np.fromfile(f, np.int32, count=1)
                print 'Reading %d x %d flo file' % (w, h)
                data = np.fromfile(f, np.float32, count=2*w*h)
                # Reshape data into 3D array (columns, rows, bands)
                data2D = np.resize(data, (w, h, 2))
    else:
        print 'Specify a .flo file on the command line.'
<END>
<QUE>
I can open picture from local, but when I visit from website there is always present contain some errors
<ANS>
fd = open(CONFIG.SERVICES_PATH + sname+'/'+url,'rb')
<END>
<QUE>
Python Reportlab PDF - Centering Text on page
<ANS>
from reportlab.pdfbase.pdfmetrics import stringWidth
from reportlab.rl_config import defaultPageSize

PAGE_WIDTH  = defaultPageSize[0]
PAGE_HEIGHT = defaultPageSize[1]

text = "foobar foobar foobar"
text_width = stringWidth(text)
y = 1050 # wherever you want your text to appear
pdf_text_object = canvas.beginText((PAGE_WIDTH - text_width) / 2.0, y)
pdf_text_object.textOut(text) # or: pdf_text_object.textLine(text) etc.
<END>
<QUE>
Avoiding having to put DLLs in CWD
<ANS>
pdcurses_path = ctypes.util.find_library('pdcurses.dll')
if pdcurses_path:
    pdcurses = ctypes.CDLL(pdcurses_path)
else:
    raise ImportError("could not locate pdcurses.dll library")
<END>
<QUE>
How to improve this python vectorial function
<ANS>
def A(x, n):
    a = 3 * x
    for i in range(len(x)):
        a[i] += np.sum(x[np.ix_(n[i]-1)], axis=0)
    return a
<END>
<QUE>
How to create a Shapely LineString from two arrays of points
<ANS>
array = [[(0,0),(1,0),(2,0),(3,0)],[(1,3),(1.4,2),(2,0)]]
<END>
<QUE>
How can I import another module in the same parent directory?
<ANS>
__init__.py
<END>
<QUE>
python compare ip range to host file
<ANS>
for Z in ip_results:
    matching = 0
    for X in host_file:
        if Z in X:
            print Z, X
            matching = 1
    if matching == 0:
        print Z
<END>
<QUE>
Closing 2nd window in wxpython
<ANS>
class Settings(wx.Frame):
    def __init__(self, parent, run_params):
        self.run_params = run_params
        if self.run_params["running"] == True:
            wx.Frame.__init__(self, parent, -1, 'Please Wait', size=(350,150), pos=(35, 100), style=wx.STAY_ON_TOP | wx.DEFAULT_FRAME_STYLE)
            wx.StaticText(self, -1, "Processing files. Please wait", style=wx.ALIGN_CENTRE)
            self.Centre()
            self.Show()

    def OnClose(self):
        if self.run_params["running"] == False:
            self.Close()
<END>
<QUE>
how to concatenate 'str' and 'tuple' objects
<ANS>
for item in out:
    text = text.replace("Keys1029","Keys"+str(item))
<END>
<QUE>
Python, write dictionary values in an excel file
<ANS>
import xlsxwriter

workbook = xlsxwriter.Workbook('data.xlsx')
worksheet = workbook.add_worksheet()

d = {'a':['e1','e2','e3'],'b':['e1','e2'],'c':['e1']}
row = 0
col = 0

for key in d.keys():
    row += 1
    worksheet.write(row, col,     key)
    for item in d[key]:
        worksheet.write(row, col + 1, item)
        row += 1

workbook.close()
<END>
<QUE>
Social login in using django-allauth without leaving the page
<ANS>
request.session
<END>
<QUE>
How to get datatypes of specific fields of an Access database using pyodbc?
<ANS>
# columns in table x
for row in cursor.columns(table='x'):
    print row.column_name
<END>
<QUE>
Python Reading Commands from File
<ANS>
with open("test.txt", "r") as f:
    for a_line in f:
        command, quantity, price = a_line.split()
        print(command, quantity, price)
        # do what you want with these values here
        # please note that quantity and price are strings. need to 
        # change them to float if you want to do some calculations.
<END>
<QUE>
Connect python application to internet through proxy IP?
<ANS>
import requests

proxies = {
  "http": "http://10.10.1.10:3128",
  "https": "http://10.10.1.10:1080",
}

requests.get("http://example.org", proxies=proxies)
<END>
<QUE>
Filling higher-frequency windows when upsampling with pandas
<ANS>
s.reindex(DatetimeIndex(start=s.index[0].replace(day=1), end=s.index[-1], freq='D'))
<END>
<QUE>
How can I generate all possible strings in a defined character set?
<ANS>
from itertools import product
import string

charSet = string.ascii_letters + string.digits
for wordchars in product(charSet, repeat=4):
    print ''.join(wordchars)
<END>
<QUE>
Django: calling parent variable on django models
<ANS>
def save(self, *args, **kwargs):
    self.name = self.parent_set.all()[0].parent_name
    super(Child, self).save(*args, **kwargs)
<END>
<QUE>
Convert number to string scientific notation fixed length
<ANS>
precision = 2
number_to_convert = 10000
print "%0.*e"%(precision,number_to_convert)
<END>
<QUE>
Python - how can I address an array along a given axis?
<ANS>
idx = [slice(None)] * array.ndim
idx[axis] = slice(start, end)
myslice = array[tuple(idx)]
<END>
<QUE>
Show related model info in Django form
<ANS>
form.instance.person.address
<END>
<QUE>
How can I override requests' randomly generated multipart boundary in Python?
<ANS>
import requests.packages.urllib3 as urllib3
urllib3.filepost.choose_boundary = lambda: 'I_AM_NOT_A_MULTIPART_BOUNDARY'

with open('foobar.txt') as f:
    r = requests.post("http://requestb.in/179gbs61", files={'file':f})
<END>
<QUE>
Convert a Time list to ISO Format Python
<ANS>
import datetime

d = datetime.datetime(2008, 1, 1)
end = datetime.datetime(2009, 1, 1)

while d <= end:
    print(d.strftime("%Y%m%d%H%M%S"))
    d += datetime.timedelta(hours=6)
<END>
<QUE>
Specify join order in matplotlib
<ANS>
import numpy as np
import matplotlib.pyplot as plt

x = np.arange(0, 8, .1)
np.random.shuffle(x)
y = np.sin(x)

sx = np.argsort(x)  # find the order for sorting x
x2 = x[sx]          #    apply this to x
y2 = y[sx]          #    apply this to y

plt.plot(x, y, 'y')
plt.plot(x2, y2, 'r', linewidth=4)

plt.show()
<END>
<QUE>
Determining the length from any random element to the last element in a last (inside a list)
<ANS>
my_list = [[3, 0, 2, 1, 5, 4], [5, 2, 1, 3, 0, 4]]
rande = 3  # for this example
distances = [len(L) - L.index(rande) -1 for L in my_list]
<END>
<QUE>
How do I convert Perl's pack 'Nc*' format to struct.pack for Python?
<ANS>
struct.pack('>I', some_integer) + struct.pack('b'*len(long_array), *long_array)
<END>
<QUE>
How to assign a binary zero character to a variable in python?
<ANS>
MSG_TERMINATOR = "\0"
<END>
<QUE>
Remove file extension from file within dir
<ANS>
if extension == ".png":

    folder_path_length = len(folder_path)+1
    extension = len(file)-4 + folder_path_length
    filename = file[:extension]

    os.rename(current, current[:extension])

    extension = len(file)-4 
    truncated_filename = file[:extension]

    print "
\t%s 
\tnow renamed to: %s" % (filename, truncated_filename)

    files_renamed_count +=1
<END>
<QUE>
Retrieving a GoogleDoc via API and generate a PDF replacing with own text
<ANS>
_client = gdata.docs.client.DocsClient('My-Prety-App-v1')
# Set your prefered auth method
# ...
entry = _client.GetDoc('document:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX')
exportFormat = 'html'
content = _client.GetFileContent(uri=entry.content.src + '&exportFormat=' + exportFormat)
self.response.out.write(content)
<END>
<QUE>
Parse XML file to fetch required data and store it in mongodb database in Python
<ANS>
from pymongo import MongoClient
import xml.etree.ElementTree as ET
from urllib2 import urlopen

cl = MongoClient()
coll = cl["dbname"]["collectionname"]

tree = ET.parse("https://www.eventbrite.com/xml/event_search?app_key=USO53E2ZHT6LM4D5RA&country=DE&max=100&date=Future&page=1")
root = tree.getroot()

for event in root.findall("./event"):
    doc = {}
    for c in event.getchildren():
        if c.tag in ("start_date", "end_date", "title"):
            doc[c.tag] = c.text
        elif c.tag == "venue":
            doc[c.tag] = {}
            for v in c.getchildren():
                if v.tag in ("address", "address_2", "city", "latitude", "longitude", "name", "postal_code"):
                    doc[c.tag][v.tag] = v.text

    coll.insert(doc)
<END>
<QUE>
wxpython Drawing on a StaticBitmap
<ANS>
def Draw(self, e):
    print "Draw" 
    img = wx.Image("./poster/Test2.png", wx.BITMAP_TYPE_ANY)
    bit = wx.EmptyBitmap(517,524)
    imgBit = wx.BitmapFromImage(img)
    dc = wx.MemoryDC(imgBit)
    dc.SetPen(wx.Pen(wx.RED, 1))
    dc.DrawLines(((83, 375), (83, 42), (120, 42), (120,375), (83,375)))
    dc.SelectObject(wx.NullBitmap)# I didn't know I had to deselect the DC
    self.imageCtrl.SetBitmap(imgBit)  
    imgBit.SaveFile("bit.bmp", wx.BITMAP_TYPE_BMP)
<END>
<QUE>
Best way to submit data to a form using Python?
<ANS>
import urllib, urllib2
url = 'http://db.systemsbiology.net/gestalt/cgi-pub/Kaviar.pl'
form_data = {'chr':'chr1', 'pos':'46743'} # the form takes 2 parameters: 'chr', and 'pos'
                                          # the values given in the dict are
                                          # just examples.
# the next line POSTs the form to url, and reads the resulting response (HTML
# in this case) into the variable response
response = urllib2.urlopen(url,urllib.urlencode(form_data)).read()
# now you can happily parse response.
<END>
<QUE>
Image Analysis: Finding proteins in an image
<ANS>
import numpy as np
import Image
from scipy import ndimage
import matplotlib.pyplot as plt

roi = 2.5
peak_threshold = 120

im = Image.open('Q766c.png');
image = im.copy()

size = 2 * roi + 1
image_max = ndimage.maximum_filter(image, size=size, mode='constant')
mask = (image == image_max)
image *= mask

# Remove the image borders
image[:roi] = 0
image[-roi:] = 0
image[:, :roi] = 0
image[:, -roi:] = 0

# Find peaks
image_t = (image > peak_threshold) * 1

# get coordinates of peaks
f = np.transpose(image_t.nonzero())

# Show
img = plt.imshow(np.asarray(im))
plt.plot(f[:, 1], f[:, 0], 'o', markeredgewidth=0.45, markeredgecolor='b', markerfacecolor='None')

plt.axis('off')
plt.savefig('local_max.png', format='png', bbox_inches='tight')
plt.show()
<END>
<QUE>
bitwise numbers python
<ANS>
result = number & 0x1FFFFFFF
<END>
<QUE>
Use python to grep lines from one file out of another file
<ANS>
with open('/tmp/file1') as f:
  lines1 = f.readlines()

with open('/tmp/file2') as f:
  for line in f:
    if any(line.startswith(x.strip()) for x in lines1):
      print line,
<END>
<QUE>
Two Y-scales in pyqtgraph (twinx-like)
<ANS>
pyqtgraph/examples/MultiplePlotAxes.py
<END>
<QUE>
Avoid red background color for logging output in Ipython Notebook
<ANS>
ch = logging.StreamHandler(sys.stdout)
<END>
<QUE>
How to pass a context through django's rest_framework
<ANS>
serializer_context = {'request': request, 'pictures': pictures, 'filter': FilterForm()}

if request.accepted_renderer.format == 'html':
    return Response(serializer_context, template_name='index.html')

serializer = PaginatedPictureSerializer(pictures, context=serializer_context)
return Response(serializer.data, template_name='index.html')
<END>
<QUE>
Python Printing and multiplying strings in Print statement
<ANS>
i=0     
while (i<=5):
    print( "#" +(" "*i)+ "#")
    i=i+1
<END>
<QUE>
Pandas DataFrame - select rows that match one of many conditions
<ANS>
new_df = my_df[my_df['Column'].isin(selected_items)]
<END>
<QUE>
Python throws error when deleting a directory that is open with windows explorer
<ANS>
import shutil
import time


try:    
    shutil.rmtree(output_folder)  
except WindowsError, e:
    print "Failed to delete"        # Or just pass

time.sleep(0.5)
os.makedirs(output_folder)
<END>
<QUE>
Get related model with Django query
<ANS>
D = D.objects.all()
for element in D:
    if hasattr(element.user, "A"):
        results.append(element.user.A)
    elif hasattr(element.user, "B"):
        results.append(element.user.B)
    elif hasattr(element.user, "C"):
        results.append(element.user.C)
<END>
<QUE>
Pattern matching with multiple nonspace characters
<ANS>
data = "*****''[[dogs and cats]]''/n"
start = data.find('[')+2
end = data.find(']')
answer = data[start:end].split()

print answer[0]
print answer[1]
print answer[2]
<END>
<QUE>
Group list by sum of items
<ANS>
def group(lst, limit):

    lim = 0
    grp = []

    for x in lst:
        if x + lim > limit:
            yield grp
            grp = []
            lim = 0

        grp.append(x)
        lim += x

    yield grp

print list(group([1, 1, 1, 1, 2, 2, 1, 3, 1, 1, 2], 3))
<END>
<QUE>
How to set two keys for dictionary using setdefault
<ANS>
import json
d = {}
d.setdefault( 'key1',{})
d.setdefault( 'key2',{}).setdefault('inner key',{})['inner inner key'] = 'value'


print json.dumps(d, sort_keys=True, indent=4)
<END>
<QUE>
Align vertically two plots in matplotlib provided one is an imshow plot?
<ANS>
import matplotlib.pyplot as plt
import numpy as np
import matplotlib.gridspec as grd

v1 = np.random.rand(50,150)
v2 = np.random.rand(150)

fig = plt.figure()

# create a 2 X 2 grid 
gs = grd.GridSpec(2, 2, height_ratios=[1,10], width_ratios=[6,1], wspace=0.1)

# image plot
ax = plt.subplot(gs[2])
p = ax.imshow(v1,interpolation='nearest',aspect='auto') # set the aspect ratio to auto to fill the space. 
plt.xlabel('Day')
plt.ylabel('Depth')
plt.xlim(1,140)

# color bar in it's own axis
colorAx = plt.subplot(gs[3])
cb = plt.colorbar(p, cax = colorAx)
cb.set_label('RWU')

# line plot
ax2 = plt.subplot(gs[0])

ax2.spines['right'].set_visible(False)
ax2.spines['top'].set_visible(False)
ax2.xaxis.set_ticks_position('bottom')
ax2.yaxis.set_ticks_position('left')
ax2.set_yticks([0,1])
x=np.arange(1,151,1)
ax2.plot(x,v2,'k',lw=0.5)
plt.xlim(1,140)
plt.ylim(0,1.1)

plt.show()
<END>
<QUE>
Replace the values in text files in a directory in Python
<ANS>
import os, os.path, EditHeader2

folder1 = 'editedheaders'
folder2 = 'editedheaders/1'

extensions = ('.txt', '.tfw', 'your extensions here ...')

for filename in os.listdir(folder1):
    infilename = os.path.join(folder1, filename)
    if not os.path.isfile(infilename): continue
    base, extension = os.path.splitext(filename)
    if os.path.splitext(filename)[1] in extensions:
        infile = open(infilename, 'r')
        outfile = open(os.path.join(folder2, '{}'.format(base, extension)), 'w')
        EditHeader2.edit(infile, outfile)
<END>
<QUE>
How to create Google API OAuth Credentials object from alternate source
<ANS>
from oauth2client.client import GoogleCredentials
from oauth2client import GOOGLE_TOKEN_URI

access_token = None
token_expiry = None
token_uri = GOOGLE_TOKEN_URI
user_agent = 'Python client library'
revoke_uri = None

gCreds = GoogleCredentials( 
    access_token, 
    client_id,
    client_secret, 
    refresh_token, 
    token_expiry,
    token_uri, 
    user_agent,
    revoke_uri=revoke_uri
    )
<END>
<QUE>
Python - transform a list
<ANS>
L = [['22', '14']]
M = [ int(i) for i in L[0] ]
<END>
<QUE>
Python parsing the lines from a file
<ANS>
import ast

with open("test.txt", "r") as f:
    for line in f:
        li = ast.literal_eval(line)
        edge_u = [x[0] for x in li]
        edge_v = [x[1] for x in li]
<END>
<QUE>
code has to be a float so how can i convert it to a integer
<ANS>
core.skillModService.addSkillMod(actor, 'movement', int(0.5))
<END>
<QUE>
Python - wrapper for nested dictionary
<ANS>
class DictWrapper(object):

    def __init__(self, x_names, y_names):
        self._dict = {}
        for x in x_names:
            self._dict[x] = {}
            for y in y_names:
                self._dict[x][y] = {}

    def __setitem__(self, key, val): # single key
        self._dict[key[0]][key[1]] = val

    def __getitem__(self, key): # single key
        return self._dict[key[0]][key[1]]


results_holder = DictWrapper(['x1', 'x2', 'x3'], ['y1', 'y2'])
results_holder[('x1','y2')] = 11
print results_holder[('x1','y2')]

# without () works too
results_holder['x1','y2'] = 11
print results_holder['x1','y2']
<END>
<QUE>
Labeling an axis in matplotlib with formatting strings
<ANS>
plt.ylabel('Price Spread between %s and %s' % (ticker[0], ticker[1]))
<END>
<QUE>
Regex to search HTML and find a number after the occurrence of a string in python
<ANS>
import re
text ="""<tr><td valign="top">Buffer Usage / Capacity left</td>  
<td colspan=2>100 % / 0 m</td>"""
result = re.search(r"Buffer Usage.*
.*?>(\d{1,3}) % .+",text).group(1)
print result # 100
<END>
<QUE>
Retrieving pages from what.cd
<ANS>
import urllib
import urllib2
import cookielib

cj = cookielib.LWPCookieJar()
opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj))
urllib2.install_opener(opener)

request = urllib2.Request("http://what.cd/index.php", None)
f = urllib2.urlopen(request)
f.close()

data = urllib.urlencode({"username": "your-login", "password" : "your-password"})
request = urllib2.Request("http://what.cd/login.php", data)
f = urllib2.urlopen(request)

html = f.read()
f.close()
<END>
<QUE>
How can I use the same callback function to trace multiple variables?
<ANS>
import tkinter as tk
from functools import partial

def callback(key, var, *args):
    print "callback var =", key, var.get()
    ##myStrVars[key].set(var[-1])

root = tk.Tk()

for key in range(5):
    var = tk.StringVar()
    var.trace('w', partial(callback, key, var))
    tk.Entry(root, textvariable=var).pack()

root.mainloop()
<END>
<QUE>
Pythonic methods of returning the longest word in a string
<ANS>
if __name__ == '__main__':
    import timeit

    print(timeit.timeit("LongestWordA('hello this is just an example')", number=1000, setup="from __main__ import LongestWordA"))
    print(timeit.timeit("LongestWordB('hello this is just an example')", number=1000, setup="from __main__ import LongestWordB"))

    # LongestWordA 0.013688346021808684
    # LongestWordB 0.004950157948769629
<END>
<QUE>
Sort dict of tuples by either tuple value with customised comparator
<ANS>
sortedSubjects = sorted(tmpSubjects.iteritems(),
                        key=operator.itemgetter(1),
                        cmp=comparator,   # What about specifying the comparison?
                        reverse=True)
<END>
<QUE>
Run a loop again
<ANS>
primes = [2, 3]
upto = 1000
for num in range(4, upto+1):
    if all(num % p for p in primes):
        primes.append(num)

print(primes)
<END>
<QUE>
How do I plot a step function with Bokeh?
<ANS>
from collections import OrderedDict

from bokeh._legacy_charts import Step, show, output_file

xyvalues = OrderedDict(
    python=[2, 3, 7, 5, 26, 81, 44, 93, 94, 105, 66, 67, 90, 83],
    pypy=[12, 20, 47, 15, 126, 121, 144, 333, 354, 225, 276, 287, 270, 230],
    jython=[22, 43, 70, 75, 76, 101, 114, 123, 194, 215, 201, 227, 139, 160],
)


output_file("steps.html", title="line.py example")

chart = Step(xyvalues, title="Steps", ylabel='measures', legend='top_left')

show(chart)
<END>
<QUE>
Requesting password in IPython notebook
<ANS>
import getpass
password = getpass.getpass()
<END>
<QUE>
return column names from pyodbc execute() statement
<ANS>
columns = [column[0] for column in cursor.description]
<END>
<QUE>
Issues with reading from excel CSV and writing to another
<ANS>
def readLines():
    r = csv.reader(open('test.csv', "rt", newline=''), dialect="excel")
    return [l for l in r]

def writeFile(lines):
    resultFile = open('output.csv', 'wt', newline='')
    wr = csv.writer(resultFile, dialect='excel')
    wr.writerows(lines)
<END>
<QUE>
python pptx, bullet points, how to change bullet symbol to numbers
<ANS>
python-pptx
<END>
<QUE>
Pygame clock function returns a strange value
<ANS>
import pygame
pygame.init()
i = 0
clock = pygame.time.Clock()
while i < 10: # Just run a few cycles to check the output
    res = clock.tick(1) # Caps framerate to 1 fps
    print res # This should print out 1000
    i += 1
<END>
<QUE>
Finding the average number
<ANS>
d = {}
with open('in.txt') as f:
    data = f.readlines()
for x in data:
    x = x.strip()
    if not x:
        continue
    name = x.split(':')[0].strip()
    score = int(x.split(':')[-1].split('/')[0].strip())
    if name not in d:
        d[name] = {}
        d[name]['score'] = 0
        d[name]['count'] = 0
    d[name]['count'] += 1
    d[name]['score'] = (d[name]['score'] + score) / float(d[name]['count'])

ds = sorted(d.keys(), key=lambda k: d[k]['score'], reverse=True)

for x in ds:
    print('{0}: {1}'.format(x, d[x]['score']))
<END>
<QUE>
Generate random floating point number
<ANS>
import random
random.uniform(0.1,0.4)
<END>
<QUE>
Return a triangled-shaped list of lists
<ANS>
def triangle(n):
    a=[]
    for i in range(n):
        b=[]
        for j in range(n-i):
            b.append(i)
        a.append(b)
    for row in a:
        print row
<END>
<QUE>
Have a sentence printed in Python without ' or ", using the print function
<ANS>
while i < len(phipsi):
    if phipsi[i][0]>a and phipsi[i][0]<b:
        if phipsi[i][1]>c and phipsi[i][1]<d:
            print ('the couple [%+.2f, %+.2f] has his angles in helix' % (phipsi[i][0], phipsi[i][1]))
    else:
        print ('the couple [%+.2f, %+.2f] does not have his angles in helix' % (phipsi[i][0], phipsi[i][1]))
    i=i+1
<END>
<QUE>
Multilevel JSON diff in python
<ANS>
def diff(prev,lat):
    p=prev
    l=lat


    prevDiff = []
    latDiff = []

    for d1 in p[:]:
        flag = False
        for d2 in l:
            if len(set(d1.items()) ^ set(d2.items())) == 0:
                p.remove(d1)
                l.remove(d2)
                flag = True
                break
        if not flag:
            prevDiff.append(d1)
            p.remove(d1)

    prevDiff = prevDiff + p
    latDiff = latDiff + l

    resJSONdata=[]
    if len(prevDiff) != 0:
        resJSONdata.append({'prevCount':len(prevDiff)})
        resJSONdata.append({'prev':prevDiff})
    if len(latDiff) != 0:
        resJSONdata.append({'latestCount':len(latDiff)})
        resJSONdata.append({'latest':latDiff})

#     return json.dumps(resJSONdata,indent = 4,sort_keys=True)
    return resJSONdata
<END>
<QUE>
Adding a string in front of a string for each item in a list in python
<ANS>
n = [i if i.startswith('h') else 'http' + i for i in n]
<END>
<QUE>
How do I register filters for dynamically-generated jinja2 templates in Flask?
<ANS>
environment.filters['my_multiplier'] = my_multiplier
<END>
<QUE>
How to locate an element by class name and its text in python selenium
<ANS>
driver.find_element_by_xpath("//div[@class='fc-day-content' and text()='15']")
<END>
<QUE>
URLEncoding from a string
<ANS>
# vim: encoding=utf-8

import urllib

base_url = 'http://google.com/search'
params = dict(
    q=('???????????????????????????????'
       + ' site:imdb.com/title'))

query = urllib.urlencode(params)
print base_url + '?' + query
<END>
<QUE>
Populating google spreadsheet by row, not by cell
<ANS>
headers = wks.row_values(1)        
row = 2 # start from the second row because the first row are headers
for k in range(len(lstdic)):
        values=[]
        cell_list=wks.range('B%s:AB%s' % (row,row)) # make sure your row range equals the length of the values list
        for key in headers:
            values.append(lstdic[k][key])   
        for i in range(len(cell_list)):
            cell_list[i].value = values[i]
        wks.update_cells(cell_list)
        print "Updating row " + str(k+2) + '/' + str(len(lstdic) + 1)
        row += 1
<END>
<QUE>
Python - Regex How to replace characters in a string?
<ANS>
import re
s = 'D08838  Acotiamide hydrochloride hydrate (JAN/BBC); Acotiamide hydrochloride (USAN) Antagonist'
print re.sub('(\s*\(.*?\))', '', s)
#D08838  Acotiamide hydrochloride hydrate; Acotiamide hydrochloride Antagonist
<END>
<QUE>
How to normalize a list such that it works for all cases
<ANS>
def safe_normalize(lst):
    try:
        return normalize(lst)
    except ZeroDivisionError:
        return lst
<END>
<QUE>
light weight template engine for python
<ANS>
def dynamic_text(name, food):
    return """
    Dear %(name)s,
    We're glad to hear that you like %(food)s and we'll be sending you some more soon.
    """ % {'name':name, 'food':food}
<END>
<QUE>
Best way to generate a consecutive id in Python
<ANS>
from itertools import count

class MyClass(object):
    id_counter = count().next
    def __init__(self):
        self.id = self.id_counter()
<END>
<QUE>
How to target a different host inside a Fabric command
<ANS>
from fabric.context_managers import settings
with settings(host_string='remote_server'):
    run('ls -lart')
<END>
<QUE>
Search a list of strings for any sub-string from another list
<ANS>
def check_data(data):
    s = "
".join(data);
    for k in keywords:
        if k in s:
            return True

    return False
<END>
<QUE>
Parsing PySerial Data from queue and executing function on command match
<ANS>
cmds = {}
cmds['name1'] = func1

try:
     while True:
        str = self.dataQ.get_nowait()
        cmd_name, cmd_params = str.split(' ', 1)
        try:
            res = cmds[cmd_name](cmd_params)
        except:
            ## command not found
            pass 
except queue.Empty:
    raise StopIteration
<END>
<QUE>
how to remove numbers and symbols from output of LDA while using Gensim package?
<ANS>
topic_tuple = lda.show_topic(0, 10)

print ','.join([str(word_tuple[1]) for word_tuple in topic_tuple])
<END>
<QUE>
wxPython - Disable a whole menu
<ANS>
self.menuBar.EnableTop(0, False)
<END>
<QUE>
Scons - using custom preprocessor with scons cache
<ANS>
out_cc = env.Command('file.wave.cpp', 'file.cpp', 'wave command < $SOURCE > $TARGET')
env.Program('myprog', ['this.cc', 'that.cc', out_cc])
<END>
<QUE>
Multiple distinct replaces using RegEx
<ANS>
replacements = {'newlines': ' ',
                'deletions': ''}
pattern = re.compile(u'(?P<newlines>
+)|'
                     u'(?P<deletions>\u201c|\u201d|\u2019[a-z]?|\u2013|\u2018)')

def lookup(match):
    return replacements[match.lastgroup]

text = pattern.sub(lookup, text_1)
<END>
<QUE>
Adjacent multiple elements removing in Python sequences
<ANS>
def remove_repeated_pairs(l):
    i = 2;
    while i < len(l)-1:
            if l[i] == l[i-2] and l[i+1]==l[i-1]:
                l.pop(i);
                l.pop(i);
            else:
                i+=1;

    return l;
<END>
<QUE>
Proper way to deal with options in a pop up window
<ANS>
class MainFrame(QWidget):
    def __init__(self):
        self.popup_windows = [] # to store the pops

def display_popup_window(self, item):
    # item is the reference item that it's internal value reached 0
    popup_window = PopupFrame(self, item)
    popup_window.show()
    popup_window._raise()
    self.popup_windows.append(popup_window)


class PopupFrame(QWidget):
    def __init__(self, parent, item):
        self.parent = parent
        self.item = item
        # set up other things, like buttons, layout...
        self.options_button_completed.clicked.connect(self.set_completed)
        self.options_button_missed.clicked.connect(self.set_missed)
        self.options_button_delayed.clicked.connect(self.set_delayed)

    def set_completed(self):
        # do something with self.item
        pass
<END>
<QUE>
XML parser syntax error
<ANS>
url = '%s%s/?api_key=%s&method=%s&%s'% \
      (HOST, API, API_KEY, method, _get_auth_url_suffix(method, auth, params))
payload = '%s' % (urlencode(params))
<END>
<QUE>
using python, how to remove whole line in csv file if specific character is present in this line?
<ANS>
import csv
reader = csv.reader(open("file.csv", "rb"), delimiter=',')
for line in reader:
    if "-1" not in line:
        print line
<END>
<QUE>
Cocatenating strings in place in a dictionary
<ANS>
for stuff in listofstrings:
    dictionary["key"] = dictionary.get("key",defaultvalueforkey) + stuff
<END>
<QUE>
Can you register multiple ModelAdmins for a Model? Alternatives?
<ANS>
class Foo(models.Model):
    bar = models.CharField()
    baz = models.CharField()

# admin.py
class FooProxy(Foo):
    class Meta:
        proxy=True

admin.site.register(Foo, FooAdmin1)
admin.site.register(FooProxy, FooAdmin2)
<END>
<QUE>
How to make HTTP request through a (tor) socks proxy using python?
<ANS>
import urllib, urllib2

##Download SocksiPy - A Python SOCKS client module. ( http://code.google.com/p/socksipy-branch/downloads/list )
##Simply copy the file "socks.py" to your Python's lib/site-packages directory, and initiate a socks socket like this.
## NOTE: you must use socks before urllib2.
import socks
import socket
socks.setdefaultproxy(socks.PROXY_TYPE_SOCKS5, "127.0.0.1", 9050)
socket.socket = socks.socksocket

url = 'http://ifconfig.me/ip'
request = urllib2.Request(url)
request.add_header('Cache-Control','max-age=0')
response = urllib2.urlopen(request)
print response.read()
<END>
<QUE>
python subprocess store each line of output in a list
<ANS>
#!/usr/bin/env python
# src_dimensions.py
# requires mediainfo package
import subprocess, glob
globpattern = 'path/to/*.*'
cmd = ['mediainfo', '--Inform=Video;%Width%x%Height%\
']
cmd.extend(glob.glob(globpattern))
proc = subprocess.Popen(cmd,stdout=subprocess.PIPE)
outputlines = filter(lambda x:len(x)>0,(line.strip() for line in proc.stdout))
print outputlines
<END>
<QUE>
Perform tasks periodically with python irc library
<ANS>
def connectionMade(self):
        irc.IRCClient.connectionMade(self)
        task.LoopingCall(lambda : (self.msg(counterpartID, "hi there"))).start(5.0)
<END>
<QUE>
Built in function in numpy to interpret an Integer as a numpy array with index = integer value set
<ANS>
def oneOfK(label):
    rows = label.shape[0];
    rowsIndex=np.arange(rows,dtype="int")
    oneKLabel = np.zeros((rows,10))
    #oneKLabel = np.zeros((rows,np.max(label)+1))
    oneKLabel[rowsIndex,label.astype(int)]=1
    return oneKLabel
<END>
<QUE>
How to set border color of certain Tkinter widgets?
<ANS>
widget.config(highlightbackground=COLOR)
<END>
<QUE>
Twisted Python: Cannot write to a running spawned process
<ANS>
#!/usr/bin/python
from twisted.internet import reactor

from twisted.internet import protocol

class Echo(protocol.Protocol):
    def connectionMade(self):
        self.pp = MyPP()
        reactor.spawnProcess(self.pp, 'cat', ['cat'])
    def dataReceived(self, data):
        self.pp.transport.write(data)
    def connectionLost(self, reason):
        self.pp.transport.loseConnection()

class MyPP(protocol.ProcessProtocol):
    def connectionMade(self):
        print "connectionMade!"
    def outReceived(self, data):
        print "out", data,
    def errReceived(self, data):
        print "error", data,
    def processExited(self, reason):
        print "processExited"
    def processEnded(self, reason):
        print "processEnded"
        print "quitting"

factory = protocol.Factory()
factory.protocol = Echo
reactor.listenTCP(8200, factory)
reactor.run()
<END>
<QUE>
Unable to find words when using freebase with word2vec
<ANS>
model.similarity('/en/microsoft', '/en/apple')
<END>
<QUE>
Uninstall python built from source?
<ANS>
dpkg -r
<END>
<QUE>
Filter by exact date after receiving webapp2 request on Python GAE
<ANS>
custQuery = db.Query(Customer)
birthdate = datetime.strptime(q,"%Y-%m-%d").date()
custQuery.filter('birthdate = ',birthdate)
<END>
<QUE>
floating numeric value read as timedate using openpyxl
<ANS>
import datetime
import openpyxl
from openpyxl import load_workbook

# Source workbook - wb

wb = load_workbook(filename = r'C:\data\TEST.xlsx' , use_iterators = True)
ws = wb.get_sheet_by_name(name ='QuoteFile ')

# Quick explanation:
# If it's a number, return it. Otherwise, take the difference between the datetime
# and 1899-12-31 00:00:00. The way the datetimes work is they're internally a float,
# being the number of days since the start of 1900. We get the number of seconds in
# the delta (done through subtraction) and divide that by 86400 (the number of seconds
# in a day).
forcefloat = lambda val : val if type(val) in (int,float) else (
                         (val - datetime.datetime(1899,12,31,0,0,0)).total_seconds() / 86400)

for row in ws.iter_rows():
        print(row[0].internal_value ,forcefloat(row[3].internal_value) ,row[4].internal_value         ,row[5].internal_value)


print('Done')
<END>
<QUE>
regular expression get number from string
<ANS>
hxs.select('//some/xpath/expression/text()').re(r'(\d+).*')
<END>
<QUE>
Python Join String to Produce Combinations For All Words in String
<ANS>
import itertools

s = 'this is a string'

words = s.split()
for t in itertools.product(range(len('01')), repeat=len(words)-1):
    print(''.join([words[i]+t[i]*' ' for i in range(len(t))])+words[-1])
<END>
<QUE>
Python matching some characters into a string
<ANS>
s1 = "/xubuntu/daily/current/lucid-alternate-i386.iso"
s2 = "/xubuntu/daily/current/lucid-alternate-amd64.iso"

pattern = re.compile(r'^.+-(.+)\..+$')

m = pattern.match(s1)
m.group(1)
'i386'

m = pattern.match(s2)
m.group(1)
'amd64'
<END>
<QUE>
Getting all possible value combinations
<ANS>
itertools.product()
<END>
<QUE>
Bar chart to compare data of various fields
<ANS>
import numpy as np
import matplotlib.pylab as plt

mod1 = np.array([ 468, 28000, 800000000 ])
mod2 = np.array([ 162, 2000, 228000000 ])

proc = mod2.astype(float) / mod1.astype(float)

for ii, bar in enumerate(proc):
    plt.bar(ii, bar)
    plt.text(ii + 0.4, bar + 0.01, "%.2f" % bar, ha='center', va='bottom')
plt.ylim(0, 1.0)
plt.show()
<END>
<QUE>
Convert string / character to integer in python
<ANS>
chr(ord(ch)+2)
<END>
<QUE>
Implementation of derivatives of Jacobi theta function
<ANS>
def jtheta_dq(n, z, q):
    # cf. http://functions.wolfram.com/EllipticFunctions/EllipticTheta2/13/01/0002/
    return -mpmath.jtheta(n, z, q, 2)/(4*q)
<END>
<QUE>
Efficient string to hex function
<ANS>
def StringToHexString(s):
    return ''.join( map(lambda param:hexLoookup[param], map(ord,s) ) )
<END>
<QUE>
How to test a custom python-social-auth pipeline?
<ANS>
from mycustompipeline import pipelinefunction

class MyPipeLineTest(TestCase):
    def setUp(self):
        self.arg1 = Arg1() #both one and two could be mocks.
        self.arg2 = Arg2()

    def test_that_my_pipeline_does_something(self):
        result = pipelinefunction(self.arg1, self.arg2)

        self.assertTrue(result)
<END>
<QUE>
Colorbars close to subplots
<ANS>
fig.colorbar(p, ax=ax[0,i], shrink=0.5)
fig.colorbar(p2, ax=ax[1,i],  shrink=0.5)
<END>
<QUE>
django_auth_ldap raises OPERATIONS_ERROR
<ANS>
ldap.set_option(ldap.OPT_REFERRALS, 0)
<END>
<QUE>
xlsxwriter module won't open/close Excel file correctly
<ANS>
excel.close()
<END>
<QUE>
Can I get File Modification Time from a file open for reading (python)
<ANS>
import os
filepath = '/path/to/file'
modifytime1 = os.path.getmtime(filepath)
fp = open(filepath)
modifytime2 = os.path.getmtime(filepath)
if modifytime1 != modifytime2:
    print "File modified after opening"
<END>
<QUE>
Instantiating WSGIApplication in webapp2
<ANS>
webapp2.Route
<END>
<QUE>
Accessing .zipx with Python
<ANS>
import sys
import chilkat

compress = chilkat.CkCompression()

#  Any string argument automatically begins a 30-day trial.
success = compress.UnlockComponent("30-day trial")
if (success != True):
    print "Compression component unlock failed"
    sys.exit()

compress.put_Algorithm("ppmd")

#  Decompress back to the original:
success = compress.DecompressFile("t.zipx", "t")
if (success != True):
    print compress.lastErrorText()
    sys.exit()

print "Success!"
<END>
<QUE>
How to flatten a tuple in python
<ANS>
[(a, b, c) for a, (b, c) in l]
<END>
<QUE>
Read in file - change contents - write out to same file
<ANS>
with open(filename) as f:
    file_str = f.read()

# do stuff with file_str

with open(flename, "w") as f:
    f.write(file_str)
<END>
<QUE>
How to copy all files from a folder (including sub-folder) while not copying the folder structure in python
<ANS>
import os
import shutil

for root, dirs, files in os.walk('.'):  # replace the . with your starting directory
   for file in files:
      path_file = os.path.join(root,file)
      shutil.copy2(path_file,'destination_directory') # change you destination dir
<END>
<QUE>
(i'm close - i think) Python loop through list of subdomains with selenium
<ANS>
unittest.main()
<END>
<QUE>
Changing one array changes another python
<ANS>
vec = list(v)
<END>
<QUE>
How to get the label of a choice in a Django forms ChoiceField?
<ANS>
reason = form.cleaned_data['reason']
reason = dict(form.fields['reason'].choices)[reason]
<END>
<QUE>
How to read a .csv file specific items that hold this contrait?
<ANS>
with open('text.csv') as text:
    # iterate the list except for the title line and grab desired items
    data = [a for a, b, c in list(csv.reader(text))[1:] if float(b) > 0]
<END>
<QUE>
Contatenation and white space
<ANS>
hello = "Hello"
world = 'World'

hello_world = hello + " " + world

print(hello_world)
<END>
<QUE>
How to change the font size and color of markdown cell in Ipython (py 2.7) notebook
<ANS>
from IPython.core.display import HTML
HTML("""
<style>

div.cell { /* Tunes the space between cells */
margin-top:1em;
margin-bottom:1em;
}

div.text_cell_render h1 { /* Main titles bigger, centered */
font-size: 2.2em;
line-height:1.4em;
text-align:center;
}

div.text_cell_render h2 { /*  Parts names nearer from text */
margin-bottom: -0.4em;
}


div.text_cell_render { /* Customize text cells */
font-family: 'Times New Roman';
font-size:1.5em;
line-height:1.4em;
padding-left:3em;
padding-right:3em;
}
</style>
""")
<END>
<QUE>
How can we add new list so that they are in the same row but different column with the dict in table html?
<ANS>
keys = {"hello":{"postfix":"bonjour", "count":0}, 
        "hi":{"postfix":"kiss", "count":0}}

frequencies = ["hello","hi","hello","hello"]

for item in frequencies:
    keys[item]["count"] += 1

print('<table>')
for k,v in keys.items():
    print("<tr><td>{0}</td><td>{1}</td><td>{2}</td></tr>"
          .format(k, v["count"], v["postfix"]))
print('</table>')
<END>
<QUE>
How to use Python list?
<ANS>
lst = ['paragraph 1','paragraph 2','paragraph 3']
corpus = Corpus(documents=[Document(x) for x in lst])
<END>
<QUE>
How to filter out sequences based on a given data using Python?
<ANS>
from Bio import SeqIO

input_file = 'a.fasta'
merge_file = 'original.fasta'
output_file = 'results.fasta'
exclude = set()
fasta_sequences = SeqIO.parse(open(input_file),'fasta')
for fasta in fasta_sequences:
    exclude.add(fasta.id)

fasta_sequences = SeqIO.parse(open(merge_file),'fasta')
with open(output_file, 'w') as output_handle:
   for fasta in fasta_sequences:
        if fasta.id not in exclude:
            SeqIO.write([fasta], output_handle, "fasta")
<END>
<QUE>
How do I read the output for a file spawned through subprocess.popen in Python?
<ANS>
out, err = p.communicate()
<END>
<QUE>
Python: Is there a way to get a local function variable from within a decorator that wraps it?
<ANS>
import sys

class persistent_locals(object):
    def __init__(self, func):
        self._locals = {}
        self.func = func

    def __call__(self, *args, **kwargs):
        def tracer(frame, event, arg):
            if event=='return':
                self._locals = frame.f_locals.copy()

        # tracer is activated on next call, return or exception
        sys.setprofile(tracer)
        try:
            # trace the function call
            res = self.func(*args, **kwargs)
        finally:
            # disable tracer and replace with old one
            sys.setprofile(None)
        return res

    def clear_locals(self):
        self._locals = {}

    @property
    def locals(self):
        return self._locals

@persistent_locals
def func():
    local1 = 1
    local2 = 2

func()
print func.locals
<END>
<QUE>
Creating a grid
<ANS>
grid = Grid(4)
grid.setValue(0,0,1)
grid.setValue(1,1,2)
grid.setValue(2,2,3)
grid.setValue(3,3,4)
<END>
<QUE>
python matplotlib legend shows first entry of a list only
<ANS>
for x,y,c,lb in zip(ind,menMeans,my_colors,lab):
    ax.bar(x, y, width, color=c,label=lb)

ax.legend()
<END>
<QUE>
Python - Loop 100 times over a specified time
<ANS>
import random, time

DURATION = 5 * 86400  # five days
EXECS = 100

now = time.time()
points = sorted(random.random() * DURATION + now
                for i in xrange(EXECS))

for p in points:
   now = time.time()
   if p > now:
       time.sleep(p - now)
   # run your loop here
<END>
<QUE>
Using a sublist to retrieve data from a larger list
<ANS>
searches = ('aa90_273024', 'another_search', 'yet_another_search')
my_result = [item[1:] for item in data if item[0] in searches]
<END>
<QUE>
How to define flask-sqlalchemy objects on demand?
<ANS>
db = SQLAlchemy()

#models here

def create_app():
    app = Flask(__name__)
    #db configuration
    db.init_app(app)
    return db
<END>
<QUE>
Grep a word and find its Count from log file for different times
<ANS>
import re
pattern=re.compile(r"\d{4}-\d{1,2}-\d{1,2}\s+\d{1,2}:\d{1,2}:\d{1,2}:|Error",re.IGNORECASE)
ll=pattern.findall(x)
d={}
for x in ll:
    if x!="Error":
        d[x]=0
        last=x
    else:
        d[last]=d[last]+1
print d
<END>
<QUE>
trying to take a set of data and list it in a file
<ANS>
mass_of_rider_kg = float(input('input mass of rider in kilograms:'))
mass_of_bike_kg = float(input('input mass of bike in kilograms:'))
velocity_in_ms = float(input('input velocity in meters per second:'))
coefficient_of_drafting = float(input('input coefficient of drafting:'))
with open('BikeOutput.txt', 'w') as myfile:
    a = mass_of_rider_kg
    while a < mass_of_rider_kg+20:
        a = a + 4
        pAir = .18*coefficient_of_drafting*(velocity_in_ms**3)  
        pRoll = .001*9.8*(a+mass_of_bike_kg)*velocity_in_ms
        pSec = pAir+pRoll
        print(pSec)
        myfile.write('data: %.2f %.2f %.2f %.2f %.2f
' %  ( a, mass_of_bike_kg, velocity_in_ms,coefficient_of_drafting, pSec))
<END>
<QUE>
How to append rows to Gtk.ListStore?
<ANS>
itr = store.append(['Its working', ])
<END>
<QUE>
How to properly save and fetch JSON from Datastore?
<ANS>
eggs_dict = {"large":10, "medium":5, "small":24}
eggs_json = simplejson.dumps(eggs_dict)
spam = Spam(key_name='blah')
spam.eggs = eggs_dict
db.put(spam.eggs)        

new_spam = db.get(db.Key.from_path('Spam', 'blah'))

# Later, fetch spam and then return the json as part of a Response
self.response.out.write(new_spam.eggs)
<END>
<QUE>
How to enable reCAPTCHA
<ANS>
{{capture|safe}}
<END>
<QUE>
Python: Comparing two CSV files and searching for similar items
<ANS>
import csv

f1 = file('hosts.csv', 'r')
f2 = file('masterlist.csv', 'r')
f3 = file('results.csv', 'w')

c1 = csv.reader(f1)
c2 = csv.reader(f2)
c3 = csv.writer(f3)

masterlist = list(c2)

for hosts_row in c1:
    row = 1
    found = False
    for master_row in masterlist:
        results_row = hosts_row
        if hosts_row[3] == master_row[1]:
            results_row.append('FOUND in master list (row ' + str(row) + ')')
            found = True
            break
        row = row + 1
    if not found:
        results_row.append('NOT FOUND in master list')
    c3.writerow(results_row)

f1.close()
f2.close()
f3.close()
<END>
<QUE>
Freeing a python list from C extension code
<ANS>
PyList_New()
<END>
<QUE>
Python - shutil How to select multiple directories for deletion with similar names
<ANS>
import glob
import shutil

deldirs = glob.glob("path/to/master/test.directory.*")
for dir_ in deldirs:
    shutil.rmtree(dir_)
<END>
<QUE>
How to change permissions on a couchdb database with python
<ANS>
import couchdb
couch=couchdb.Server("http://admin:admin@localhost:5984")
db=couch["db"]
security_doc=db.resource.get_json("_security")[2]
db.resource.put("_security",{u'admins': {u'names': [u'admin1','admin2','admin3'], u'roles': []}, u'members': {u'names': [], u'roles': []}})
<END>
<QUE>
How Can I attach multiple forms to a single submit button in Django?
<ANS>
class DocumentForm(forms.Form): 
    form1 = forms.FileField()
    form2 = forms.FileField()
<END>
<QUE>
How to add X number of spaces to a string
<ANS>
printer += ' ' * offset
<END>
<QUE>
Python adds line break to unexpected place
<ANS>
ant_mkdir = '<mkdir dir="..' + path.rstrip() + '"/>'
<END>
<QUE>
Making an numpy array subclass were all shape changing operations return a normal array
<ANS>
A.__class__ = np.ndarray
<END>
<QUE>
Write in to CSV file without double quotes
<ANS>
import csv
a = open("d.txt")
data = csv.reader(a)

rf = open("output.csv", 'wb')
wr = csv.writer(rf, dialect='excel')
for i in data:
    wr.writerow(i)
<END>
<QUE>
How to loop over a circular list, while peeking ahead and behind current element?
<ANS>
for i, e in enumerate(L):
    print(e, L[i-1], L[(i+1) % len(L)])
<END>
<QUE>
sqlalchemy many-to-many relationship, how to filter the collection
<ANS>
my_tag = session.query(Tag).get(1)

# option-1: if data is already loaded into memory
posts = [post for post in my_tag.posts if post.id > 10]

# option-2: query database with filter if you have "my_tag" instance
posts = session.query(Post).with_parent(my_tag).filter(Post.id > 10).all()

# option-3: query database with filter if you have slug value
posts = session.query(Post).join(Tag, Post.tags).filter(Tag.slug == "my_slug").filter(Post.id > 10).all()
<END>
<QUE>
Make column from pandas dataframe index
<ANS>
df.reset_index(level=0, inplace=True)
<END>
<QUE>
How to get the default page?
<ANS>
user_pref("browser.startup.homepage", "about:blank");
<END>
<QUE>
Given rearrangements A and B, compute P such that A[P] == B
<ANS>
import numpy as np

A = np.array(['b', 'c', 'e', 'd', 'a'])
B = np.array(['a', 'd', 'c', 'b', 'e'])

P = np.empty(len(A), int)
P[B.argsort()] = A.argsort()
<END>
<QUE>
How to print a list in Python "nicely"
<ANS>
from pprint import pprint
pprint(the_list)
<END>
<QUE>
parsing file to gather section headers with subsequent content
<ANS>
fp=open("file1","r")
mydict = {}

for line in fp:
    if line[0]=="=":
        key = line.strip()
    else:
        mydict.setdefault(key,[]).append(line.strip())

for key, value in mydict.iteritems():
    print key
    print "".join(value)
<END>
<QUE>
How to modify class's method behaviour? Python, class belongs to library that can't be changed
<ANS>
from lib import A

def my_method(instance, *args, **kwargs):
    some_code_here()

A.method = my_method
<END>
<QUE>
Using Urllib instead of action in post form
<ANS>
import httplib
httplib.HTTPConnection.debuglevel = 1
<END>
<QUE>
How do I pull text from a specific text line in Python?
<ANS>
with open("file.txt") as f:
    for i in range(9):
        f.next()
    print f.readline()
<END>
<QUE>
Changing the encoding of a table with django+south migrations
<ANS>
from south.db import db
from south.v2 import SchemaMigration

class Migration(SchemaMigration):
    def forwards(self, orm):
        db.execute('alter table appname_modelname charset=utf8')
        db.execute('alter table appname_modelname alter column fieldname charset=utf8')
        # et cetera for any other char or text columns

    def backwards(self, orm):
        db.execute('alter table appname_modelname charset=latin1')
        db.execute('alter table appname_modelname alter column fieldname charset=latin1')
        # et cetera for any other char or text columns

    complete_apps = ['appname']
<END>
<QUE>
Retrieving newest object for persons
<ANS>
returned = Person.objects.filter( carusage__end__isnull=True ).annotate(Max('carusage__start'))
not_returned = Person.objects.filter( carusage__end__isnull=False ).annotate(Max('carusage__end'))
<END>
<QUE>
Find lines beginning with same string and keep last occurance
<ANS>
from collections import OrderedDict

lines = OrderedDict()
for line in file:
    lines[line[0:12]] = line
<END>
<QUE>
How we can get List of urls after crawling website from scrapy in costom python script?
<ANS>
from setuptools import setup, find_packages

setup(name='scrapy-mymodule',
  entry_points={
    'scrapy.commands': [
      'my_command=my_scrapy_module.commands:MyCommand',
    ],
  },
 )
<END>
<QUE>
Python library for getting information about SVN repository?
<ANS>
Client.log()
<END>
<QUE>
Get django field "choice" from arbitrary value
<ANS>
status_dict = dict(my_thing.STATUSES)
return status_dict[value]
<END>
<QUE>
Make Python's argparse accept single-character abbreviations for subparsers?
<ANS>
foo_parser = subparsers.add_parser('foo', aliases=['f'])
<END>
<QUE>
6 elements in an array but only showing up as 1
<ANS>
CellNetInfopkt += struct.pack("b" * len(this_or_address_send_array), *this_or_address_send_array)
#  Notice the "*"                                                   ^^^
<END>
<QUE>
retrieve links from web page using python and BeautifulSoup
<ANS>
import httplib2
from BeautifulSoup import BeautifulSoup, SoupStrainer

http = httplib2.Http()
status, response = http.request('http://www.nytimes.com')

for link in BeautifulSoup(response, parseOnlyThese=SoupStrainer('a')):
    if link.has_attr('href'):
        print link['href']
<END>
<QUE>
Passing est datetime to MySql
<ANS>
a = "SELECT * FROM Table1 WHERE Date <= '%s'" % get_est()
<END>
<QUE>
Python File I/O: Implementing a function that copy's the content of one text file to an empty text file
<ANS>
def fcopy(file1, file2):
    os.chdir('C:/Users/Noah/Documents/myPython')
    open_file_1 = open(file1, 'r')
    open_file_2 = open(file2, 'w')
    for line in open_file_1:
        open_file_2.write(line)
    open_file_1.close()
    open_file_2.close()
    open_file_2 = open(file2, 'r')
    for line in open_file_2:
        print(line)
    open_file_2.close()
<END>
<QUE>
Python save txt file in a different folder
<ANS>
np.savetxt(r"C:\ASCII\%s.txt" % count,s)
<END>
<QUE>
Formatted Input in Python
<ANS>
for line in open("file"):
    print line[4:8] , line[11:16]
<END>
<QUE>
using more than one linestyle in the same trend line with matplotlib
<ANS>
import matplotlib.pyplot as plt
import numpy as np

x = np.linspace(1,2,10)
y = np.linspace(1,2,10)

plt.plot(x[:4],y[:4],'-ko',x[3:],y[3:],'--ko')
plt.show()
<END>
<QUE>
generate image -> embed in flask with a data uri
<ANS>
import urllib
from cStringIO import StringIO

png_output = StringIO()
canvas.print_png(png_output)
data = png_output.getvalue().encode('base64')
data_url = 'data:image/png;base64,{}'.format(urllib.quote(data.rstrip('
')))
<END>
<QUE>
In python selenium, how does one find the visibility of an element?
<ANS>
from selenium import webdriver

driver = webdriver.Firefox()
driver.get('http://www.google.com')
element = driver.find_element_by_id('gbqfba') #this element is visible
if element.is_displayed():
  print "Element found"
else:
  print "Element not found"

hidden_element = driver.find_element_by_name('oq') #this one is not
if hidden_element.is_displayed():
  print "Element found"
else:
  print "Element not found"
<END>
<QUE>
can i force python3's os.walk to visit directories in alphabetical order? how?
<ANS>
def main_work_subdirs(gl):
    for root, dirs, files in os.walk(gl['pwd']):
        dirs.sort()
        if root == gl['pwd']:
            for d2i in dirs:
                print(d2i)
<END>
<QUE>
Defining view elements from dictionary elements in TraitsUI
<ANS>
from traits.api import *
from traitsui.api import *
from traitsui.ui_editors.array_view_editor import ArrayViewEditor
import numpy as np

class DContainer(HasTraits):
    _dict=Dict
    def __getattr__(self, k):
        if k in self._dict:
            return self._dict[k]

class SmallPartOfLargeApplication(HasTraits):
  d=Instance(DContainer)

  def _d_default(self):
    d=DContainer()
    d._dict={'a_stat':np.random.random((10,1)),
            'b_stat':np.random.random((10,10))}

    return d

  def traits_view(self):
    v=View(
        Item('object.d.a_stat',editor=ArrayViewEditor()))
    return v

SmallPartOfLargeApplication().configure_traits()
<END>
<QUE>
Getting rid of duplicates
<ANS>
adj = [word.strip() for word in ad.split(",") if word != ""]
for a in adj:
  if a in file:
    file = file.replace(a, '[' + a + ']')
print file
<END>
<QUE>
Python: if statement with two variables
<ANS>
if level in easy:
    current_text = easy_level
    answers = easy_answers
elif level in medium:
    current_text = medium_level
    answers = medium_answers
elif level in hard:
    current_text = hard_level
    answers = hard_answers
ask_questions(current_text, answers)
<END>
<QUE>
Fetching data from related tables
<ANS>
countries = {}

country_list = Country.objects.all()

for c in country_list:
    # check the stories that has the country
    stories = Story.objects.filter(country_set__name__exact=c.name)

    # only if the country have stories
    if stories.count() > 0:
        ## check for initialize list
        if not countries.has_key(c.continent.name):
            countries[c.continent.name] = []

        ## finally we add the country
        countries[c.continent.name].append(c)
<END>
<QUE>
compare multiple columns in two files, replace value in file 2 with value from file 1
<ANS>
clines_dict = {} #open an empty dictionary

with open(smaller_file) as b:
    for line in b:
        clines_dict["\t".join(line.split('\t')[1:5])] = [line.split('\t')[5]]

# clines_dict[key] = [value]

print "dictionary created!"

with open(larger_file) as a:
    with open("scores.txt", "w") as result:
        for line in a:
            line = line.split('\t')
            look_for = "\t".join(line[1:5])
            if look_for in clines_dict: #check if look_for is a key in your dictionary
                result.write("\t".join(line[1:7]) + "\t" + clines_dict[look_for][0] + "
")
<END>
<QUE>
Python - How to invoke an function on an object dynamically by name?
<ANS>
obj = MyClass()
try:
    func = getattr(obj, "dostuff")
    func()
except AttributeError:
    print "dostuff not found"
<END>
<QUE>
Getting a dict of all the blocks in a Jinja2 template
<ANS>
Template.blocks
<END>
<QUE>
Intercept python's `print` statement and display in GUI
<ANS>
import StringIO
import sys

# somewhere to store output
out = StringIO.StringIO()

# set stdout to our StringIO instance
sys.stdout = out

# print something (nothing will print)
print 'herp derp'

# restore stdout so we can really print (__stdout__ stores the original stdout)
sys.stdout = sys.__stdout__

# print the stored value from previous print
print out.getvalue()
<END>
<QUE>
Array of images in python
<ANS>
from PIL import Image                                                            
import numpy                                                                     
import matplotlib.pyplot as plt                                                  
import glob

imageFolderPath = '/home/B/Pictures/'
imagePath = glob.glob(imageFolderPath+'/*.JPG') 

im_array = numpy.array( [numpy.array(Image.open(imagePath[i]).convert('L'), 'f') for i in range(len(imagePath))] )
<END>
<QUE>
How to COPY all entities in a Kind in GAE to another Kind without explicitly calling out each property
<ANS>
def clone_entity(e, to_klass, **extra_args):
  """Clones an entity, adding or overriding constructor attributes.

  The cloned entity will have exactly the same property values as the original
  entity, except where overridden. By default it will have no parent entity or
  key name, unless supplied.

  Args:
    e: The entity to clone
    extra_args: Keyword arguments to override from the cloned entity and pass
      to the constructor.
  Returns:
    A cloned, possibly modified, copy of entity e.
  """
  klass = e.__class__
  props = dict((k, v.__get__(e, klass)) for k, v in klass.properties().iteritems())
  props.update(extra_args)
  return to_klass(**props)

# Use the clone method
query = db.GqlQuery("SELECT * FROM OrigKind")
results = query.fetch(10);

for user in results:
    new_entry = clone_entity(user, NewKind)
    new_entry.put()
<END>
<QUE>
Grab the focus from GTK popup menu
<ANS>
gdk_pointer_ungrab(GDK_CURRENT_TIME);
gdk_keyboard_ungrab(GDK_CURRENT_TIME);
gtk_grab_remove(menu);
<END>
<QUE>
get first object in mongoengine
<ANS>
Request.objects.first()
<END>
<QUE>
Is there a way to make multiple horizontal boxplots in matplotlib?
<ANS>
import numpy as np
import pylab as plt

totfigs = 5

plt.figure()
plt.hold = True
boxes=[]
for i in np.arange(totfigs):    
    x = np.random.random(50)
    boxes.append(x)

plt.boxplot(boxes,vert=0)
plt.show()
<END>
<QUE>
Telnet to router in Python Script
<ANS>
import sys
import telnetlib

tn = telnetlib.Telnet("xxxxxxxx")

TELNET_PROMPT="xxxxxxxxxx"
TIMEOUT=1
tn.write("xxxxxxx"+"
")
tn.write("xxxxxxx"+"
")
print tn.read_until(TELNET_PROMPT, TIMEOUT)
tn.write("term len 0" + "
")
print tn.read_until(TELNET_PROMPT, TIMEOUT)
tn.write("show version" + "
")
print tn.read_until(TELNET_PROMPT, TIMEOUT)
tn.write("exit"+"
")
tn.close()
<END>
<QUE>
How do I execute a bash function defined in .profile using python subprocess module?
<ANS>
import subprocess
subprocess.call(['bash', '-c', '. ~/.profile && knife-LHR'])
<END>
<QUE>
Sending multipart data with rauth / requests
<ANS>
import requests

files = {
    'attachment': ('filename.jpg',
           open('path/to/filename.jpg', 'rb'),
           'image/jpeg; name=filename.jpg',
           {'Content-Transfer-Encoding': 'binary'}),
    'metadata': ('body.xml',
           open('/path/to/body.xml', 'rb'),
           'application/xml; name=body.xml',
           {'Content-Transfer-Encoding': 'binary'})}

response = requests.post(url, files=files)
<END>
<QUE>
Hitting url's stored in a variable in python
<ANS>
import csv
import sys
import urllib2

csvfile = list(csv.reader(open(sys.argv[1])))
for row in csvfile:
  sid = "http://myurl.com?sid="+row[13]
  urllib2.urlopen(sid)
<END>
<QUE>
How to test if there is a 'object_list' in the context generated for a CBV ListView
<ANS>
class BlogListViewTests(TestCase):

    def setUp(self):
        self.resp = self.client.get('/blog/')

    def test_has_a_post_list(self):
        self.assertTrue('post_list' in self.resp.context)
<END>
<QUE>
how to convert timecode into seconds:fractions_of_a_second?
<ANS>
import datetime
time_string = "17:48:12,98"
t = datetime.datetime.strptime(time_string, "%H:%M:%S,%f")
seconds = 60 * t.minute * t.hour

print (seconds, t.microsecond)
<END>
<QUE>
Django - Rebuild a query string without one of the variables
<ANS>
z = request.GET.copy()
del z['a']
<END>
<QUE>
Can you plot live data in matplotlib?
<ANS>
import matplotlib.pyplot as plt
import time
import threading
import random

data = []

# This just simulates reading from a socket.
def data_listener():
    while True:
        time.sleep(1)
        data.append(random.random())

if __name__ == '__main__':
    thread = threading.Thread(target=data_listener)
    thread.daemon = True
    thread.start()
    #
    # initialize figure
    plt.figure() 
    ln, = plt.plot([])
    plt.ion()
    plt.show()
    while True:
        plt.pause(1)
        ln.set_xdata(range(len(data)))
        ln.set_ydata(data)
        plt.draw()
<END>
<QUE>
Trouble with duplicate lines of logs in log file
<ANS>
logging.warn
<END>
<QUE>
How to end program while loop in python
<ANS>
keepAlive = True

def main():
    global keepAlive
    if(input("Enter 1 to end program") == "1"):
        print("Killing program...")
        keepAlive = False

while(keepAlive):
    main()
<END>
<QUE>
How do I save data from a ModelForm to database in django?
<ANS>
def cost(request, offset):
    if request.method == 'POST':
        project = Project.objects.get(title=offset)
        date = request.POST.get('date', '')
        cost = request.POST.get('cost', '')
        cost_obj = Cost(project=project, date=date, cost=cost)
        cost_obj.save()
        return HttpResponseRedirect('/')
<END>
<QUE>
Unbounded Knapsack in Python
<ANS>
return max (KnapSack(i+1, w, X, W), KnapSack(i, w, X-w[i], W))
<END>
<QUE>
Sending Verizon SMS message via Python and smtplib
<ANS>
import smtplib

username = "account@gmail.com"
password = "password"

vtext = "1112223333@vtext.com"
message = "this is the message to be sent"

msg = """From: %s
To: %s
Subject: text-message
%s""" % (username, vtext, message)

server = smtplib.SMTP('smtp.gmail.com',587)
server.starttls()
server.login(username,password)
server.sendmail(username, vtext, msg)
server.quit()
<END>
<QUE>
How to generate several matplotlib charts at a time?
<ANS>
def do_pie(fic,data):
    import pylab    
    # make a square figure and axes
    pylab.figure(1, figsize=(6,6))
    ax = pylab.axes([0.1, 0.1, 0.8, 0.8])
    pylab.pie(data,labels=data)
    pylab.title(fic, bbox={'facecolor':'0.8', 'pad':5})
    pylab.savefig('%s.png' % fic,dpi=100)
    pylab.close()
<END>
<QUE>
run a shell script from Python GUI
<ANS>
# assuming Python3
import tkinter as tk
import subprocess as sub

WINDOW_SIZE = "600x400"

root = tk.Tk()
root.geometry(WINDOW_SIZE)

tk.Button(root, text="Push me!", command=lambda: sub.call('path/to/script')).pack()
<END>
<QUE>
how to access the class variable by string in Python?
<ANS>
getattr(test, a_string)
<END>
<QUE>
Append Py Pandas Dataframes into a single .csv, iterating by separate list
<ANS>
# our merged items and store locations
merged_items = items.merge(store_loc, on='itemCat')
for i in stores:
    # take a copy
    temp_df = merged_items.copy()
    # set the store id
    temp_df['storeID'] = i
    # now just concat
    item_merged = pd.concat([iterm_merged, temp_df], ignore_index=True)

# rest of code is same
<END>
<QUE>
Creating a transparent overlay with qt
<ANS>
import sys
from PyQt4 import QtGui, QtCore

class mymainwindow(QtGui.QMainWindow):
    def __init__(self):
        QtGui.QMainWindow.__init__(self)
        self.setWindowFlags(
            QtCore.Qt.WindowStaysOnTopHint |
            QtCore.Qt.FramelessWindowHint |
            QtCore.Qt.X11BypassWindowManagerHint
            )
        self.setGeometry(QtGui.QStyle.alignedRect(
            QtCore.Qt.LeftToRight, QtCore.Qt.AlignCenter,
            QtCore.QSize(220, 32),
            QtGui.qApp.desktop().availableGeometry()))

    def mousePressEvent(self, event):
        QtGui.qApp.quit()

app = QtGui.QApplication(sys.argv)
mywindow = mymainwindow()
mywindow.show()
app.exec_()
<END>
<QUE>
How to extract a string from text that is 50 chars long and consists of A to Z and 0-9 .. starts with a capital letter
<ANS>
reobj = re.compile(r"""(?=[A-Z])([A-Za-z0-9"'. ]{50,}\.)""")
result = reobj.findall(subject)
<END>
<QUE>
Python: Placing a image Based on a matrix
<ANS>
def BLOCKplace(self):
    for row_index in range(len(self.myMatrix)):
        for column_index in range(len(self.myMatrix[row_index])):
            if self.myMatrix[row_index][column_index] == 1:
                canvas.create_image(row_index, column_index, image=redB, state="normal", tag="rB")
                canvas.update()
<END>
<QUE>
Is there any way to set options without any prefix in Argparser?
<ANS>
parser_X.set_defaults(action=action_func)
args.action(args)
<END>
<QUE>
C to Python Anagrams
<ANS>
def are_anagrams(s1, s2):
    return sorted(s1)==sorted(s2)
<END>
<QUE>
Using OPENPYXL to extract data from an EXCEL file
<ANS>
player = raw_input("Enter player name")
wb = load_workbook("LeaguePlayers.xlsx")
ws = wb.active
for cell in ws.columns[0]: # get first column
    if cell.value == player:
        cost = cell.offset(column=4).value
        print("{0} costs {1}".format(player, cost))
        break
<END>
<QUE>
Gentoo: Install a separate newer version of python without upgrading the os or the current python version
<ANS>
emerge --sync
<END>
<QUE>
convert a set into string in python
<ANS>
print(', '.join(x[:-1]) + " or " + x[-1])
<END>
<QUE>
python equivalent for curl --interface
<ANS>
class BindableHTTPHandler(urllib2.HTTPHandler):
    def http_open(self, req):
        return self.do_open(BindableHTTPConnectionFactory('10.91.56.4'), req)
<END>
<QUE>
python's re: return True if regex contains in the string
<ANS>
import re
word = 'fubar'
regexp = re.compile(r'ba[r|z|d]')
if regexp.search(word) is not None:
  print 'matched'
<END>
<QUE>
Slicing in mongoengine
<ANS>
thread = Thread.objects.fields(slice__comments=10).get(id=thread_id)
<END>
<QUE>
python regex to construct a structured data structure
<ANS>
import re

keyPat = re.compile(r'key (\w+) key')
valuePat = re.compile(r'value (\d+)')

result = {}
for line in open('data.txt'):
    if keyPat.search(line):
        match = keyPat.search(line).group(1)
        tempL = []
        result[match] = tempL
    elif valuePat.search(line):
        match = valuePat.search(line).group(1)
        tempL.append(int(match))
    else:
        print('Did not match:', line)

print(result)
<END>
<QUE>
Non-blocking realtime redirection stdout from process to wx.TextCtrl control
<ANS>
self.cb(text)
<END>
<QUE>
How can I print entity numbers in my xml document instead of entity names using python's lxml?
<ANS>
outputString.replace("&lt;","&#60;")
<END>
<QUE>
Increment server number in double loop with separator every 5 servers
<ANS>
numservers = 15 # put anything you want here
for i in range(1,numservers+1):
    print('server{}'.format(i))
    if i%5 == 0:
        print('*'*22)
<END>
<QUE>
how to create a dictionary from a set of properly formatted tuples in python
<ANS>
import json

d = json.loads('{"responseStatus":"SUCCESS","sessionId":"01234","userId":2000004904}')
<END>
<QUE>
How to request all the information from the HTML form in Google App Engine?
<ANS>
# An iterable with alll items in the MultiDict:
# [('check', 'a'), ('check', 'b'), ('name', 'Bob')]
self.request.POST.items()
<END>
<QUE>
Sum element by element list of lists python
<ANS>
np.sum(weighted_prob, axis=0)
<END>
<QUE>
Python application not recognizing updates made in python file
<ANS>
reload(file)
<END>
<QUE>
how do you make an IPv4 address printable with the getdnsapi python API?
<ANS>
bin_addr = results.reply_tree.reply[n]['answer']['rdata']['ipv4_address']
string_addr = '.'.join(map(str, map(ord, bin_addr)))
<END>
<QUE>
Cython - convert wide string (wchar_t *) to Python 3 unicode object
<ANS>
PyUnicode_FromWideChar(result, -1)
<END>
<QUE>
python 3: im a beginner and i need to know what im missing. how do i make it state each childs name individually?
<ANS>
list_students = []
list_score = []
list_outof = []

how=int(input("how many students in your class?"))
for i in range(how):
   student=str(input("Enter name of student " +str(i+1)+":"))
   list_students.append(student)

for student in list_students:
    score=int(input(" " + student +":"))
    list_score.append(score)
    outof=int(input("what was the exam out of?"))
    list_outof.append(outof)

print("The percentage scores are:")
for index, student in enumerate(list_students):
    print (student,":",(list_score[index]/list_outof[index])*100.0,"%")
<END>
<QUE>
Reading a triangle of numbers into a 2d array of ints in Python
<ANS>
arr = [[int(i) for i in line.split()] for line in open('input.txt')]
<END>
<QUE>
Managing global objects with side effects when reloading a module in Python
<ANS>
try:
    cache
except NameError:
    cache = {}
<END>
<QUE>
How do I open a CSV file in IPython on Windows
<ANS>
import pandas as pd
myFile = pd.read_csv('ch06/ex1.csv')
myFile.head()
<END>
<QUE>
Customize Django User Table View with extended fields
<ANS>
class UserAdmin(UserAdmin):
    inlines = (InsiderUserInline, )
    list_display = ('email', 'first_name', 'last_name', 'display_company_name', )

    def display_company_name(self, request):
        if InsiderUser.objects.filter(user__id = request.id):
            return InsiderUser.objects.get(user__id = request.id).company_name
        else:
            return None
    display_company_name.short_description = 'Company Name'

admin.site.unregister(User)
admin.site.register(User, UserAdmin)
<END>
<QUE>
How do I execute a string containing Python code in Python?
<ANS>
import sys
import StringIO

# create file-like string to capture output
codeOut = StringIO.StringIO()
codeErr = StringIO.StringIO()

code = """
def f(x):
    x = x + 1
    return x

print 'This is my output.'
"""

# capture output and errors
sys.stdout = codeOut
sys.stderr = codeErr

exec code

# restore stdout and stderr
sys.stdout = sys.__stdout__
sys.stderr = sys.__stderr__

print f(4)

s = codeErr.getvalue()

print "error:
%s
" % s

s = codeOut.getvalue()

print "output:
%s" % s

codeOut.close()
codeErr.close()
<END>
<QUE>
call local variable of a function in another function
<ANS>
self.field1 = wx.TextCtrl(panel,pos=(120,25),size=(170,20))

self.field1.SetValue(dlg.GetPath())
<END>
<QUE>
How Can I put a QMdiSubWindow into a QMdiArea QMainWindow?
<ANS>
from VIEW.friendsForm import Ui_friendForm
def actionFriends_click(self):
    subwindow_friend = Ui_friendForm()
    self.mdiArea.addSubWindow(subwindow_friend)
    subwindow_friend.show()
<END>
<QUE>
Hough lines in OpenCV/Python
<ANS>
import cv2
import numpy as np

img = cv2.imread('dave.jpg')
gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)


edges = cv2.Canny(gray,100,200,apertureSize = 3)
cv2.imshow('edges',edges)
cv2.waitKey(0)

minLineLength = 30
maxLineGap = 10
lines = cv2.HoughLinesP(edges,1,np.pi/180,15,minLineLength,maxLineGap)
for x in range(0, len(lines)):
    for x1,y1,x2,y2 in lines[x]:
        cv2.line(img,(x1,y1),(x2,y2),(0,255,0),2)

cv2.imshow('hough',img)
cv2.waitKey(0)
<END>
<QUE>
how to convert this into a smooth graph in matplotlib
<ANS>
import matplotlib.pyplot as plt
import numpy as np

x = np.linspace(0, 8, 1000)
x_knots = list(range(0,9))
y_knots = [
    8.714871428, 8.618221961, 8.338674976,
    7.904714805, 6.73505356, 6.08059523,
    5.423472376, 4.785585409, 3.615895343
]

poly_deg = 3
coefs = np.polyfit(x_knots, y_knots, poly_deg)
y_poly = np.polyval(coefs, x)

plt.plot(x_knots, y_knots, "o", label="data points")
plt.plot(x, y_poly, label="polynomial fit")
plt.ylabel(r'$\frac{\kappa}{C} \rho$')
plt.legend()
<END>
<QUE>
Build dict applying expressions to an object
<ANS>
(lambda s: {"len" : len(s), "slice" : s[2:4]})(u'hello')
<END>
<QUE>
Get Element value with minidom, Python
<ANS>
name[0].firstChild.nodeValue
<END>
<QUE>
python with scientific notation EXY
<ANS>
udskrift.write((" %.5E , %.5E
" % (entry[2], entry[3])).replace('E+', 'E'))
<END>
<QUE>
How to create complex dictionary structure in Python?
<ANS>
with open('data.txt', mode="r") as data_file:
    fieldnames = ('character', 'string', 'value1', 'value2')
    reader = csv.DictReader(data_file, fieldnames=fieldnames, delimiter="\t")

    complete_dict = {}
    for row in reader:
        char_dict = complete_dict.setdefault(row['character'], {})
        values_list = char_dict.setdefault(row['string'], [])
        values = [int(row['value1']), float(row['value2'])] 
        values_list.append(values)

pprint.pprint(complete_dict)
<END>
<QUE>
How to implement caching with WSGI?
<ANS>
class WSGICache(object):

    def __init__(self, app):
        self.app = app
        self.cache = {}

    def is_expired(self, environ):
        """Determine is the resource the request for already expired?

        """
        # FIXME: check is the resource expired, by looking
        # PATH_INFO, if it is a file, it might be last modified time
        # if it is an object from database, see what is the last modified time
        return False

    def __call__(self, environ, start_response):
        path = environ['PATH_INFO']
        cached = self.cache.get(path)
        # do we have valid cache?
        if self.is_expired(environ) or not cached:
            cached = list(self.app(environ, start_response))
            self.cache[path] = cached
        return cached
<END>
<QUE>
How to extract derivative from a polynomial fit?
<ANS>
deriv = np.polyder(ridge.coef_[::-1])
yd_plot = np.polyval(deriv,x_plot)
<END>
<QUE>
Django page hit counter concurrency
<ANS>
HitCount.DoesNotExist
<END>
<QUE>
Python Bokeh: remove toolbar from chart
<ANS>
p.logo = None
p.toolbar_location = None
<END>
<QUE>
Plotting with lines connecting points
<ANS>
import matplotlib.pyplot as plt
f = open('wind.txt', 'r')
min_vector = []
max_vector = []
z_vector = []
for line in f.readlines():
    line = line.strip()
    columns = line.split()
    z = columns[0]
    u_min = columns[1]
    u_10 = columns[2]
    u_max = columns[4]
    u_90 = columns[3]

    min_vector.append(u_min)
    max_vector.append(u_max)
    z_vector.append(z)

plt.plot(min_vector, z_vector, '-o')
plt.plot(max_vector, z_vector, '-o')
<END>
<QUE>
Multiple constructors in python?
<ANS>
def __init__(self, city="Berlin"):
  self.city = city
<END>
<QUE>
Search a regex containing special characters
<ANS>
re.search(r'\$\.', inputstring)
<END>
<QUE>
Replacing values in numpy array
<ANS>
M=30
N=40
X = np.zeros((M,N))  # random values, but 0s work too
Y = np.where(np.random.rand(M,N) > .5, True, False)
A=np.array([ 7,  8, 10, 13]), # in my setting, it's (1,4), not (4,)
B = [1,2,1,1]

# position in row where X should equal - 1, i.e. X[7,a0], X[8,a1], etc
a0=np.where(Y[7]==True)[0][0]
a1=np.where(Y[8]==True)[0][0]
a2=np.where(Y[8]==True)[0][1]
a3=np.where(Y[10]==True)[0][0]
a4=np.where(Y[13]==True)[0][0]

# For each row (i) indexed by A, take only B[i] entries where Y[i]==True.  Assume these indices in X = -1
for i in range(len(A[0])):
    X[A[0][i]][(Y[A][i]==True).nonzero()[0][0:B[i]]]=-1

np.sum(X) # should be -5
X[7,a0]+X[8,a1]+X[8,a2]+X[10,a3]+X[13,a4] # should be -5
<END>
<QUE>
Parsing Twitter JSON object in Python
<ANS>
def twitterfeed():
   auth = tweepy.OAuthHandler(consumer_key, consumer_secret)
   auth.set_access_token(access_key, access_secret)
   api = tweepy.API(auth)
   statuses = tweepy.Cursor(api.home_timeline).items(20)
   data = [s.text.encode('utf8') for s in statuses]
   print data
<END>
<QUE>
Deleting prior two lines of a text file in Python where certain characters are found
<ANS>
import re

i = open('i.txt').read()
o = re.sub(r'
+(?=[a-z])', ' ', i)

open('o.txt', 'w').write(o)
<END>
<QUE>
python IDispatch client without type library
<ANS>
import new
from types import MethodType

class Proxy(object):

    def __init__(self, target):
        self._target = target

    def __getattr__(self, aname):
        target = self._target
        ### Beginning of special logic ###
        if aname[:4]!='set_' and aname[:4]!='get_':
        ### End of special logic ###
            # Rebind the method to the target.
            return new.instancemethod(f.im_func, self, target.__class__)
        else:
            return f
<END>
<QUE>
How do I change the font size of the scale in matplotlib plots?
<ANS>
from matplotlib import pyplot
import math

def setLabelExample():
    fig = pyplot.figure() 
    x = [i for i in range(200)]
    y = [xi**2 for xi in x]

    ax = fig.add_subplot(1,1,1)
    ax.plot(x, y) 
    ax.tick_params(axis='x', labelsize=30)
    fig.suptitle('Matplotlib xticklabels Example')
    pyplot.show()

if __name__ == '__main__':
    setLabelExample()
<END>
<QUE>
python ttk: force screen update
<ANS>
relevant_widget.update_idletasks()
<END>
<QUE>
Data Type Conversion Error while trying to dynamically add columns(fields) from excel in MS-Access database using Python
<ANS>
db.Execute("ALTER TABLE MY_TABLE ADD COLUMN [{0}] TEXT(50)".format(cell_value))
<END>
<QUE>
Don't get expected results from Python's super
<ANS>
class Test(object):
     def __init__(self):
         self.message = "Hello World"
class Print(Test):
         def __init__(self):
             print super(Print, self).message
<END>
<QUE>
How can you reset variables to their original value in python?
<ANS>
lives = 6

def change():
    global lives
    lives = 0
<END>
<QUE>
How to get the half part of forloop in django template
<ANS>
offset = len(lines) / 2

if offset % 2 != 0:
    # ensure that the second col does not contain more than the first one
    offset += 1

lines_col0 = lines[:offset]
lines_col1 = lines[offset:]
<END>
<QUE>
How to exit a Kivy application using a button
<ANS>
App.get_running_app().stop()
<END>
<QUE>
Python: HTML regex not matching
<ANS>
import lxml.html
doc = lxml.html.fromstring(your_html)
result = doc.xpath("//div[@class='col result_name']")
print result
<END>
<QUE>
How to Draw a triangle shape in python ?
<ANS>
vertices = []
for i in range(3):                         # Do this 3 times
    x = random.randint(0, 500)             # Create a random x value
    y = random.randint(0, 500)             # Create a random y value
    vertices.append(graphics.Point(x, y))  # Add the (x, y) point to the vertices
triangle = graphics.Polygon(vertices)      # Create the triangle
triangle.setFill(colour)
triangle.draw(win)
<END>
<QUE>
How do I access command line arguments in Python?
<ANS>
import sys

print(sys.argv)
<END>
<QUE>
how to merge 200 csv files in Python
<ANS>
fout=open("out.csv","a")
# first file:
for line in open("sh1.csv"):
    fout.write(line)
# now the rest:    
for num in range(2,201):
    f = open("sh"+str(num)+".csv")
    f.next() # skip the header
    for line in f:
         fout.write(line)
    f.close() # not really needed
fout.close()
<END>
<QUE>
Using writerow from csv module to write columns starting after the first?
<ANS>
newrows = list()
for fl in infiles:
    with open(fl, 'rb') as csvin:
        reader = csv.reader(csvin, delimiter=',')
        reader.next() # skip header
        for row in reader:
            sld = gettld(row[urlcolumn])
            tld = psl.get_public_suffix(row[urlcolumn])
            newrows.append([sld, tld] + row[1:]) # row[1:] is everything but the first

with open(outfile, 'wb') as csvout:
    wtr = csv.writer(csvout, delimiter=',', quotechar='|', quoting=csv.QUOTE_MINIMAL)
    wtr.writerow(["TLD", "SLD", "Registrar", "Host", "ASN"]) # write header
    wtr.writerows(newrows)
<END>
<QUE>
django-tables2 Display non-table data
<ANS>
counts = [ { 'tbl': k, 'tbl_cnt': v} for k,v in counts.items() ]
<END>
<QUE>
How to check all the elements in a list that has a specific requirement?
<ANS>
mycards= ['0H','8H','7H','6H','AH','QS'] 
all((x == 'QS' or 'H' in x) for x in mycards)
#  True
<END>
<QUE>
django orm - check if dictionary key exists in a model field?
<ANS>
thing, created = Thing.object.update_or_create(
    unique_id=dict1['unique_key'], 
    defaults={'property': dict1['other_key']}
)
<END>
<QUE>
Enumerating all paths in a tree and manipulate values associated with each node
<ANS>
def paths(tree, sum_so_far):
    #Helper function
    #receives a tree and 
    #returns all paths that have this node as root
    if not tree:
        return []
    else: #tree is a node
        root = tree.ID
        val = tree.Value
        rooted_paths = [[[root], value]]
        for subtree in tree.nextDest:
            useable = paths(subtree, sum_so_far + val)
            for path in useable:
                rooted_paths.append([[root]+path[0], path[1]])
    return rooted_paths
<END>
<QUE>
Python Matplotlib: plot with 2-dimensional arguments : how to specify options?
<ANS>
import numpy as np
import matplotlib.pyplot as plt
np.random.seed(2013)
N = 10
x, y = np.random.random((2,N,2))
x.cumsum(axis=0, out=x)
y.cumsum(axis=0, out=y)
fig, ax = plt.subplots()
colors = ['red', 'black']
ax.set_color_cycle(colors)
ax.plot(x,y)
plt.show()
<END>
<QUE>
print all the values of a group of objects without iterating through it
<ANS>
Products = productBll.listProduct(params)
print [prd.__dict__ for prd in Products]
<END>
<QUE>
Is there any way to start your computer at a certain time with a python script?
<ANS>
"Power ON by Alarm"
<END>
<QUE>
Execute Python with pygtk without terminal appear
<ANS>
import py_compile
py_compile.compile('abc.py')
<END>
<QUE>
mayavi2: pythonic access from data_set_clipper filter
<ANS>
def get_clip_corners(clip):
    hack_mesh = tvtk.api.tvtk.PolyData()
    clip.widget.widget._vtk_obj.GetPolyData(hack_mesh._vtk_obj)
    corners = hack_mesh.points.to_array()[:8, :]
    return corners, hack_mesh

def get_inside_mask(sep, data):
    is_in = numpy.zeros((data.shape[0],), dtype = numpy.bool)
    for (di, d) in enumerate(data):
        di_in = sep.is_inside_object(d[0], d[1], d[2])
        is_in[di] = di_in
    return is_in

def extract_points_inside_clip(clip, data):
    corners, mesh = get_clip_corners(clip)

    sep = tvtk.api.tvtk.SelectEnclosedPoints()
    sep.initialize(mesh)

    is_in = get_inside_mask(sep, data)
    data_in_box = data[is_in, :]
    return data_in_box
<END>
<QUE>
How to use InternalId to get text in the QTreeView on PyQt4
<ANS>
class TreeView(QtGui.QTreeView):
    def __init__(self, parent=None):
        super(TreeView, self).__init__(parent)      
        self.clicked.connect(self.getCurrentIndex)    
        # self.connect(self, SIGNAL("clicked(QModelIndex)"), self.getCurrentIndex)

    def getCurrentIndex(self, index):
        print(index.data())
        # Use 'InternalId' obtain the corresponding text, not int and hoping to simple.
<END>
<QUE>
Equating a list to the function of another list
<ANS>
Force = [(function(x)-0.5)/slope for x in Power]
<END>
<QUE>
How to Print decimal 0 as 000 in python
<ANS>
hex_data = "FF"
number = int("0x" + hex_data, 16) 
print '%03d' % number # either this
print '{:03d}'.format(number) # or this (Python >= 2.6)
<END>
<QUE>
Add suggestions to python session autocomplete that appear in IPython notebook too
<ANS>
def my_matches(test):
    # might want to be smarter here
    return ['angela@domain.com', 'michael@domain.com', 'david@test.com']
ip = get_ipython()
ip.Completer.matchers.append(my_matches)
# it works
<END>
<QUE>
ebaysdk-python Authentication failed : Invalid Application
<ANS>
api = finding(domain='svcs.sandbox.ebay.com', debug=True, config_file='myebay.yaml')
<END>
<QUE>
simplify a loop in python
<ANS>
final_fun = [sum(fun[:,i_base])/n_ci for i_base in xrange(n_base)]
<END>
<QUE>
How to keep kazoo connected to zookeeper?
<ANS>
client.create(path, ephemeral=True)
<END>
<QUE>
How find values in an array that meet two conditions using Python
<ANS>
numpy.nonzero((a > 3) & (a < 8))
<END>
<QUE>
Execute shell scripts based on value of key pressed
<ANS>
import os
import signal
import subprocess

process = subprocess.Popen('script.sh', stdout=subprocess.PIPE, 
                   shell=False, preexec_fn=os.setsid) 

os.killpg(process.pid, signal.SIGTERM)
<END>
<QUE>
python: get all youtube video urls of a channel
<ANS>
import urllib, json
author = 'Youtube_Username'

foundAll = False
ind = 1
videos = []
while not foundAll:
    inp = urllib.urlopen(r'http://gdata.youtube.com/feeds/api/videos?start-index={0}&max-results=50&alt=json&orderby=published&author={1}'.format( ind, author ) )
    try:
        resp = json.load(inp)
        inp.close()
        returnedVideos = resp['feed']['entry']
        for video in returnedVideos:
            videos.append( video ) 

        ind += 50
        print len( videos )
        if ( len( returnedVideos ) < 50 ):
            foundAll = True
    except:
        #catch the case where the number of videos in the channel is a multiple of 50
        print "error"
        foundAll = True

for video in videos:
    print video['title'] # video title
    print video['link'][0]['href'] #url
<END>
<QUE>
How can I have one annotation pointing to several points in matplotlib?
<ANS>
import numpy as np
import matplotlib.pyplot as plt

fig = plt.figure()
ax = fig.add_subplot(111)

t = np.arange(0.0, 5.0, 0.01)
s = np.cos(2*np.pi*t)
line, = ax.plot(t, s, lw=2)

coords_to_annote = [(2,1),(3,1),(4,1)]

for coords in coords_to_annote:
    ax.annotate('local max', xy=coords, xytext=(3, 1.5),
                arrowprops=dict(facecolor='black', shrink=0.05),
                )


ax.set_ylim(-2,2)
plt.show()
<END>
<QUE>
extracting values from html table using beautifulsoup4 (2nd row onwards, 1st and 6th column)
<ANS>
table = soup.find('table', id='DailySettlementTable')

# The slice notation below, [2:7], says to take the third (index 2)
# to the eighth (index 7) values from the rows we get.
for rows in table.find_all('tr')[2:7]:
    cells = rows.find_all('td')
    month = cells[0]
    settle = cells[6]

    print month.string + ':' + settle.string
<END>
<QUE>
Search Bing via Azure API using Python
<ANS>
keyBing = ''        # get Bing key from: https://datamarket.azure.com/account/keys
credentialBing = 'Basic ' + (':%s' % keyBing).encode('base64')[:-1] # the "-1" is to remove the trailing "
" which encode adds
searchString = '%27Xbox+One%27'
top = 20
offset = 0

url = 'https://api.datamarket.azure.com/Bing/Search/Image?' + \
      'Query=%s&$top=%d&$skip=%d&$format=json' % (searchString, top, offset)

request = urllib2.Request(url)
request.add_header('Authorization', credentialBing)
requestOpener = urllib2.build_opener()
response = requestOpener.open(request) 

results = json.load(response)

# process results
<END>
<QUE>
Why can't I match a simple domain name with a Python regex?
<ANS>
import re

a = re.compile("(example\.com)", re.IGNORECASE)

a.search("http://www.example.com/sdklfjsdf").groups(1)
('example.com',)
<END>
<QUE>
How matplotlib show obvious changes?
<ANS>
import numpy as np
import matplotlib.pylab as pl

x = np.arange(100)
y = np.random.randint(1270000-10, 1270000+10, x.size)

pl.figure()
pl.subplot(121)
pl.plot(x,y)
pl.ylim(y.min()-1, y.max()+1)

pl.subplot(122)
pl.plot(x,y)
pl.ylim(y.min()-1, y.max()+1)
ax=pl.gca()
ax.get_yaxis().get_major_formatter().set_useOffset(False)
<END>
<QUE>
How to change pythons response to a string input in a int(input('Q1')), to a looped Q?
<ANS>
def get_int(prompt="Enter an Integer:"):
    while True:
        try:
           return int(input(prompt))
        except ValueError:
           print("That is not an integer!")

x = get_int("What is 1+1")
<END>
<QUE>
How to save email image attachment using Jython
<ANS>
from org.python.core.util import StringUtil
from java.nio import ByteBuffer


tmp, filename = tempfile.mkstemp(suffix = "." + extension, text=True)
bytes = StringUtil().toBytes(attachment)
bb = ByteBuffer.wrap(bytes)
tmp.write(bb)
tmp.close()
<END>
<QUE>
Sublime Text 3 API : Get all text from a file
<ANS>
content = self.view.substr(sublime.Region(0, self.view.size()))
<END>
<QUE>
Python: Finding max of a dictionaries tupled-value
<ANS>
d = {'one':(1,2,3), 'two':(3,2,1), 'three':(4,5,6)}
tuple(max(x) for x in zip(*d.values()))
<END>
<QUE>
How would I reverse the contents of any given queue in python?
<ANS>
# suppose your have a Queue my_queue
aux_stack = Stack()
while not my_queue.isEmpty():
    aux_stack.push(my_queue.dequeue())

while not aux_stack.isEmpty():
    my_queue.enqueue(aux_stack.pop())
<END>
<QUE>
How to make asynchronous HTTP GET requests in Python and pass response object to a function
<ANS>
def print_url(r, **kwargs):
    print r.url
<END>
<QUE>
Generate a random array ignoring a selected value
<ANS>
first_value = random.randint(0, 10)
randarray = [i for i in random.sample(range(0, 10), 10) if i != first_value]
randarray.insert(0, first_value)
<END>
<QUE>
How to cleanly iterate over two structures at the same time?
<ANS>
for item1, item2 in zip(structure1, structure2):
    do_something(item1, item2)
<END>
<QUE>
Finding a position in an array of a maxmum point from a fits file, pyfits
<ANS>
for arg in sys.argv[1:]:
        a=pyfits.getdata(arg).MAG_AUTO
        arr=numpy.array(a)
        indices = heapq.nlargest(10,xrange(len(arr)),key=arr.__getitem__)
        print indices
<END>
<QUE>
Python splitting text into blocks of x characters
<ANS>
# open inputfile/read/auto-close 
with open('inputfile.txt') as f:
    lines = f.readlines() # with block auto closes file after block is executed

output = []

for line in lines:
    if len(line) > 110:
        while True: # until break
            output.append(line[:107] + '...') 
            if len(line[107:]) < 111: # if remainder of line is under 110 chars
                output.append('...' + line[107:])
                break
            line = line[107:] # otherwise loop continues with new line definition
    else:
        output.append(line)

# open outputfile/write/auto-closed
with open('outputfile.txt', 'w') as f:
    for line in output:
        f.write(line)
<END>
<QUE>
In Tkinter how can I constantly get a slider value
<ANS>
from Tkinter import *
master = Tk()

def getThrottle(event):
    print Throttle.get()

Throttle = Scale(master, from_=0, to=100, orient=HORIZONTAL, command=getThrottle)
Throttle.set(0)
Throttle.pack()

mainloop()
<END>
<QUE>
pandas: Divide DataFrame last row by first row
<ANS>
df.T[df.index[0]] / df.T[df.index[-1]]
<END>
<QUE>
Add new member to replicas set in mongodb with python and subprocess.call
<ANS>
subprocess.call(["/usr/bin/mongo", "--port", str(port), "--eval", task])
<END>
<QUE>
How to find string in item of list python
<ANS>
cities = [w.split(',')[0] for w in my_list]
term = "de"
results = [city for city in cities if term in city.lower()]
<END>
<QUE>
Loading page in Django based on its ID
<ANS>
url(r'^/someapp/(?P<page_id>\d+)/$', paginas),


def paginas(request, **kwargs):
    id = kwargs.pop('page_id')
    page = get_object_or_404(Page, id=id)
    # etcetera


class Page(models.Model):
    # regular stuff
    def get_absolute_url(self):
        return "/someapp/%d/" % self.id
<END>
<QUE>
Bubble Sort Algorithm in Python - Last Number Not Sorting
<ANS>
def bubbleSort(numbers): # Bubble Sort Algorithm
    nums = list(numbers)
    for i in range(len(nums)):
        for j in range(i+1, len(nums)):
            if numbers[j] < numbers[i]:
                numbers[j], numbers[i] = numbers[i], numbers[j]

    print numbers
<END>
<QUE>
Python - finding specific string in files
<ANS>
pattern = r'(\d+)/(\d+)/(\d+)\|(\d+):(\d+):(\d+)\|(\S+)\|(\S+)\|(\S+)\|(\S+)\|(\S+)\|(\S+)\|(\d+)\|(\d+)\|(\S+)\|'
<END>
<QUE>
Python - How to export each item in a list to individual text file
<ANS>
i = 0
for item in text_list:
    i += 1
    #also use format instead of the %s
    f = open("c:\\users\\jacob\\documents\\txt_files\\{0}.txt".format(i), 'w')
    f.write(item)
    f.close()
<END>
<QUE>
Finding the distance of a coords from the begning of a route in Python
<ANS>
if route.distance(p) <= r:
    return route.project(p)
<END>
<QUE>
floats as indexers for MultiIndex in pandas
<ANS>
df.loc[idx[1.5,:], :]
<END>
<QUE>
Compare python list of dictionaries with tolerance on column order
<ANS>
first = [{'a':'aaa','b':'ccc','c':'bbb','d':'ddd'},
         {'a':'bb','b':2,'c':1,'d':3},
         {'a':'cc','b':22,'c':11,'d':33}]

second = [{'a':'aaa','b':'bbb','c':'ccc','d':'ddd'},
          {'a':'bb','b':1,'c':2,'d':3},
          {'a':'cc','b':11,'c':22,'d':33}]


def compare(first,second):
    for a,b in zip(first, second):
        vals_a = list(a.values())
        vals_b = list(b.values())

        vals_a.sort()
        vals_b.sort()

        if vals_a != vals_b:
            return False

    return True

print compare(first,second)
<END>
<QUE>
Filter zipcodes by proximity in Django with the Spherical Law of Cosines
<ANS>
def get_models_within_25 (self):
    from django.db import connection, transaction
    cursor = connection.cursor()

    cursor.execute("""SELECT id, ( 
        3959 * acos( cos( radians(37) ) * cos( radians( lat ) ) * 
        cos( radians( lng ) - radians(-122) ) + sin( radians(37) ) * 
        sin( radians( lat ) ) ) )
        AS distance FROM stores HAVING distance < 25
        ORDER BY distance LIMIT 0 , 20;""")
    ids = [row[0] for row in cursor.fetchall()]

    return MyModel.filter(id__in=ids)
<END>
<QUE>
Compress whitespaces in string
<ANS>
' '.join("some   user entered     text".split())
<END>
<QUE>
Program is written but cant get it to concatenate
<ANS>
import string
from math import *

def main():
    n=4
    abscissa=[-5,-2,3,7]
    ordinate=[4,-6,8,1]
    result = ''
    for j,y in enumerate(ordinate):
        if j!=0:
            result += '+'
        LP=str(y)
        denom="1"
        for k,x in enumerate(abscissa):
            if k!=j:
                denom += '*({}-{})'.format(abscissa[j],x)
                LP += '*(x-{})'.format(x)
        LP += '/' + denom
        result += LP
    print(result)
main()
<END>
<QUE>
how to update a column in a mysql table using sqlachemy?
<ANS>
stmt = sqlalchemy.update(Table1).\
            values(trackingId = 'UPSTXNID1').\
            where(Table1.id == '12345')
db.engine.execute(stmt)

# If you want to see the underlying SQL statement that is created
print str(stmt.compile(dialect=sqlalchemy.dialects.mysql.dialect()))
<END>
<QUE>
Python - Syntax error for taking minimum of tuple by second element
<ANS>
x,y = min(((x,f(x)) for x in array), key = lambda(k, v): v)
<END>
<QUE>
Avoid copy method in Python
<ANS>
Q = P[:]
<END>
<QUE>
Using multiple CSS selectors for the same ArticleItem in Scrapy
<ANS>
article['title'] = response.css("p.title ::text").extract() + \
                   response.css("span.newstitle ::text").extract()
<END>
<QUE>
Py-appscript: How can I make message with Mail.app
<ANS>
from appscript import *

mail = app('Mail')
msg = mail.make(new=k.outgoing_message)
msg.subject.set("hello"),
msg.content.set("appscript")
msg.to_recipients.end.make(new=k.to_recipient, with_properties={'address':'taichino@gmail.com'})
msg.send()
<END>
<QUE>
merge a list of 2 lists or use a queryset?
<ANS>
board.objects.filter(run__floor=1)
<END>
<QUE>
Python string extraction
<ANS>
ids = [int(s.split("/")[3]) for s in id_arr]
<END>
<QUE>
Passing Tuple into __init__ in Python
<ANS>
class AddNoteForm(forms.Form):
    def __init__(self, test_values, *args, **kwargs):
        self.custom_choices = test_values
        super(AddNoteForm, self).__init__(*args, **kwargs)
        self.fields['choices'] = forms.MultipleChoiceField(
          label='Test Choices',
          choices=self.custom_choices
        )
<END>
<QUE>
How to identify data after they have been through a whitening transformation and K-means clustering, python
<ANS>
vq.whiten
<END>
<QUE>
How to create open ChainShape in pybox2d
<ANS>
b = Box2D.b2ChainShape(vertices_chain=a)
<END>
<QUE>
How to backtrace a function in python 2.7?
<ANS>
import traceback

def foo():
    bar()

def bar():
    baz()

def baz():
    traceback.print_stack() 
    # or trace = traceback.extract_stack()

foo()
<END>
<QUE>
Delete every non utf-8 symbols froms string
<ANS>
line=line.encode('utf-8').decode('utf-8','ignore').encode("utf-8")
<END>
<QUE>
removing space from output Python 2.7
<ANS>
print "Too fast! The fine is ${0}".format((clocked - limit) * 5 + 50)
<END>
<QUE>
Drawing axis in the middle of the figue in python
<ANS>
import math
import numpy as np
import matplotlib.pyplot as plt

def sigmoid(x):
    a = []
    for item in x:
        a.append(1/(1+math.exp(-item)))
    return a


x = np.arange(-10., 10., 0.2)
sig = sigmoid(x)

fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)

# Move left y-axis and bottim x-axis to centre, passing through (0,0)
ax.spines['left'].set_position('center')
ax.spines['bottom'].set_position('center')

# Eliminate upper and right axes
ax.spines['right'].set_color('none')
ax.spines['top'].set_color('none')

# Show ticks in the left and lower axes only
ax.xaxis.set_ticks_position('bottom')
ax.yaxis.set_ticks_position('left')

plt.plot(x,sig)
plt.show()
<END>
<QUE>
Import all modules from package in python
<ANS>
from .add import add
<END>
<QUE>
files's binary data stored as variable inside python file
<ANS>
import base64

exe = 'c:/users/me/program.exe'
script = 'c:/users/me/newpython.py'
chunksize = 6144
linelength = 80

with open(exe,'rb') as inf, open(script,'w') as outf:
    outf.write('program_data = """')

    while True:
        progdata = inf.read(chunksize)
        if len(progdata):
            progdata = progdata.encode("base64")
            outf.writelines(progdata[i:i+linelength] for i in range(0, len(progdata), linelength))
        else:
            break

    outf.write('""".decode("base64")')
<END>
<QUE>
Matplotlib 3D plot - 2D format for input data?
<ANS>
import numpy
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import axes3d

def peaks(x,y):
    return x * numpy.sin(y)

fig = plt.figure()
ax = fig.gca(projection='3d')
X = Y= numpy.arange(-3, 3, 0.1).tolist()
X, Y = numpy.meshgrid(X, Y)

Z = []
for i in range(len(X)):
    Z.append(peaks(X[i],Y[i]))

ax.plot_surface(X, Y, Z, rstride=8, cstride=8, alpha=0.3)
cset = ax.contour(X, Y, Z, zdir='z', offset=-8)
cset = ax.contour(X, Y, Z, zdir='x', offset=-8)
cset = ax.contour(X, Y, Z, zdir='y', offset=8)

ax.set_xlabel('X')
ax.set_xlim(-8, 8)
ax.set_ylabel('Y')
ax.set_ylim(-8, 8)
ax.set_zlabel('Z')
ax.set_zlim(-8, 8)

plt.show()
<END>
<QUE>
Customize column for django-tables as drop down list
<ANS>
countries = [
    {'name': 'Australia', 'population': 21, 'tz': 'UTC +10', 'visits': 1},
    {'name': 'Germany', 'population': 81, 'tz': 'UTC +1', 'visits': 2},
    {'name': 'Mexico', 'population': 107, 'tz': 'UTC -6', 'visits': 0},
]

template = """
<select>
<option{% if record.visits = 0%} selected {% endif %}>0
<option{% if record.visits = 1%} selected {% endif %}>1
<option{% if record.visits = 2%} selected {% endif %}>2
</select>
"""

class CountryTable(tables.Table):
    name = tables.Column()
    population = tables.Column()
    tz = tables.Column(verbose_name='time zone')
    visits = tables.TemplateColumn(template)
<END>
<QUE>
Replace character in file
<ANS>
str="                IN      Mx"

for line in file:
    if str in line:
       line= "@"+line[1:]
<END>
<QUE>
Python check first and last index of a list
<ANS>
li = iter(object_list)

obj = next(li)

do_first_thing_with(obj)

while True:
    try:
        do_something_with(obj)
        obj = next(li)
    except StopIteration:
        do_final_thing_with(obj)
        break
<END>
<QUE>
Writing numbers from 0 to 1000000000
<ANS>
# Python 2.
# Change xrange to range for Python 3.

import time

start_time = time.time()

limit = 100000000  # 1/10 your limit.
skip  = 1000       # Batch size.

with open('numlistbegin', 'w') as fh:
    for i in xrange(0, limit, skip):
        batch = ''.join('%010d
' % j for j in xrange(i, i + skip, 1))
        fh.write(batch)

print time.time() - start_time   # 73 sec. (106 sec. without batching).
<END>
<QUE>
Python function that will return a count (int) representing the longest consecutive sequence of positive numbers in array
<ANS>
def countLongestSequence(nums):
        countMax=0
        count=0
        for i in range(0, len(nums)+1):
                if i == len(nums) or nums[i] <= 0:
                        if count > countMax:
                                countMax=count
                        count=0
                else:           
                        count+=1
        return countMax
<END>
<QUE>
How to handle the error that occurs on giving wrong number of parameters in a function call in Python?
<ANS>
def fun_name(*args):
  if len(args) != 2:
    raise TypeError('Two arguments required')
<END>
<QUE>
get all available buckets and print but only with bucket name
<ANS>
import boto
from boto.s3.connection import S3Connection
s3 = boto.connect_s3()  
buckets = s3.get_all_buckets() 
for key in buckets:
    print key.name
<END>
<QUE>
Fabric - Passing arguments to tasks via execute
<ANS>
execute(ssh_keygen, 'jbloggs', '/home/jbloggs', host="server1")
<END>
<QUE>
Django change url from http:\/\/ to http://
<ANS>
url.replace('\/', '/')
<END>
<QUE>
How do you give a variable a value as the result of an if statement?
<ANS>
if gpio.input(i):

    if gpio.input(i) and p == 0:

        p = 1

        time.sleep(0.5)

        while not(gpio.input(i)) and p == 1:

            gpio.output(o, False)

            time.sleep(t)

            gpio.output(o, True)

            time.sleep(t) 

        else:

            while gpio.input(i):

                p = 0

                time.sleep(0.5)
<END>
<QUE>
telling django to use an integer as a foreign key on demand
<ANS>
MyModel.objects.filter(**your_filters).extra(select={
  'measure_name': 
    'SELECT measure.name FROM measure WHERE mymodeltable.measure_id = measure.id'
})
<END>
<QUE>
How to Handle JSON with escaped Unicode characters using python json module?
<ANS>
data = jsDat.get('data')
data = data.encode('ascii', 'ignore')
<END>
<QUE>
python list intersection - regex match
<ANS>
def first_name_is_in(first_names, full_names):
    for name in first_names:
        for full_name in full_names:
            if full_name.startswith("%s " % (name,)):
               return True
    return False
<END>
<QUE>
Unicode in python
<ANS>
import json

resp = '{"Info": "8\u6298", "Name": "\u5bb6\u4e50\u798f"}'
print json.loads(resp)

## {u'Info': u'8\u6298', u'Name': u'\u5bb6\u4e50\u798f'}
<END>
<QUE>
How can I implement multiple URL parameters in a Tornado route?
<ANS>
import tornado.web
import tornado.httpserver

class TestParamsHandler(tornado.web.RequestHandler):
    def get(self, param1, param2, param3):
        param2 = param2 if param2 else 'default2'
        param3 = param3 if param3 else 'default3'
        self.write(
            {
                'param1': param1,
                'param2': param2,
                'param3': param3
            }
        )

# My initial answer is above, but I think the following is better.
class TestParamsHandler2(tornado.web.RequestHandler):
    def get(self, **params):
        self.write(params)


application = tornado.web.Application([
    (r"/test1/(?P<param1>[^\/]+)/?(?P<param2>[^\/]+)?/?(?P<param3>[^\/]+)?", TestParamsHandler),
    (r"/test2/(?P<param1>[^\/]+)/?(?P<param2>[^\/]+)?/?(?P<param3>[^\/]+)?", TestParamsHandler2)
])
http_server = tornado.httpserver.HTTPServer(application)
http_server.listen(8080)
tornado.ioloop.IOLoop.instance().start()
<END>
<QUE>
deleting row from text file with python
<ANS>
def DeleteToDo():
    print ("Which Item Do You Want To Delete?")
    DeleteItem = raw_input(">") #select a line number to delete
    print ("Are You Sure You Want To Delete Number" + DeleteItem + "(y/n)")
    DeleteItem=int(DeleteItem) 
    VerifyDelete = str.lower(raw_input(">"))
    if VerifyDelete == "y":
        FILE = open('data.txt',"r") #open the file (tried w+ as well, entire file is deleted)
        lines=[x.strip() for x in FILE if int(x[:x.index('.')])!=DeleteItem] #read all the lines first except the line which matches the line number to be deleted
        FILE.close()
        FILE = open('data.txt',"w")#open the file again
        for x in lines:FILE.write(x+'
')    #write the data to the file

    else:
        print ("Nothing Deleted")
DeleteToDo()
<END>
<QUE>
How can I put and get a set of multiple items in a queue?
<ANS>
fruit = 'banana'
colour = 'yellow'
q.put((fruit, colour))
<END>
<QUE>
Python List Values being assigned to each other
<ANS>
copy.deepcopy
<END>
<QUE>
set difference for pandas
<ANS>
from pandas import  DataFrame

df1 = DataFrame({'col1':[1,2,3], 'col2':[2,3,4]})
df2 = DataFrame({'col1':[4,2,5], 'col2':[6,3,5]})

print df2[~df2.isin(df1).all(1)]
print df2[(df2!=df1)].dropna(how='all')
print df2[~(df2==df1)].dropna(how='all')
<END>
<QUE>
Losing macros when adding data to excel spread sheet in python
<ANS>
contents = load_workbook('filename.xlsm', keep_vba = True);
<END>
<QUE>
Python Pandas Panel counting value occurence
<ANS>
for dataset in P:
        abc = P.loc[dataset,:,'b']
        abc_low = sum(i < 1.0 for i in abc)
<END>
<QUE>
python, shuffle a array of list in a specifiic range?
<ANS>
a[1][1:4] = random.sample(a[1][1:4], 3)
<END>
<QUE>
How can I speed up this IronPython code that generates a string of arbitrary size
<ANS>
file.write('0'.zfill(size))
<END>
<QUE>
How to retrieve a variable from object to update it in Django?
<ANS>
class Score(models.Model):
    group_id = models.ForeignKey(Group)
    name = models.CharField(max_length=60)
    gender = models.CharField(max_length=1,default = False )

class Qs(models.Model):
    score = models.ForeignKey(Score)
    number = models.IntegerField()
    q_value = models.DecimalField(max_digits=20,decimal_places=8)
<END>
<QUE>
Django filter queryset on "tuples" of values for multiple columns
<ANS>
import operator
from itertools import izip
query = reduce(
    operator.or_, 
    (Q(firstname=fn, lastname=ln) for fn, ln in izip(first_list, last_list))
    )

Person.objects.filter(query)
<END>
<QUE>
How do you add multiple tuples(lists, whatever) to a single dictionary key without merging them?
<ANS>
from collections import defaultdict

x = defaultdict(list)
x['Key1'].append((1.000,2.003,3.0029))
<END>
<QUE>
Strip Numbers From String in Python
<ANS>
import re
my_str = '123hello 456world'
output = re.sub(r'\d+', '', my_str)
print output  # 'hello world'
<END>
<QUE>
Find and click an item from 'onclick' partial value
<ANS>
driver.find_element_by_xpath(".//input[contains(@onclick, '1 Bedroom Deluxe')]")

driver.find_element_by_css_selector("input[onclick*='1 Bedroom Deluxe']")
<END>
<QUE>
[PyQt4]QPushButton Focus Light
<ANS>
QWidget.setFocusPolicy(QtCore.Qt.NoFocus)
<END>
<QUE>
Randomly pair items in a list using Python
<ANS>
import random

from itertools import izip_longest


def grouper(iterable, n, fillvalue=None):
    "Collect data into fixed-length chunks or blocks"
    # Taken from itertools recipes:
    # https://docs.python.org/2/library/itertools.html#recipes
    # grouper('ABCDEFG', 3, 'x') --> ABC DEF Gxx
    args = [iter(iterable)] * n
    return izip_longest(fillvalue=fillvalue, *args)


students = ['Joe', 'Sam', 'Bob', 'Jill', 'Paul', 'Eric', 'Chai', 'Chris',
            'Sui', 'Matt', 'Leon', 'Nami', 'Leonard', 'Sai', 'Mike',
            'Julie', 'Jim', 'Holly', 'Marge', 'Ed']

random.shuffle(students)

for first_student, second_student in grouper(students, 2):
    print str(first_student), "and", str(second_student)
<END>
<QUE>
How to update one NumPy array with values from a different array?
<ANS>
final_data[:loaded_data.shape[0]] = loaded_data
<END>
<QUE>
How to set useragent as QuickTime in Python script?
<ANS>
#!/usr/bin/env python
import urllib

from os import pardir, rename, listdir, getcwd
from os.path import join


class MyOpener(urllib.FancyURLopener):
     version = 'QuickTime/7.6.2 (verqt=7.6.2;cpu=IA32;so=Mac 10.5.8)'

# This line tells urllib.urlretrieve and urllib.urlopen to use your MyOpener 
# instead of the default urllib.FancyOpener
urllib._urlopener = MyOpener()

def main():
    # lots of stuff
    for title, url in downloads.iteritems():
        fpath = join(data_dir, title.strip().replace('\t',"").replace(" ", "_"))
        fpath += ".mov"
        urllib.urlretrieve(url, fpath)
<END>
<QUE>
Downloading XML file with Python 3
<ANS>
def getXML(self,subreddit):
        url = 'http://www.reddit.com'+subreddit+'.rss'
        source = urllib.request.urlretrieve(url,'rss.xml')
        self.getXmlData()
<END>
<QUE>
Print to standard printer from Python?
<ANS>
import subprocess
lpr =  subprocess.Popen("/usr/bin/lpr", stdin=subprocess.PIPE)
lpr.stdin.write(your_data_here)
<END>
<QUE>
update one dictionary with another by adding values rather then replacing it
<ANS>
for key, value in dict2.iteritems():
    dict1.setdefault(key, []).extend(value)
<END>
<QUE>
Combining Python Cement with asyncio
<ANS>
with myApp('myAppName') as app:
    app.run()
    app.log.info('Starting MyApp')

    try:
        app.run_forever()
    except (KeyboardInterrupt, SystemExit, CaughtSignal):
        app.log.info('Shutting down MyApp')

        app.close()
<END>
<QUE>
Create variable names on demand
<ANS>
rooms = dict(('room_%d' % x, Room(x)) for x in range(1, 6))
<END>
<QUE>
Python: list of lists anf HTML table help
<ANS>
print '<table>'
for i in zip(*food_list):
    print '<tr>'
    print '<td>'+i[0]+'</td><td>'+i[1]+'</td><td>'+i[2]+'</td>'
    print '</tr>'
print' </table>'
<END>
<QUE>
Appending filters to django models
<ANS>
# sel_att holds the user selected attributes.

result = Person.objects.all()

for att in sel_att:
    result = result.filter(
        attributes__attribute_name=att.attribute_name, 
        attributes__attribute_type=att.attribute_type
    )
<END>
<QUE>
Secure Python Login
<ANS>
import hashlib

sh = hashlib.sha1()
sh.update('password')
hash_value = sh.hexdigest()
# write hash_value to file/db...
<END>
<QUE>
Assigning colour to data depending on sign of gradient (Python)
<ANS>
filen = 'filename.txt'
x = loadtxt(fn,unpack=True,usecols=[0]) 
y = loadtxt(fn,unpack=True,usecols=[1])

n = ma.masked_where(gradient(y) < 0, y)
p = ma.masked_where(gradient(y) > 0, y)

pylab.plot(x,n,'r',x,p,'g')
<END>
<QUE>
sqlite how to optimize query for Nth percentile
<ANS>
cursor.executescript("SELECT COUNT(value) AS itemcount FROM history WHERE itemid=?; \
    SELECT value FROM history WHERE itemid = ? ORDER BY value ASC LIMIT 1 OFFSET itemcount * (? / 100) - 1)", \
    [itemId, itemId, percentile])
<END>
<QUE>
Generating second graph in different window - VPython
<ANS>
from visual.graph import *
graphX = gcurve(color = color.cyan)
gdisplay()
graphY = gcurve(color = color.red)
<END>
<QUE>
update multiples fields with sql alchemy
<ANS>
data = { "email" : "my_new_email@example.com", "age" : 20, "city" : "London", "country" : "UK", "language" : "English", "profession" : "developer", "employeer" : "BBC" }
User.query.filter_by(username='admin').update(data)
db.session.commit()
<END>
<QUE>
How can I go about getting the JSON from a https link using Python?
<ANS>
import urllib2
import base64

request = urllib2.Request( 'https://stream.twitter.com...' )
request.add_header( 'Authorization', 'Basic ' + base64.b64encode( username + ':' + password ) )
response = urllib2.urlopen( request )
<END>
<QUE>
Python Regex - Match a character without consuming it
<ANS>
re.sub(r'\b(\s*)"(?!,|[ \t]*$)', r'\1""', s)
<END>
<QUE>
python String to number
<ANS>
format(float(bet1size), '.8f')
<END>
<QUE>
Serach in list string element by value
<ANS>
tlist = ['Hello world',
   'Hello world print',
   'Text',
   'World hello print']

print [i for i in tlist if "print" in i]
<END>
<QUE>
Replace string with designated number from file
<ANS>
index = {}
with open('/tmp/file_index', 'r') as f:
    for line in f.readlines():
        index[line.split(',')[1].strip()] = line.split(',')[0]


if CurrentString in index.keys():
    CurrentString = index[CurrentString]
<END>
<QUE>
Parsing a long html using BeautifulSoup failed with half parsed output
<ANS>
page.content
soup = BeautifulSoup(page.content,'html.parser')
<END>
<QUE>
Python Django json serialise
<ANS>
import json
from getdata.models import record_search

query_data = record_search.objects.filter(**filter_kwargs) \
                          .values("id", "domain", "record", "record_points_to",
                                  "priority_mx", "ttl", "generated_on")
data = json.dumps(list(query_data))
<END>
<QUE>
Cyclic imports within django subapps
<ANS>
from .forms import foo
<END>
<QUE>
How to force my virtualenv to see this compiled module installed at the system level?
<ANS>
--system-site-packages
<END>
<QUE>
Evaluation order of dictionary literals
<ANS>
expr1, expr2, expr3, expr4
(expr1, expr2, expr3, expr4)
{expr1: expr2, expr3: expr4}
expr1 + expr2 * (expr3 - expr4)
expr1(expr2, expr3, *expr4, **expr5)
expr3, expr4 = expr1, expr2
<END>
<QUE>
Initialize a django.forms.ModelChoiceField, bound with a foreign key and a default value
<ANS>
initial = {
           'update_date': datetime.datetime.now(),
           'creation_date': datetime.datetime.now(),
           'update_author': 1 # not Author.objects.get(id=1)
          }
if kwargs.has_key('initial'):
    kwargs['initial'].update(initial)
else:
    kwargs['initial'] = initial
# Initializing form only after you have set initial dict
super(DataReviewsForm,self).__init__(*args, **kwargs)

self.fields['update_date'].widget = forms.HiddenInput()
self.fields['creation_date'].widget = forms.HiddenInput()
self.fields['update_author'].widget = forms.HiddenInput()
<END>
<QUE>
from the same module import two thing, is the module executed twice?
<ANS>
sys.modules
<END>
<QUE>
Python SqlAlchemy querying Session with Unicode value in 'filter_by' returns null
<ANS>
def make_me_unicode(s):
    if isinstance(s, str):
        return s.decode('utf-8')
    elif isinstance(s, unicode):
        return s
    else:
        return None
<END>
<QUE>
Shorter and more Pythonic way to select item from list
<ANS>
def randomName():
    names = ["Morpheus","Neo","_from_redpills","Agent Smith","Trinity"]
    return random.choice(names)
<END>
<QUE>
Using Factory Boy with GeoDjango PointFields
<ANS>
import random
from factory.fuzzy import BaseFuzzyAttribute

class FuzzyPoint(BaseFuzzyAttribute):
    def fuzz(self):
        return Point(random.uniform(-180.0, 180.0),
                     random.uniform(-90.0, 90.0))


class PlaceFactory(FakerFactory):
    name = factory.LazyAttribute(lambda x: faker.name())
    location = FuzzyPoint()
    class Meta:
        model = models.Place
<END>
<QUE>
taking webcam photos in python 3 and windows
<ANS>
import pygame
import pygame.camera

pygame.camera.init()
cam = pygame.camera.Camera(0,(640,480))
cam.start()
img = cam.get_image()
pygame.image.save(img,"filename.jpg")
<END>
<QUE>
Plot linear model in 3d with Matplotlib
<ANS>
exog = pd.core.frame.DataFrame({'TV':xx.ravel(),'Radio':yy.ravel()})
out = fit.predict(exog=exog)
ax.plot_surface(xx, yy, out.reshape(xx.shape), color='None')
<END>
<QUE>
Sending a Html file via python
<ANS>
"""
this is a quick and dirty script to send HTML email - emphasis on dirty :)
python emailpage.py http://www.sente.cc
made to answer: http://stackoverflow.com/questions/9226719/sending-a-html-file-via-python
Stuart Powers
"""
import lxml.html
import smtplib
import sys
import os


page = sys.argv[1]  #the webpage to send

root = lxml.html.parse(page).getroot()
root.make_links_absolute()

content = lxml.html.tostring(root)

message = """From: Stuart Powers <stuart.powers@gmail.com>
To: Stuart Powers <stuart.powers@gmail.com>
MIME-Version: 1.0
Content-type: text/html
Subject: %s

%s""" %(page, content)


smtpserver = smtplib.SMTP("smtp.gmail.com",587)
smtpserver.starttls()
smtpserver.login("stuart.powers@gmail.com",os.environ["GPASS"])
smtpserver.sendmail('stuart.powers@gmail.com', ['stuart.powers@gmail.com'], message)
<END>
<QUE>
Turning string inside string into "normal" string
<ANS>
new_list = [x[1:-1] for x in old_list]
<END>
<QUE>
Directed graph in pandas
<ANS>
x = [1,1,2,2,3]
y = [2,3,1,3,1]

fwd = set( zip(x,y) )
rev = set( zip(y,x) )
print ' not bi: ', fwd.difference(rev)
<END>
<QUE>
pysfml breaks on runtime while displaying a render window
<ANS>
import sfml as sf

win = sf.RenderWindow(sf.VideoMode(100,100),"hi")

while(1):
    for i in win.events :
        pass
    win.clear()
    win.display()
<END>
<QUE>
Monitoring status of ipyparallel completion
<ANS>
all_ids = []
for m in m_array:
    for s in s_array:
        chi = view.apply_async(run_simulation, m=m, s=s)
        async_results.append(chi)
        all_ids.extend(chi.msg_ids)

rc.get_result(all_ids, owner=False).wait_interactive()
<END>
<QUE>
Write file from BLOB mysql python
<ANS>
cur = db2.cursor()
#get the file
cur.execute("SELECT mimetype,File,Name FROM ContentFiles WHERE ContentID=10414")
archivo = cur.fetchone()

imagen = open(archivo[2],'wb')
imagen.write(archivo[1].decode('base64'))
imagen.close()
<END>
<QUE>
How to ensure unique values in a multidimensional array?
<ANS>
list(enumerate(set(color_names)))
<END>
<QUE>
matplotlib: grid in 3D plots
<ANS>
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

fig = plt.figure()
ax = fig.add_subplot(211, projection='3d')
ax.plot([1,2,3,4,5],[7,4,6,2,8],[4,6,8,9,2],'*')
ax.grid(True)
ax.set_title('grid on')

ax2 = fig.add_subplot(212, projection='3d')
ax2.plot([1,2,3,4,5],[7,4,6,2,8],[4,6,8,9,2],'*')
ax2.grid(False)
ax2.set_title('grid off')
plt.show()
<END>
<QUE>
Python - Killing more than one thread on Control+C
<ANS>
t1 = threading.Thread(target=record)
t1.daemon = True
t1.start()

t2 = threading.Thread(target=ftp)
t2.daemon = True
t2.start()
<END>
<QUE>
Multi-server monitor/auto restarter in python
<ANS>
import subprocess

commands = [ ["p1"], ["p2"] ]
programs = [ subprocess.Popen(c) for c in commands ]
while True:
    for i in range(len(programs)):
        if programs[i].returncode is None:
            continue # still running
        else:
            # restart this one
            programs[i]= subprocess.Popen(commands[i])
        time.sleep(1.0)
<END>
<QUE>
python: How do i download a file from Google drive using api
<ANS>
fo = open("foo.jpg", "wb")
fo.write(content)
fo.close()
<END>
<QUE>
Priority Queue with two Priorities Python
<ANS>
class Job(object):
    def __init__(self, fpriority, spriority, description, iata , hops, cost):
        self.fpriority = fpriority
        self.spriority = spriority

    def __cmp__(self, other):
        '''Comparisons for Python 2.x - it's done differently in 3.x'''
        if self.fpriority > other.fpriority:
            return 1
        elif self.fpriority < other.fpriority:
            return -1
        else:
            if self.spriority > other.spriority:
                return 1
            elif self.spriority < other.spriority:
                return -1
            else:
                return 0
<END>
<QUE>
python time to age part 2, timezones
<ANS>
from datetime import timedelta,datetime
try:
    offset = int("Tue, 22 Jul 2008 08:17:41 +0300"[-5:])
except:
    print "Error"

delta = timedelta(hours = offset / 100)

fmt = "%a, %d %b %Y %H:%M:%S"
time = datetime.strptime("Tue, 22 Jul 2008 08:17:41 +0200"[:-6], fmt)
time -= delta
<END>
<QUE>
Python function definition with function as optional argument
<ANS>
def f(t=None):
    if not t:
        t = datetime.datetime.now()
    return t.timetuple()
<END>
<QUE>
Looping through lists with different number of elements
<ANS>
Ts = [T0]
Tx = []
counter = 1
for T in Ts:
    for t in T:
        Ts.append([s[0] * s[1] + s[2] for s in izip(Ts[-1], C, QIN)])
<END>
<QUE>
Is there a python library capable of calculating the dual of a 3D mesh?
<ANS>
from collections import defaultdict
from itertools import combinations
triangles = [(1,2,3), (2,3,4), (1,3,5), (3,4,5), (5,6,7), (4,5,6)]
# For each edge set triangles containing that edge
edge2trias = defaultdict(list)  # edge (v1,v2) -> list of triangles
for t_ind, ps in enumerate(triangles):
    for edge in zip(ps, ps[1:]+ps[:1]):
        edge2trias[tuple(sorted(edge))].append(t_ind)
# For each edge, set pair(s) of neighbouring triangles
tria2neigh = defaultdict(list)  # triangle index -> list of neighbouring triangles
for edge, trias in edge2trias.iteritems():
    for t1, t2 in combinations(trias, 2):
        tria2neigh[t1].append(t2)
        tria2neigh[t2].append(t1)
<END>
<QUE>
Generating encrypted passwords in mysql, to populate a django database
<ANS>
from django.contrib.auth import authenticate

for username, password in get_usernames_and_passwords():
    if authenticate(username=username, password=password) is None:
        print "Failed to authenticate user {!r}".format(username)
<END>
<QUE>
Preserve space when stripping HTML with Beautiful Soup
<ANS>
print u' '.join(soup.findAll(text=True))
<END>
<QUE>
Append a specific object (but same type) to a filtered object in Django
<ANS>
special_user_list = User.objects.filter(
    Q(userprofile__user_type='special') |
    Q(pk=request.user.pk)
).distinct()
<END>
<QUE>
Altering data in GQL
<ANS>
logList = db.GqlQuery("SELECT * FROM Log ORDER BY date DESC LIMIT 1")
result = logList.get()
result.content = "some text"
result.put()
<END>
<QUE>
Replace the content of dictionary with another dictionary in a function - Python
<ANS>
def func(dct):
   dct.clear()
   dct.update({'a': 5})
<END>
<QUE>
How can I use a returned value to open up another instance of a class in Python?
<ANS>
if choice == "car":
        return CarRoom()
<END>
<QUE>
SQLAlchemy: Knowing the field names and values of a model object?
<ANS>
class BaseModel(object):

    @classmethod
    def _get_keys(cls):
        return sa.orm.class_mapper(cls).c.keys()

    def get_dict(self):
        d = {}
        for k in self._get_keys():
            d[k] = getattr(self, k)
        return d
<END>
<QUE>
Windows service compile with pyinstaller issue
<ANS>
opts = {'py2exe': {
'dist_dir': 'dist',
'dll_excludes': ['OLEAUT32.dll', 'USER32.dll', 'SHELL32.dll', 'ole32.dll', 'MSVCP90.dll',
                 'ADVAPI32.dll', 'NETAPI32.dll', 'WS2_32.dll', 'GDI32.dll', 'VERSION.dll',
                 'KERNEL32.dll', 'WINSPOOL.DRV', 'mfc90.dll'],
'includes': ['zmq.backend.cython', 'UserList', 'UserString', 'commands', 'future.backports.misc'],} }
<END>
<QUE>
Python Requests - POST confusion
<ANS>
from selenium.webdriver.firefox.webdriver import WebDriver


driver = WebDriver()
driver.get('https://example.com/examplelogin')

username = driver.find_element_by_id('username')
password = driver.find_element_by_id('password')

username.send_keys('MY_USERNAME')
password.send_keys('MY_PASSWORD')

submit.click()
<END>
<QUE>
wxPython TreeCtrl without showing root while still showing arrows
<ANS>
self.tree = wx.TreeCtrl(self, style=wx.TR_HAS_BUTTONS + wx.TR_HIDE_ROOT)
<END>
<QUE>
Maths ratios in Python
<ANS>
def make_linear_interpolator(x0, x1, y0, y1):
    """
    Return a function to convert x in (x0..x1) to y in (y0..y1)
    """
    dy_dx = (y1 - y0) / float(x1 - x0)
    def y(x):
        return y0 + (x - x0) * dy_dx
    return y

color_to_temp = make_linear_interpolator(0, 32, 44000, 3200)

color_to_temp(10)    # => 32150.0
<END>
<QUE>
Pandas duplicated rows to unique rows
<ANS>
df.groupby('Id')['Name'].apply(','.join)
<END>
<QUE>
Copied django project to shared host from repo - can't find settings
<ANS>
#!/home5/myorg/.virtualenvs/mydjango/bin/python
import sys, os

# Add a custom Python path.
sys.path.insert(0, "/home/<user_name>/projects/")
sys.path.insert(0, "/home/<user_name>/projects/yourproyect")

from flup.server.fcgi import WSGIServer
os.environ['DJANGO_SETTINGS_MODULE'] = '<project_name>.settings'
from django.core.handlers.wsgi import WSGIHandler
WSGIServer(WSGIHandler()).run()
<END>
<QUE>
Python. How do I print specific value from json when from similiar names?
<ANS>
for rs in ourResult:
    if rs['money'] == 12210:
        print rs['time']
<END>
<QUE>
How to read values of Theano's LogisticRegression class predictions within DeepLearningTutorials package?
<ANS>
import numpy as np
import theano
import theano.tensor as T

# Create some data with 100 samples, 10 features 
X = np.random.randn(100, 10)
X_sym = T.fmatrix('X')
# Create prediction function
predict_function = theano.function(inputs=[X_sym], outputs=self.y_pred)

# See the actual prediction
print(predict_function(X))
<END>
<QUE>
How to get Google Analytics credentials without gflags - using run_flow() instead?
<ANS>
from oauth2client import tools

flags = tools.argparser.parse_args(args=[])
credentials = tools.run_flow(flow, storage, flags)
<END>
<QUE>
Is there a better way to compare dictionary values
<ANS>
diffkeys = [k for k in dict1 if dict1[k] != dict2[k]]
for k in diffkeys:
  print k, ':', dict1[k], '->', dict2[k]
<END>
<QUE>
Python Beautiful Soup Table Data Scraping Specific TD Tags
<ANS>
import pickle
import math
import urllib2
from lxml import etree
from bs4 import BeautifulSoup
from urllib import urlopen

year = '2014'
lastWeek = '2'
favQB1 = "Tom Brady"

favQBurl2 = 'http://www.nfl.com/player/tombrady/2504211/gamelogs'
favQBhtml2 = urlopen(favQBurl2).read()
favQBsoup2 = BeautifulSoup(favQBhtml2)
favQBpass2 = favQBsoup2.find_all("table", { "summary" : "Game Logs For %s In %s" % (favQB1, year)})[1]
favQBrows2 = []

for row in favQBpass2.findAll("tr"):
    if lastWeek in row.findNext('td'):
        for item in row.findAll("td"):
            favQBrows2.append(item.text)
print ("Enter: Starting Quarterback QB Rating of Favored Team for the last game played (regular season): "),
print favQBrows2[15]
<END>
<QUE>
Trying to converting a matrix 1*3 into a list
<ANS>
my_list = [col for row in matrix for col in row]
<END>
<QUE>
Django Models - Wrong output from Many-To-Many relationship queryset?
<ANS>
Keyword.objects.filter(url__user__username=username1, keyword__in=Keyword.objects.filter(url__user__username=username2).values_list('keyword', flat=True)).values_list('keyword', flat=True).distinct()
<END>
<QUE>
Finding the max element in an array, sorted ascending first and then descending
<ANS>
# ? ????? ???????? ??????
a = [2, 3, 4, 5, 6, 7, 8, 10, 12, 24, 48, 12, 6, 5, 0, -1]

def calc(a):
    if len(a) <= 2:
        return a[0] if a[0] > a[1]  else a[1]

    l2 = len(a) / 2

    if a[l2 + 1] <= a[l2] and a[l2] >= a[l2 - 1]:
        return a[l2]

    if a[l2] > a[l2 + 1]:
        return calc(a[:l2+1])
    else:
        return calc(a[l2:])

print calc(a) # 48
<END>
<QUE>
Convert CSV with Headers to JSON with GeoLocation
<ANS>
import csv, json

li = []
with open('myfile.csv', newline='') as csvfile:
    reader = csv.reader(csvfile, delimiter=' ')
    for location_id, name, latitude, longitude in reader:
        li.append({
           "location_id": location_id,
           "name": name,
           "latitude": latitude,
           "longitude": longitude,
           "geo": {
                "__type": "GeoPoint",
                "latitude": latitude,
                "longitude": longitude,
            }
        })
with open("outfile.geo", "w") as f:
    json.dump(li, f)
<END>
<QUE>
Modifying Python code to use SSL for a REST call
<ANS>
mykey = '/path/to/ssl_key_file'
mycert = '/path/to/ssl_cert_file'
opener = urllib2.build_opener(HTTPSClientAuthHandler(mykey, mycert))
opener.add_handler(urllib2.HTTPBasicAuthHandler()) # add HTTP Basic Authentication information...
opener.add_password(user=settings.USER_ID, passwd=settings.PASSWD)
<END>
<QUE>
Using django for CLI tool
<ANS>
import os, sys
if __name__ == '__main__':
    # Setup environ
    sys.path.append(os.getcwd())

    os.environ.setdefault("DJANGO_SETTINGS_MODULE", "main.settings")
<END>
<QUE>
How to encode a string for url param in python
<ANS>
#!/usr/bin/python

print "Content-Type: text/html;charset=utf-8";
print

import urllib

str = "Hello World?"
str = urllib.quote_plus(str)

print str
<END>
<QUE>
Detect Errors to Improve Error Logging in Google App Engine Python
<ANS>
app = webapp2.WSGIApplication(debug = os.environ['SERVER_SOFTWARE'].startswith('Dev'), config=config.webapp2_config)

app.error_handlers[404] = handle_error
app.error_handlers[500] = handle_error
routes.add_routes(app)
<END>
<QUE>
Parsing a range of integers in a list
<ANS>
for o in re.finditer('left:102[0-9]"><nobr>(.*?)</nobr></div>', words[index]):
    out = o.group(1)
<END>
<QUE>
How do I turn off info logs in pocketsphinx-python
<ANS>
config.set_string('-logfn', '/dev/null')
<END>
<QUE>
Adding command to a python Tkinter Optionmenu
<ANS>
from tkinter import *

def func(value):
    print(value)

root = Tk()
options = ["1", "2", "3"]
var = StringVar()
drop = OptionMenu(root, var, *options, command=func)
drop.place(x=10, y=10)
<END>
<QUE>
Getting total/free RAM from within Python
<ANS>
import os, sigar

sg = sigar.open()
mem = sg.mem()
sg.close() 
print mem.total() / 1024, mem.free() / 1024
<END>
<QUE>
Equivalent of curl --data-binary in python?
<ANS>
import requests
res = requests.post(url='http://example.com/post',
                    data=open('example.file', 'rb'),
                    headers={'Content-Type': 'application/octet-stream'})
<END>
<QUE>
How do I get an attribute from an object if I have the attribute name in a string?
<ANS>
getattr(o, v)
<END>
<QUE>
Python Class Location Variables
<ANS>
class Health:
    def __init__(self): #Constructor initializing the variables.
        self.player_health = 10
        self.enemy_health = 10

class Combat:
    #Attack function receives a health object called "hitter" 
    def attack(self, hitter):
        hitter.player_health -= 1   #Health Object hitter's player_health reduced by one. 
        return hitter

bridge = Combat() #Combat Object
hitter = Health() #Health Object

bridge.attack(hitter) #hitter.player_health is now 9.
<END>
<QUE>
Recursion in Django View
<ANS>
x = int(x)
y = int(y)
<END>
<QUE>
Pygame: How to draw in non rectangle clipping area
<ANS>
def blit_mask(source, dest, destpos, mask, maskrect):
    """
    Blit an source image to the dest surface, at destpos, with a mask, using
    only the maskrect part of the mask.
    """
    tmp = source.copy()
    tmp.blit(mask, maskrect.topleft, maskrect, special_flags=pygame.BLEND_RGBA_MULT)
    dest.blit(tmp, destpos, dest.get_rect().clip(maskrect))
<END>
<QUE>
Making Menu options with Checkbutton in Tkinter?
<ANS>
import tkinter as tk

parent = tk.Tk()

menubar = tk.Menu(parent)
show_all = tk.BooleanVar()
show_all.set(True)
show_done = tk.BooleanVar()
show_not_done = tk.BooleanVar()

view_menu = tk.Menu(menubar)
view_menu.add_checkbutton(label="Show All", onvalue=1, offvalue=False, variable=show_all)
view_menu.add_checkbutton(label="Show Done", onvalue=True, offvalue=0, variable=show_done)
view_menu.add_checkbutton(label="Show Not Done", onvalue=1, offvalue=0, variable=show_not_done)
menubar.add_cascade(label='View', menu=view_menu)
parent.config(menu=menubar)

parent.mainloop()
<END>
<QUE>
How do I replace all instances of the first letter in a string, but not the first letter itself
<ANS>
userString[0] + userString[1:].replace(userString[0], "*")
<END>
<QUE>
How can I decouple objects from a SQLAlchemy session such that I can insert them into a different database?
<ANS>
src_users = src.query(User).all()
duplicate_records = []
for row in src.query(User).all(): 
    duplicate_user.append(User(row.username +":"+ row.password +":"+str(row.uid)+":"+str(row.gid)+":"+row.gecos+":"+row.home_directory+":"+row.shell))
<END>
<QUE>
Django logging with dictConfig cannot find "logging" module
<ANS>
logging.handlers.TimeRotatingFileHandler
<END>
<QUE>
Bottle app does not process routes put into a separate module within a package
<ANS>
from controller.FooController import *
<END>
<QUE>
Populating a list with objects using list comprehension expression
<ANS>
[Ingredient(*ing) for ing in ings]
<END>
<QUE>
scipy results linear interpolation results inconsistent
<ANS>
1.1e-16
<END>
<QUE>
An array of a certain size in z3
<ANS>
A = IntVector('A', 112)
<END>
<QUE>
store openid user in cookie google appengine
<ANS>
users.get_current_user()
<END>
<QUE>
How do I obtain the delta between two dates?
<ANS>
from datetime import *
d1 = datetime.strptime('05/01/2012', "%d/%m/%Y").date()
d2 = datetime.strptime('06/01/2012', "%d/%m/%Y").date()
delta = d2 - d1
print(delta.days)
<END>
<QUE>
how to check variable against 2 possible values python
<ANS>
if s in ('a', 'b'):
  return 1
elif s in ('c', 'd'):
  return 2
else:
  return 3
<END>
<QUE>
EOL while scanning string literal when trying to print a \ in python
<ANS>
print "\\" # You need to escape the \ character
<END>
<QUE>
Making HTML page by fetching values from two Dictionaries in python
<ANS>
html2 = ("""<tr border = 1px black> 
              <th>%s</th>
              <td>%s</td>
              <td>%s</td>"""  )% (key, value, ip_count_dict.get(key, 0))
<END>
<QUE>
Run 2 blocking loops in the same program
<ANS>
import nfqueue, socket
from threading import Thread
from scapy.all import *
import os

os.system('iptables -t mangle -A PREROUTING -j NFQUEUE --queue-num 1')
os.system('iptables -t mangle -A POSTROUTING -j NFQUEUE --queue-num 2')


count = 0

def cb(payload):
    global count
    count +=1
    data = payload.get_data()
    p = IP(data) 

    print str(count) + ": TOS     = " + str(p.tos)
    payload.set_verdict(nfqueue.NF_ACCEPT)


def run_queue(queue_num):
    print "Preparing the queue"
    q = nfqueue.queue()
    q.open()
    q.unbind(socket.AF_INET)
    q.bind(socket.AF_INET)
    q.set_callback(cb)
    q.create_queue(queue_num)

    try:
        print "Running the queue"
        q.try_run()

    except KeyboardInterrupt, e:
        print "interruption"
        q.unbind(socket.AF_INET)
        q.close()

if __name__ == "__main__":
    t1 = Thread(target=run_queue, args=(1,))
    t1.start()
    t2 = Thread(target=run_queue, args=(2,))
    t2.start()
    t1.join()
    t2.join()
<END>
<QUE>
Transform items from iterable with a sequence of unary functions
<ANS>
def transform(functions, arguments):
  return [f(a) for f, a in zip(functions, arguments)]
<END>
<QUE>
page returned by python post different from that by browser
<ANS>
from selenium import webdriver
from time import sleep

driver = webdriver.Firefox()
driver.get('http://david.abcc.ncifcrf.gov/summary.jsp')
sleep(0.1)
query = """Apba3
Apoa1bp
Dexi
Dhps
Dnpep
Eral1
Gcsh
Git1
Grtp1
Guk1
Ifrd2
Lsm3
Map2k1ip1
Med31
Mettl11a
Mrpl2
mrpl24
Mrpl30
Mrpl46
Ndufaf3
Nr1h2
Obfc2b
Parp3
Pigt
Pop5
Ppt2
Ptpmt1
RGD1304567
RGD1306215
RGD1309708
Rras"""
listBox = driver.find_element_by_id("LISTBox")
listBox.send_keys(query)

IDT = driver.find_element_by_id("IDT")
IDT.send_keys("O")

radioCheck = driver.find_element_by_name("rbUploadType")
radioCheck.click()


submitButton = driver.find_element_by_name("B52")

submitButton.click()
sleep(0.1)
alert = driver.switch_to_alert()
alert.accept()
sleep(0.1)
html = driver.page_source
<END>
<QUE>
Python Default Variable in for loop
<ANS>
for each in some_array:
    print each
<END>
<QUE>
Python lose Mysql Server connection
<ANS>
def query(self, sql, parameters=None):
    cursor = self.db.cursor()
    try:
        cursor.execute(sql, parameters)
        return cursor
    except Exception as ex:
        if ex[0] == 2006: # mysql has gone away
            cursor.close()
            self.connect()
            return self.query(sql, parameters)
        raise ex
<END>
<QUE>
python is stealing objects from me
<ANS>
Q = om.MQuaternion(1.0,2.0,3.0,4.0)
print Q.x, Q.y, Q.z, Q.w
Q.conjugateIt()
print Q.x, Q.y, Q.z, Q.w
print "----"
P = om.MQuaternion(6,6,6,6)
print P.x, P.y, P.z, P.w

# 1.0 2.0 3.0 4.0
# -1.0 -2.0 -3.0 4.0
# ----
# 6.0 6.0 6.0 6.0
<END>
<QUE>
How get related objects by field name?
<ANS>
element._meta.get_field('categories').value_from_object(element)
<END>
<QUE>
How can I count duplicates in a nested list based on first two elements in python
<ANS>
from collections import Counter
lst = [[1, 0, 0, 0], [1, 1, 0, 0], [2, 0, 0, 0], [2, 1, 0, 0], [2, 1, 0, 0], [1, 1, 0, 0], [3, 1, 0, 0], [1, 3, 0, 0], [2, 1, 0, 0], [2, 0, 0, 0]]
list_of_tuples = [tuple(elem) for elem in lst]
dct = dict(Counter(list_of_tuples))
lst = [list(e) for e in dct]
for elem in lst:
    elem[2] = dct[tuple(elem)]
<END>
<QUE>
python regex suffix matching
<ANS>
re.sub(r"(?:ate|ize|ify|able)$", "", "terrorize")
<END>
<QUE>
Compare directories on file/folder names only, printing any differences?
<ANS>
import os
import re

def build_files_set(rootdir):
    root_to_subtract = re.compile(r'^.*?' + rootdir + r'[\\/]{0,1}')

    files_set = set()
    for (dirpath, dirnames, filenames) in os.walk(rootdir):
        for filename in filenames + dirnames:
            full_path = os.path.join(dirpath, filename)
            relative_path = root_to_subtract.sub('', full_path, count=1)
            files_set.add(relative_path)

    return files_set

def compare_directories(dir1, dir2):
    files_set1 = build_files_set(dir1)
    files_set2 = build_files_set(dir2)
    return (files_set1 - files_set2, files_set2 - files_set1)

if __name__ == '__main__':
    dir1 = 'old'
    dir2 = 'new'
    in_dir1, in_dir2 = compare_directories(dir1, dir2)

    print '
Files only in {}:'.format(dir1)
    for relative_path in in_dir1:
        print '* {0}'.format(relative_path)

    print '
Files only in {}:'.format(dir2)
    for relative_path in in_dir2:
        print '* {0}'.format(relative_path)
<END>
<QUE>
How to take data from mysql db and insert them into a wx.ComboBox with mysqldb in Python
<ANS>
self.myComboList = ["some", "list"]
for row in rows:
   self.myComboList.Append(row[1])
self.ComboList.sort()
self.myComboBoxWidget.AppendItems(self.ComboList)
<END>
<QUE>
extract values from xml
<ANS>
from xml.etree import ElementTree

tree = ElementTree.parse('filename.xml')
for elem in tree.findall('lex'):
    print elem.attrib['marker']
<END>
<QUE>
How to read size of chunks in Transfer-encoding: chunks?
<ANS>
chunk_size = int(line.strip().split(';')[0], 16)
<END>
<QUE>
How to use wxSpellCheckerDialog in Django?
<ANS>
chkr.getText()
<END>
<QUE>
Split a user input
<ANS>
my_delimiter = my_delimiter.replace('\\t', '\t')
<END>
<QUE>
Old-Type JDBC URL Parsing using Python
<ANS>
a = 'jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=1.1.1.1)(PORT=1521))(CONNECT_DATA=(SERVICE_NAME=server.name)))'
a = a.split('(')
host = a[4].replace(")","").replace("HOST=","")
port = a[5].replace(")","").replace("PORT=","")
s_name = a[7].replace(")","").replace("SERVICE_NAME=","")
url = host + ':' + port + '/' + s_name
print url
<END>
<QUE>
Finding current location of editors in traitsui
<ANS>
x,y=editor.control.GetScreenPosition()
<END>
<QUE>
How to compute mutually recursive expressions in a loop?
<ANS>
#!/usr/bin/env python3

c = 1
d = 1

b = 1
while True:
    a = 3 * b + c
    new_b = (a - d) / 5
    if b - new_b <= 0.25:
        break
    b = new_b

print(a, new_b)
<END>
<QUE>
Remove integer values from line in a file in python
<ANS>
import re
re.sub(r'\d+', '', input_str)
<END>
<QUE>
Conditionally insert rows into pandas DataFrame
<ANS>
import pandas as pd

df = pd.DataFrame([['Apple',pd.to_datetime('1/1/2005'),10,10,'Orange'],['Apple', pd.to_datetime('12/1/2005'),1, 1 ,'Orange']])
df.columns = ['Identity','Date', 'value1' , 'value2','Random']

full_df = pd.DataFrame()
full_df['Date'] = [pd.to_datetime(str(x)+'/1/2005') for x in range(1,13)]
full_df['Identity'] = 'Apple'

result =  full_df.merge(df,how='left').fillna(0)
result
<END>
<QUE>
Parallelize operations for each cell in a numpy array
<ANS>
import numpy as np

# make sure it is a numpy.array
v = np.array(v)

# vectorized computation
N = (v >> 7) & 255
<END>
<QUE>
Looking for a fast way to find the polygon a point belongs to using Shapely
<ANS>
point.within(p)
<END>
<QUE>
Get first non-empty string from a list in python
<ANS>
next(s for s in list_of_string if s)
<END>
<QUE>
Reimport a module in python while interactive
<ANS>
reload(my.module)
<END>
<QUE>
including extra context value django rest framework
<ANS>
def list(self, request, *args, **kwargs):
    response = super(ResultRowView, self).list(request, args, kwargs)
    response.data[ 'extra_value' ] = 5000
    return response
<END>
<QUE>
Permanently remove something from python sys.path
<ANS>
sys.path =  filter (lambda a: not a.startswith('/System'), sys.path)
<END>
<QUE>
How to determine the learning rate and the variance in a gradient descent algorithm?
<ANS>
cost_f = []
while (abs(theta1_guess-theta1_last) > variance or abs(theta0_guess - theta0_last) > variance):

    theta1_last = theta1_guess
    theta0_last = theta0_guess

    hypothesis = create_hypothesis(theta1_guess, theta0_guess)
    cost_f.append((1./(2*m))*sum([ pow(hypothesis(point[0]) - point[1], 2) for point in data]))

    theta0_guess = theta0_guess - learning_rate * (1./m) * sum([hypothesis(point[0]) - point[1] for point in data])
    theta1_guess = theta1_guess - learning_rate * (1./m) * sum([ (hypothesis(point[0]) - point[1]) * point[0] for point in data])   

import pylab
pylab.plot(range(len(cost_f)), cost_f)
pylab.show()
<END>
<QUE>
Create a python class that is treated as a list, but with more features?
<ANS>
class CustomList(list):
    def __init__(self, *args, **kwargs):
        list.__init__(self, args[0])

    def foobar(self):
        return 'foobar'
<END>
<QUE>
How do I make BeautifulSoup parse the contents of textarea tags as HTML?
<ANS>
for textarea in soup.findAll('textarea'):
    contents = BeautifulSoup.BeautifulSoup(textarea.contents[0]).renderContents()
    textarea.replaceWith(contents)
<END>
<QUE>
how to use pexpect to get spontaneous output of subprocess in python
<ANS>
child = pexpect.spawn(launchcmd)
while True:
    try:
        child.expect('
')
        print(child.before)
    except pexpect.EOF:
        break
<END>
<QUE>
Using temporary threads in a long-running app?
<ANS>
Queue.get
<END>
<QUE>
How to create custom legend in matplotlib based on the value of the barplot?
<ANS>
import matplotlib.pyplot as plt
daysofweek = {1:('Sunday','r'), 
              2:('Monday','g'), 
              3:('Tuesday','b'), 
              4:('Wednesday','yellow'), 
              5:('Thursday','k'), 
              6:('Friday', 'magenta'), 
              7:('Saturday', 'orange')}
ax1 = plt.subplot(111)

xval = [2., 4., 7.]
yval = [2.5, 3.6, 2.7]

for j in range(len(xval)):
    ax1.bar(xval[j], yval[j], width=0.8, bottom=0.0, align='center', color=daysofweek[xval[j]][1], alpha=0.6, label=daysofweek[xval[j]][0])
ax1.set_xticks(xval)
ax1.set_xticklabels([daysofweek[i][0] for i in xval])
ax1.legend()
plt.show()
<END>
<QUE>
How does the raw decoder from PIL work?
<ANS>
getdata()
<END>
<QUE>
Find elements by XPath with fallback
<ANS>
links = self.br.find_elements_by_xpath("//*[@class='image']/a")
if not links:
    links = self.br.find_elements_by_xpath("//*[@class='newPrice']/a")
for products in links:
    self.urls.append(products.get_attribute("href"))
<END>
<QUE>
No result from Xpath
<ANS>
# `title` is not an attribute, but a tag.
titles = tree.xpath('.//title/text()')
print(titles)

# `td` does not have `href` attribute, but `a` tag.
teams = tree.xpath('//tr/td/a[@href]/text()')
print(teams)
<END>
<QUE>
removing data from a numpy.array
<ANS>
X = np.random.randn(1e3, 5)
X[np.abs(X)< .1]= 0 # some zeros
X = np.ma.masked_equal(X,0)
plt.boxplot(X) #masked values are not plotted

#other functionalities of masked arrays
X.compressed() # get normal array with masked values removed
X.mask # get a boolean array of the mask
X.mean() # it automatically discards masked values
<END>
<QUE>
How to convert list to multiline string?
<ANS>
"""
{}
""".format("
".join(items[1:]))
<END>
<QUE>
Print the results from re.findall on a seperate line in Python3
<ANS>
print("
".join(title))
<END>
<QUE>
How do I invoke a text editor from a command line program like git does?
<ANS>
import subprocess
import os.path

def start_editor(editor,file_name):

    if not os.path.isfile(file_name): # If file doesn't exist, create it
        with open(file_name,'w'): 
            pass

    command_line=editor+' '+file_name # Add any desired command line args
    p = subprocess.Popen(command_line)
    p.wait()

file_name='test.txt' # Probably known from elsewhere
editor='notepad.exe' # Read from environment variable if desired

start_editor(editor,file_name)

with open(file_name,'r') as f: # Do something with the file, just an example here
    for line in f:
        print line
<END>
<QUE>
How to use couchdb-python to call a view with a list of keys?
<ANS>
models = [d.value for d in views.models(self._db, keys=principals).rows]
<END>
<QUE>
Python open a link into links
<ANS>
import urllib2
import re

htmlfile = urllib2.urlopen('http://www.kino.de/rss/neu-im-kino/')
htmltext = htmlfile.read()
regex = '<link>(.+?)</link>'
pattern = re.compile(regex)
links = re.findall(pattern,htmltext)

print( ' '.join(links) ) # or print( '
'.join(links) )


for link in links:
    htmlfile_2 = urllib2.urlopen(link)
    htmltext_2 = htmlfile_2.read()
    regex_2 = '<meta itemprop="contentURL" content="(.+?)" />'
    pattern_2 = re.compile(regex_2)
    links_2 = re.findall(pattern_2,htmltext_2)

    print( ' '.join(links_2) ) # or print( '
'.join(links_2) )
<END>
<QUE>
How to extract a filename from a URL & append a word to it?
<ANS>
filename = url[url.rfind("/")+1:]
filename_small = filename.replace(".", "_small.")
<END>
<QUE>
User interface optimization when using pack
<ANS>
frame = Frame(root, bd=2, relief=SUNKEN)

scrollbar = Scrollbar(frame)
scrollbar.pack(side=RIGHT, fill=Y)

listbox = Listbox(frame, bd=0, yscrollcommand=scrollbar.set)
listbox.pack()

scrollbar.config(command=listbox.yview)

frame.pack() #or others...
<END>
<QUE>
Overriding initial value in ModelForm
<ANS>
def __init__(self, *args, **kwargs):
    initial = kwargs.get('initial', {})
    initial['material'] = 'Test'
    kwargs['initial'] = initial
    super(ArtefactForm, self).__init__(*args, **kwargs)
<END>
<QUE>
Add indexed column to DataFrame with pandas
<ANS>
df.join(df2)
<END>
<QUE>
How do I search through regex matches in Python?
<ANS>
def doit( s ):

    # with some side-effect on a
    a = [] 

    def f1( s, m ):
        a.append( 1 )
        print 'f1', a, s, m

    def f2( s, m ):
        a.append( 2 )
        print 'f2', a, s, m

    def f3( s, m ):
        a.append( 3 )
        print 'f3', a, s, m

    re1 = re.compile( 'one' )
    re2 = re.compile( 'two' )
    re3 = re.compile( 'three' )


    func_re_list = (
        ( f1, re1 ), 
        ( f2, re2 ), 
        ( f3, re3 ),
    )
    for myfunc, myre in func_re_list:
        m = myre.match( s )
        if m:
            myfunc( s, m )
            break


doit( 'one' ) 
doit( 'two' ) 
doit( 'three' )
<END>
<QUE>
Python Pandas - Changing some column types to categories
<ANS>
for col in ['parks', 'playgrounds', 'sports', 'roading']:
    public[col] = public[col].astype('category')
<END>
<QUE>
Flask : define a route to explore files and folders like SimpleHTTPSever does
<ANS>
import os.path
from flask import Flask
from flask.ext.autoindex import AutoIndex

app = Flask(__name__)
AutoIndex(app, browse_root=os.path.curdir)

if __name__ == '__main__':
    app.run()
<END>
<QUE>
How to quit a program in Python in if
<ANS>
def main():
    print "Hello"
    testv=5
    if testv==6:
        print "!!!"
        return 0;
    else:
        print "World"
    print "***********"
    return 0;

if __name__ == "__main__":
    main()
<END>
<QUE>
Line-breaking Expression in Python
<ANS>
totalIncome = ((classACost * float(classASeatsSold)) +
    (classBCost * float(classBSeatsSold)) +
    (classCCost * float(classCSeatsSold)))
<END>
<QUE>
Python Regex - Dictionary inside Dictionary
<ANS>
import re

_pat_student_parser = re.compile(r'((?P<id>\d{4})(?P<name>\w{4}))')

def nested_dict_from_text(text):
    m = re.search(_pat_student_parser, text)
    if not m:
        raise ValueError
    d = m.groupdict()
    return { "student": d }

result = nested_dict_from_text('1234STUD')
print(result)
<END>
<QUE>
NDB - Setting kind name independently of model name
<ANS>
_get_kind()
<END>
<QUE>
Use variables for input and output PyAIML
<ANS>
import aiml
import os
import time

character_mappings = {'a': 'a.mp3', 'b': 'b.mp3'}

def speak(char):
    out = character_mappings.get(char)
    if out:
         os.system('start {}'.format(out))
    else:
         time.sleep(0.1)

k = aiml.Kernel()
k.learn("std-startup.xml")
k.respond("load aiml b")
while True: 
    text = k.respond(raw_input("> ")) # "string" is a built-in
    for char in text.lower():
        speak(char) # translate is also a built-in
        time.sleep(0.25)
<END>
<QUE>
Python: With gevent, is a front-end server / reverse proxy necessary?
<ANS>
gevent.server
<END>
<QUE>
How to efficiently compare the items in a list within a dictionary to the 0th item within another list within a second dictionary
<ANS>
from itertools import chain

d1 = {10: [123, 244, 222], 13: [109, 125]}
d2 = {125: [[120, 244, 222], [177, 134, 111], [123, 11, 344]], 123: [[125, 109, 180], [123, 156, 290]]}

# Flatten out the list using a list comprehension
key_values = [values for list in d1.values() for values in list]

new_dict = dict()
for d2_list in chain.from_iterable(d2.itervalues()):
    key_to_check = d2_list[0]
    if key_to_check in key_values:
        if key_to_check in new_dict:
            new_dict[key_to_check].append(d2_list)
        else:
            new_dict[key_to_check] = [d2_list]
print new_dict
<END>
<QUE>
numpy tostring equivalent to numpy fromstring
<ANS>
numpy.ndarray.tofile
<END>
<QUE>
In python, when and how can you use for and if statements without colons or indentation?
<ANS>
(one_value for one_value in my_list if one_value == 0)
<END>
<QUE>
redirecting url after facebook logs in successfully with django app
<ANS>
class FacebookConnectMiddleware(object):

    facebook_user_is_authenticated = False
<END>
<QUE>
Python to specify which module to import from if there are duplicate module names?
<ANS>
import imp

moduleB = imp.load_source('moduleB', '/ModuleBPath/B.py')
moduleB.MyClass()
<END>
<QUE>
python replace section of text with only knowing the begining and last word
<ANS>
import re

# create regular expression pattern
chop = re.compile('#chop-begin.*?#chop-end', re.DOTALL)

# open file
f = open('data', 'r')
data = f.read()
f.close()

# chop text between #chop-begin and #chop-end
data_chopped = chop.sub('', data)

# save result
f = open('data', 'w')
f.write(data_chopped)
f.close()
<END>
<QUE>
Django - User CeleryBeat in Production with Supervisor
<ANS>
CELERYBEAT_SCHEDULE_FILENAME = '/var/lib/celery/beat.db'
<END>
<QUE>
numpy function to set elements of array to a value given a list of indices
<ANS>
indices = [1, 4, 5, 6, 7]
zero = numpy.zeros(10)
zero[indices] = 42
<END>
<QUE>
python read file with block, but end with newline(
)
<ANS>
data=f.read(256)
data=data.splitlines(True)
if data[-1]!=data[-1].splitlines()[-1]:
    #must be newline at end of last line
    data="".join(data)
else:
    data="".join(data[:-1])

print data
<END>
<QUE>
Accumulate values of duplicate items within a list
<ANS>
from collections import defaultdict

mylist = [('birthday', 1), ('ramen', 2), ('cake', 1), ('ramen', 1), ('cake', 2), ('ramen', 1)]

d = defaultdict(int)

for k,v in mylist:
    d[k] += v        

print(d)    
# defaultdict(<type 'int'>, {'cake': 3, 'birthday': 1, 'ramen': 4})
<END>
<QUE>
Reading numbers from a .txt file
<ANS>
import re

fin = open('snp.txt','r').readlines()
l = [ re.match('.*(\(.*?\))',line).group(1) for line in fin]
l = [ '%d %f
'%eval(i) for i in l]

with open('o.txt','w') as fout:
    fout.writelines(l)
    fout.close()
<END>
<QUE>
How to shift Labels on x Axis python and Center Bars, Python
<ANS>
plt.xticks(index, ['Igorj', 'Borja', 'Vasja', 'Sanja', 'Petja'], rotation=45)
<END>
<QUE>
Create and write to files based on list with like items
<ANS>
from sets import Set
import csv

source = list(csv.reader(open("account_file.csv")))

accounts = Set(line[0] for line in source)

for account in accounts:
    out = open(account+".csv","w")
    out.write( "
".join(",".join(x) for x in source if x[0] == account))
    out.close()
<END>
<QUE>
My own API Key to my RPC server
<ANS>
import random, string

key = "".join([random.choice(string.letters + string.digits + string.punctuation) for _ in xrange(64)])
<END>
<QUE>
How do I add a % symbol to my Python script
<ANS>
print('The average is: ' + format(average, ',.3f') + '%')
<END>
<QUE>
Processing a HTML file using Python
<ANS>
'<.*?>'
<END>
<QUE>
Box-API gives 401 in python but not with cURL
<ANS>
request.add_header("Authorization", "BoxAuth api_key="+apikey+"&auth_token="+auth_token)
<END>
<QUE>
get_uploads from Blobstore Upload returns empty list although file shows up in bucket
<ANS>
with gcs.open(gcs_filename, 'w', content_type, options={b'x-goog-acl': b'public-read'}) as f:
    f.write(blob)
<END>
<QUE>
Redis: Return all values stored in a database
<ANS>
keys = redis.keys('*')
for key in keys:
    type = redis.type(key)
    if type == KV:
        val = redis.get(key)
    if type == HASH:
        vals = redis.hgetall(key)
    if type == ZSET:
        vals = redis.zrange(key, 0, -1)
<END>
<QUE>
Python Real Time Binning of data
<ANS>
from bisect import bisect

d = {"A": 0, "B": 0, "C": 0, "D": 0, "E": 0, "F": 0}


def grade(score, breakpoints=[70, 80, 90, 100], grades='FBCDA'):
    i = bisect(breakpoints, score)
    return grades[i]


for n in [66, 67, 77, 88, 80, 90, 91,100]:
    d[grade(n)] += n
print(d)
{'A': 100, 'C': 168, 'B': 77, 'E': 0, 'D': 181, 'F': 145}
<END>
<QUE>
Parsing Strings from json in Python
<ANS>
import re
center_part = GPSLocation.split("/")[1]
N,W = centerpart.split()
N,W = N.split("\xb0")[0],W.split("\xb0")[0]
tpl = (N,W)
print tpl
<END>
<QUE>
Initializing numpy string array using for loop failing for some elements
<ANS>
zeros = number_of_zeros * "0"
<END>
<QUE>
Executing a function when the console window closes?
<ANS>
def bye():
  print 'goodbye world!!'

import atexit
atexit.register(bye)
<END>
<QUE>
Read from keyboard non blocking mode because of sockets working, python
<ANS>
selectList = [sktTCP,sys.stdin]
(read, write, exc) =  select.select(selectList, [], [], 0 )
<END>
<QUE>
How to get a list of those columns that contain any NA field?
<ANS>
df.isnull().any()
<END>
<QUE>
How to resume program (or exit) after opening webbrowser?
<ANS>
pid = os.fork()
if pid:
    # we are the parent, continue on
    print "This runs in a separate process from the else clause."

else:
    #child runs browser then quits.
    webbrowser.open_new(url)
    print "Exiting..."
    sys.exit()
<END>
<QUE>
Move and zoom a tkinter canvas with mouse
<ANS>
true_x = canvas.canvasx(event.x)
true_y = canvas.canvasy(event.y)
<END>
<QUE>
Processes launched from wsgi are still running after restarting/reloading the server
<ANS>
import datetime
from threading import Timer

# dummy timestamp for testing, gong should be the 
# timestamp of the last keepAlive signal
gong = datetime.datetime(2012, 8, 16, 16, 3, 18, 341121)  

#seconds before kill check is performed
idle = 5

def bringOutYourDead():
    """If the last keep alive time stamp is more than 5 minutes ago, I am Audi 500."""
    stoneDeadIn =  5
    if datetime.datetime.now() - datetime.timedelta(minutes=stoneDeadIn) >= gong:
        # I used print for whatever command for testing
        print('save_state_or_whatever()')
        print('gtk_main_quit()')
    else:
        print("I'm not dead yet!'")
    # recurse this as you see fit

dung = Timer(idle, bringOutYourDead)
dung.start()
<END>
<QUE>
How to remove one set from another?
<ANS>
set1 = set([1, 3, 5, 7])
set2 = set([3, 5])

result = set1 - set2
<END>
<QUE>
Dynamic use of a class method defined in a Cython extension module
<ANS>
class A(object):
    def method(self):
        return "foo"

try:
    import c_ext
    import types
    A.method = types.MethodType(c_ext.optimized_method, None, A)
except ImportError:
    pass
<END>
<QUE>
Use specific columns and lines numpy array
<ANS>
import numpy as np

arr = np.array([["City","Score1","Score2","Score3"],
                ["Berkley",23,432,321],
                ["Ohio",3,432,54],
                ["Columbia",123,432,53]])

new_arr = arr[1:, 1:].astype(float)
<END>
<QUE>
Use 'paths' to access different levels of nested dictionaries
<ANS>
def nested_getter(d, keys):
    return reduce(dict.get, keys, d)
<END>
<QUE>
How can I return the odd numbers of a list, using only recursion in Python?
<ANS>
def find_odds(numbers):
  if not numbers:
    return []
  if numbers[0] % 2 == 1:
    return [numbers[0]] + find_odds(numbers[1:])
  return find_odds(numbers[1:])
<END>
<QUE>
In python, how would I delete a line in a file if query matches a result
<ANS>
fileLines = []
with open('field.txt') as f:
    for line in f:
        # mysql query to get 'query_result'
        if query_result != 1:
            fileLines.append(line) # These will be the lines you actually want

with open('field.txt', 'w') as f:
    for line in fileLines:
        f.write(line)
<END>
<QUE>
Django ModelChoiceField displaying values in django.contrib.auth and a Profile table
<ANS>
choices = [(obj.id, obj.profile.display_name()) for obj in User.objects.all()]

participants = UserMultipleChoiceField(
    queryset=User.objects.none(),
    label="",
    widget=forms.SelectMultiple(
        attrs={
            "data-placeholder": "Choose members.. "
        }
    ),
    choices=choices
)
<END>
<QUE>
Partitioning a list based on values in tuples - Python
<ANS>
import itertools
import operator

L = [("tearing", 3), ("me", 3), ("apart", 3), ("lisa", 3), ("denny", 0), ("mark",0)]

print list(itertools.groupby(L, operator.itemgetter(1)).next()[1])

# [('tearing', 3), ('me', 3), ('apart', 3), ('lisa', 3)]
<END>
<QUE>
How to get multiple errors validating XML file with Python libraries?
<ANS>
try:
    xmlschema.assertValid(xml_to_validate)
except etree.DocumentInvalid, xml_errors:
    pass
print "List of errors:\r
", xml_errors.error_log
<END>
<QUE>
Pandas: divide each row by another row depending on the index
<ANS>
df_daily = df[df["Date"].hour == 16].copy().shift(1)
df = df.join(df_daily, rsuffix="closing_").fillna(method="ffill")
<END>
<QUE>
Removing last row in csv
<ANS>
import csv
f = open("summary.csv", "r+w")
lines=f.readlines()
lines=lines[:-1]

cWriter = csv.writer(f, delimiter=',')
for line in lines:
    cWriter.writerow(line)
<END>
<QUE>
How do I remove all white space in any given input?
<ANS>
askuser = askuser.strip().replace(' ','').replace('\t','')
<END>
<QUE>
Cannot split a seemingly encoded string
<ANS>
dateRange.split('?')
<END>
<QUE>
Accessing the array outside the loop
<ANS>
for i in range(10):
    temp = []
    temp.append(i)

print temp
<END>
<QUE>
Copying value of cell (X,Y) to cell (A,B) in same sheet of an Excel file using Python
<ANS>
import xlrd
import xlwt
import xlutils
from xlutils.copy import copy 

r_book = xlrd.open_workbook(fname)
w_book = xlutils.copy.copy(r_book)
r_sheet = r_book.sheets()[0] # Taking the first sheet
w_sheet = w_book.get_sheet(0)

x_y_value = r_sheet.cell(X, Y).value
w_sheet.write(A, B, x_y_value)
w_book.save(fname)
<END>
<QUE>
Django upload_to outside of MEDIA_ROOT
<ANS>
from  django.core.files.storage import FileSystemStorage

upload_storage = FileSystemStorage(location=UPLOAD_ROOT, base_url='/uploads')

image = models.ImageField(upload_to='/images', storage=upload_storage)
<END>
<QUE>
Communicating with a running process
<ANS>
import subprocess
def _run_command( _args, input=[],withShell=False):
    """
    Pass args as array, like ['echo', 'hello']
    Waits for completion and returns
    tuple (returncode, stdout, stderr)
    """
    p = subprocess.Popen(_args, shell = withShell,
                         stdin=subprocess.PIPE, stdout=subprocess.PIPE)
    [p.stdin.write(v) for v in input]
    stdout, stderr = p.communicate()
    return p.returncode, stdout, stderr

_,op,er = _run_command(['cat'],["this","is","for","testing"])
value="".join(op)
print value

_,op,er = _run_command(['ls',"/tmp"])
value="".join(op)
print value
<END>
<QUE>
Click a href button with selenium and python?
<ANS>
driver.findElement(By.linkText("Send InMail")).click();
<END>
<QUE>
Getting Quick Sort in Python right in simplest way (translating from Java)
<ANS>
while left <= right:
        while arr[left] < pivotVal:
            left += 1

        while arr[right] > pivotVal:
            right -= 1

        if left <= right:
            temp = arr[left]
            arr[left] = arr[right]
            arr[right] = temp
            left += 1
            right -= 1
<END>
<QUE>
Python: Get most frequent item in list
<ANS>
from collections import Counter
import random

tups = [ (1,2), (3,4), (5,6), (1,2), (3,4) ]
lst = Counter(tups).most_common()
highest_count = max([i[1] for i in lst])
values = [i[0] for i in lst if i[1] == highest_count]
random.shuffle(values)
print values[0]
<END>
<QUE>
Filter a pandas DataFrame using keys from a dictionary
<ANS>
FilteredData = AllData[my_dict.keys()]
<END>
<QUE>
How to Convert Extended ASCII to HTML Entity Names in Python?
<ANS>
def convertEntities(s):
    return ''.join([getEntity(c) for c in s])

def getEntity(c):
    ord_c = ord(c)
    if ord_c > 127 and ord_c in htmlentitydefs.codepoint2name:
        return "&%s;" % htmlentitydefs.codepoint2name[ord_c]
    return c
<END>
<QUE>
Renaming file in same directory using Python
<ANS>
for eachjpgfile in filelist:
    os.chdir(eachjpgfile)
    newdirectorypath = os.curdir
    list_of_files = os.listdir(newdirectorypath)
    for eachfile in list_of_files:
         onlyfilename = os.path.splitext(eachfile)[0]
         if onlyfilename == 'doc':
            root, pathName= os.path.split(eachjpgfile) #split out dir name
            newjpgfilename = eachfile.replace(onlyfilename,pathName)
            os.rename(eachfile, newjpgfilename)
<END>
<QUE>
PYMONGO - How do I use the query $in operator with MongoIDs?
<ANS>
for doc in findUsers:
    print(doc)
<END>
<QUE>
How to create a pop window using pygtk?
<ANS>
import gtk

d = gtk.Dialog()
d.add_buttons(gtk.STOCK_YES, 1, gtk.STOCK_NO, 2)

label = gtk.Label('Do you like GTK?')
label.show()
d.vbox.pack_start(label)

answer = d.run()

print answer
<END>
<QUE>
how to mix 100+ pictures with python pillow
<ANS>
Image.composite
<END>
<QUE>
What is the best way to create a string array in python?
<ANS>
strs = ["" for x in range(size)]
<END>
<QUE>
Grouping of lines in a text file and further processing
<ANS>
from collections import defaultdict

data = list()
groups = defaultdict(list)
i = 1
with open('input') as f:
    for line in f:
        row = line.strip().split() + [ i ]
        gname = " ".join(row[1:3])
        groups[gname] += [ row ]
        i += 1

output = defaultdict(list)
for gname, group in groups.items():
    gr = []
    last_key,last_col4, last_idx='',-1,-1
    for row in group:
        key, idx = " ".join(row[1:3]), int(row[-1])
        keys_same   = last_key == key and last_col4 + 1 == int(row[3])
        consequtive = last_idx + 1 == idx
        if not (gr and keys_same and consequtive):
            if gr: output[gr[0][1]] += [ float(row[0]) - float(gr[0][0]) ]
            gr = [ row ]
        else: gr += [ row ]
        last_key, last_col4, last_idx = key, int(row[3]), idx

for k,v in output.items():
    print k, ' --> ', v
<END>
<QUE>
Python - I need a specific way of making multi-line input
<ANS>
listed = []
inputs = None

while inputs != '':
    inputs = input()
    listed.append(inputs)

listed = [i for i in listed if i != '']
print listed
<END>
<QUE>
How do I put string at the end of every line?
<ANS>
lines = "Foo
Bar
Baz"

for line in lines.splitlines():
    print "%s Hello" % line
<END>
<QUE>
Setting a timeout function in django
<ANS>
from django.db import models
from datetime import datetime, timedelta
# Create your models here.
class yourTextLineGroup(models.Model):
    # fields go here    
    lock_time = models.DateTimeField(null=True)
    locked_by = models.ForeignKey()#Point me to your user model

    def lock(self):
        if self.is_locked(): #and code here to see if current user is not locked_by user
            #exception / bad return value here
            pass

        self.lock_time = datetime.now()

    def unlock(self):
        self.lock_time = None

    def is_locked(self):
        return self.lock_time and datetime.now() - self.lock_time < timedelta(minutes=10)
<END>
<QUE>
Pre-filter readable data based on user permissions with Flask-Admin
<ANS>
def get_query(self):
    role = current_user.role
    if role == 'contributor':
        return # filtered query
    elif role == 'admin':
        return # unfiltered query
<END>
<QUE>
Untracked dirs on commit with pygit2
<ANS>
index.write()
<END>
<QUE>
run perl script with python
<ANS>
#! /usr/bin/python

import subprocess

pipe = subprocess.Popen(["perl", "/sdb1/media/process.pl"], stdout=subprocess.PIPE)
<END>
<QUE>
Intersections between Geodesics (shortest distance paths) on the surface of a sphere
<ANS>
class Vector:
    def __init__(self, x, y, z):
        self.x = x
        self.y = y
        self.z = z

def dot(v1, v2):
    return v1.x * v2.x + v1.y * v2.y + v1.z * v2.z

def cross(v1, v2):
    return Vector(v1.y * v2.z - v1.z * v2.y,
                  v1.z * v2.x - v1.x * v2.z,
                  v1.x * v2.y - v1.y * v2.x)

def det(v1, v2, v3):
    return dot(v1, cross(v2, v3))

class Pair:
    def __init__(self, v1, v2):
        self.v1 = v1
        self.v2 = v2

# Returns True if the great circle segment determined by s
# straddles the great circle determined by l
def straddles(s, l):
    return det(s.v1, l.v1, l.v2) * det(s.v2, l.v1, l.v2) < 0

# Returns True if the great circle segments determined by a and b
# cross each other
def intersects(a, b):
    return straddles(a, b) and straddles(b, a)

# Test. Note that we don't need to normalize the vectors.
print(intersects(Pair(Vector(1, 0, 1), Vector(-1, 0, 1)),
                 Pair(Vector(0, 1, 1), Vector(0, -1, 1))))
<END>
<QUE>
Getting IP address from HTTP POST request using Python
<ANS>
self.client_address[0]
<END>
<QUE>
Revisiting Functions In Python 3
<ANS>
import sys

def function_four():
    # Does Stuff
    return function_one

def function_three():
    # Does Stuff
    return function_two

def function_one():
    usr_input = input("Options: '1') function_three | '2') Quit
Option: ")
    if usr_input == '1':
        return function_three
    elif usr_input == '2':
        return None
    else:
        print("Did not recognise command. Try again.")
        return function_one

def function_two():
    usr_input = input("Options: '1') function_four | '2') function_three | '3') Quit
Option: ")
    if usr_input == '1':
        return function_four
    elif usr_input == '2':
        return function_three
    elif usr_input == '3':
        return None
    else:
        print("Did not recognise command. Try again.")
        return function_two

state = function_one
while state is not None:
    state = state()
<END>
<QUE>
how to grep by date time range?
<ANS>
#! /usr/bin/python
import sys
from datetime import datetime
d_format = "%Y-%m-%d"

try:
    start = datetime.strptime(sys.argv[1], d_format)
    end = datetime.strptime(sys.argv[2], d_format) 
except (TypeError, IndexError):
    sys.stderr.write("Example: grep-date-range.py 2011-03-25 2011-04-02 
")

for line in sys.stdin:
    try:
        date = datetime.strptime(line.split()[0], d_format)
        # suit the <=, <, comparisons bellow to your needs:
        if start <= date < end:
            sys.stdout.write(line)
    except (ValueError, IndexError):
        pass
<END>
<QUE>
Qt show windows sequentially
<ANS>
def main():
    app = QtGui.QApplication(sys.argv)
    w = AuthWindow()
    w.exec_()
    w.show()
    sys.exit(app.exec_())
<END>
<QUE>
Formwizards for editing in Django
<ANS>
def edit(request):
    initial = {
       0: {'subject': 'Hello', 'sender': 'user@example.com'},
       1: {'message': 'Hi there!'}
       }
    wiz = FormWizard([form1,form2,form3],initial_dict = initial)
    return wiz(request)
<END>
<QUE>
Compare 1st element of list from nest list in python
<ANS>
list_of_lists = [[1, 2], [1, 3], [1, 4]]
len(set([sublist[0] for sublist in list_of_lists])) == 1
# True
<END>
<QUE>
How to get the response of a cypher query in neo4j using python Rest api
<ANS>
from py2neo import Graph
graph = Graph("http://nifty-site:1138/db/data/")
results = graph.cypher.execute("match (PPnode:Node) return PPnode")

for r in results:
    # get the node you return in your query
    ppNode = r[0]
    # get the properties of your node
    props = ppNode.get_properties()
    # Do nifty stuff with properties, not JSON.
<END>
<QUE>
Python regex issue while scraping
<ANS>
newlinks = [a["href"] for a in getdata]
<END>
<QUE>
Converting a StringIO object to a Django ImageFile
<ANS>
pi = ProductImage(product=product)
pi.source_image.save(image_name, ContentFile(image_file.read()))
pi.save()
<END>
<QUE>
Execute multiple python files using a single main
<ANS>
import one
import two
import three

if __name__ == '__main__':
    one.foo()
    two.bar()
    three.baz()
<END>
<QUE>
Assistance with Django model relationships
<ANS>
uid = User.objects.get(username='Greg').id
pinyin = Pinyin.objects.get(pinyinWord='kuai')

learned, created = Learned.objects.get_or_create(pinyinWord=pinyin.pinyinWord, 
                                                                 user__id=uid)
if created:   # newly INSERTed Learned  instance
     learned.date = datetime.date.today()
     learned.learned = False
     learned.save()
<END>
<QUE>
How to close IDLE window which is opened by Tkinter.Tk()
<ANS>
root.destroy()
<END>
<QUE>
how can I set the last modified time of a file from python?
<ANS>
os.utime
<END>
<QUE>
matplotlib: two y-axis scales, how to align gridlines?
<ANS>
import matplotlib.pyplot as plt
import seaborn as sns
import numpy as np
import pandas as pd

np.random.seed(0)
fig = plt.figure()
ax1 = fig.add_subplot(111)
ax1.plot(pd.Series(np.random.uniform(0,1,size=10)))
ax2 = ax1.twinx()
ax2.plot(pd.Series(np.random.uniform(10,20,size=10)),color='r')

# ADD THIS LINE
ax2.set_yticks(np.linspace(ax2.get_yticks()[0],ax2.get_yticks()[-1],len(ax1.get_yticks())))

plt.show()
<END>
<QUE>
Remove all <a> tags
<ANS>
soup = BeautifulSoup(page)
anchors = soup.findAll('a')
for anchor in anchors:
  anchor.replaceWithChildren()
<END>
<QUE>
Does using Psyco with django make any sense?
<ANS>
views.py
<END>
<QUE>
django getting variable from url into view
<ANS>
def next_page(request,location_id):
    loc = Location.objects.get(id=location_id)
<END>
<QUE>
Python: how to pass a reference to a function
<ANS>
def func(container):
    container[0] = True


container = [False]
func(container)
print container[0]
<END>
<QUE>
Detect the size of a QR Code in Python using OpenCV and Zbar
<ANS>
import math
scanner.scan(image)
[a,b,c,d] = x.location   # it returns the four corners of the QR code in an order
w = math.sqrt((a[0]-b[0])**2 + (a[1]-b[1])**2)  # Just distance between two points
h = math.sqrt((b[0]-c[0])**2 + (b[1]-c[1])**2)
Area = w*h
<END>
<QUE>
Python Split files into multiple smaller files
<ANS>
with open('myfile.txt') as infp:
    files = [open('%d.txt' % i, 'w') for i in range(number_of_files)]
    for i, line in enumerate(infp):
        files[i % number_of_files].write(line)
    for f in files:
        f.close()
<END>
<QUE>
Screen Scraping in Python
<ANS>
from scrapy.spider import BaseSpider
from scrapy.selector import HtmlXPathSelector

class DmozSpider(BaseSpider):
    name = "dmoz.org"
    allowed_domains = ["dmoz.org"]
    start_urls = [
        "http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",
        "http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"
    ]
def parse(self, response):
    hxs = HtmlXPathSelector(response)
    sites = hxs.select('//ul/li')
    for site in sites:
        title = site.select('a/text()').extract()
        link = site.select('a/@href').extract()
        desc = site.select('text()').extract()
        print title, link, desc
<END>
<QUE>
Django deployment using passenger-wsgi
<ANS>
import sys, os
sys.path.append(os.path.join(os.getcwd(), 'projectname')) #I needed this
os.environ.setdefault("DJANGO_SETTINGS_MODULE", "settings")
import django.core.handlers.wsgi
application = django.core.handlers.wsgi.WSGIHandler()
<END>
<QUE>
Problems with unicode in Python
<ANS>
f = open('test_text.txt','wb')
for a in range(65535):
    f.write(unichr(a).encode("utf32"))
f.close()
<END>
<QUE>
How to export a table to csv or excel format
<ANS>
import csv
cursor = connection.cursor() # assuming you know how to connect to your oracle db
cursor.execute('select * from table_you_want_to_turn_to_csv')
with open('output_file.csv', 'wb') as fout:
    writer = csv.writer(fout)
    writer.writerow([ i[0] for i in cursor.description ]) # heading row
    writer.writerows(cursor.fetchall())
<END>
<QUE>
Optimize NLTK Code To Make Predictions From Text
<ANS>
import random
import nltk
import pandas
import csv
import numpy as np
from sklearn.naive_bayes import MultinomialNB
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn import metrics
from operator import itemgetter
from sklearn.metrics import classification_report
train_setT = [tuple(x) for x in train_set]
test_setT = [tuple(x) for x in test_set]


train_set = np.array([''.join(el[0]) for el in train_setT])
test_set = np.array([''.join(el[0]) for el in test_setT])

y_train = np.array([el[1] for el in train_setT])
y_test = np.array([el[1] for el in test_setT])

vectorizer = TfidfVectorizer(min_df=2,ngram_range=(1, 2), strip_accents='unicode', norm='l2')

X_train = vectorizer.fit_transform(train_set)
X_test = vectorizer.transform(test_set)

nb_classifier = MultinomialNB().fit(X_train, y_train)

y_nb_predicted = nb_classifier.predict(X_test)


print metrics.confusion_matrix(y_test, y_nb_predicted)
print classification_report(y_test, y_nb_predicted)
<END>
<QUE>
Sum keys in a dictionary
<ANS>
sum(item['key'] for item in array if 'key' in item)
<END>
<QUE>
Is local variable necessary in Python comprehensions?
<ANS>
r = [rand_foo() for _ in range(10)]
<END>
<QUE>
Django Rest Framework Serializer Relations: How to get list of all child objects in parent's serializer?
<ANS>
class Parent(models.Model):
    name = models.CharField(max_length=50)

class Child(models.Model):
    parent = models.ForeignKey(Parent, related_name='children')  # <--- Add related_name
    child_name = models.CharField(max_length=80)
<END>
<QUE>
Sending POST request to AJAX with Python3.4 and urllib
<ANS>
data="league=1
SeasonString=2014-2015
Year=1
Month=1
Day=1"
<END>
<QUE>
Read a variable that is placed inside my models file, in another file
<ANS>
type = forms.CharField(label='Type', widget=forms.Select(choices=User.USER_TYPE_CHOICES))
<END>
<QUE>
Binding an event to a dialogue response
<ANS>
yes_or_no = False
if result == wx.ID_YES:
    yes_or_no = True
dlg.Destroy()
if yes_or_no:
    self.IfYes()
<END>
<QUE>
is there a way to do a insert an request the scope_identity() using pyodbc to sql server 2005
<ANS>
cur = con.execute(
         "insert into sometable OUTPUT INSERTED.idcolumn values('something')"
         )
<END>
<QUE>
combobox in a toolbar in an AUI Frame in mac os x
<ANS>
combobox = wx.ComboBox(
    tb3, 2342, "", choices=["", "This", "is a", "wx.ComboBox"],
    size=(150,-1), style=wx.CB_DROPDOWN
    )
tb3.AddControl(combobox)
tb3.Realize()
combobox.Hide()
combobox.Show()
<END>
<QUE>
In what format should I respond from django to android after getting http get?
<ANS>
def pendingOrders(request):
    userprof = UserProfile.objects.get(user= request.user)
    if userprof.is_student:
        student_account = request.user
        dish = Dishes.objects.all()
        #Getting all pending orders
        order_all_pending = Orders.objects.filter(student_id = student_account,delivered = False)
        pending_orders = Orders.objects.filter(~Q(status = 2),delivered = False)
        for order in order_all_pending:
            #Hack to change QuerySet to pass as JSON 
            order.quantity = pending_orders.filter(id__lt = order.id,counterid= order.counterid).count() + 1

        #Returning JSON response to the objects obtained in above statement
        return HttpResponse(serializers.serialize('json',order_all_pending,use_natural_keys=True),mimetype='application/json')
    else:
        return HttpResponse("Something went wrong")
<END>
<QUE>
Pass dictionary values a list in a function
<ANS>
import itertools

list(itertools.chain.from_iterable(LISTS))
<END>
<QUE>
Getting multiple values
<ANS>
find_element_by_css_selector(".kpi.unit");
<END>
<QUE>
Numpy histogram on multi-dimensional array
<ANS>
hist, bin_edges = apply_along_axis(lambda x: histogram(x, bins=bins), 0, B)
<END>
<QUE>
Python nosetests: how to access cmd line options? Namely `--failed`
<ANS>
from sys import argv as arguments

if "--failed" in arguments :
    do_something()
else :
    do_something_else()
<END>
<QUE>
Start app from within python
<ANS>
os.system("/path/to/myapp")
<END>
<QUE>
How to get the current checked out Git branch name through pygit2?
<ANS>
head = repo.lookup_reference('HEAD').resolve()
head = repo.head

branch_name = head.name
<END>
<QUE>
Python Split strings
<ANS>
with open("test.txt", "r") as my_file:
    for line in my_file:
        line = re.findall('(\w+)', line)
        print '{Username:"%s", Application:%s}' % (line[0], line[1])
        print '{Username:"%s", Application:%s}' % (line[2], line[3])
<END>
<QUE>
logistic regression classifier for prediction in Python
<ANS>
alg = sklearn.linear_model.LogisticRegression()
alg.fit(x_train, y_train)
test_score = alg.score(x_test, y_test)
<END>
<QUE>
Create a data frame from object
<ANS>
df = pd.DataFrame(r)
<END>
<QUE>
Why does Python allow comparison of a callable and a number?
<ANS>
import random
random.random = 9 # Very weird but legal assignment.
random.random < 10 # True
random.random > 10 # False
<END>
<QUE>
Get divs HTML content with lxml
<ANS>
def innerHTML(node): 
    buildString = ''
    for child in node:
        buildString += html.tostring(child)
    return buildString
<END>
<QUE>
Converting list of tuples into numpy array and reshaping it?
<ANS>
combine_list = [[[ (i, j, k) for k in c] for j in b] for i in a]
combine_array = np.asarray(combine_list)
<END>
<QUE>
Running a bash file with Python
<ANS>
os.system("""here some code you use to execute in Terminal""")
<END>
<QUE>
I want to save my parsed HTML file into TXT file
<ANS>
import codecs
h = codecs.open('yyyy.txt', 'w', 'utf-8')
<END>
<QUE>
is it possible to fetch all the lastrowids after executemany insert in mysqldb?
<ANS>
num = 0
insert_ids = []

for arg in args:
    num += cur.execute(sql, arg)
    insert_ids.append(cur.lastrowid)
<END>
<QUE>
How to combine two charts into the single PDF using ReportLab?
<ANS>
# adding a pie chart to the drawing   
self._add(self,Pie(),name='pie',validate=None,desc=None)
<END>
<QUE>
Is there a way to negate a boolean returned to variable?
<ANS>
item.active = not item.active
<END>
<QUE>
How to print a list in the format of a set. In Python3
<ANS>
s=[1,2,3]
print("{"+str(s)[1:-1]+"}")
<END>
<QUE>
How to write German language to a spreadsheet with xlsxwriter in Python
<ANS>
# _*_ coding: utf-8

import xlsxwriter

workbook = xlsxwriter.Workbook('example.xlsx')
worksheet = workbook.add_worksheet()

worksheet.write('B3', u'Franz??sisch')

workbook.close()
<END>
<QUE>
How to assign and return multiple values from Django cache?
<ANS>
result = cache.get(cache_key)
if not result:
    result = filter_result()
    cache.set(cache_key, result, cache_time)

counter, college_user, name_college_list = result
<END>
<QUE>
how to get records for a day relative to timezone in django
<ANS>
import pytz

entered_at = request.session['entered_at']
entered_at = datetime.strptime(entered_at, "%m-%d-%Y")
day_start = entered_at.replace(hour=00, minute=00)
day_end = entered_at.replace(hour=23, minute=59)

timezone = pytz.timezone("America/Los_Angeles")
day_start = timezone.localize(day_start)
day_end = timezone.localize(day_end)

entries = Entry.objects.filter(customer=customer, 
                               entered_at__lt=day_end, 
                               entered_at__gte=day_start)
<END>
<QUE>
merge paths with python, from /a/b/c + c/d to /a/b/c/d
<ANS>
os.path.join(os.path.split(p1)[0], p2)
<END>
<QUE>
Open a second window in PyQt
<ANS>
class Main(QtGui.QMainWindow):
    ''' some stuff '''
    def on_Button_clicked(self, checked=None):
        if checked==None: return
        dialog = QDialog()
        dialog.ui = Ui_MyDialog()
        dialog.ui.setupUi(dialog)
        dialog.setAttribute(QtCore.Qt.WA_DeleteOnClose)
        dialog.exec_()
<END>
<QUE>
Python Excel: How to add a cell value and a constant and then print back to the excel
<ANS>
import xlrd

book_input = xlrd.open_workbook('input.xls')
sheet_input = book_input.sheet_by_index(0)

for row in xrange(sheet_input.nrows):
    for col in xrange(sheet_input.ncols):
        cell_type = sheet_input.cell_type(row, col)
        cell_value = sheet_input.cell_value(row, col)
        if cell_type == 1 or (cell_type == 2 and cell_value >= 1):
            print "%s:%s" % (col + 1, cell_value)
<END>
<QUE>
How can I multiply all the numbers from a list to display a new list?
<ANS>
new_ingredients = [(name, quantity*multiplier, unit) for name,quantity,unit in ingredients]
<END>
<QUE>
Auto-adjusting size for Tkinter frame
<ANS>
import Tkinter

root = Tkinter.Tk()
menubar = Tkinter.Menu(root)
root.config(menu=menubar)

fileMenu = Tkinter.Menu(menubar, tearoff=False)
editMenu = Tkinter.Menu(menubar, tearoff=False)

menubar.add_cascade(label="File",underline=0, menu=fileMenu)
menubar.add_cascade(label="Edit",underline=0, menu=editMenu)

fileMenu.add_command(label="Open...", underline=0)
fileMenu.add_command(label="Save", underline=0)
fileMenu.add_separator()
fileMenu.add_command(label="Exit", underline=1)

editMenu.add_command(label="Cut", underline=2)
editMenu.add_command(label="Copy", underline=0)
editMenu.add_command(label="Paste", underline=0)

root.mainloop()
<END>
<QUE>
Python extract data from file and write to another
<ANS>
fp = open("data.txt", "r")
data = fp.read();

data = data.split(">");

i = 0;

while True:
    filename = data[i].split('" ')[1].split('"')[1]
    text = data[i+1].split('<')[0].strip()

    fp1 = open(filename + ".txt", "w")
    fp1.write(text)
    fp1.close()

    i += 2
    if i >= (len(data) - 1):
        break;
<END>
<QUE>
Python memory management with a median image stacker
<ANS>
import glob
from netCDF4 import Dataset
import numpy as np
from PIL import Image

WIDTH = 800
HEIGHT = 450

root = Dataset('test.nc', 'w')

root.createDimension('x', WIDTH)
root.createDimension('y', HEIGHT)
root.createDimension('channels', 3)
t = root.createDimension('t', None)

img = root.createVariable('image', 'u1', ('t','y','x','channels'))

images = glob.glob('images/*')

for i,fname in enumerate(images):
    im = Image.open(fname)
    im_array  = np.asarray(im)
    img[i] = im_array

median = np.median(img, axis=0)
im = Image.fromarray(np.uint8(median))
im.save('out.png')
<END>
<QUE>
Schedule daily task in a Python app
<ANS>
from datetime import datetime
import os

from apscheduler.schedulers.blocking import BlockingScheduler


def tick():
    print('Tick! The time is: %s' % datetime.now())


if __name__ == '__main__':
    scheduler = BlockingScheduler()
    scheduler.add_executor('processpool')
    scheduler.add_job(tick, 'interval', seconds=3)
    print('Press Ctrl+{0} to exit'.format('Break' if os.name == 'nt' else 'C'))

try:
    scheduler.start()
except (KeyboardInterrupt, SystemExit):
    pass
<END>
<QUE>
Automation Excel from Python
<ANS>
from win32com.client import Dispatch
excel = Dispatch('Excel.Application')
wb = excel.Workbooks.Open(r'c:\path\to\file.xlsx')
ws = wb.Sheets('My Sheet')
# do other stuff, just like VBA
wb.Close()
excel.Quit()
<END>
<QUE>
Merging PDF files with Python3
<ANS>
decimal.Decimal
<END>
<QUE>
How do I replace whitespaces with underscore and vice versa?
<ANS>
mystring.replace (" ", "_")
<END>
<QUE>
How to pass numeric dictionary keys (formal parameter **name) to a python function?
<ANS>
def printAlbum(albums):
        for year in albums:
                print year, albums[year]

printAlbum(
{ 2002: 'by the way', 1999: 'californication', 2006:'stadium arcadium'}
)
<END>
<QUE>
Testing a custom Django template filter
<ANS>
from django.test import TestCase
from django.template import Context, Template

class TagTests(TestCase):
    def tag_test(self, template, context, output):
        t = Template('{% load multifor %}'+template)
        c = Context(context)
        self.assertEqual(t.render(c), output)
    def test_for_tag_multi(self):
        template = "{% for x in x_list; y in y_list %}{{ x }}:{{ y }}/{% endfor %}"
        context = {"x_list": ('one', 1, 'carrot'), "y_list": ('two', 2, 'orange')}
        output = u"one:two/1:2/carrot:orange/"
        self.tag_test(template, context, output)
<END>
<QUE>
How to get scrapy results orderly?
<ANS>
def parse(self, response):
    for obj in response.css("ul.search-results li"):
        item = YelpItem()

        item['name'] = obj.xpath(".//div[@class='media-story']//h3//a/text()").extract()[0]
        item['address'] = ''.join(obj.xpath(".//div[@class='secondary-attributes']//address/text()").extract()).strip()

        yield item
<END>
<QUE>
Converting python objects for rpy2
<ANS>
import rpy2.robjects.numpy2ri
rpy2.robjects.numpy2ri.activate()
<END>
<QUE>
Prime Numbers in Python
<ANS>
liste = []
for primeCandidate in range (2,100):
    isPrime = True
    for divisor in range (2,primeCandidate):
        if primeCandidate % divisor == 0:
            isPrime = False
            break
    if isPrime:
        liste.append(primeCandidate)
        print(liste)
<END>
<QUE>
How to extract the name of inputfile for the outputfile when using python?
<ANS>
import os
import fnmatch

filenamels = []
inputExtension = ".nc"
outputExtension = ".img"
inputDir = "C:\\Users\\"
for filename in os.listdir(inputDir):
    if fnmatch.fnmatch(filename, '*' + inputExtension):
        filenamels.append(filename[:-len(inputExtension)])

for fn in filenamels:
    inputDataset = 'NETCDF:\"'+ fn + inputExtension +'\":sf'
    outputFile = inputDir + 'Nx.' + fn + '.SUB' + outputExtension
    gdalcmd='gdal_translate -of "ENVI" '+ inputDataset + ' '+ outputFile
    os.system( gdalcmd)
<END>
<QUE>
Margin Openoffice python
<ANS>
import uno

def setMargin():
    doc = XSCRIPTCONTEXT.getDocument()
    oStyle = doc.StyleFamilies.getByName("PageStyles").getByName("Default")
    oStyle.TopMargin = 5000  #Not sure what the units are
<END>
<QUE>
Fastest check if line starts with value in list?
<ANS>
my_id_strs = map(str, my_ids)
for line in source_file:
    first_part = line.split("|")[0]
    if first_part in my_id_strs:
        target_file.write(line.replace(",",";").replace("|",","))
<END>
<QUE>
How to unravel data interpolated with griddata
<ANS>
grid_x.ravel()
grid_y.ravel()
grid_z.ravel()
interpolated_quantity.ravel()
<END>
<QUE>
chunk_split in python
<ANS>
chunk_split = lambda s: '\r
'.join(s[i:min(i+76, len(s))] for i in xrange(0, len(s), 76))
<END>
<QUE>
A simple spider question
<ANS>
import urllib2
bio_page = urllib.urlopen(bio_url).read()
<END>
<QUE>
How do I find the total (Python)
<ANS>
amount = 0 # Used to increment your inv value
for eachKey in stock:
# Iterate through your stock, pulling values for each item you have
    try:
        amount += stock[eachKey]*prices[eachKey]
        # Try to add your total inventory price for the current iteration
        # to your total, but if that item in your stock has no price set...
    except KeyError as e:
        print("Your item {} has no price!".format(eachKey))
        # Let you know that there's no price for this item
print("Your total inventory has value ${:.2f}".format(amount))
# Print out your total inventory value
<END>
<QUE>
Python click Js link with selenium
<ANS>
driver.find_elements_by_class_name("next_last")[0].click()
<END>
<QUE>
Selenium select_by_value using a variable
<ANS>
select.select_by_value(str(entity_type))
<END>
<QUE>
Replace word in text file comma separated with word in a specific column with Python
<ANS>
firstline = True
with open("server.txt") as f:
    with open("output.txt", "w") as fw:
        for line in f.readlines(): # For each line in server.txt

            if firstline: # Do not process the header line
                firstline = False
                continue

            if line[-2] == "1": # -2 because -1 is the line return character
                line = line[:-2] + "noissue
"
            else:
                line = line[:-2] + "issue
"
            fw.write(line)
<END>
<QUE>
How to convert PIL Image.image object to base64 string?
<ANS>
import base64
import cStringIO

buffer = cStringIO.StringIO()
image.save(buffer, format="JPEG")
img_str = base64.b64encode(buffer.getvalue())
<END>
<QUE>
How do I filter ManyToManyField choices in a Django ModelForm?
<ANS>
def __init__(self, *args, **kwargs):
   # First pop your kwargs that may bother the parent __init__ method
   self.root_entity = kwargs.pop('root_entity')
   # Then, let the ModelForm initialize:
   super(MyForm, self).__init__(*args, **kwargs)
   # Finally, access the fields dict that was created by the super().__init__ call
   self.fields['parent_entities'].queryset = Entity.objects.filter(root_entity=self.root_entity)
<END>
<QUE>
Turn off interactive mode in FTP
<ANS>
session.retrbinary(("RETR " + f), open(f, 'wb').write)
<END>
<QUE>
JSON saving duplicate info
<ANS>
import json
with open('./gui-config.json','r') as f:
    js=json.load(f)
    js['configs'][0]['password']='123'

with open('./gui-config.json','w') as f:
    js.dumps(js, f)
<END>
<QUE>
Overloading the del operator in a mutable string class python
<ANS>
class Mutstr(object):
    def __init__(self, st=""):
          self.st = st

    def get(self):
          return self.st

    def __delitem__(self, index):
          self.st = self.st[:index] + self.st[index+1:]

one = Mutstr('oogyboogy')
del one[4]
del one[3]
del one[2]
print one.get()
<END>
<QUE>
Reading specific words and values from a file and storing them in a dictionary
<ANS>
r'^\d(\s[a-zA-Z])+'
<END>
<QUE>
HTTP POST, curl and mod_python - How to handle POST request without HTML FORM element?
<ANS>
def path(req):
    request_data = req.form.getfirst('request')
<END>
<QUE>
Matching hierarchical keywords to a document
<ANS>
docs = [('0,1,12','doc1'),('0,2,30','doc1'),('0,1','doc2')]
keys = [('0','key1'),('0,1','key2'),('0,1,12','key3'),('0,2','key4'),('0,2,30','key5')]

keydict = dict(keys)
resultDict = {}

for doc in docs:
    (path, docname) = doc
    pathList = path.split(',')
    keyPath = []
    for i in range(0, len(pathList)):
        aPath = ','.join(pathList[:i+1])
        keyPath.append(keydict[aPath])

    if docname not in resultDict :
        resultDict[docname] = []
    resultDict[docname].append(tuple(keyPath))

print resultDict
<END>
<QUE>
How do I keep whitespace in BeautifulSoup.contents
<ANS>
html = "<pre>" + html + "</pre>"
<END>
<QUE>
What's the pythonic way to unite all the intersecting sets in a list?
<ANS>
mysets = [set([0, 1, 2]),
          set([3, 2]),
          set([4, 1]),
          set([5, 6]),
          set([7, 8])]

# Require at least one set in the output.
output = [mysets.pop(0)]

while mysets:
  test = mysets.pop(0)
  for idx, other in enumerate(output):
    if test & other:
      output[idx] |= test
      break
  else:
    output.append(test)

# output -> [set([0, 1, 2, 3, 4]), set([5, 6]), set([8, 7])]
<END>
<QUE>
Get only selected lines from a file
<ANS>
with open('test.txt') as f:
    for i, line in enumerate(f):
        if i == 0 or i == 4:
            print(line)
<END>
<QUE>
How to difference a series in pandas data frame
<ANS>
df['exr_ln_diff'] = df['exr_ln'].diff()
<END>
<QUE>
How does Django determine if an uploaded image is valid?
<ANS>
from PIL import Image
trial_image = Image.open(file)
trial_image.verify()
<END>
<QUE>
How can I plot NaN values as a special color with imshow in matplotlib?
<ANS>
masked_array = np.ma.array (a, mask=np.isnan(a))
cmap = matplotlib.cm.jet
cmap.set_bad('w',1.)
ax.imshow(masked_array, interpolation='nearest', cmap=cmap)
<END>
<QUE>
How to use python for a webservice
<ANS>
import cgi
<END>
<QUE>
Resisze grid to fit tkinter window
<ANS>
for row in range(7):
    window.grid_rowconfigure(row, weight=1)
for col in range(3):
    window.grid_columnconfigure(col, weight=1)
<END>
<QUE>
How to get python to know what directory you're working in
<ANS>
import os

loc = os.getcwd()
<END>
<QUE>
Executing a shell script in Python from the JSON document
<ANS>
jsonDataaa = '{"script":"#!/bin/bash \
 hello=$jj1 \
 echo $hello \
 echo $jj1 \
 echo $jj2 \
 for el1 in $jj3 \
 do \
 echo \\"$el1\\" \
 done \
 for el2 in $jj4 \
 do \
 echo \\"$el2\\" \
 done"}'
<END>
<QUE>
Unflattening a list in python
<ANS>
def unflatten(l):
  def helper(l, start):
    if isinstance(l[start], int):
      ret = []
      start += 1
      for _ in range(l[start - 1]):
        sub, start = helper(l, start)
        ret.append(sub)
      return ret, start
    else:
      return l[start], start + 1
  return helper(l, 0)[0]

print unflatten([2, 'x', 'y'])
print unflatten([ 3, "a", "b", 3, "t", "y", "u" ])
print unflatten([ 4, "a", "b", 3, "c", "d", 2, "x", "y", 2, "w" , 3, "t", "y", "u" ])
<END>
<QUE>
How to set default values with methods in Odoo 8?
<ANS>
name = fields.Char(
    string='Name',
    default=lambda self: self._get_default_name(),
)

@api.model
def _get_default_name(self):
    return "test"
<END>
<QUE>
Python: List of addressable IP addresses
<ANS>
l = list(netaddr.IPNetwork('192.168.0.0/27').iter_hosts())
<END>
<QUE>
Differing decryption output for same keys in python RSA
<ANS>
return int(e)
<END>
<QUE>
Python Strange Behavior with List & Append
<ANS>
class User():
    def setup(self):
        self.listA = []                          # instance variable
        self.listB = []                          # instance variable
        for i in range(1):
            self.listA.append('a')
            self.listB.append('b')
<END>
<QUE>
How do I get date and time from two columns of a numpy array into a datetime format that can be used by matplotlib?
<ANS>
dtfix=[dt.datetime.strptime(x, "%m/%d/%y %H:%M:%S") for x in dtcode]
<END>
<QUE>
Best way to import delimited and paginated data with Python
<ANS>
import os
import numpy as np


class Data(object):
    def __init__(self):
        super(Data, self).__init__()
        self.time = None
        self.pressure = None

    def load(self, filename):

        #Data Properties
        cols = 7
        lines_per_page = 59
        header_lines = 4

        #Initialize Data
        data = np.empty([0, cols])

        #Open the file
        with open(filename, 'r') as f:

            #Traverse the file's lines
            for i, line in enumerate(f.readlines()):

                #Check whether this is a header line
                if i % lines_per_page >= header_lines:

                    #Split line into columns, convert to float, convert to numpy array, shape as a row
                    linedata = np.array(map(float, line.split())).reshape(1, cols)

                    #Add the row to the bottom of the data
                    data = np.vstack([data, linedata])

        self.time = data[:, 0]
        self.pressure = data[:, 1]
<END>
<QUE>
ImportError at / No module named response with django appengine
<ANS>
from django.http import HttpResponse
<END>
<QUE>
Django Debug Toolbar Only Working for Admin Section
<ANS>
settings.DEBUG_TOOLBAR_CONFIG['INSERT_BEFORE']
<END>
<QUE>
Reading a file until a match found with python
<ANS>
import random
running=True
while running:
    a=random.randint(1,1000)
    with open ("lookin.txt") as f:
        rl=f.readlines()
        for i in rl:
            if int(i)==a:
                print ("Match found")
                with open("found.txt","w") as t:
                    t.write(str(a))
                    running=False
<END>
<QUE>
Creating a list of lists with consecutive numbers
<ANS>
[[] for _ in range(4)]          # use xrange in python-2.x
<END>
<QUE>
Attach last column of DataFrame to another DataFrame
<ANS>
small_df['rating'] = rating_column.values
<END>
<QUE>
using result of a python script to invoke shutdown in terminal(ubuntu)
<ANS>
os.system('shutdown -h now')
<END>
<QUE>
How to set value of hidden form in Mechanize/Python?
<ANS>
form.find_control("foo").readonly = False # allow changing .value of control foo 
form.set_all_readonly(False) # allow changing the .value of all controls
<END>
<QUE>
Converting an blowfish encyption algo from php to python
<ANS>
import hashlib
import brypt
def myhash(word):
    salt = "$2a$06$" + hashlib.sha1(word).hexdigest()[0:22] + "$"
    return bcrypt.hashpw(word, salt)
<END>
<QUE>
How can I perform a temporary assignment in a generator expression?
<ANS>
end = min(x for x in (fileStr.find(key) for key in keys)
          if x > index)
<END>
<QUE>
Get a suds web service XML sub group in a python list?
<ANS>
myElm3Dict = dict(myWebServiceData['elm3'][0])
<END>
<QUE>
Separate characters from digits with or without fractional part
<ANS>
pattern = re.compile(r'([a-zA-Z]+)([0-9.]+)')
<END>
<QUE>
how to filter for objects with time
<ANS>
results.filter('created > ', now - datetime.timedelta(days=2))
<END>
<QUE>
Python wave: Extracting stereo channels seperately from *.wav-file
<ANS>
data_per_channel = [data[offset::nchannels] for offset in range(nchannels)]
<END>
<QUE>
How to submit a query in pyES?
<ANS>
def state_query(doc):
    return TermQuery(field="STATE_ALPHA", value=doc["state"].lower())
<END>
<QUE>
Doing math with Python lists
<ANS>
LL= [['a', 2, 3, 4, 13], ['b', 6, 7, 8, 13], ['c', 10, 11, 12, 13]]

for row in LL:
    row[-1]= max(row[1: -1])
    row.append(14)
print LL
<END>
<QUE>
List comprehension on dictionary of tuples
<ANS>
points = [partial
          for partial in partials
          for point in partials[partial]
          if point[0] == time]
<END>
<QUE>
If list object contains something remove from list
<ANS>
added = [f for f in after if not f in before and '_status' not in f]
<END>
<QUE>
Reading and storing arbitrary byte length integers from a file
<ANS>
buf = "000000111111222222"
a = np.ndarray(len(buf), np.dtype('>i1'), buf)
e = np.zeros(len(buf) / 6, np.dtype('>i8'))
for i in range(3):
    e.view(dtype='>i2')[i + 1::4] = a.view(dtype='>i2')[i::3]
[hex(x) for x in e]
<END>
<QUE>
replace spaces with dash and remove prefix from string
<ANS>
artistName = artistName.replace(' ', '-').lower()
if artistName.startswith('the-'):
    artistName = artistName[4:]
artistName = ''.join(e for e in artistName if e.isalnum() or e == '-')
<END>
<QUE>
Wrong character at the end of each line on LCD at Raspberry Pi when data is fetched by Python subprocess
<ANS>
string.rstrip()
<END>
<QUE>
how to get the current thing in this code
<ANS>
getattr(aa, i)
<END>
<QUE>
Combining list elements in python?
<ANS>
a = list(set(a))
<END>
<QUE>
Check how many characters in input
<ANS>
if len(cliente) == 14:
    print "ID"


elif len(cliente) == 18:
    print "Registration"

else:
    print "You entered an incorrect option"
<END>
<QUE>
Python Twitter json text filter
<ANS>
filterKeyword=['eat','cinnamon','fruit','pie','juice']
for tweet in tweets:
    for key in filterKeyword:
        if key in tweet['text']:
            pass
        else:
            tweetsFiltered.append(tweet)
            tweetStr+=str(tweet['text'])
print(tweetStr)
<END>
<QUE>
how to create a triangle filled in a translucent color by python pillow(fork PIL)
<ANS>
img1 = Image.new('RGBA', (255, 255)) # Use RGBA
img2 = Image.new('RGBA', (255, 255)) # Use RGBA
draw1 = ImageDraw.Draw(img1)
draw2 = ImageDraw.Draw(img2)

draw1.polygon([(0, 0), (0, 255), (255, 255), (255, 0)], fill = (255,255,255,255))

transparence = 100 # Define transparency for the triangle.
draw2.polygon([(1,1), (20, 100), (100,20)], fill = (200, 0, 0, transparence))

img = Image.alpha_composite(img1, img2)
img.save("my_pic.png", 'PNG')
<END>
<QUE>
Sending email from a Django app hosted on Heroku with attachment stored in AWS S3
<ANS>
message = EmailMessage(subject, body, from_email, bcc=recipient_list)
message.attach(FILENAME, mymodel.myfilefield.read())
<END>
<QUE>
Converting an NFO to PNG with Python and PIL
<ANS>
import codecs
nfoText = codecs.open('something.nfo', 'r', 'cp437').read()
<END>
<QUE>
Using flask-admin with flask blueprints
<ANS>
from app import admin
<END>
<QUE>
Spawn a subprocess in foreground, even after python exits
<ANS>
import resolve_ip
import os
host = resolve_ip.get_host_to_use() # you figure this part out
os.execlp('ssh', 'ssh', host)
<END>
<QUE>
How to query parent entity from child entity in Google App Engine (Python) NDB/Datastore?
<ANS>
image_instance.key.parent().get()
<END>
<QUE>
Create a graph in a TKinter window?
<ANS>
import tempfile, os

from pyx import *
import Tkinter
import Image, ImageTk

# first we create some pyx graphics
c = canvas.canvas()
c.text(0, 0, "Hello, world!")
c.stroke(path.line(0, 0, 2, 0))

# now we use pipeGS (ghostscript) to create a bitmap graphics
fd, fname = tempfile.mkstemp()
f = os.fdopen(fd, "wb")
f.close()
c.pipeGS(fname, device="pngalpha", resolution=100)
# and load with PIL
i = Image.open(fname)
i.load()
# now we can already remove the temporary file
os.unlink(fname)

# finally we can use this image in Tkinter
root = Tkinter.Tk()
root.geometry('%dx%d' % (i.size[0],i.size[1]))
tkpi = ImageTk.PhotoImage(i)
label_image = Tkinter.Label(root, image=tkpi)
label_image.place(x=0,y=0,width=i.size[0],height=i.size[1])
root.mainloop()
<END>
<QUE>
How do I get the Application ID at runtime
<ANS>
app_identity.get_application_id()
<END>
<QUE>
Multiple print output, printing only one of them
<ANS>
score, rid, title, artist = results[0]
<END>
<QUE>
Extracting a changeable string from a list and insertion in Python
<ANS>
lst = ['2    19   2839475239874 hda']

# Extracting the device part
dev = filter(lambda s: s[0] is 'h', lst[0].split())[0]

# Inserting it
cmd = 'dd if=/dev/zero of=/dev/{0} bs=512 count=1'.format(dev)
<END>
<QUE>
How to use regex search to search a variable value
<ANS>
#!/usr/bin/env python
# -*- coding: utf-8 -*-

import re
var = '\[1984\]'
with open("test.log")  as fp: # assuming your log file is test.log
    lines = fp.readlines()
    for line in lines:
        line = line.strip()
        if re.match(r'.*'+str(var)+'.*',line): # may be you want to add some more strict matching rules here.
            print line

# vim:ai:et:sts=4:sw=4:
<END>
<QUE>
Turning columns into lists from csv with Python
<ANS>
col0 = []
col1 = []
col2 = []
col3 = []
col4 = []

f = open('cdc_data.tsv', 'r')
contents = f.read()
lines = contents.split('
')    # split file into seperate lines
for line in lines:
    if (line[0:1] == '#'):   # filter out comments
       continue

    split_line = line.split('\t')   # split line into seperate words seperated by TAB

    if (len(split_line) < 5): # drop any line that isn't 5 columns
       continue

    # assign each column into a separate list
    col0.append(split_line[0])
    col1.append(split_line[1])
    col2.append(split_line[2])
    col3.append(split_line[3])
    col4.append(split_line[4])
<END>
<QUE>
Django Python noob - how do I get the NUMBER out of a Aggregate sum?
<ANS>
tot=PurchaseOrderLine.objects.aggregate(total=Sum('price'))['total'] 
return HttpResponse(tot)
<END>
<QUE>
Finding the mean of nodes in an undirected graph
<ANS>
total = 0.0
count = 0.0
for s in G:        
    G1=ShortestPaths(G,s)
    total += sum([G1[s] for s in G1])
    count += (len(G1)-1)
return float(total / count) if count else None
<END>
<QUE>
Using cursor.execute arguments in pymssql with IN sql statement
<ANS>
ids = range(1,10)
placeholders = ','.join('%s' for i in ids)
req = "SELECT * FROM t1 where id in ({})".format(placeholders)
cursor.execute(req, ids)
res = cursor.fetchall()
<END>
<QUE>
PyQt5 QPushbutton with additional parameters
<ANS>
self.ui.btn_lief.clicked.connect(self.addTab(lambda: Lieferschein(),'Lieferschein'))
<END>
<QUE>
Check if list contains only item x
<ANS>
A=[w,y,x,z]
all(p == x for p in A)
<END>
<QUE>
Parse JSON in Python
<ANS>
import json
j = json.loads('{"one" : "1", "two" : "2", "three" : "3"}')
print j['two']
<END>
<QUE>
Python to extract data from a file
<ANS>
inFile = open("data.txt")
outFile = open("result.txt", "w")
buffer = []
keepCurrentSet = True
for line in inFile:
    buffer.append(line)
    if line.startswith("----"):
        #---- starts a new data set
        if keepCurrentSet:
            outFile.write("".join(buffer))
        #now reset our state
        keepCurrentSet = False
        buffer = []
    elif line.startswith("extractme"):
        keepCurrentSet = True
inFile.close()
outFile.close()
<END>
<QUE>
Caller identification in Autobahn | Python
<ANS>
from autobahn.wamp.types import CallOptions

options = CallOptions(on_progress=None, timeout=120, disclose_me=True)
res = session.call(u'com.example.function', server_events, options=options)
<END>
<QUE>
Django/Python : Need to Pass integer variables from the Django view to a template
<ANS>
html = t.render(Context({'matrix': matrix, 'passcount': passcount, 'count': count}))
<END>
<QUE>
Specifying custom fields for contacts in Google Contacts API v3
<ANS>
import gdata.contacts.data

new_contact = gdata.contacts.data.ContactEntry()

# Set the contact's name.
new_contact.name = gdata.data.Name(
    given_name=gdata.data.GivenName(text='Elizabeth'),
    family_name=gdata.data.FamilyName(text='Bennet'),
    full_name=gdata.data.FullName(text='Elizabeth Bennet')
)

# Set user defined fields
new_contact.user_defined_field.append(
    gdata.contacts.data.UserDefinedField(
        key='Field Name',
        value='Field Value'
    )
)
<END>
<QUE>
Efficient way to get index of minimum value in long vector, python
<ANS>
import numpy
nplats = numpy.array(lats)
nplons = numpy.array(lons)

# this part is 20x faster than using the built-in python functions
index = numpy.argmin(nplats)

print nplats[index], nplons[index]
<END>
<QUE>
AppEngine/Python NDB key order
<ANS>
def __gt__(self, other):
    """Greater than ordering."""
    if not isinstance(other, Key):
      return NotImplemented
    return self.__tuple() > other.__tuple()

def __tuple(self):
    """Helper to return an orderable tuple."""
    return (self.app(), self.namespace(), self.pairs())
<END>
<QUE>
Contour plot in square points
<ANS>
# level, time and conc are previously read from a file

X,Y=[level,time]   
Z=conc.transpose() # Create the data to be plotted

cax = matshow(Z, origin='lower', vmin=0, vmax=500)
    # I am telling all the Z values above 500 will have the same color
    # in the plot (if vmin or vmax are not given, they are taken from
    # the input???s minimum and maximum value respectively)
grid(True)
cbar = colorbar(cax)
<END>
<QUE>
Iterating all items inside QListView using python
<ANS>
model = self.listView.model()
for index in range(model.rowCount()):
    item = model.item(index)
    if item.isCheckable() and item.checkState() == QtCore.Qt.Unchecked:
        item.setCheckState(QtCore.Qt.Checked)
<END>
<QUE>
How to update the existing json file with json data python
<ANS>
with open(os.path.abspath(os.path.join(os.path.dirname(__file__),'static', 'result', file_name + '_issues.json')), 'r+') as nInfo:
  count = 0
  for data in file_data:
      count += 1
      if count == 1:
        nInfo.seek(-2, 2)
      if file_data.index(data) != len(file_data):
        nInfo.write(',')
      nInfo.write(json.dumps(data, default=lambda a: '[%s,%s]'(str(type(a)), a.pk)))
  nInfo.write(']')
  nInfo.write(' ')
<END>
<QUE>
pyglet fails to draw to window on a second display
<ANS>
window.set_fullscreen(fullscreen=True,screen=experiment_screen)
<END>
<QUE>
python regex to replace all windows newlines with spaces
<ANS>
htmlspaced = re.sub(r"\r
", " ", html)
<END>
<QUE>
Testing time sensitive applications in Python
<ANS>
def is_expired(self, check_date=None):
    _check_date = check_date or datetime.utcnow()
    return self.create_date + timedelta(days=15) < _check_date
<END>
<QUE>
How to get method signatures of Qt object from Squish test script?
<ANS>
widget = waitForObject(':Test Widget')

metaObject = widget.metaObject();
methodCount =  metaObject.methodCount()

for x in range(0, methodCount):
    method = metaObject.method(x)
    test.log(method.signature())
<END>
<QUE>
Pass empty/noop function/lambda as default argument
<ANS>
def execute(func=None, *args, **kwargs):
    if func:
        func(*args, **kwargs)
<END>
<QUE>
Getting list of sub directories inside a given directory
<ANS>
import os
import subprocess
from xml.sax.saxutils import quoteattr as xml_quoteattr

def DirAsLessXML(path):

    result = '<dir type ={0} name={1} path={2}>
'.format(xml_quoteattr('dir'),xml_quoteattr(os.path.basename(path)),xml_quoteattr(path))

    list = subprocess.Popen(['find', path,'-maxdepth', '1', '-type', 'd'],stdout=subprocess.PIPE, shell=False).communicate()[0]

    output_list = list.splitlines()
    if len(output_list) == 1:
        result = '<dir type ={0} name={1} path={2}>
'.format(xml_quoteattr('leaf_dir'),xml_quoteattr(os.path.basename(path)),xml_quoteattr(path))

    for item in output_list[1:]:
        result += '
'.join('  ' + line for line in DirAsLessXML(item).split('
'))
    result += '</dir>
'
    return result
<END>
<QUE>
linecache.getline and how to loop to the next line
<ANS>
i = 1

file.write('' + linecache.getline('support_files/sub_page_top_links.txt', i) + '')
i += 1
<END>
<QUE>
Blender bpy: Retreive object rotation as quaternion without modifying scene
<ANS>
rot_output = object.rotation_euler.to_quaternion()
<END>
<QUE>
How can I check if a string starts with two different strings?
<ANS>
def derivatesFromAnglicism(word):
        return any([word.startswith('ge'+a) for a in listOfAnglicisms])
<END>
<QUE>
Using a Loop to print copies, Python
<ANS>
import sys, glob, win32api, os

pdfLoc = sys.argv[1]
try:
    copies = int(sys.argv[2])
except:
    copies = 1

for pdfname in glob.glob(os.path.join(pdfLoc, "*.pdf")):
    fullpath = os.path.join(pdfLoc, pdfname)
    for copy in range(copies):
        win32api.ShellExecute(0, "print", pdfname, None, ".", 0)
<END>
<QUE>
Python Append JSON list within for loop
<ANS>
data = json.dumps([columns for key, columns in crime.get_range()])
<END>
<QUE>
How to get data from a list Json with python?
<ANS>
json_data = [] # your list with json objects (dicts)

for item in json_data:
    for data_item in item['data']:
        print data_item['name'], data_item['value']
<END>
<QUE>
Python : How to format large number without comma
<ANS>
print "number : {0:.0f}".format(b)
<END>
<QUE>
extrapolating data with numpy/python
<ANS>
import numpy as np
from scipy.optimize import curve_fit
import matplotlib.pyplot as plt

def exponential_fit(x, a, b, c):
    return a*np.exp(-b*x) + c

if __name__ == "__main__":
    x = np.array([0, 1, 2, 3, 4, 5])
    y = np.array([30, 50, 80, 160, 300, 580])
    fitting_parameters, covariance = curve_fit(exponential_fit, x, y)
    a, b, c = fitting_parameters

    next_x = 6
    next_y = exponential_fit(next_x, a, b, c)

    plt.plot(y)
    plt.plot(np.append(y, next_y), 'ro')
    plt.show()
<END>
<QUE>
How to make a new array in numpy, with elements chosen from one array based on another?
<ANS>
C = A[B]
<END>
<QUE>
Python Numpy - Complex Numbers - Is there a function for Polar to Rectangular conversion?
<ANS>
def P2R(radii, angles):
    return radii * exp(1j*angles)

def R2P(x):
    return abs(x), angle(x)
<END>
<QUE>
inserting data into MYSQL database using python
<ANS>
"INSERT INTO md_patentinfo (patentno, filed) VALUES ('%s',STR_TO_DATE('%s','%%M %%d,%%Y'))" % ('123','Apr 14,2012')
<END>
<QUE>
URL with Ukrainian characters giving UnicodeEncodeError
<ANS>
# Python 3
import urllib.parse
url = 'http://www.lingvo.ua' + urllib.parse.quote('/uk/Interpret/uk-ru/?????')

# Python 2
import urllib
url = 'http://www.lingvo.ua' + urllib.quote(u'/uk/Interpret/uk-ru/?????'.encode('UTF-8'))
<END>
<QUE>
Django Model Field Uniqueness Validation
<ANS>
class Meta:
    unique_together = ('id', 'password', 'device_id')
<END>
<QUE>
How do I declare a global variable in python?
<ANS>
#!/usr/bin/python

def travel():
    travel.totrate=0
    def guide():
        print"Due to prefer a guide??"
        print"a guide inperson...rate=1000"
        print"maps,3g....rate=2000"
        ch6=raw_input("ENter your choice")
        if(ch6=="person") or (ch6=="PERSON"):
            increment = 1000
        elif(ch6=="gadget" or ch6=="GADGET"):
            increment = 2000
        else:
            print "invalid"
        travel.totrate += increment
        print travel.totrate

    guide()
travel()
<END>
<QUE>
Python using 'OR with Regex
<ANS>
answer = bool(re.findall('(?:[A-Z]|[1-9])[^A-Z]',cad))
<END>
<QUE>
Digital clock in status bar in python 3 and tkinter
<ANS>
import sys    
from tkinter import *
import time

def tick():
    global time1
    # get the current local time from the PC
    time2 = time.strftime('%H:%M:%S')
    # if time string has changed, update it
    if time2 != time1:
        time1 = time2
        clock.config(text=time2)
        # calls itself every 200 milliseconds
        # to update the time display as needed
        # could use >200 ms, but display gets jerky
    clock.after(200, tick)

root = Tk()
time1 = ''

status = Label(root, text="v1.0", bd=1, relief=SUNKEN, anchor=W)
status.grid(row=0, column=0)

clock = Label(root, font=('times', 20, 'bold'), bg='green')
clock.grid(row=0, column=1) 

tick()
root.mainloop()
<END>
<QUE>
How to create a data frame for each group in the pandas.groupby function?
<ANS>
d = {}
for name, group in data.groupby('hour'):
    d['group_' + str(name)] = group
<END>
<QUE>
Facebook app on app engine showing as blank page on canvas iframe
<ANS>
if u'signed_request' in self.request.POST:
    facebook.load_signed_request(self.request.get('signed_request'))
<END>
<QUE>
Opening and Printing files using Recursion in python
<ANS>
def search(doc):
    print "Visiting", doc
    f = open(doc, 'r')
    for line in f:
        if line.strip():
            search(line.strip())
<END>
<QUE>
CherryPy redirect to root
<ANS>
raise cherrypy.HTTPRedirect("/auth/login")
<END>
<QUE>
concat string within ffmpeg subprocess check_call
<ANS>
q = "D\:/imagesequence/thumbnail.jpg"
task = "movie= '%s'[watermark]; [in][watermark] overlay=(main_w-overlay_w)/2:(main_h-overlay_h)/3 [out]" % q

c = subprocess.check_call(["ffmpeg", "-i", "D:/imagesequence/background222.jpg", "-vf", task, "D:/imagesequence/fwtm106.jpg"],shell=True)
<END>
<QUE>
Save raw_post_data to FileField using Django
<ANS>
if request.method == 'POST':
    from django.core.files.uploadedfile import SimpleUploadedFile
    object = Model.objects.get(pk=1)
    file_contents = SimpleUploadedFile("%s.mp3" % "myfile", request.raw_post_data, "audio/mp3")
    object.audio.save("%s.mp3" % "myfile", upfile, True)
<END>
<QUE>
Format an array of tuples in a nice "table"
<ANS>
columns = dict()
columnsTitles = []
rows = dict()
colIdxCounter = 1 # Start with 1 because the first col are ids 
rowIdxCounter = 1 # Start with 1 because the columns titles

for i in dataset:
    if not rows.has_key(i[0]):
        rows[i[0]] = rowIdxCounter
        rowIdxCounter += 1
    if not columns.has_key(i[1]):
        columns[i[1]] = colIdxCounter
        colIdxCounter += 1
        columnsTitles.append(i[1])

toRet = [columnsTitles]
for i in range(len(rows)):
    toAppend = []
    for j in range(colIdxCounter):
        toAppend.append("")
    toRet.append(toAppend)

for i in dataset:
    toRet[rows[i[0]]][columns[i[1]]] = i[2]

for i in toRet:
    print i
<END>
<QUE>
how to decode variable names in the HTML code of python
<ANS>
"""
your HTML stuff here
""" % (hostname, change, pwd, changeref, changeref)
<END>
<QUE>
Slice a message from python string
<ANS>
re.search(r"message\s+=\s+'([^']*)'",text_string,re.M).group(1)
<END>
<QUE>
Django : Filter ModelChoiceField options based on logged user objects
<ANS>
truck = forms.ModelChoiceField(
    label='Trucks',
    empty_label=None,  # No empty label
    required=False,
)
<END>
<QUE>
"invalid literal for int() with base 10:'username'"
<ANS>
person = UserProfile.objects.get(user__username=username)
<END>
<QUE>
How to check issubset for the whole words separated by commas?
<ANS>
name = frozenset(string1.split(','))

if name.issubset(string.split(',')):
    print 'yes'
else:
    print 'no'
<END>
<QUE>
How to use to event handlers in one? Python
<ANS>
if event.type == pygame.KEYDOWN:
    if event.key == pygame.K_2:
        highlight = pygame.image.load('Highlightmenu.png')
        highlight = pygame.transform.scale(highlight, (270, 110))
        window.blit(highlight,(316, 300))
        pygame.display.flip()
        title()
    elif event.key == pygame.K_e:
        playerNames()
        print("Loading the player names menu...")
<END>
<QUE>
How do I include a PHP script in Python?
<ANS>
import subprocess

def php(script_path):
    p = subprocess.Popen(['php', script_path], stdout=subprocess.PIPE)
    result = p.communicate()[0]
    return result

# YOUR CODE BELOW:
page_html = "<h1>News and Updates</h1>"
news_script_output = php("news-generator.php") 
print page_html + news_script_output
<END>
<QUE>
Implementing ensureIndex() to delete duplicate documents with pymongo
<ANS>
db.collection.ensure_index([("x" , pymongo.ASCENDING), ("unique" , True), ("dropDups" , True)])
<END>
<QUE>
How can I get to know if a running is finished in python syder environment?
<ANS>
print "FINISHED"
<END>
<QUE>
How to check if all data are received with a TCP Socket in Python
<ANS>
socket.recv()
<END>
<QUE>
Individual alpha values in scatter plot / Matplotlib
<ANS>
x = np.arange(10)
y = np.arange(10)

alphas = np.linspace(0.1, 1, 10)
rgba_colors = np.zeros((10,4))
# for red the first column needs to be one
rgba_colors[:,0] = 1.0
# the fourth column needs to be your alphas
rgba_colors[:, 3] = alphas

plt.scatter(x, y, color=rgba_colors)
<END>
<QUE>
Django: Filtering datetime field by *only* the year value?
<ANS>
date_list = Note.objects.all().dates('created', 'year')

for years in date_list:
    Note.objects.filter(created__year = years.year)
<END>
<QUE>
python print command output is held back when taking a break from ncurses
<ANS>
import sys
sys.stdout.flush()
<END>
<QUE>
Arranging columns after rearranging indentation in Python
<ANS>
pdb_data = []
for line in open('input.txt'):
    line = line.split()
    if len(line)<8:
        pre = line[0:2]
        post = line[3:]
        col3 = line[2][:-4]
        col4 = line[2][-4:]
        new_line = pre+[col3,col4]+post
        pdb_data.append(new_line)
    else:
        pdb_data.append(line)
<END>
<QUE>
how to obtain the index of non zero element for each column in numpy?
<ANS>
[np.flatnonzero(row) for row in coefs1.T]
<END>
<QUE>
Occurence of characters in common in two strings
<ANS>
count = 0

for letter in set(string1):
  count += string2.count(letter)

print(count)
<END>
<QUE>
MRJob :- Display intermediate values in map reduce
<ANS>
from mrjob.job import MRJob
import sys
class MRWordCounter(MRJob):
    def mapper(self, key, line):
        sys.stderr.write("MAPPER INPUT: ({0},{1})
".format(key,line))
        for word in line.split():
            yield word, 1

    def reducer(self, word, occurrences):
        occurencesList= list(occurrences)
        sys.stderr.write("REDUCER INPUT: ({0},{1})
".format(word,occurencesList))
        yield word, sum(occurencesList)

if __name__ == '__main__':
    MRWordCounter.run()
<END>
<QUE>
Extracting conditonal values from json file
<ANS>
import json
def my_main(ifile_name, ofile_name):
  ifile = open(ifile_name, 'r')
  ofile = open(ofile_name, "w")
  json_decode=json.load(ifile)
  result = []
  for i in json_decode['Culture']['Movies']:
      for k in json_decode['Culture']['Movies'][i]:
          if json_decode['Culture']['Movies'][i][k]['Oscars'] == 0  and  json_decode['Culture']['Movies'][i][k]['Genre'] == "Comedy":
            data = json_decode['Culture']['Movies'][i][k]['Actors']
            print data
            result.append(data)

for j in result:
    ofile.write(str(j)+str('
'))

my_main('movies.json','o.txt')
<END>
<QUE>
get_template_attribute() - how to inject template globals
<ANS>
app.jinja_env.globals.update(global_key1=global_value1,
                             global_key2=global_value2,
                             global_key3=global_value3)
<END>
<QUE>
Call procedure registered in javascript from python server Autobahn, Wamp
<ANS>
com.myapp.add2client
<END>
<QUE>
CRC32 of binary string/binary data in python
<ANS>
import binascii
data = '0110100001100101011011000110110001101111' # 'hello' encoded in UTF-8
int_arr = [int(data[i:i+8], 2) for i in range(0, len(data), 8)] # split the data into 8-bit chunks
print(hex(binascii.crc32(bytes(int_arr))))

# output = 0x3610a686
<END>
<QUE>
how to assign a list of values to a python netcdf4 variable object?
<ANS>
netdata.variables['x_data'][:]=newlist[:]
<END>
<QUE>
Drag and drop with modifiers in wxpython
<ANS>
def OnDropFiles(self, x, y, filenames):
    mouse = wx.GetMouseState()
    if mouse.CmdDown():
        self.frame.paths += filenames
    else:
        self.frame.paths = filenames
    self.frame.draw_figure()
<END>
<QUE>
How can i sort this dict per datetime?
<ANS>
sorted(d.values(), key=lambda item: item["l"]["created_on"])
<END>
<QUE>
Python & Pandas: How to do conditional calculation
<ANS>
df['degree'] = df['degree'].apply(lambda x: x + 360 if x < 0 else x)
<END>
<QUE>
Python - the fastest, most efficient, simplest way to get consonants
<ANS>
consonants = 'bcdfghjklmnpqrstvwxyz'
<END>
<QUE>
how to use sqlalchemy for sql?
<ANS>
for model, category in self.current_session.query(Model, Category).join(Category).distinct():
    print model.category_id, category.name
<END>
<QUE>
How can I get the (x,y) values of the line that is ploted by a contour plot (matplotlib)?
<ANS>
cs.collections[0].get_paths()
<END>
<QUE>
Python how to read last three lines of a .txt file, and put those items into a list?
<ANS>
with open('list.txt') as f:
    lines = f.readlines()
line_list = lines[-3:]
<END>
<QUE>
How do I download a website using python 3?
<ANS>
from urllib.request import urlopen
html = urlopen("http://www.stackoverflow.com/").read().decode('utf-8')
print(html)
<END>
<QUE>
Parsing XML file using parseString from xml.dom.minidom has poor efficiency?
<ANS>
lxml.iterparse
<END>
<QUE>
With the Python httplib "HTTPConnection" object, how do you send a header without a value?
<ANS>
subprocess.call(['curl', '-i', '-H', '"emptyheader"', '"http://somewhere:5000/somewhere"'])
<END>
<QUE>
How to protect objects from deletion in Django?
<ANS>
delete()
<END>
<QUE>
Python-Scrypt doesn't install on Windows 7 64-bit
<ANS>
stdint.h
<END>
<QUE>
Is there any non- scipy code out there that will create smooth interpolations of a 2d dataset?
<ANS>
splmake/spleval
<END>
<QUE>
Prompt on exit in PyQt application
<ANS>
def closeEvent(self, event):

    quit_msg = "Are you sure you want to exit the program?"
    reply = QtGui.QMessageBox.question(self, 'Message', 
                     quit_msg, QtGui.QMessageBox.Yes, QtGui.QMessageBox.No)

    if reply == QtGui.QMessageBox.Yes:
        event.accept()
    else:
        event.ignore()
<END>
<QUE>
Using a loop to compare strings in Python
<ANS>
NAME_LIST = 4

first_name = ""
last_name  = ""

for nameCount in range(NAME_LIST):
    name = raw_input('Please enter a name: ').title()
    first_name = first_name or name
    first_name = min(first_name, name)
    last_name  = max(last_name, name)

print("First: %s" % first_name)
print("Last: %s" % last_name)
<END>
<QUE>
Perform Task Directly After Returning JSON
<ANS>
t = threading.Thread(target=some_function, args=[argument])
t.setDaemon(False)
t.start()
<END>
<QUE>
Trouble with requests' get in Python
<ANS>
urls = []
with open('filename.csv', 'rb') as f:
    read = f.readlines()
    urls = [row.split(",")[34] for row in read[1:]]
<END>
<QUE>
Store values of levels in contour plot
<ANS>
CS = pl.contour(x1,y1,kde)
levels = CS.levels
<END>
<QUE>
Conditionally Showing All or Some Fields from Single TastyPie Resource
<ANS>
class EmployeeResource(ModelResource):
    def dehydrate(self, bundle):
        t = bundle.request.GET.get('t')
        if t:
            bundle.data['custom_field'] = bundle.obj.custom_field
        return bundle

    class Meta:
        fields = common_fields
<END>
<QUE>
Python Parse Minecraft Packet
<ANS>
packfmt = '>issiibBB'
output=struct.unpack(packfmt,response)
<END>
<QUE>
Getting the first elements per row in an array in Python?
<ANS>
t = tuple(x[0] for x in s)
<END>
<QUE>
Indexing a global dictionary from within a function
<ANS>
def login():    
    with requests.Session() as c:

        c.get(page['login'])

        login_data = dict(email = USERNAME, password = PASSWORD, submit = 'Login', cookie = 'yes')
        c.post(url, data = login_data, headers = {'Referer': page['index']})
        # this is the offending line
        page_ret = c.get(page['portfolio'])

        print page_ret.content
<END>
<QUE>
Best Way to add group totals to a dataframe in Pandas
<ANS>
df['TotalCount'] = df.groupby('Group')['Count'].transform(sum)
<END>
<QUE>
GAE Simple Searching + Autocomplete
<ANS>
import unicodedata
import re

splitter = re.compile(r'[\s|\-|\)|\(|/]+')

def remove_accents(text):
    nkfd_form = unicodedata.normalize('NFKD', unicode(text))
    return u"".join([c for c in nkfd_form if not unicodedata.combining(c)])

def get_words(text):    
    return [s.lower() for s in splitter.split(remove_accents(text)) if s!= '']

def get_unique_words(text):
    word_set = set(get_words(text))
    return word_set

def get_starts(text):
    word_set = get_unique_words(text)
    starts = set()
    for word in word_set:
        for i in range(len(word)):
            starts.add(word[:i+1])
    return sorted(starts)
<END>
<QUE>
How can I concatenate a string and a number in Python?
<ANS>
"asd%d" % 9
"asd" + str(9)
<END>
<QUE>
How do I get the whole text of an element using ElementTree?
<ANS>
def element_to_string(element):
    s = element.text or ""
    for sub_element in element:
        s += etree.tostring(sub_element)
    s += element.tail
    return s
<END>
<QUE>
How to get cookies as a string
<ANS>
print dict(r.cookies) # show all cookies received. OR
print requests.utils.dict_from_cookiejar(r.cookies) # same as above

print r.cookies['x'] # to get cookie x
<END>
<QUE>
How to access inner dictionary items of a dictionary in Python
<ANS>
mydic['q4a1_0']['choices']
<END>
<QUE>
Tango With Django: User Authentication - User being saved but not receiving confirmation
<ANS>
profile = profile_form.save(commit=False)
<END>
<QUE>
How do I make a trailing slash optional with webapp2?
<ANS>
from webapp2_extras.routes import RedirectRoute

route = RedirectRoute('/feed', handler=feed, strict_slash=True)
<END>
<QUE>
Simplest way to read Parquet file into Pandas DataFrame
<ANS>
pd.read_csv
<END>
<QUE>
Python 3 xmlrpc for remote objects
<ANS>
s = xmlrpc.client.ServerProxy('http://localhost:8000')
<END>
<QUE>
Executing shell program in Python without printing to screen
<ANS>
p = subprocess.Popen(command, shell=True, stdin=subprocess.PIPE, stderr=subprocess.STDOUT, stdout=subprocess.PIPE, close_fds=True)
out,err = p.communicate()
<END>
<QUE>
Variable defined in while loop cannot be defined
<ANS>
h = 0
phase = 0
while True:
    try:
        h = int(raw_input("Please Enter your altitude in metres > "))
        if h > 0 and h < 11000:
            phase = 'Troposphere'
            break
    except ValueError:
            print 'Your entered value contained letters or punctuation. Please enter a numerical value.'
<END>
<QUE>
How to change list position in a loop
<ANS>
url = 'http://www.nasa.gov/rss/dyn/lg_image_of_the_day.rss'
describe_text = urlopen(url).read()
description = findall('<description>(.+)</description>',describe_text)
global myVariable
myVariable = 1
x = description[myVariable]


#Button Functions
def next_button_description():
   global myVariable
   myVariable = myVariable + 1
   x = description[myVariable]
   return x
<END>
<QUE>
SDL/Pygame failing to load PNG images with cx_Freeze
<ANS>
try:
   import SDL_image
   print "Loaded SDL_image"
except:
   print "Failed to import SDL_image"

try:
   import libpng
   print "Loaded libpng"
except:
   print "Failed to import libpng"
<END>
<QUE>
Manipulate pieces of data in an html fragment in python
<ANS>
from bs4 import BeautifulSoup
soup = BeautifulSoup(body)
for div in soup.find_all(class_='highlight-nginx'):
    div.pre.string = my_function(div.pre.string)
<END>
<QUE>
Run a function every X minutes - Python
<ANS>
def my_timer(*args):
    return True# do ur work here, but not for long

gtk.timeout_add(60*1000, my_timer) # call every min
<END>
<QUE>
Finding urls containing a specific string
<ANS>
from BeautifulSoup import BeautifulSoup
soup = BeautifulSoup(html_string)
# To find just 'Uge##' or 'uge##', as specified in the question:
urls = [el["href"] for el in soup.findAll("a", href=re.compile("[Uu]ge\d+"))]
# To find without regard to case at all:
urls = [el["href"] for el in soup.findAll("a", href=re.compile("(?i)uge\d+"))]
<END>
<QUE>
How can I detect Heroku's environment?
<ANS>
on_heroku = False
if 'YOUR_ENV_VAR' in os.environ:
  on_heroku = True
<END>
<QUE>
I'd like to call the Windows C++ function WinHttpGetProxyForUrl from Python - can this be done?
<ANS>
import ctypes

winHttp = ctypes.windll.LoadLibrary("Winhttp.dll")

WINHTTP_ACCESS_TYPE_DEFAULT_PROXY=0
WINHTTP_NO_PROXY_NAME=WINHTTP_NO_PROXY_BYPASS=0
WINHTTP_FLAG_ASYNC=0x10000000
# http://msdn.microsoft.com/en-us/library/aa384098(VS.85).aspx
HINTERNET = winHttp.WinHttpOpen("PyWin32", WINHTTP_ACCESS_TYPE_DEFAULT_PROXY, WINHTTP_NO_PROXY_NAME, WINHTTP_NO_PROXY_BYPASS, WINHTTP_FLAG_ASYNC)

print HINTERNET
<END>
<QUE>
SOLVED: Double conditional filtering of many csv files in python
<ANS>
import glob,csv
files = glob.glob("*.txt")
fo = open("combined.csv","a")
writer = csv.writer(fo,delimiter=' ')

datum = {}

for f in files:
    with open(f) as fi:
        for row in csv.reader(fi,delimiter=' '):
            crow = row[0],row[4]
            if crow in datum:
                if float(datum[crow][-4]) < float(row[3]):
                    datum[crow] = row[0:]
            else:
                datum[crow] = row[0:]
<END>
<QUE>
Tuples of list and string
<ANS>
day_dictionary={'mon':0,'tues':0,'wed':0,'thurs':0,'fri':0,'sat':0,'sun':0}
for i in random_day_list:
     for position, day in enumerate(i):
         if day in day_dictionary:
             day_dictionary[day] += (6 - position)
<END>
<QUE>
How do I find which monitor the mouse pointer is in with python?
<ANS>
from Xlib import display
data = display.Display().screen().root.query_pointer()._data
locationtuple = (data["root_x"], data["root_y"])
<END>
<QUE>
Trying to collect data from local files using BeautifulSoup
<ANS>
if path.endswith(".html"):
    htmlfile = open(dirpath)
    for link in BeautifulSoup(htmlfile,parse_only=SoupStrainer(target="_blank")):
        print link
<END>
<QUE>
How to prevent fabric form waiting for the process to return
<ANS>
sudo("python test.py  2>/dev/null >/dev/null &")
<END>
<QUE>
Printing a variable and appending it with a line from a file in a loop
<ANS>
for line in path:
    print str(host) + str(line)
<END>
<QUE>
Python Pandas: DataFrame filter negative values
<ANS>
for cols in data.columns.tolist()[1:]:
    data = data.ix[data[cols] > 0]
<END>
<QUE>
Initialize django model capturing a derivative attribute from that moment
<ANS>
def __init__(self, *args, **kwargs):
    super(YourModel, self).__init__(*args, **kwargs)
    self.impact = self.user.get_profile().someIntField
<END>
<QUE>
How to select a directory and store the location using tkinter in Python
<ANS>
tkFileDialog.askdirectory
<END>
<QUE>
Organising and sorting data from a text file
<ANS>
with open("names.txt") as f:
    # splitlines of the content
    content = f.read().splitlines()
    for line in content:
        # split at spaces
        splittedLine = line.split(" ")

        # get the first element which is the name
        name = splittedLine[0]

        # get the all the elements except the first
        scores = splittedLine[1:]

        # get the last element of the sorted list which is the highscore
        highscore = sorted(scores)[-1]
        print("{} : {}".format(name, highscore))
<END>
<QUE>
Reformat CSV file in python for spreadsheet
<ANS>
import csv
DELIMITER = ','

with open('data.csv', 'wb') as csvfile:
    writer = csv.writer(csvfile, delimiter=DELIMITER)
    row = [None, None]
    with open('input_data.txt', 'rt') as textfile:
        for line in (line.strip() for line in textfile):
            if line.endswith('(i)'):
                row[0] = line
                writer.writerow(row)
            else:
                row[1] = line
<END>
<QUE>
How would I make my movebal square change colors by clicking another square on my canvas?
<ANS>
from tkinter import*



def onKeyDown(event):
    if(event.keysym == "Up"):
        canvas.move(rect, 0, -2)
    if(event.keysym == "Down"):
        canvas.move(rect, 0, 2)
    if(event.keysym == "Left"):
        canvas.move(rect, -2, 0)
    if(event.keysym == "Right"):
        canvas.move(rect, 2, 0)


def onClick1(event):
    canvas.itemconfigure(rect, fill="red");
def onClick2(event):
    canvas.itemconfigure(rect, fill="green");
def onClick3(event):
    canvas.itemconfigure(rect, fill="blue")




master = Tk()
canvas = Canvas(master, width=600, height=600)
canvas.pack()
rect = canvas.create_rectangle(250,250,350,350, fill="red")
canvas.update()

rrect = canvas.create_rectangle(0,0,30,30, fill="red")
grect = canvas.create_rectangle(33,0,60,30, fill="green")
brect = canvas.create_rectangle(63,0,90,30, fill="blue")

master.bind("<Key>", onKeyDown)

canvas.tag_bind(rrect,"<Button-1>", onClick1)
canvas.tag_bind(grect,"<Button-1>", onClick2)
canvas.tag_bind(brect,"<Button-1>", onClick3)
<END>
<QUE>
How could I search a tag that contain <sup> in a Python beautifulsoup find() call
<ANS>
soup.find(lambda tag: tag.name == 'b' and
          "Particulate Matter" in tag.text)
<END>
<QUE>
Python sorting, limiting the print of result
<ANS>
for p in paired_tweets[:100]:
    print p[1].encode('utf-8').strip()
<END>
<QUE>
How can I extend CKAN API?
<ANS>
import ckan.plugins as plugins
import ckan.plugins.toolkit as toolkit

# Required so that GET requests workr
@toolkit.side_effect_free
def get_news(context,data_dict=None):
  # The actual custom API method
  return {"hello":"world"}


class CustomAPIPlugin(plugins.SingletonPlugin):
  plugins.implements(plugins.interfaces.IActions)

  def get_actions(self):
    # Registers the custom API method defined above
    return {'get_news': get_news}
<END>
<QUE>
How to make values accessible across all test methods?
<ANS>
class Test(unittest.TestCase):
    Site_Home = None
    Profile_Home = None

    def redirectToFalconHostUI(self):
        #Start GOOGLE CHROME Browser
        self.browser = webdriver.Chrome(executable_path='E:\\chromedriver.exe')

        #Navigate to Website URL
        Test.Site_Home = Home(self.browser)
        Test.Site_Home.navigate()


    def testloginToWebsite(self):
        #Get Logged in the Falcon Web UI
        loginPage = Test.Site_Home.getLoginForm()
        loginPage.enter_email(SINGLE_LOGIN_USERNAME)
        loginPage.enter_password(SINGLE_LOGIN_PASSWORD)
        Test.Profile_Home = loginPage.get_logged_into_Site()

    def testProfilePageSection(self):
        Test.Profile_home.go_to_Section1()
<END>
<QUE>
Join in Django views
<ANS>
Model2.objects.filter(pk__in=Model1.objcts.values_list('post_id', flat=True)).values('p_slug')
<END>
<QUE>
Using Regex Plus Function in Python to Encode and Substitute
<ANS>
url_pattern.sub(getExpandedURL, text)
<END>
<QUE>
How to build a binary tree that if inserted succefully return True in python
<ANS>
return self.left.insert(data)
<END>
<QUE>
Is there a built-In function in python to count the number of 1's in a number?
<ANS>
str(number).count("1")
<END>
<QUE>
How to access to a key of a result of .value() queryset
<ANS>
p = RespuestaPreguntaSeleccionMultiple.objects.all().values('respuesta').annotate(Count('respuesta'))

for item in p:
    item['respuesta__count']  # This will return 2
    item['respuesta']  # This will return 'Una vez'
<END>
<QUE>
How to drop the separator when concatenating two csv files with pandas?
<ANS>
import csv
from collections import defaultdict

rows = defaultdict(list)

for csv in ['csv_one.csv', 'csv_two.csv', 'csv_three.csv']:
    with open(csv) as f:
        next(f) # skips the header row
        reader = csv.reader(f, delimiter=',')
        for row in reader:
            rows[row[0]].append(row[1:])

with open('out.csv', 'w') as f:
    writer = csv.writer(f, delimiter=',')
    for k,v in rows.iteritems():
         writer.writerow([k]+v)
<END>
<QUE>
How can I determine if one PGArray is included in another using SQLAlchemy sessions?
<ANS>
print sql.literal_column('ARRAY[2]').op('<@')(table.c.lineage)
# ARRAY[2] <@ "treeItems".lineage
<END>
<QUE>
Pymodbus adding float to server context register
<ANS>
register = 3
slave_id = 0x00
address  = 0x01

values   = context[slave_id].getValues(register, address, count=2)

# Two integers to a floating point
i1 = values[0]
i2 = values[1]
f = unpack('l',pack('<HH',i1,i2))[0]
f = f+1
# Floating point to two integers
i1, i2 = unpack('<HH',pack('l',f))
print(f,i1,i2)

context[slave_id].setValues(register, address, [i1,i2])
<END>
<QUE>
pandas timeseries use time relative to beginning
<ANS>
begin = pd.datetime(2013,1,5,5,53)
end = pd.datetime(2013,1,7,7,16)

rng = pd.DatetimeIndex(start=begin, end=end, freq=pd.datetools.Minute(15))
df = pd.DataFrame(np.random.randn(rng.size), index=rng)

fig, axs = plt.subplots(2,1, figsize=(15,6))
fig.subplots_adjust(hspace=.5)

df.plot(ax=axs[0])
axs[0].set_title('Original')

df.index = [idx - df.index[0] for idx in df.index]
df.plot(ax=axs[1])
axs[1].set_title('Normalized')
<END>
<QUE>
To check if it is URL in text and if yes then edit it with href tag Using Python
<ANS>
import re
input = "< p >This is a sample text. sydney.edu.au/ somthing else text.< /p >"
regex = "((?:https?://)?(?:www\.)?[a-zA-Z]+\.[a-z]+[^ ]*)"
re.sub(regex, '<a href=\\1>\\1</a>', input)
<END>
<QUE>
MySql connector dies in Python
<ANS>
query = "SELECT table1, table2, table3 FROM `db`-tables;"
self.clickcursor.execute(query)
results = self.clickcursor.fetchall()
for item in results:
  print(item)     #this is the strange line that I need!
  self.data.append(item)
self.clickcnx.close()
<END>
<QUE>
Python: How to select all other items in a for loop
<ANS>
def recursive(data):
   for i,j in enumerate(data):
      if condition:
         recursive(data[i:])
<END>
<QUE>
How to Redirect a Python Console output to a QTextBox
<ANS>
self.process = QProcess()
self.connect(self.process, SIGNAL("readyReadStdout()"), self.readOutput)
self.connect(self.process, SIGNAL("readyReadStderr()"), self.readErrors)
tarsourcepath="sudo tar xvpf "+ self.path1
self.process.setArguments(QStringList.split(" ",tarsourcepath))
self.process.start()



def readOutput(self):

    self.textBrowser2.append(QString(self.process.readStdout()))
    if self.process.isRunning()==False:
        self.textBrowser2.append("
 Completed Successfully")




def readErrors(self):
    self.textBrowser2.append("error: " + QString(self.process.readLineStderr()))
<END>
<QUE>
Replace pairs of characters at start of string with a single character
<ANS>
re.sub(r'^(-+)\1', r'\1', "------foo--bar")
<END>
<QUE>
Django: Get model fields recursively (ForeignKeys and it's fields) as strings into a 1 level list
<ANS>
def do_prefix(name, prefix):
    if prefix:
        return "%s.%s" % (prefix, name)
    return name

def get_fields_flat(model):
    return [name for name in iter_fields(model)]

def iter_fields(model, prefix=None):
    fields = model._meta.fields
    for field in fields:
        name = do_prefix(field.attname, prefix)
        yield  name
        if field.rel:
            rel = field.rel.to
            for f in iter_fields(rel, name):
                yield f
<END>
<QUE>
How to change validation error responses in DRF?
<ANS>
serializer.is_valid(raise_exception=True)
<END>
<QUE>
How to only store 3 values for a key in a dictionary? Python
<ANS>
d.setdefault(name,[]).append(scores)
if len(d[name])>3:
    del d[name][0]
<END>
<QUE>
Dealing with data from MySQL using Python
<ANS>
import pandas
cur = db.cursor()
nf = pandas.io.sql.read_frame("select * from tablename limit 50;", db)
<END>
<QUE>
Add minor gridlines to matplotlib plot using seaborn
<ANS>
import numpy as np
import matplotlib as mpl
import matplotlib.pyplot as plt
import seaborn as sbn

x = np.linspace(0, 2 * np.pi, 100)
y = np.sin(x)

fig, ax = plt.subplots(1, 1)

ax.scatter(x, y)
ax.get_xaxis().set_minor_locator(mpl.ticker.AutoMinorLocator())
ax.get_yaxis().set_minor_locator(mpl.ticker.AutoMinorLocator())
ax.grid(b=True, which='major', color='w', linewidth=1.0)
ax.grid(b=True, which='minor', color='w', linewidth=0.5)
<END>
<QUE>
Faster float to int conversion in Python
<ANS>
def floatToInt(x):
    return int((x+1.0) * (2**31))
<END>
<QUE>
getting around ints and floats with button initialisation for Tkinter calculator
<ANS>
from __future__ import division
<END>
<QUE>
Using Python how do I generate a random number within a range for each row in Pandas dataframe?
<ANS>
import numpy as np
df['Birth'] = np.random.randint(1905,1995, len(df))
<END>
<QUE>
giving unique values to string list
<ANS>
actors={}
total=[]

with open('ID_actor','r') as f1:
    for line in f1:
        id, name = line.split()
        actors[name] = int(id)

with open('the other file','r') as f2:
    input = f2.read()
    items = input.split('#')
    for i in range(len(items)):
        items[i] = str(actors.get(name,name))


with open('m.dat','w') as f3:
    f3.write( '#'.join(items) )
<END>
<QUE>
How can I check for a blank image in Qt or PyQt?
<ANS>
im = Image.open('image.png')
bands = im.split()
isBlank = all(band.getextrema() == (255, 255) for band in bands)
<END>
<QUE>
Can I ask pep8 in python to parse a string instead of a file?
<ANS>
import pep8

lines = """
def a:
    pass

def b:
   pass
"""

checker = pep8.Checker(
    lines=lines.strip().splitlines(),
    filename=None,
    show_source=True
)
result = checker.check_all()
<END>
<QUE>
How to properly write this query
<ANS>
from datetime import timedelta 

date = datetime.datetime.now() - datetime.timedelta(minutes=10)
docs = db.collection.find(
    {
        'processed': 0,
        '$or': [
            {'process_lock_date': {'$lt': date}},
            {'process_lock_date': null}
        ]
    }).sort({'date_added': 1}).limit(50)

for doc in docs:
    print(doc)
<END>
<QUE>
Pyqt - get CSV from model
<ANS>
for row in range(model.rowCount()):
    for col in range(model.columnCount()):
        value = model.index( row, col, QModelIndex() ).data( Qt.DisplayRole ).toString()
        #write v, add separator...
    #finish row...
<END>
<QUE>
How to delete directories starting with "tin" in Python?
<ANS>
import os
from glob import glob
from shutil import rmtree

path = os.getcwd()
pattern = os.path.join(path, "tin*")

for item in glob(pattern):
    if not os.path.isdir(item):
        continue
    rmtree(item)
<END>
<QUE>
map the dictionary and list of dictionary,finally update the list of dictionary after mapping
<ANS>
print [{key: value} for key, value in req_dict.iteritems()]
<END>
<QUE>
Random sample of paired lists in Python
<ANS>
x_sub, y_sub = zip(*random.sample(list(zip(x, y)), m))
<END>
<QUE>
python find elements using selenium.webdriver
<ANS>
browser.find_element_by_xpath("//div[@class='info_list']//input")
<END>
<QUE>
How do I import a missing module into a monkeyrunner script?
<ANS>
import sys
sys.path.append("/Library/Python/2.5/site-packages/simplejson-2.3.2-py2.5-macosx-10.7-x86_64.egg")
import simplejson
<END>
<QUE>
Peewee Connection pooling with postgresql 9.4 and JSON fields support
<ANS>
from playhouse.pool import PooledPostgresqlExtDatabase

db = PooledPostgresqlExtDatabase(
    'my_database',
    max_connections=8,
    stale_timeout=300,
    user='postgres')
<END>
<QUE>
How to expose a numpy array from c array in cython?
<ANS>
ret = np.asarray(pd_view)
<END>
<QUE>
proper way to align cell in python using openpyxl
<ANS>
from openpyxl.styles import Alignment
ws['B2'].alignment = Alignment(horizontal="justify")
<END>
<QUE>
How to convert datetime to timestamp Python
<ANS>
def time_difference(datetime_time):
    delta = datetime.now() - datetime_time
    return int(delta.total_seconds())
<END>
<QUE>
working with list of list using python
<ANS>
new = [s2 or s1 for s1, s2 in zip (stringList, stringList[1:])] # + last element
<END>
<QUE>
In Python edit Non Global Names
<ANS>
def Buttons():
    global button1
    button1=Rectangle(Point(1,1),Point(100,100))
    button1.setFill('gold')
    button.draw(keyPad)
<END>
<QUE>
What is the syntax for evaluating string matches on regular expressions?
<ANS>
import re  
if re.search(r'.*apps\.facebook\.com.*', stringName):
    print('Yay, it matches!')
<END>
<QUE>
Convert date to float for linear regression on Pandas data frame
<ANS>
df = pd.read_csv('test.csv')
df['date'] = pd.to_datetime(df['date'])    
df['date_delta'] = (df['date'] - df['date'].min())  / np.timedelta64(1,'D')
city_data = df[df['city'] == 'London']
result = sm.ols(formula = 'sales ~ date_delta', data = city_data).fit()
<END>
<QUE>
Compare different dicts for specific key value pair in python?
<ANS>
comm_one = {}

for key,value in dot_105.items():
    containing = [key in d and d[key]==value for d in (dot_110, dot_81, dot_82, dot_100)]
    if all(containing):
        comm_one[key] = value
    elif not any(containing):
        print(key, value,' is only in dot_105.')
<END>
<QUE>
Extracting all path from a multi-level dictionary
<ANS>
def walk(d, path):
    paths = []
    if len(d) == 0:
        return path
    for k, v in d.iteritems():
        child_path = path + k + '/'
        if isinstance(v, basestring):
            paths.append(child_path + v)
        else:
            paths.extend(walk(v, child_path))
    return paths
<END>
<QUE>
Extensible biased number generator - Python
<ANS>
import random
def biasedRandom(lo, hi, target, steps=1):
    if lo >= hi:
        raise ValueError("lo should be less than hi")
    elif target < lo or target >= hi:
        raise ValueError("target not in range(lo, hi)")
    else:
        num = random.randint(lo, hi)
        for i in range(steps):
            num += int(random.random() * (target - num))
        return num
<END>
<QUE>
Cherrypy routing with WSGI
<ANS>
#!/usr/bin/env python


import cherrypy


class Tree(cherrypy._cptree.Tree):

  def __call__(self, environ, start_response):
    # do more complex check likewise
    if environ['PATH_INFO'].startswith('/api/badurl'):
      start_response('404 Not Found', [])
      return []

    return super(Tree, self).__call__(environ, start_response)

cherrypy.tree = Tree()


globalConf = {
  'server.socket_host': '0.0.0.0',
  'server.socket_port': 8080,
}
cherrypy.config.update(globalConf)


class HelloApiWsgi:

  def __call__(self, environ, start_response):
    start_response('200 OK', [('Content-Type', 'text/html')])
    return ['Hello World from WSGI']

class HelloApi:

  @cherrypy.expose
  def index(self):
    return "Hello from api"


cherrypy.tree.graft(HelloApiWsgi(), '/api')
cherrypy.tree.mount(HelloApi(), '/api/hello')


if __name__ == '__main__':
  cherrypy.engine.signals.subscribe()
  cherrypy.engine.start()
  cherrypy.engine.block()
<END>
<QUE>
How do I redirect an user back to the page they were trying to access once they log in? (Django)
<ANS>
response = HttpResponseRedirect(next)
# Do whatever else you need to do here with the response object
return response
<END>
<QUE>
python: Searching strings in one list in another list, then appending an entire list entry to a new list
<ANS>
s = set(L1)
new_list = [a for a in L2 if any(b in s for b in a)]
<END>
<QUE>
How to start a Python script from Django website?
<ANS>
import yourscript # is in yourscript.py

yourclass = yourscript.Yourclass()
yourclass.run()
<END>
<QUE>
Python file path failing in pycharm regex confusion
<ANS>
engine='python'
<END>
<QUE>
Importing salt causes flask to output nothing in the terminal
<ANS>
import sys
import logging
logging.basicConfig(stream=sys.stdout, level=logging.DEBUG, format="%(message)s")

# Now we can import salt.
import salt
<END>
<QUE>
Passing parameters to mapper function in a pipeline
<ANS>
from mapreduce import context

def mapper(model_entity_instance, params_dict):
  """ my mapper function """
  ctx=context.get()
  mapper_params=ctx.mapreduce_spec.mapper.params
<END>
<QUE>
Insert newline character after every line using Python
<ANS>
with open(data_file) as source:
    with open(data_file[:-4]+'_for_SS_Fit.txt','w') as output:
        for line in source:
            f.write(line+'
')
<END>
<QUE>
Python: how to keep only first 50 char of a string
<ANS>
x = x[:50]
<END>
<QUE>
how to add site_id or host to django debug log?
<ANS>
logging.Filter
<END>
<QUE>
How to capture a frame from a camera stream exactly when a key is hit using opencv in python?
<ANS>
import cv

cv.NamedWindow("w1")
camera = cv.CaptureFromCAM(-1)

while True:
    image = cv.QueryFrame(camera)
    key = cv.WaitKey(33)

    if key == 'q':
        break
    elif key != -1:
        cv.ShowImage("w1", image)

cv.DestroyWindow("w1")
<END>
<QUE>
Python Lambda Problems
<ANS>
import functools

def f(a,b):
    return a*b

funcs = []

for i in range(0,10):
    funcs.append(functools.partial(f,i))
<END>
<QUE>
Plotting eigenbehaviours with matplotlib
<ANS>
from pylab import *

z = rand(10, 25)

c = pcolor(z)
set_cmap('hot')
colorbar()
c = pcolor(z, edgecolors='w', linewidths=1)
axis([0,25,0,10])
savefig('plt.png')
show()
<END>
<QUE>
Python RoboBrowser - How to get content from this page
<ANS>
form = browser.get_forma(action='/ObjedinjenePretrage/Search/SearchResult')[1]
<END>
<QUE>
How do I run a module from a parent class within a child class?
<ANS>
class Parent(object):
    def __init__(self, name):
        self.name = name

    def something(self):
        return 'something'

class Child(Parent):
    def __init__(self, name):
        super().__init__(name) # calls the __init__ function of Parent
        self.something = super().something() # calls the something function of Parent


c = Child('John')
something = c.something
name = c.name
print(something, name) # output = something John
<END>
<QUE>
Finding "closest" strings in a Python list (alphabetically)
<ANS>
import bisect

def closest(haystack, needle):
    if len(haystack) == 0: return None, None

    index = bisect.bisect_left(haystack, needle)
    if index == 0:
        return None, haystack[0]
    if index == len(haystack):
        return haystack[index], None
    if haystack[index] == needle:
        return haystack[index], haystack[index]        
    return haystack[index-1], haystack[index]
<END>
<QUE>
How to interfere some text in a html link string in python
<ANS>
from BeautifulSoup import BeautifulSoup
soup = BeautifulSoup('<a href="path/tomyhtml/foo.html">foo</a>')
soup.a["title"] = "Some cool title"
<END>
<QUE>
Pyspark RDD: convert to string
<ANS>
rddstr = rddfloat( (unicode(x[0]), str(x[1]), str(x[2])) )
<END>
<QUE>
tags with unicode in names, and lxml
<ANS>
print unicode(x).encode('utf8')
<END>
<QUE>
make person enter something before executing command(Tkinter,Python,Selenium)
<ANS>
def submit(self):

    if self.name.get() == "":
        messagebox.showerror(title="No name",message="No name")
        return

    driver = webdriver.Firefox()
    driver.get("http://stackoverflow.com/")
<END>
<QUE>
Display image as grayscale using matplotlib
<ANS>
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.cm as cm
import Image

fname = 'cartoon.png'
image = Image.open(fname).convert("L")
arr = np.asarray(image)
plt.imshow(arr, cmap = cm.Greys_r)
plt.show()
<END>
<QUE>
how to play wav file in python?
<ANS>
#!usr/bin/env python  
#coding=utf-8  

import pyaudio  
import wave  

#define stream chunk   
chunk = 1024  

#open a wav format music  
f = wave.open(r"/usr/share/sounds/alsa/Rear_Center.wav","rb")  
#instantiate PyAudio  
p = pyaudio.PyAudio()  
#open stream  
stream = p.open(format = p.get_format_from_width(f.getsampwidth()),  
                channels = f.getnchannels(),  
                rate = f.getframerate(),  
                output = True)  
#read data  
data = f.readframes(chunk)  

#paly stream  
while data != '':  
    stream.write(data)  
    data = f.readframes(chunk)  

#stop stream  
stream.stop_stream()  
stream.close()  

#close PyAudio  
p.terminate()
<END>
<QUE>
Get your location through python
<ANS>
import requests
import json

send_url = 'http://freegeoip.net/json'
r = requests.get(send_url)
j = json.loads(r.text)
lat = j['latitude']
lon = j['longitude']
<END>
<QUE>
Language-specific package settings in Sublime Text
<ANS>
import sublime, sublime_plugin

class PythonREPLHelperCommand(sublime_plugin.EventListener):
  def on_activated(self, view):
    syntax = view.settings().get('syntax')
    if syntax=='Packages/Python/Python.tmLanguage':
      plugin_settings = sublime.load_settings('SublimeREPL.sublime-settings')
      plugin_settings.set("show_transferred_text", True)
    else:
      plugin_settings = sublime.load_settings('SublimeREPL.sublime-settings')
      plugin_settings.set("show_transferred_text", False)
<END>
<QUE>
python using iteration to create a single row of values vs many rows of values from CouchDB
<ANS>
print fileName, testName, diff,
<END>
<QUE>
Python: Programatically create subclasses based on __init__ values
<ANS>
def make_fruit(name, kwargs):
    def my_init(self):
        Fruit.__init__(self, **kwargs)
    return type(name, (Fruit,), {'__init__': my_init})

Apple = make_fruit('Apple', apple)
<END>
<QUE>
Python Remove last 3 characters of a string
<ANS>
foo = foo.replace(' ', '')[:-3].upper()
<END>
<QUE>
How can I customize the output from pygments?
<ANS>
formatter = HtmlFormatter(style=MyStyle)
formatter.noclasses = True
print highlight(content,PythonLexer(),formatter)
<END>
<QUE>
Python String Argument Parsing
<ANS>
import shlex
shlex.split('arg arg1 "arg2 with quotes" arg4 arg5=1')
<END>
<QUE>
PY 2.7 XML pretty writing to a file option?
<ANS>
with open(filename, 'w') as fh:
 indent(tree.getroot())
 tree.write(fh, encoding="ISO-8859-1")
<END>
<QUE>
Python win32com method for word-wrap in Excel?
<ANS>
for i in range(0,active_sheets):
    ws = wb.Worksheets(i+1)
    ws.Columns.WrapText = True
<END>
<QUE>
How to increment the day in datetime? Python
<ANS>
date = datetime.datetime(2003,8,1,12,4,5)
for i in range(5): 
    date += datetime.timedelta(days=1)
    print(date)
<END>
<QUE>
os.rename on windows raise WindowsError instead of OSError
<ANS>
try:
    raise os.rename('nonexisting_file', 'def')
except OSError:
    print 'caught'
<END>
<QUE>
How to log from handlers in tornado in console?
<ANS>
define("logging", default="info",
       help=("Set the Python log level. If 'none', tornado won't touch the "
             "logging configuration."),
       metavar="debug|info|warning|error|none")
<END>
<QUE>
In Python - how to execute system command with no output
<ANS>
import os
import subprocess
subprocess.call(["ls", "-l"], stdout=open(os.devnull, "w"), stderr=subprocess.STDOUT)
<END>
<QUE>
How do I split or grab a string in python after a comma in python
<ANS>
x=s.split(',')

if len(x)>1:
    x=x[1:] # since you are only concerned with what comes after a ','
    print x[0].strip() # remove the strip(), depends on the usage
else:
    print ''
<END>
<QUE>
Python PIL - function to divide blend two images?
<ANS>
import numpy as np
import scipy.misc as mpl

a = mpl.imread('01background.jpg')
b = mpl.imread('02testgray.jpg')

c = a/((b.astype('float')+1)/256)
d = c*(c < 255)+255*np.ones(np.shape(c))*(c > 255)

e = d.astype('uint8')

mpl.imshow(e)
mpl.imsave('output.png', e)
<END>
<QUE>
Using Python loops with Jinja template
<ANS>
import jinja2
from tempfile import NamedTemporaryFile

def return_hosts():
    'return a list of host names'
    with open('./tfhosts') as hosts:
        return [host.split()[1].strip() for host in hosts]

inventory = """
[master1]
{{ host_master01 }}
[master2]
{{ host_master02 }}
"""

gethosts = return_hosts()

inventory_template = jinja2.Template(inventory)

rendered_inventory = inventory_template.render({ 
    'host_master01': gethosts[0], 
    'host_master02': gethosts[1], 
  })

hosts = NamedTemporaryFile(delete=False)
hosts.write(rendered_inventory)
hosts.close()
<END>
<QUE>
Import rows of a table from html file as a list in python
<ANS>
with open('htmlfile.html','r') as file:
  rows = []
  for line in file:
    start = max(line.find('FORWARD'),line.find('REVERSE'))
    rows.append(line[start:].replace('<','').replace('>','').replace('/','').replace('td',' ').replace('tr',' ').strip().split('  '))
print(rows)
<END>
<QUE>
Plotting large numbers of points and edges in matplotlib
<ANS>
from matplotlib import pyplot as plt
from matplotlib.collections import LineCollection
lc = LineCollection(points[edges])
fig = plt.figure()
plt.gca().add_collection(lc)
plt.xlim(points[:,0].min(), points[:,0].max())
plt.ylim(points[:,1].min(), points[:,1].max())
plt.plot(points[:,0], points[:,1], 'ro')
fig.savefig('full_figure.png')
<END>
<QUE>
call different functions based on parameter
<ANS>
def verify(self, param, val):
    self.assertEqual(getattr(self.tm.get, param), val)
<END>
<QUE>
Make an object move in a direction constantly Pygame
<ANS>
class Orb(object):
    def __init__(self,posorg,posdest):
        self.posx=posorg[0]
        self.posy=posorg[1]
        self.targ=posdest
        self.posorg=posorg
        self.bullet_vector=Move(self.targ[0],self.targ[1],self.posx,self.posy,20)
    def update(self):
        self.posx += self.bullet_vector[0]
        self.posy += self.bullet_vector[1]
        pygame.draw.circle(screen, ((0,0,255)), (int(self.posx),int(self.posy)), 5)
<END>
<QUE>
Manipulating python json dictionaries
<ANS>
print json.loads(data)['example'][0]['id']
<END>
<QUE>
Pandas Groupby Name of Day
<ANS>
df['day_name'] = df['pub_date'].apply(
    lambda x: pd.to_datetime(x).strftime("%A"))
<END>
<QUE>
R equivlent of python numpy slice: [:, None, :]
<ANS>
a <- matrix(c(1,2,3,4), 2, byrow=TRUE)
b <- array(t(a), dim=c(2,1,2))
b
<END>
<QUE>
problem printing mount point of usb in python
<ANS>
path = ""
count = 0
while count < 10 and path == "":
    p1 = subprocess.Popen(["df", "-h"], stdout=subprocess.PIPE)
    p2 = subprocess.Popen(["grep", device_file], stdin=p1.stdout, stdout=subprocess.PIPE)
    p3 = subprocess.Popen(["awk", "{ print $6 }"], stdin=p2.stdout, stdout=subprocess.PIPE)
    path = p3.communicate()[0]
    count += 1
    if path == "":
        time.sleep(1)
print path
<END>
<QUE>
How to edit flask-admin to support multi tenancy?
<ANS>
class MyDealModelView(ModelView):
    form_excluded_columns = ('merchant_id',)

    def on_model_change(form, model, is_created):
        model.merchant_id = login.current_user.merchant_id;
<END>
<QUE>
dictionary reading from module
<ANS>
import root_file as f1

id = 1
app = 'Name'
print getattr(f1, app)[id] # or f1.Name[id]
<END>
<QUE>
Merging stock symbols with their EPS rating
<ANS>
f1=open('first.txt','r')
f2=open('second.txt', 'r')
new_file=open("new_text.txt", 'w')
for line in f1:
    new_line=line +"...." + f2.readline()
    new_file.write(new_line,"
")
<END>
<QUE>
python string slicing with a list
<ANS>
liPos = [(2,5),(8,9),(18,22)]
s = "I hope that I will find an answer to my question!"

exclusions = set().union(* (set(range(t[0], t[1]+1)) for t in liPos) )
pruned = ''.join(c for i,c in enumerate(s) if i not in exclusions)

print pruned
<END>
<QUE>
Print Combination in an 2D array in python
<ANS>
from itertools import product
l = [[0, 3], [1, 4], [2]]

for prod in product(*l):
    print(prod)
<END>
<QUE>
Get the name of celery worker from inside a celery task?
<ANS>
from celery import task
from billiard import current_process

@task
def getName():
    p = current_process()
    return p.index
<END>
<QUE>
How to search for word in text file and print part of line with Python?
<ANS>
with open("textfile.txt") as openfile:
    for line in openfile:
        for part in line.split():
            if "color=" in part:
                print part
<END>
<QUE>
Add multiple numbers taken from user input and append it to a list
<ANS>
def access():
    room_code = 12534
    code = int(raw_input('Enter the code: '))
    if code == room_code:
        return 'good'
    return 'death'
<END>
<QUE>
can't properly load with json on python
<ANS>
lineaactual = json.loads(line.replace("'", '"'))
<END>
<QUE>
python 3*n + 1 - calculate longest cycle for a list of numbers
<ANS>
def read_input(list_of_urls):
    with open(list_of_urls) as f, open('output.txt', 'w+') as f2:
        for line in f:
            n,m = line.split(' ')
            n=int(n)
            m=int(m)
            _,_,thisMaxCycle = max_cycle(n,m)
            f2.write("{0} {1} {2} #{2} being the max cycle for all numbers between {0} and {1}
".format(n,m,thisMaxCycle))
<END>
<QUE>
Creating a board in Python
<ANS>
def makeboard(rows, cols):
    board = []
    for r in range(rows):
        brow = []
        for c in range(cols):
            if r == c == 0:
                 brow.append(' ')
            elif r == 0:
                 brow.append(str(c-1))
            elif c == 0:
                 brow.append(str(r-1))
            else:
                 brow.append('*')
        board.append(brow)
    return board

b = makeboard(4,3)

for row in b:
    print ' '.join(row)
<END>
<QUE>
Retrieve multiple urls at once/in parallel
<ANS>
def process_url(url):
    # Do what you want
    return what_you_want

pool = multiprocessing.Pool(processes=4) # how much parallelism?
pool.map(process_url, list_of_urls)
<END>
<QUE>
Incorrect behaviour of print() when executed from within a QTDialog window in Spyder
<ANS>
print('Hello World!!')
sys.stdout.flush()
<END>
<QUE>
python: badly behaving dict inside a function- erroneous TypeError
<ANS>
def clean_high(dict_name,key_string,limit):
    '''clean all the keys to eliminate the bad values from the arrays'''
    new_dict = {}
    for key in dict_name:
        new_dict[key] = dict_name[key][dict_name[key_string]<limit]
    return new_dict
<END>
<QUE>
Remove the last N elements of a list
<ANS>
lst = lst[:n-1]
<END>
<QUE>
Why isn't my searching of a Python string working?
<ANS>
response.read()
<END>
<QUE>
Passing environmental variables as parameters
<ANS>
import os

env_name = 'g_folder'
assembly_name = 'genome_assembly_name'

g = os.getenv(env_name)
assembly = os.getenv(assembly_name)

file_name = os.path.join(g, assembly) + ".fa"
<END>
<QUE>
making ellipse markers with error bars matplotlib
<ANS>
import matplotlib.pyplot as plt
from matplotlib.patches import Ellipse

fig=plt.figure(1)
ax1=fig.add_subplot(111)
plt.xlim([0,5])
plt.ylim([0,10])
ax1.errorbar([2.5], [5], yerr=[1], fmt="o", color="black", ms=0.1, zorder=1)
ax1.add_artist(Ellipse((2.5, 5), 1, 1, facecolor="green", edgecolor="black",zorder=2))

plt.show()

exit(0)
<END>
<QUE>
gtk+ checkbutton settings
<ANS>
checkbox1.set_sensitive(False)
checkbox1.set_active(True)
<END>
<QUE>
Avoid specifying all arguments in a subclass
<ANS>
class B(A):
    def __init__(self, *a, **k):
      if 'W' in k:
        w = k.pop('W')
      else:
        w = a.pop()
      A.__init__(self, *a, **k)
      self._W = w
<END>
<QUE>
pyQt4 - How to select table rows and disable editing cells
<ANS>
self.table.setEditTriggers(QtGui.QAbstractItemView.NoEditTriggers)
<END>
<QUE>
Pygame 2,7 Collision To 3,3
<ANS>
def get_surrounding_blocks(self, sprite):
    # calculate the grid position of the sprite
    sprite_x = sprite.rect.x / 64
    sprite_y = sprite.rect.y / 64
<END>
<QUE>
Default parameter in python with objects
<ANS>
def exitDevice(ip,m=None,sendExit=True):
   if m is None: m = getDefaultValueForM()
   if sendExit: m.send ( 'exit' )
<END>
<QUE>
Using raw_input to define what variable list to search
<ANS>
d = {'A': ['available', 'unavailable','available','available','available'],
     'B': ['unavailable', 'unavailable','available','available','available'],
     'C': ['available', 'unavailable','unavailable','available','available'],
     'D': ['available', 'unavailable','available','unavailable','unavailable']}

letter = raw_input().upper()    
d[letter].count('available')
<END>
<QUE>
Cheap mapping of string to small fixed-length string
<ANS>
cheap_hash = lambda input: hashlib.md5(input).hexdigest()[:6]
<END>
<QUE>
Python code to pick out all possible combinations from a list?
<ANS>
itertools.combinations(iterable, r)
<END>
<QUE>
Python multiple inheritance name clashes
<ANS>
class D(C, B):
    a = A.a
<END>
<QUE>
How do I replace a character in a string with another character in Python?
<ANS>
def changeWord(word):
    for letter in word:
        if letter != "i":
            word = word.replace(letter,"!")
    return word
<END>
<QUE>
pass in popen parameters
<ANS>
constant_cmd_part = ["/path/to/program", "-opt", "-more_opt"]
proc = subprocess.Popen(constant_cmd_part + [variable_part],
                        stdout=subprocess.PIPE)
<END>
<QUE>
How to extract HTTP response body from a Python requests call?
<ANS>
r = requests.get("http://www.google.com"); print r.content
<END>
<QUE>
Removing Selection, StyledTextCtrl - wxpython
<ANS>
txt.SetSelection(0, 0)
<END>
<QUE>
Pybrain how to predict on new data
<ANS>
data2014 = n.activate([0,1,0,1,0,1])
print 'data2014',data2014
<END>
<QUE>
Goes to a file and prints only the words that don't have any digits in them
<ANS>
with open("lolpa.txt") as f:
    for word in f.readline().split(): # assuming all words are on the first line
        digits = [c for c in word if c.isdigit()]
        if digits: # digits list is not empty
            print(' '.join(digits)) # shows digits with space in between
        else:
            print(word) # prints word normally
<END>
<QUE>
how do I generate a cartesian product of several variables using python iterators?
<ANS>
import itertools
site_range=[0,1,2]
[x for x in itertools.product(site_range, repeat=len(site_range))]
<END>
<QUE>
Scikit/Numpy/Pandas ValueError: setting an array element with sequence
<ANS>
X = np.array(list(working_df['array_list'][1:]))
y = working_df['outcome'][1:].values
rf_clf.fit(X, y)
<END>
<QUE>
How to set default view type in XBMC lists?
<ANS>
import xbmc
xbmc.executebuiltin('Container.SetViewMode(%d)' % view_mode_id)
<END>
<QUE>
Searching against a negative set of words
<ANS>
import BeautifulSoup

negative_keywords = ['basement', 'unfinished', 'hardwood']

html = '''
<section id="postingbody">
    Looking for a corporate rental, this beautiful decorated 5 BR,
    4.5 BA two story house is in a desirable location, 7 minutes off
    I 85. Beautiful solid cherry cabinets in kitchen and laundry room.
    All stainless steel appliances. Hardwood floors in kitchen and foyer,
    Ceramic tile floors in all bathrooms, laundry room, dining room and sunroom.

    <br>
    </br>

</section>
'''

soup = BeautifulSoup.BeautifulSoup(html)
bodyContents = soup.find(attrs={'id' : 'postingbody'})

if any([k in bodyContents.getText().lower() for k in negative_keywords]):
    print "keyword was found"
<END>
<QUE>
How do I change a Gtk3 Entry text color in Python3?
<ANS>
self.myOkEntry.override_color(Gtk.StateFlags.NORMAL, Gdk.RGBA(0.0, 1.0, 0.0, 1.0))
<END>
<QUE>
Remove lowercase letters from a string in python
<ANS>
word='www.wgoowglew.cowm'

print '.' + word.split('.')[1].replace('w', '') + '.'
<END>
<QUE>
Siebel COM interface - Python
<ANS>
import win32com.client
oSiebelApp = win32com.client.Dispatch("SiebelDataControl.SiebelDataControl.1")
oSiebelApp.Login("Connection String")
<END>
<QUE>
Getting error with yield in scrapy python
<ANS>
def parse_items(self, response):
    hxs = HtmlXPathSelector(response)
    sites = hxs.select("//li[contains(concat(' ', @class, ' '), ' mod-searchresult-entry ')]")
    items = []

    for site in sites[:2]:
        item = SeekItem()
        item['title'] = myfilter(site.select('dl/dd/h2/a').select("string()").extract())
        item['link_url'] = myfilter(site.select('dl/dd/h2/em').select("string()").extract())
        item['description'] = myfilter(site.select('dl/dd/p').select("string()").extract())
        if item['link_url']:
            request = Request("http://www.example.com/some_page.html", callback=self.parseItemDescription)
            request.meta['item'] = item
            return request

def parseItemDescription(self, response):

    item = response.meta['item']
    hxs = HtmlXPathSelector(response)
    sites = hxs.select("//li[contains(concat(' ', @class, ' '), ' mod-searchresult-entry ')]")
    item['description'] = "mytest"

    return item
<END>
<QUE>
How to simplify a for loop in python
<ANS>
img[ix, iy] = dummy
<END>
<QUE>
Search list of dictionaries for name python
<ANS>
records = {}

for line in data:
    # parsing codes

    # store player -> gameid mappings to the index
    if player not in records:
        records[player] = []
    records[player].append(info)

print records['Sona']
# this should print out list of games played with Sona
<END>
<QUE>
Interpolate in SQL based on subgroup in django models
<ANS>
rows = Model.objects.all()
for row in rows:
    # Modify rows as appropriate
    row.T_val = delta / (cnt -1) * row.sheet_num + min_tvc_of_subgroup
Model.objects.bulk_update(rows)
<END>
<QUE>
How do scan a script for return values from a upper script in python?
<ANS>
import ToBuildOrNot
needsBuild = ToBuildOrNot.run() # or whatever you call your top-level function
<END>
<QUE>
Iterate on items in Array with Python
<ANS>
from os import makedirs, path
from itertools import product, chain

data = {
    '0001': ['123101203', '1221231102136'],
    '0002': ['1681235932', '22612312303', '213412312341', '123123610116'],
    '0003': ['123408503']
}

dirs = chain(*list(product((k,), v) for k, v in data.items()))
for parent, sub in dirs:
    makedirs(path.join(parent, sub))
<END>
<QUE>
IBOutlet in Python
<ANS>
objc.IBOutlet
<END>
<QUE>
python import of script with argparse
<ANS>
if __name__ == "__main__":
    parser = argparse.ArgumentParser()
    parser.add_argument("-k", dest = "foo",  action='store_true')
    args = parser.parse_args()
    # do things...
<END>
<QUE>
How can I display output in a pager after a git command?
<ANS>
import subprocess

proc=subprocess.Popen('less', stdin=subprocess.PIPE)
lines=(str(i) for i in range(1000))
proc.stdin.write('
'.join(lines))
proc.stdin.close()
proc.communicate()
<END>
<QUE>
Multiline regular expressions with python requests module
<ANS>
r = requests.get(url)
pat = re.search(regex, r.text)
<END>
<QUE>
Matplotlib more than 3 lines on same axes
<ANS>
import numpy as np 
import pylab as plt 
from math import *
plt.figure()
th=np.linspace(0,np.pi,num=200)
y=range(10)
for i in range(10):
    alph=np.exp(i/2)
    y[i]=((np.cos(alph*np.cos(th)) - np.cos(alph))/np.sin(th))**2
    plt.plot(th/pi,y[i],  label = 'Line %d' %i)
plt.legend(loc =2)    
plt.show()
<END>
<QUE>
I need \r
 instead of 
 in text
<ANS>
encoded = clipboard.encode('utf8').replace("
","\r
")
<END>
<QUE>
Google App Engine GQL Query ORDER BY date_posted
<ANS>
date_posted = db.DateTimeProperty(auto_now_add=True)
<END>
<QUE>
Numpy Array: Efficiently find matching indices
<ANS>
import numpy as np, numpy.random as nprand, time, bisect

bigN = 5e6
smallN = 1000
maxn = 1e7
nprand.seed(1)  
bigArr = nprand.randint(0, maxn, size=bigN)
smallArr = nprand.randint(0, maxn, size=smallN)

# brute force 
t1 = time.time()
for i in range(len(smallArr)):
    inds = np.where(bigArr == smallArr[i])[0]
t2 = time.time()
print "Brute", t2-t1

# not brute force (like nested loop with index scan)
t1 = time.time()
sortedind = np.argsort(bigArr)
sortedbigArr = bigArr[sortedind]
for i in range(len(smallArr)):
    i1 = bisect.bisect_left(sortedbigArr, smallArr[i])
    i2 = bisect.bisect_right(sortedbigArr, smallArr[i])
    inds = sortedind[i1:i2]
t2=time.time()
print "Non-brute", t2-t1
<END>
<QUE>
pyplot/matplotlib Bar chart with fill color depending on value
<ANS>
import matplotlib.pyplot as plt
from matplotlib import cm
import numpy as np

y = np.array([1, 4, 3, 2, 7, 11])
colors = cm.hsv(y / float(max(y)))
plot = plt.scatter(y, y, c = y, cmap = 'hsv')
plt.clf()
plt.colorbar(plot)
plt.bar(range(len(y)), y, color = colors)
plt.show()
<END>
<QUE>
How to get title from class attribute in XPath(Python/scrapy)
<ANS>
item['date'] = sel.xpath('//*[@class="ratingDate relativeDate"]/@title').extract()
item['date'] += sel.xpath('//div[@class="col2of2"]//span[@class="ratingDate"]/text()').extract()
<END>
<QUE>
Initialization of Python program
<ANS>
from x import *
<END>
<QUE>
How can I call 'git pull' from within Python?
<ANS>
import git 

g = git.cmd.Git(git_dir)
g.pull()
<END>
<QUE>
Python App Engine debug/dev mode
<ANS>
IS_DEV_APPSERVER = 'development' in os.environ.get('SERVER_SOFTWARE', '').lower()
<END>
<QUE>
pyfribidi for windows or any other bidi algorithm
<ANS>
import arabic_reshaper
from bidi.algorithm import get_display

#...
reshaped_text = arabic_reshaper.reshape(u'????? ??????? ?????')
bidi_text = get_display(reshaped_text)
pass_arabic_text_to_render(bidi_text)
#...
<END>
<QUE>
iterator for dates in python
<ANS>
from datetime import date
from dateutil.rrule import rrule, DAILY

iterdates=iter(rrule(DAILY, dtstart=date(2012, 9, 1), until=date(2012, 9, 30)))
<END>
<QUE>
Remove lines from textfile with python
<ANS>
lines = open('textfile.txt').readlines()
open('newfile.txt', 'w').writelines(lines[3:-1])
<END>
<QUE>
Splitting strings in Python without split()
<ANS>
sentence = 'This is a sentence'
split_values = []
tmp = ''
for c in sentence:
    if c == ' ':
        split_value.append(tmp)
        tmp = ''
    else:
        tmp += c
if tmp:
    splie_value.append(tmp)
<END>
<QUE>
How to to make a file private by securing the url that only authenticated users can see
<ANS>
from django.conf.urls import patterns, include, url
from django.contrib.auth.decorators import login_required
from django.views.static import serve
from django.conf import settings

from django.core.exceptions import ObjectDoesNotExist
from django.shortcuts import HttpResponse

@login_required
def protected_serve(request, path, document_root=None):
    try:
        obj = Photobox.objects.get(user=request.user.id)
        obj_image_url = obj.image.url
        correct_image_url = obj_image_url.replace("/media/", "")
        if correct_image_url == path:
            return serve(request, path, document_root)
    except ObjectDoesNotExist:
        return HttpResponse("Sorry you don't have permission to access this file")


url(r'^{}(?P<path>.*)$'.format(settings.MEDIA_URL[1:]), protected_serve, {'file_root': settings.MEDIA_ROOT}),
<END>
<QUE>
how to set a widget's size in tkinter?
<ANS>
Text(self.tk,width=60,height=40)
<END>
<QUE>
Trying to print multiple lines in a python dictionary in order
<ANS>
from collections import OrderedDict
board = OrderedDict([("1", [a,a,a,a,a,a]), ("2", [a,a,a,a,a,a])]) # continued for other keys

for k,v in board.items():
    print k,v
<END>
<QUE>
How to insert strings with pipe symbol in sqlite
<ANS>
s.execute('INSERT INTO mytable (col_name) VALUES (?);', ("a|b",))
<END>
<QUE>
how to configure Sweave it's work and recognize for Rpy2?
<ANS>
R["Sweave"]("/var/www/tmp/pywps/central.Rnw")
R('Sweave("/var/www/tmp/pywps/central.Rnw")')
<END>
<QUE>
Python - Connecting to counterstrike server via socket
<ANS>
netstat -nlp
<END>
<QUE>
how to merge a number of lists in to one list
<ANS>
old_list = [
['ID 1d6b:0002'],
['ID 1d6b:0002'],
['ID 1d6b:0001'],
['ID 1d6b:0001'],
['ID 1d6b:0001'],
['ID 1d6b:0001'],
['ID 1d6b:0001'],
['ID 0b38:0010'],
['ID 093a:2510']]


new_list = [x[0] for x in old_list]
<END>
<QUE>
How do I set a default page in Pylons?
<ANS>
map.connect('/', controller='main', action='index')
<END>
<QUE>
Making something compatible with python 3 and 2
<ANS>
def printme(s):
    sys.stdout.write(str(s))

def get_input(prompt):
    if sys.hexversion > 0x03000000:
        return input(prompt)
    else:
        return raw_input(prompt)
<END>
<QUE>
python parsley - domain name syntax
<ANS>
from parsley import makeGrammar
import ometa
def check_the_rest(s):
    if '-' in s:
        return s[-1].isalnum()
    return True

domain = makeGrammar('''
letdighyp = (letterOrDigit|'-')
# label = <letterOrDigit (letdighyp* letterOrDigit)*>
label = <letter the_rest>
the_rest = letdighyp*:r ?(check_the_rest(r)) -> r
''', dict(check_the_rest=check_the_rest))

tests = ('a', 'abcd1000', 'a-',)
for t in tests:
    try:
        print('???', domain(t).label())
    except ometa.runtime.ParseError as e:
        print('parse failed for', t)
        print(e)
<END>
<QUE>
How to resolve the unpicklingerror in loading gensim corpus? - python
<ANS>
corpus = corpora.MmCorpus('foobar.mm')
<END>
<QUE>
XML parsing in Python
<ANS>
from xml.dom.minidom import parse
doc = parse("filename.xml")
<END>
<QUE>
Python Regex Select Element
<ANS>
[name for name in names if not '??' in name]
<END>
<QUE>
How to convert a list of longs into a comma separated string in python
<ANS>
','.join([str(i) for i in list_of_ints])
<END>
<QUE>
How to convert pandas' DataFrame to DataFrame or LabeledPoint in Spark?
<ANS>
sqlContext.createDataFrame(PANDASDATA)
<END>
<QUE>
Server side problems saving a file uploaded using requests.POST
<ANS>
dest.write(ufile)
<END>
<QUE>
Boolean type column as a ClauseElement in SQLAlchemy
<ANS>
from sqlalchemy import *
from sqlalchemy.orm import *
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

class A(Base):
    __tablename__ = "a"

    id = Column(Integer, primary_key=True)
    data = Column(String(20))
    boolean = Column(Boolean)

# works
e = create_engine("sqlite://", echo=True)

# works
#e = create_engine("postgresql://scott:tiger@localhost/test", echo=True)

# works
#e = create_engine("mysql://scott:tiger@localhost/test", echo=True)

Base.metadata.create_all(e)

s = Session(e)
s.add_all([
    A(data='a1', boolean=True),
    A(data='a2', boolean=False),
    A(data='a3', boolean=True),
])

# works
print s.query(A).filter(A.data > 'a1', A.boolean).all()

# works
print s.query(A).filter(A.boolean).all()

# if before 0.8, need to use and_() or table-bound column
# print s.query(A).filter(and_(A.data > 'a1', A.boolean)).all()
# print s.query(A).filter(A.__table__.c.boolean).all()
<END>
<QUE>
Searching through a list using recursion in Python?
<ANS>
def srch(item, myList, i=0):
  if i < len(myList):
    return myList[i] == item or srch(item, myList, i+1)
  return -1
<END>
<QUE>
PyQt: Set text in a QLabel adding letter by letter
<ANS>
import sys
from PyQt4 import QtCore, QtGui

class Example(QtGui.QWidget):
    def __init__(self):
        QtGui.QWidget.__init__(self)
        self.label = QtGui.QLabel(self)
        layout = QtGui.QVBoxLayout(self)
        layout.addWidget(self.label)
        self._text = 'this is a test'
        self._index = 0
        self.timer = QtCore.QTimer(self)
        self.timer.timeout.connect(self.handleTimer)
        self.timer.start(200)

    def handleTimer(self):
        self._index += 1
        self.label.setText(self._text[:self._index])
        if self._index > len(self._text):
            self.timer.stop()

if __name__ == '__main__':

    app = QtGui.QApplication(sys.argv)
    ex = Example()
    ex.setGeometry(300, 300, 250, 150)
    ex.show()
    sys.exit(app.exec_())
<END>
<QUE>
Use Python with lxml to parse a xml document and write elements into a text file
<ANS>
from lxml import etree
doc = etree.parse("data.xml")
for con in doc.xpath("//specification"):
    for cons in con.xpath("./@body"):
        with open("output.txt", "w") as cons_out:
            content = cons.split("inv: name =")[1]
            cons_out.write(content)
        cons_out.close()
<END>
<QUE>
Converting a list of dict to a list of a specific value
<ANS>
names = [person.GetName() for person in persons]
<END>
<QUE>
How to tell the IDE a method returns a list containing only a specific type of Objects in Python?
<ANS>
list[MyObject]
<END>
<QUE>
Maximize a function with many parameters (python)
<ANS>
scipy.optimize.minimize
<END>
<QUE>
How to extract lines numbers that match a regular expression in a text file
<ANS>
import re
# open the files
outputLineNumbers = open('OutputLineNumbers', 'w')
inputFile = open('Corpus.txt','r')

# read the corpus first
corpusLines = inputFile.readlines()

# loop through each line in corpus
for line_i in range(len(corpusLines)):
    line = corpusLines[line_i]

    # check if we have a regex match with "phrase" variable
    # if so, write it the output file
    if re.match( phrase, line ):
        outputLineNumbers.write( str(line_i+1) + "
" )

# close the file handles
outputLineNumbers.close()
inputFile.close()
<END>
<QUE>
From a large text file to a sparse matrix with Python
<ANS>
A=[0]*len(matrix)
B=[0]*len(matrix)
C=[0]*len(matrix)
for i in range(len(matrix)):
    full_array = np.fromstring(matrix[i], dtype=float, sep=" ")
    A[i]=full_array[0]
    B[i]=full_array[1]
    C[i]=full_array[2]
<END>
<QUE>
Get timezone offset in django/python
<ANS>
import django.utils.timezone as tz
import datetime

my_tz = tz.get_default_timezone() # The one in settings.TIME_ZONE

# My dates:
date1 = tz.make_aware(datetime.datetime.now(), my_tz)
date2 = tz.make_aware(datetime.datetime(2015,5,1), my_tz)

# Get timezone names
date1.tzname() # CST
date2.tzname() # CDT

# Get offset from UTC
date1.utcoffset() # datetime.timedelta(-1, 64800) is UTC-6
date2.utcoffset() # datetime.timedelta(-1, 68400) is UTC-5

# Get daylight saving time
date1.dst() # datetime.timedelta(0)
date2.dst() # datetime.timedelta(0, 3600) is +1 hour
<END>
<QUE>
Proportion of a certain number in a vector with 1 hundred position
<ANS>
from random import randint
l=[]
l = [randint(0,3) for i in xrange(100)]
for i in xrange(0,100,10):
    print l[i:i+10].count(2)*10

10
10
20
20
10
0
30
20
30
20
<END>
<QUE>
Project Euler #3 with python - MOST EFFICIENT METHOD
<ANS>
n = 600851475143
i = 2
while i * i < n:
    while n % i == 0:
        n = n / i
    i = i + 1
print n
<END>
<QUE>
Following users who tweets a specific hashtag with tweepy for python?
<ANS>
from twython import Twython, TwythonError

# Requires Authentication as of Twitter API v1.1
twitter = Twython(APP_KEY, APP_SECRET, OAUTH_TOKEN, OAUTH_TOKEN_SECRET)
try:
    search_results = twitter.search(q='#python', count=50)
except TwythonError as e:
    print e

for tweet in search_results['statuses']:
    print tweet['user']['screen_name'].encode('utf-8')
<END>
<QUE>
How to add a string at the end of a list with python?
<ANS>
list = [('string0', 'string1'),('stringN', 'stringN-1')]
list.append("hello")
print list
<END>
<QUE>
Python script to read single value from MS SQL Server 2008
<ANS>
username = cur.fetchone()[0]
<END>
<QUE>
tornadoweb: storing cookies in database and retreiving them
<ANS>
ssid = uuid.uuid4().hex
<END>
<QUE>
Using Django template functions in App Engine scripts
<ANS>
import os
os.environ['DJANGO_SETTINGS_MODULE'] = 'settings'

from django.template.defaultfilters import slugify
<END>
<QUE>
QMessageBox results in segfault
<ANS>
#8  0x00007fffe4c6a332 in gtk_icon_theme_lookup_icon () from /usr/lib/libgtk-x11-2.0.so.0
#9  0x00007fffe4c6ae14 in gtk_icon_theme_load_icon () from /usr/lib/libgtk-x11-2.0.so.0
#10 0x00007fffe4c66311 in gtk_icon_set_render_icon () from /usr/lib/libgtk-x11-2.0.so.0
#18 0x00007fffd9965847 in QMessageBox::setIcon(QMessageBox::Icon) () from /usr/lib/libQtGui.so.4
<END>
<QUE>
Adding iterated array values to xlwt sheet
<ANS>
s1 = wb.add_sheet("Test")

s1.write(0, 0, "Col 1")
s1.write(0, 1, "Col 2")
s1.write(0, 2, "Col 3")
s1.write(0, 3, "Col 4")
s1.write(0, 4, "Col 5")

test_list = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]
list2 = []
for val in test_list:
    list2.append(str(val))

# Generator for column
def next_c_index():
    c = [1, 2, 3, 4]
    while True:
        for i in c:
            yield i

# Generator for row
def next_r_index(ncolumns=5):
    """
    Assumes you start from writing from 2nd row.
    :ncolumns = number of columns (default 5)
    Eg. 1, 1, 1, 1, 2, 2, 2, 2
    """
    n = 0
    r = 0
    while True:
        # In every cycle of 4
        if (n)%(ncolumns-1)==0:
            r += 1
        n += 1
        yield r

# Since you have 5 columns I pass 5 while calling row generator
row = next_r_index(ncolumns=5)
col = next_c_index()
for val in list2:
    s1.write(row.next(), col.next(), val)
<END>
<QUE>
Memory efficient import many data files into panda DataFrame in Python
<ANS>
dir_path = os.path.join(data_dir, 'master_*.dat')
master_all = pd.concat(pd.read_table(data_file, delimiter='|', header=0)
                                     for data_file in glob.glob(dir_path))
<END>
<QUE>
Performance comparison of sort vs custom hash function for strings in Python
<ANS>
primes = list(historic(26))
primes = {c : primes[ord(c) - ord('a')] for c in string.lowercase}

def prime_hash2(s):
   res = 1
   for c in s:
      res = res * primes[c]
   return res
<END>
<QUE>
matplotlib colored segment of a function plot
<ANS>
import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import norm
x = np.linspace(-4,4,150)
# plot density with shaded area showing Pr(-2 <= x <= 1)
lb = -2
ub = 1
d = norm.pdf(x)
fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)
ax.plot(x, d)

idx = np.searchsorted(x,[lb,ub])
sx = x[idx[0]:idx[1]]
sd = d[idx[0]:idx[1]]
plt.fill_between(sx, sd, 0, color = 'b')
plt.show()
<END>
<QUE>
Downloading text files with Python and ftplib.FTP from z/os
<ANS>
def writeline(line):
    file.write(line + "
")

file = open(filename, "w")
ftp.retrlines("retr " + filename, writeline)
<END>
<QUE>
how to determine whether a field exists inside a value of a key?
<ANS>
db.collection.find( { "emotions.emotion1": { "$exists":True } } )
<END>
<QUE>
How to use numpy's hstack?
<ANS>
a[:,[3,4]]
<END>
<QUE>
Python + Windows: How to write a script that pops up a reminder on computer sleep/shutdown?
<ANS>
from tkinter import *
root = Tk()
w = Label(root, text="Take your Medicine 
 :):)...Get Well Soon...")
w.pack()
root.mainloop()
<END>
<QUE>
Knowing if any key is pressed, wxPython
<ANS>
import pythoncom, pyHook 

def OnKeyboardEvent(event):
    print 'Ascii:', event.Ascii, chr(event.Ascii)
    print 'Key:', event.Key
    print 'KeyID:', event.KeyID
    print 'ScanCode:', event.ScanCode
    print 'Extended:', event.Extended

    return True #for pass through key events, False to eat Keys

hm = pyHook.HookManager()
hm.KeyDown = OnKeyboardEvent
hm.HookKeyboard()
pythoncom.PumpMessages()
<END>
<QUE>
Getting Coordinates from Given Lists
<ANS>
row_cols = [(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]

x_sizes = [50, 50, 50, 50, 50, 50, 50, 50, 50]
y_sizes = [60, 60, 60, 60, 60, 60, 60, 60, 60]

for row_col, x_size, y_size in zip(row_cols, x_sizes, y_sizes):
    row, col = row_col[0], row_col[1]

    coord = (col * x_size, row * y_size)
    print coord
<END>
<QUE>
Find density of points from their scatter plot in python
<ANS>
from scipy import linalg as la
e = la.eigvals(my_matrix)
hist,xedges,yedges = np.histogram2d(e.real,e.imag,bins=40,normed=False)
<END>
<QUE>
Delete element from list where sub-element matches string
<ANS>
persons_list = [person for person in persons_list if person.sexe != 'Male']
<END>
<QUE>
getting file list using glob in python
<ANS>
import glob

mydir = "C:\Data"

file_list = glob.glob(mydir + "/*.csv") # Include slash or it will search in the wrong directory!!
print('file_list {}'.format(file_list))
<END>
<QUE>
Django: How to get current selected element in form
<ANS>
request.GET
<END>
<QUE>
Is there a pythonic way to update a dictionary value when the update is dependent on the value itself?
<ANS>
def update(dictionary, key, newvalue, func=max):
    dictionary[key] = func(dictionary[key], newvalue)
<END>
<QUE>
Outputting dataframes to csv using a loop
<ANS>
i = 1
for group in groups:
    out1=df.ix[group]
    out1.to_csv('group%s.csv' % i)
    out1.pl.describe()
    i += 1
<END>
<QUE>
Documenting if statements in doxygen
<ANS>
# you don't even need a comment to find out what the intention is here
if is_invalid(abc):
    error()
<END>
<QUE>
Overlapping community detection with igraph or other libaries
<ANS>
#!/usr/bin/env python
from itertools import combinations

import igraph
import optparse

parser = optparse.OptionParser(usage="%prog [options] infile")
parser.add_option("-k", metavar="K", default=3, type=int,
        help="use a clique size of K")

options, args = parser.parse_args()

if not args:
    parser.error("Required input file as first argument")

k = options.k
g = igraph.load(args[0], format="ncol", directed=False)
cls = map(set, g.maximal_cliques(min=k))

edgelist = []
for i, j in combinations(range(len(cls)), 2):
    if len(cls[i].intersection(cls[j])) >= k-1:
        edgelist.append((i, j))

cg = igraph.Graph(edgelist, directed=False)
clusters = cg.clusters()
for cluster in clusters:
    members = set()
    for i in cluster:
        members.update(cls[i])
    print "\t".join(g.vs[members]["name"])
<END>
<QUE>
Sorting Lists into Alphabetical Order
<ANS>
with open('test.txt', 'r') as inf:
    lst = inf.readlines()  # much easier than iterating and accumulating

lst[1:] = sorted(lst[1:])  # this will leave the first line: "Test List" intact

with open('test.txt', 'w') as outf:
    outf.writelines(lst)  # re-write the file
<END>
<QUE>
How Do I Make a GUI Open with the Correct Size with wxPython?
<ANS>
wx.Frame.__init__(self, None, -1, 'CR Part 1', size=(800, 600))
<END>
<QUE>
How can I access request data in a template
<ANS>
return template('hello_template', name=name, request=request)
<END>
<QUE>
Subtraction of one list of lists from another list of lists
<ANS>
c=[map(lambda x, y: x-y, ii, jj) for ii, jj in zip(a,b)]
<END>
<QUE>
incomplete twitter friend list in python using tweepy
<ANS>
count=100
<END>
<QUE>
Getting the indices of the X largest numbers in a list
<ANS>
def find_K_highest(lst, k):
    # escape index error
    if k>len(lst):
        k=len(lst)
    # the output array
    idxs = [None]*k
    to_watch = range(len(lst))
    # do it k times
    for i in range(k):
        # guess that max value is at least at idx '0' of to_watch
        to_del=0
        idx = to_watch[to_del]
        max_val = lst[idx]
        # search through the list for bigger value and its index
        for jj in range(len(to_watch)):
            j=to_watch[jj]
            val = lst[j]
            # check that its bigger that previously finded max
            if val > max_val:
                idx = j
                max_val = val
                to_del=jj
            # append it
        idxs[i] = idx
        del to_watch[to_del]
        # return answer
    return idxs
<END>
<QUE>
How to populate Objects in a an existing file
<ANS>
class People:

    def __init__(self, fname=None, lname=None, age=None, gender=None):
        self.fname = fname
        self.lname = lname
        self.age = age
        self.gender = gender

def display(self):
    print self.fname

people = [People('John','W Cooper',23,'Male'),
           People('James','W Cooper',30,'Male'),
           People('Kate','W Cooper',20,'Female')]
f = open("abc.txt", "w")
for person in people:
    f.write( person.fname +","+ person.lname +","+ str(person.age) +","+ person.gender + '
' )
    person.display()
f.close()
<END>
<QUE>
How to combine two list that contain intervals
<ANS>
import sys

if len(sys.argv) != 3:
    print 'parameters: list1 list2'
    sys.exit(1)

list1 = []
for line in file(sys.argv[1]):
    fields = line.split()
    f1 = fields[0]
    f2, f3 = fields[1].split('-')
    list1.append((f1, int(f2), int(f3), [], ))

for line in file(sys.argv[2]):
    value = int(line)
    for name, lb, ub, values in list1:
        if value >= lb and value <= ub:
            values.append(str(value))

for name, lb, ub, values in list1:
    if values: vals = ','.join(values)
    else: vals = ''
    print '%s %d-%d %s' % (name, lb, ub, vals, )
<END>
<QUE>
How to map characters to integer range [-128, 127] in Python?
<ANS>
# gotcha|pitfall: my original idea, but this generates a list of 1-tuples:
# x = [struct.unpack("b",a) for a in charlist]

fmt = "%ib"%len(charlist) # eg. "5b", if charlist's length is 5
x = struct.unpack(fmt,charlist) # tuple of ints
<END>
<QUE>
Plotting 3 lists of the same size, with individual labels
<ANS>
import matplotlib.pyplot as plt
import math

my_lists = [[i*math.exp(-x/10.) for x in range(10) ] for i in range(1,7)]
legend_names = ["line 1", "line 2", "line 3", "line 4", "line 5", "line 6"]
for ydata, name in zip(my_lists, legend_names):
    plt.plot(ydata, label = name)
plt.legend(loc = 'best')
plt.show()
<END>
<QUE>
Invalid Syntax, when running for loop
<ANS>
for i,v in enumerate (['item0', 'item01', 'item02']):
    print (i, ":", v)
<END>
<QUE>
printing list in python properly
<ANS>
mylist = ['x', 3, 'b']
print '[%s]' % ', '.join(map(str, mylist))
<END>
<QUE>
accessing python dict with function values
<ANS>
def f1():
  print "hi"

def f2():
  print "bye"

functions = {1: f1, 2: f2}  # dict of functions (Note: no parenthesis)

def options(x):
    return functions[x]()   # Get the function against the index and invoke it

options(1)
# hi

options(2)
# bye
<END>
<QUE>
Access to rds-describe-db-instances from Boto
<ANS>
import boto

rds = boto.connect_rds()
instances = rds.get_all_dbinstances()
instances[0].status
<END>
<QUE>
Parsing a string for nested patterns
<ANS>
from xml.parsers.expat import ParserCreate

open_elements = {}
result_dict = {}

def start_element(name, attrs):
    open_elements[name] = True

def end_element(name):
    del open_elements[name]

def char_data(data):
    for element in open_elements:
        cur = result_dict.setdefault(element, '')
        result_dict[element] = cur + data

if __name__ == '__main__':
    p = ParserCreate()

    p.StartElementHandler = start_element
    p.EndElementHandler = end_element
    p.CharacterDataHandler = char_data

    p.Parse(u'<_133_3><_135_3><_116_2>The other system worked for about 1 month</_116_2> got some good images <_137_3>on it then it started doing the same thing as the first one</_137_3> so then I quit using either camera now they are just sitting and collecting dust.</_135_3></_133_3>', 1)

    print result_dict
<END>
<QUE>
create a tuple from columns in a pandas DataFrame
<ANS>
tuple([tuple(df[col]) for col in df])
<END>
<QUE>
Python search string and replace character in next line
<ANS>
import os

outfile = open('bla.txt.2', 'w')

search = "#test search 123"
flag = 0

with open('bla.txt', 'r') as f:

    for line in f:
        if flag == 1:
            mod_line = "#" + line
            outfile.write(mod_line)
            flag = 0
            continue

        outfile.write(line)
        if (search in line):
            flag = 1

outfile.close()

os.remove('bla.txt')
os.rename('bla.txt.2', 'bla.txt')
<END>
<QUE>
Match referer by regex
<ANS>
import re
referrer = "http://myapp.com/other/page/aaa"
m = re.match("^http://myapp.com/other/page/(.*)", referrer)
if m:
    print m.group(1)
<END>
<QUE>
A neat way of extending a class attribute in subclasses
<ANS>
Parent.options = dict(
    option1='value1',
    option2='value2',
)

Child.options = dict(Parent.options,
    option2='value2a',
    option3='value3',
)
<END>
<QUE>
How to do a non-greedy lstrip()
<ANS>
re.sub(r'^[a-z]:','',string)
<END>
<QUE>
Find and replace string values in Python list
<ANS>
words = [w.replace('[br]', '<br />') for w in words]
<END>
<QUE>
Regex Python Extract Informations
<ANS>
import re

data = "Time:01.09.25.258 O:Localhost R:192.168.1.1 id:62 "

result = {}
for i in data.split():
    j, k = re.findall(r'[^: ]+', i)
    result[j] = k

print(result) #Prints {'id': '62', 'O': 'Localhost', 'Time': '01.09.25.258', 'R': '192.168.1.1'}
<END>
<QUE>
How to use python and beautifulsoup to divide one data intoto several data within one tag
<ANS>
data=["C Aug-14 - 15000"]
alldata=[]
for i in data:
    ROIdata=i.replace('-',' ')
    alldata.append(';'.join(ROIdata.split()))
<END>
<QUE>
Dictionary with 2 keys and 1 value to pandas Dataframe
<ANS>
d = {('chr6:286000-288000', 'chr6:152152000-152154000'): 1, ('chr6:182000-184000', 'chr6:152968000-152970000'): 1}

df = pd.DataFrame(d.values(), index=pd.MultiIndex.from_tuples(d.keys())).unstack(1)
<END>
<QUE>
(CLOSED) local variable 'exit' referenced before assignment?
<ANS>
exit = False

while not exit:
    selection = int(raw_input("Press 1 to go and 0 to quit: "))       #added ) to correct syntax error
    if selection == 1:
        print("yay")
    elif selection == 0:
        print("Goodbye")
        exit = True
    else:
        print("Go away")
<END>
<QUE>
How do I write UTF-8 and characters in other encodings to file in Python?
<ANS>
codecs.open()
<END>
<QUE>
how to run following python code in google app engine backend
<ANS>
from google.appengine.ext import deferred
deferred.defer(yourfile.your_fetcher_method, _target='mybackend')
<END>
<QUE>
Multiple Box-Plots in one plot using matplotlib with subgroups
<ANS>
test = []
for name, group in cleaned_data:
    test.append(group)
boxplot(test)
<END>
<QUE>
Search a Numpy Array based on array index
<ANS>
condition = np.zeros_like(A, dtype='bool')
condition[0:2, 0:1] = (A[0:2, 0:1] % 2 ==0)
<END>
<QUE>
Plotting animated quivers in Python
<ANS>
import numpy as np
from matplotlib import pyplot as plt
from matplotlib import animation

X, Y = np.mgrid[:2*np.pi:0.2,:2*np.pi:0.2]
U = np.cos(X)
V = np.sin(Y)

fig, ax = plt.subplots(1,1)
Q = ax.quiver(X, Y, U, V, pivot='mid', color='r', units='inches')

ax.set_xlim(-1, 7)
ax.set_ylim(-1, 7)

def update_quiver(num, Q, X, Y):
    """updates the horizontal and vertical vector components by a
    fixed increment on each frame
    """

    U = np.cos(X + num*0.1)
    V = np.sin(Y + num*0.1)

    Q.set_UVC(U,V)

    return Q,

# you need to set blit=False, or the first set of arrows never gets
# cleared on subsequent frames
anim = animation.FuncAnimation(fig, update_quiver, fargs=(Q, X, Y),
                               interval=10, blit=False)

plt.show()
<END>
<QUE>
Making a Tree using Turtle (That is right side up)
<ANS>
t.left(90) # then call tree after with tree()
<END>
<QUE>
Strangeness with a decorator
<ANS>
def logger(foo):
    def fn():
        try:
            print foo()
        except Exception as e:
            print e
    return fn
<END>
<QUE>
Python Server Websocket Handshake Response
<ANS>
MAGIC = b'258EAFA5-E914-47DA-95CA-C5AB0DC85B11'  # Fix key for handshake on server side
class WebSocketsHandler(socketserver.StreamRequestHandler):
   def handshake(self):
      data = self.request.recv(1024).strip()
      hsKey = hsUpgrade = b''
      for header in data.split(b'\r
'):
         if header.startswith(b'Sec-WebSocket-Key'): hsKey = header.split(b':')[1].strip()
         if header.startswith(b'Upgrade'): hsUpgrade = header.split(b':')[1].strip()
      if hsUpgrade != b"websocket": return
      digest = b64encode(bytes.fromhex(sha1(hsKey + MAGIC).hexdigest())).decode('utf-8')
      response = ('HTTP/1.1 101 Switching Protocols\r
Upgrade: websocket\r
'
            'Connection: Upgrade\r
Sec-WebSocket-Accept: {}\r
\r
'.format(digest))
      print('Handshaking...{}'.format(digest))
      self.handshake_done = self.request.send(response.encode('utf8'))
<END>
<QUE>
assignment in python
<ANS>
a.__dict__ = dict(b.__dict__)
<END>
<QUE>
How to make pefile python module read multiple executable file in a directory
<ANS>
import glob
import pefile

for filename in glob.iglob('C:\Documents and Settings\Zha\Desktop\\test\*.exe'):
    pe =  pefile.PE(filename)
    pe.parse_data_directories()
    print '%x' % pe.FILE_HEADER.NumberOfSections
<END>
<QUE>
Django retrieving a tables data based on another table
<ANS>
Note.objects.all().order_by('note_data__created')
<END>
<QUE>
How do I pull all image links from a Wikimedia page?
<ANS>
#!/usr/bin/python

import wikipedia
page = wikipedia.page("caravaggio")
#links = page.links
#for tuple_ in page:
#    print tuple_
#print dir(page)
print page.content
#print page.coordinates
print 'page.html'
print page.html
print
print 'page.images'
print page.images
print
print 'page.links'
print page.links
print
print 'page.original_title'
print page.original_title
print
print 'page.pageid'
print page.pageid
print
print 'page.parent_id'
print page.parent_id
print
print 'page.references'
print page.references
print
print 'page.revision_id'
print page.revision_id
print
print 'page.section'
print page.section
print
print 'page.sections'
print page.sections
print
print 'page.summary'
print page.summary
print
print 'page.title'
print page.title
print
print 'page.url'
print page.url
print
#print links
<END>
<QUE>
How to make a list of one item just that item
<ANS>
s = your_lst[0]
<END>
<QUE>
How to add python keyword terms as tag attributes in lxml?
<ANS>
aspectTermTag = etree.SubElement(aspectTermsTag, "aspectTerm", {"term":asp[0], "from": asp[1], "to":asp[2]})
<END>
<QUE>
No print output from child multiprocessing.Process unless the program crashes
<ANS>
import sys
print "foo"
sys.stdout.flush()
<END>
<QUE>
Quickest way to get unique values
<ANS>
uniques = set(x for x in names.split(u', ') for names in input_list)
<END>
<QUE>
Learning Python: print variable inside a function from another function
<ANS>
class C:
    def func1(self):
     self.var1 = "something"

    def func2(self):
     print self.var1

foo = C()
foo.func1()
foo.func2()
<END>
<QUE>
aggregate data by week using python
<ANS>
from datetime import datetime
import itertools

sales = [
    ('2013-05-01', 100),
    ('2013-05-02', 200),
    ('2013-05-03', 150),
    ('2013-05-03', 120),
    ('2013-05-04', 200),
    ('2013-08-01', 250),
]

def toWeek(sale):
    '''(date,volume) -> date of the Sunday of that week'''
    sunday = datetime.strptime(sale[0], '%Y-%m-%d').strftime('%Y-%U-0')
    return datetime.strptime(sunday, '%Y-%U-%w').strftime('%Y-%m-%d')

grouped_sales = itertools.groupby(sales, toWeek)

aggregate_sales = (
    (week, sum(day_sales for date, day_sales in week_sales))
    for week, week_sales in grouped_sales)

print list(aggregate_sales)
<END>
<QUE>
how to combine two data frames in python pandas
<ANS>
bigdata=data1.append(data2,ignore_index = True)
<END>
<QUE>
Printing a text tree in python
<ANS>
def tree(n):
    treeStr = ""
    for i in range(0,n):
        level = " "*(n-i) + "/" + " "*(2*i) + "\\"
        treeStr += level.center(n+1) + "
"
    print(treeStr)

tree(10);
<END>
<QUE>
How to change values in Flask session dictionary using forms?
<ANS>
session.modified = True
<END>
<QUE>
In django changing the file name of uploading file
<ANS>
def update_filename(instance, filename):
    path = "upload/path/"
    format = instance.userid + instance.transaction_uuid + instance.file_extension
    return os.path.join(path, format)
<END>
<QUE>
Removing index column in pandas
<ANS>
df.reset_index()
<END>
<QUE>
python: most elegant way to intersperse a list with an element
<ANS>
def joinit(iterable, delimiter):
    it = iter(iterable)
    yield next(it)
    for x in it:
        yield delimiter
        yield x
<END>
<QUE>
How to update xml file using lxml and python?
<ANS>
example = etree.Element("example")
login = etree.SubElement(example, "login")
password = etree.SubElement(login,"password")
password.text = "newPassword"
<END>
<QUE>
Combine independent scores to make aggregate score in duplicate detection algorithm
<ANS>
1/(1+exp(sum))
<END>
<QUE>
Making Tkinter windows show up in the taskbar
<ANS>
try:
    from tkinter import *
except ImportError:
    from Tkinter import *


class NewRoot(Tk):    
    def __init__(self):
        Tk.__init__(self)
        self.attributes('-alpha', 0.0)

class MyMain(Toplevel):
    def __init__(self, master):
        Toplevel.__init__(self, master)
        self.overrideredirect(1)
        self.attributes('-topmost', 1)
        self.geometry('+100+100')
        self.bind('<ButtonRelease-3>', self.on_close)  #right-click to get out

    def on_close(self, event):
        self.master.destroy()


if __name__ == '__main__':

    root = NewRoot()
    root.lower()
    root.iconify()
    root.title('Spam 2.0')

    app = MyMain(root)
    app.mainloop()
<END>
<QUE>
recursively create tuples from lists
<ANS>
import itertools
lol = [[1,2,3],[4,5,6],[7,8,9]]
result = list()
while lol:
    l=lol.pop(0)
    o=itertools.chain(*lol)
    result += itertools.product( l,o )
<END>
<QUE>
Extract the last information of url in Python
<ANS>
urlparse.urlparse(url).path.rsplit("/", 1)[-1]
<END>
<QUE>
wxPython - How to generate an event when selecting in a ListBox?
<ANS>
event.SetEventObject(self.myList)
<END>
<QUE>
Find n words starting with capital letter before 2 words of capital letters (regex)
<ANS>
re.findall('((?:[A-Z][\w]+\s*){1,2}),[\s]([A-Z]{2})', input)
<END>
<QUE>
Python append json to json file in a while loop
<ANS>
import requests
import json

url = 'https://api.github.com/users'
token = "my_token"
headers = {'Authorization': 'token %s' % token}

outfile = open('users.json', 'a')

while True:
    r = requests.get(url, headers=headers)
    users = r.json()
    json.dump(users, outfile)
    url = r.links['next'].get('url')
    # I don't know what Github return in case there is no more users, so you need to double check by yourself
    if url == '':
        break

outfile.close()
<END>
<QUE>
how to sort a list of dependencies
<ANS>
# transform into a source:target dictionary
links = {d['pred'] if d['pred'] else 'root':d['id'] for d in unordered_linked_list}

# follow links and print
source = 'root'
while source in links:
    print links[source]
    source = links[source]
<END>
<QUE>
python set empty string to null in list
<ANS>
for i, item in enumerate(domaininfo[1:]):
    if not item:
        domaininfo[i + 1] = None
<END>
<QUE>
How to iterate over list of dictionary in python?
<ANS>
for a in listofobs:
    print str( a['timestamp'] ), a['ip'], a['user']
<END>
<QUE>
Factory method in python
<ANS>
class ProjectType(object):
    build_cmd = ""
    markers = []

    @classmethod
    def make_project(cls, path):
        prj_types = (PythonProject, AutoconfProject, MakefileOnly, ProjectType)
        for p in prj_types:
            markers = p.markers
            if any(path.isfile(path.join(path, x)) for x in markers):
                return p()

class PythonProject(ProjectType):
    build_cmd = "python setup.py develop --user"
    markers = ['setup.py']

class AutoconfProject(ProjectType):
    #TODO: there should be also a way to configure it
    build_cmd = "./configure && make -j3"
    markers = ['configure.in', 'configure.ac', 'makefile.am']

class MakefileOnly(ProjectType):
    build_cmd = "make"
    markers = ['Makefile']
<END>
<QUE>
Equivalent of a "weight" parameter in pyGTK?
<ANS>
table = gtk.Table(rows=1, columns=3)
table.attach(photo_container, 0, 2, 0, 1) # Span column 0..2
table.attach(exif_container, 2, 3, 0, 1)  # Span final column
window.add(table)
<END>
<QUE>
Read little endian from file and convert to decimal
<ANS>
import struct
decoded = []
with open("some_bin_file.rt","rb") as f:
     while True:
          try: 
             decoded.append(struct.unpack_from("<Q",f)[0])
             # `<` means little endian; `Q` means unsigned long long (8 bytes)            
          except struct.error:
             break

print decoded
<END>
<QUE>
How can I make a deepcopy of a function in Python?
<ANS>
import types
def copy_func(f, name=None):
    return types.FunctionType(f.func_code, f.func_globals, name or f.func_name,
        f.func_defaults, f.func_closure)

def A():
    """A"""
    pass
B = copy_func(A, "B")
B.__doc__ = """B"""
<END>
<QUE>
start python script as background process from within a python script
<ANS>
import subprocess
from multiprocessing import Process

Process(target=subprocess.call, args=(('ls', '-l', ), )).start()
<END>
<QUE>
Separate Django sites with a common authetication/registration backend
<ANS>
django.contrib.sites
<END>
<QUE>
Mongoengine datetime "bug" -- saving server started time instead of current timestamp
<ANS>
db.DateTimeField(default=datetime.datetime.now)
<END>
<QUE>
Make exe file from python selenium tests
<ANS>
from distutils.core import setup
import py2exe

# Change the path in the following line for webdriver.xpi
data_files = [('selenium/webdriver/firefox', ['D:/Python27/Lib/site-packages/selenium/webdriver/firefox/webdriver.xpi'])]

setup(
    name='General name of app',
    version='1.0',
    description='General description of app',
    author='author name',
    author_email='author email',
    url='',
    windows=[{'script': 'abc.py'}],   # the main py file
    data_files=data_files,
    options={
        'py2exe':
            {
                'skip_archive': True,
                'optimize': 2,
            }
    }
)
<END>
<QUE>
Resizing gtk widgets by user
<ANS>
vpan = gtk.VPaned()
vpan.show()
vpan.pack1(box1, shrink=False)
vpan.pack2(box2, shrink=False)
<END>
<QUE>
How to read special characters of a XML file with minidom
<ANS>
NameValue = unicode(Item.getElementsByTagName("Name")[0].childNodes[0].data.encode("latin-1"), "utf-8")
<END>
<QUE>
In django-taggit, how to get tags for objects that are associated with a specific user?
<ANS>
tags = Tag.objects.filter(book__owner=me)
tags |= Tag.objects.filter(journalarticle__owner=me)
tags = tags.distinct()
<END>
<QUE>
How to write Unicode text into a Python file object
<ANS>
f.write(u'R??o Negro'.encode('utf-8'))
<END>
<QUE>
Looking for a fold-like idiom
<ANS>
import operator
import functools

nums = [1, 2, 3]
funcs = iter([operator.add, operator.sub])

def special_foldl(nums, funcs):
    return functools.reduce(lambda x,y: next(funcs)(x,y), nums)

print(special_foldl(nums, funcs))
# 0
<END>
<QUE>
How to print encrypted message with correctly guess letters?
<ANS>
message2 = message2.replace(guess[0], guess[2].upper())
print message2
<END>
<QUE>
Exclude fields in Django admin for users other than superuser
<ANS>
class MyUserAdmin(admin.ModelAdmin):
    def get_form(self, request, obj=None, **kwargs):
        self.exclude = []
        if not request.user.is_superuser:
            self.exclude.append('Permissions') #here!
        return super(MyUserAdmin, self).get_form(request, obj, **kwargs)
<END>
<QUE>
Add help to python module
<ANS>
"""
This module contains methods and classes
"""

class class_:
    """
    This class is well... a class
    """
    def method(self, in_):
        """
        This method takes one argument: in_ and returns it
        """
        return in_
<END>
<QUE>
Get input from file in integer form
<ANS>
file_descriptor = open('file.name')
bytes = file_descriptor.read()
try:
    newint=int(bytes)
except Exception as e:
    print(str(e))
print(newint)
<END>
<QUE>
Read a .csv into pandas from F: drive on Windows 7
<ANS>
import pandas as pd
import os

trainFile = "F:/Projects/Python/coursera/intro-to-data-science/kaggle/data/train.csv"

pwd = os.getcwd()
os.chdir(os.path.dirname(trainFile))
trainData = pd.read_csv(os.path.basename(trainFile))
os.chdir(pwd)
<END>
<QUE>
Index CSV columns based on pattern
<ANS>
matches = [i for i,x in enumerate(yourstring.split(',')) if "#E" in x]
<END>
<QUE>
How to implement Comet server side with Python?
<ANS>
class MainHandler(tornado.web.RequestHandler):
    @tornado.web.asynchronous
    def get(self):
        http = tornado.httpclient.AsyncHTTPClient()
        http.fetch("http://friendfeed-api.com/v2/feed/bret",
               callback=self.async_callback(self.on_response))

    def on_response(self, response):
        if response.error: raise tornado.web.HTTPError(500)
        json = tornado.escape.json_decode(response.body)
        self.write("Fetched " + str(len(json["entries"])) + " entries "
                   "from the FriendFeed API")
        self.finish()
<END>
<QUE>
Maximum value of kernel statistics - python
<ANS>
def calc_32bit_diff(old, new):
  return (new - old + 0x100000000) % 0x100000000

print calc_32bit_diff(1, 42)
print calc_32bit_diff(2147483647, -2147483648)
print calc_32bit_diff(-2147483648, 2147483647)
<END>
<QUE>
"Slice" a number into three random numbers
<ANS>
from itertools import combinations
with open("rand.txt","w") as f:
    combs = [x for x in combinations(range(16),3) if sum(x ) == 15 ][:10]   
    for a,b,c in combs:
        f.write("{} {} {}
".format(a,b,c))
<END>
<QUE>
How do i test django ratings in my application?
<ANS>
unique_together = (('content_type', 'object_id', 'key', 'user', 'ip_address'))
<END>
<QUE>
appending to a nested list in python
<ANS>
_list = [[] for _ in xrange(7)]
<END>
<QUE>
how to process output of boto
<ANS>
subnet_ids = [s.id for s in subnet_list]
<END>
<QUE>
Dump a NumPy array into a csv file
<ANS>
import numpy
a = numpy.asarray([ [1,2,3], [4,5,6], [7,8,9] ])
numpy.savetxt("foo.csv", a, delimiter=",")
<END>
<QUE>
Image rotation in Pillow
<ANS>
spinPicture003 = Picture003.rotate(30)
<END>
<QUE>
How to touch COM in Windows from Python 2.7
<ANS>
from win32com.client import Dispatch
<END>
<QUE>
Trac plugin development: How to get access to trac.ini item from plugin
<ANS>
def get(self, section, key, default=''):
     return self[section].get(key, default)
<END>
<QUE>
How do I watch a serial port with QSocketNotifier (linux)?
<ANS>
import os

from PyQt4.QtCore import QCoreApplication, QSocketNotifier, SIGNAL


def readAllData(fd):
        bufferSize = 1024
        while True:
                data = os.read(fd, bufferSize)
                if not data:
                        break
                print 'data read:'
                print repr(data)


a = QCoreApplication([])

fd = os.open('foo.txt', os.O_RDONLY)
notifier = QSocketNotifier(fd, QSocketNotifier.Read)
a.connect(notifier, SIGNAL('activated(int)'), readAllData)

a.exec_()
<END>
<QUE>
Make a web service using Python to call Python script
<ANS>
#!/usr/bin/env python

from subprocess import check_output


from circuits.web import Controller, Server


class Root(Controller):

    def index(self):
        return check_output("python hello.py", shell=True)


app = Server("0.0.0.0:5000")
Root().register(app)

app.run()
<END>
<QUE>
How to recurse without changing variables
<ANS>
def list_range(self, low, high, rangelist = None):

    if rangelist is None:
        rangelist = []
    # here goes the code of helper_list_range
<END>
<QUE>
How to write string as unicode byte in python?
<ANS>
with open("g:/test-unicode.txt", "w", encoding="utf-16le") as output:
  output.write(str1)
<END>
<QUE>
Parse json data
<ANS>
print ', '.join((data["d"][0]["e"].keys()))
<END>
<QUE>
Run a script to populate a django db
<ANS>
import sys
sys.path.append('/path/to/your/djangoproject/')
<END>
<QUE>
Replacing one character of a string in python
<ANS>
someString[:3] + 'a' + someString[4:]
<END>
<QUE>
Python script to use coordinates from one file and add values from matching coordinates in another file
<ANS>
def fetch_data(filename1, filename2):
    lines = []
    data = {}
    with open (filename1) as f:
        lines = f.readlines()

    for line in lines:
        if not line.strip():
            continue
        data[' '.join(line.split())] = 0

    with open (filename2) as f:
        lines = f.readlines()

    for line in lines:
        if not line.strip():
            continue
        arr = line.split()
        data[' '.join(arr[:-1])] += int(arr[3])

    return data


with open ('output.txt', 'w') as f:
    for key,value in fetch_data('original.txt','data.txt').iteritems():
        f.write('{0}    {1} 

'.format('    '.join(key.split()), str(value)))
<END>
<QUE>
act on all children at once on pyqt widget
<ANS>
[textEditor.clear() for textEditor in myGroupBox.findChildren(QtGui.QTextEdit)]
<END>
<QUE>
Making a faster wavelet transform/Appending data faster
<ANS>
def apply_wavelet_transform(data):
    results_list = []
    for row in data:
        ca, cd = pywt.dwt(row, 'haar')
        results_list.append(ca)
    result = np.array(results_list)
    return result
<END>
<QUE>
Set variable with new line and tab
<ANS>
companyInfo = "

".join("\t%s" % x for x in companyList)
<END>
<QUE>
python request get multi urls
<ANS>
urls = ['http://google.com/page','http://yahoo.com/page']

for url in urls:
    for number in range(1,10):
        page = requests.get(url+str(number))
<END>
<QUE>
Python xml.etree.ElementTree - how to reference the current node that I am parsing
<ANS>
def get_info(self,node):
    self.values_list.append([node.get(i) for i in list_of_attributes])
<END>
<QUE>
How can I handle a mouseMiddleDrag event in PythonCard?
<ANS>
def on_mouseDrag( self, event ):       
    do_stuff()

    if event.MiddleIsDown():
        do_other_stuff()
<END>
<QUE>
Python: use mysqldb to import a MySQL table as a dictionary?
<ANS>
import MySQLdb.cursors
MySQLdb.connect(host='...', cursorclass=MySQLdb.cursors.DictCursor)
<END>
<QUE>
how to make a Command Line Interface or Interpreter in python
<ANS>
cmd.Cmd
<END>
<QUE>
A source file with unicode characters is making Django throw up a SyntaxError exception
<ANS>
# coding=utf8
# -*- coding: utf8 -*-
# vim: set fileencoding=utf8 :
<END>
<QUE>
how to simplify boolean logic in if else statement?
<ANS>
if self.phone:
    if self.isp() == "east":
        self.launchbell()
    else:
        self.launchtelus()

if self.cpe_ip and self.cpe_passwd:
    print 'check modem...'
    self.modemstatus()

if self.pppoe:
    radius = sgp_radius.Radius(self.pppoe)
    print 'check radius logs...'
    self.data = radius.sgp()
    self.radius_save()
<END>
<QUE>
How do you edit the default `__author__ = name` line in PyCharm
<ANS>
__author__ = blah
<END>
<QUE>
How to insert text to QLineEdit in PyQt?
<ANS>
q.exec_("insert into COMPANY (id, \
                              name, \
                              age, \
                              address, \
                              salary) values ( \
                              '{0}', \
                              '{1}', \
                              '{2}', \
                              '{3}', \
                              '{4}')".format(self.IDEdit.text(),
                                             self.NameEdit.text(),
                                             self.AgeEdit.text(),
                                             self.AddressEdit.text(),
                                             self.SalaryEdit.text()))
<END>
<QUE>
Separate out value_counts values in Python Pandas
<ANS>
count = df.loc[:, 'start station id'].value_counts()
tuples = [tuple((x, y)) for x, y in count.items()]
<END>
<QUE>
Copying files with Python under Windows
<ANS>
open(fname, 'rb')
<END>
<QUE>
Counting the distance between values with python
<ANS>
seq="TCATTCTaTTTAAAAAAatATAAAaGGGgTTTTGGGgTTTtGGGGTTTtGGGG"
stop_codons = ["TAG", "TAA"]

def printcount(seq, stop_codons, start):
    found = False
    count = 0
    n = start
    while n < len(seq):
        if seq[n:n+3] in stop_codons:
            found = True
            break        
        count += 1
        n += 3
    print count if found else 0

printcount(seq, stop_codons, 0)
printcount(seq, stop_codons, 1)
printcount(seq, stop_codons, 2)
<END>
<QUE>
How can I plot a mathematical expression of two variables in python?
<ANS>
import matplotlib.pyplot as plt
import numpy as np

def f(z,t):
    return np.exp(-z)*np.sin(t-z)

z = np.linspace(0,5,3001)
t = np.arange(0,40000,4000)

for tval in t:
    plt.plot(z, f(z, tval))
plt.show()
<END>
<QUE>
How to detect in Iron Python what the script is being called from?
<ANS>
System.AppDomain.CurrentDomain.GetAssemblies()
<END>
<QUE>
How do I select items in MenuBar (PyQt/Python)
<ANS>
def createMenusAndToolbars(self):
    fileMenu = self.menuBar().addMenu('File')
    fileMenu.addAction('Save As...', self.save)
    fileMenu.addAction('Quit', self.quit)

def save(self):
    save = SaveTest(self)
<END>
<QUE>
list as command line argument in python
<ANS>
osize = sys.argv[1].split(',')
<END>
<QUE>
Hex-decimals in C strings
<ANS>
printf("\x41\x42\x43
");
<END>
<QUE>
how to sync two ftp server by python
<ANS>
from ftplib import FTP
ftpretr = FTP('get.ftp.com')   # connect to host, default port
ftpretr.login()               # user anonymous, passwd anonymous@
ftpretr.retrbinary('RETR README', open('README', 'wb').write)
ftpretr.quit()
ftpsend = FTP('send-to.ftp.com','login','password')
ftpsend.storbinary('STOR todo.txt', open('README','rb'))
ftpsend.quit()
<END>
<QUE>
While loop to modify multiple elements in a nested loop
<ANS>
def getInput(myList):
    while True:
        rows = input("Enter the row or 'q': ")
        if rows == 'q':
            break
        col = input("Enter the column: ")
        myList[int(rows)-1][int(col)-1] = "X"
    return myList
<END>
<QUE>
Use python 2 shelf in python 3
<ANS>
import shelve
import dumbdbm

def dumbdbm_shelve(filename,flag="c"):
    return shelve.Shelf(dumbdbm.open(filename,flag))

out_shelf=dumbdbm_shelve("shelved.dumbdbm.shelf")
in_shelf=shelve.open("shelved.shelf")

key_list=in_shelf.keys()
for key in key_list:
    out_shelf[key]=in_shelf[key]

out_shelf.close()
in_shelf.close()
<END>
<QUE>
How to simultaneously download webpages using python?
<ANS>
from multiprocessing.pool import ThreadPool
from urllib import urlretrieve

def loadpage(x):
    urlretrieve('http://google.com/search?q={}'.format(x), '{}.html'.format(x))

p = ThreadPool(10) # the max number of webpages to get at once
p.map(loadpage, range(50))
<END>
<QUE>
How to remove a line from a csv if it contains a certain word?
<ANS>
csv_domain = line.split(',')[2]
<END>
<QUE>
Display number with leading zeros
<ANS>
print "%02d" % (1,)
<END>
<QUE>
Python TKinter get clicked tag in text widget
<ANS>
def click(self, event):
        # get the index of the mouse click
        index = self.MT.index("@%s,%s" % (event.x, event.y))

        # get the indices of all "adj" tags
        tag_indices = list(self.MT.tag_ranges('adj'))

        # iterate them pairwise (start and end index)
        for start, end in zip(tag_indices[0::2], tag_indices[1::2]):
            # check if the tag matches the mouse click index
            if self.MT.compare(start, '<=', index) and self.MT.compare(index, '<', end):
                # return string between tag start and end
                return (start, end, self.MT.get(start, end))
<END>
<QUE>
How can I retrieve a file object from the blobstore within a handler?
<ANS>
class SendDocuments(webapp2.RequestHandler):
    def post(self):
        document_key = self.request.get("document_key")
        document_key = Key(str(document_key))
        the_document = DocumentsModel.all().filter("__key__ =", document_key).get()
        file_data = blobstore.BlobInfo.get(str(the_document.blobstore_key))
        payload = {}
        payload['user_id'] = '1234123412341234'
        payload['test_file'] = MultipartParam('the_file', filename="something",
                                      filetype=file_data.content_type,
                                      fileobj=file_data.open())
<END>
<QUE>
Python Multiple Line Terminal Update
<ANS>
import os
import time

while(1):
    time.sleep(.05)
    os.system('cls')
    print "This is a multi-line screen print test"
    print "Line 1" 
    print "Line 2"
<END>
<QUE>
how to get positions of non empty values in a dictionary in Python
<ANS>
d={"1":"", "2":"", "3":"", "4":"rock" , "5":"" , "6":"" ,"7":"paper","8":""}

for key, value in d.items():
    if value:
        print(key, value)
<END>
<QUE>
Why does it take so long for background color to change?
<ANS>
wx.CallAfter(self.bottom_right.SetBackgroundColour, "red")
<END>
<QUE>
format and Print a list in a file
<ANS>
l = [(0, 3), (0, 2), (0, 1), (1, 1), (1, 2), (2, 2)]

for i in range(0, len(l), 2):
    print(', '.join([str(l[i]), str(l[i+1])]))

# (0, 3), (0, 2)
# (0, 1), (1, 1)
# (1, 2), (2, 2)
<END>
<QUE>
Using python logging package, how to insert additional formatting into multiple logger handlers that have their own formatters?
<ANS>
# (make a LEVELS dict out of all the logging levels first)    
def indent(self, step = 1):
        "Change the current indent level by the step (use negative to decrease)"
        self._indent_level += step
        if self._indent_level < 0:
            self._indent_level = 0
        self._indent_str = self._indent_str_base * self._indent_level
        for lvl in LEVELS:
            level_name = self._indent_str + LEVELS[lvl]
            logging.addLevelName(lvl, level_name)
<END>
<QUE>
Group by, distinct, count in django
<ANS>
from django.db.models import Count
Usage.objects.filter(no_of_people_house='4', city='HYDERABAD', nursing_cnt='2ND TIME MOTHER', bucket='BRAND PENETRATION').values('final_category').annotate(responders=Count('responders'))
<END>
<QUE>
Creating Dictionary in Python via Multiple for Loops
<ANS>
import itertools
scores = {}
for a,b in itertools.permutations(('human', 'loud', 'big'), 2):
    scores["{0} + {1}".format(a,b)] = 0
print scores
<END>
<QUE>
Reverse DNS Lookup from a list of values - Python
<ANS>
import socket
file = '/Users/Python/Scripts/URL-list.txt'
f = open(file, 'r')
lines = f.readlines()
f.close()
for i in lines:
    host = i.strip()
    print("%s - %s" % (host, socket.gethostbyname(host)))
<END>
<QUE>
Generating Xml using python
<ANS>
import re
re.sub(r'number="([0-9]+)"',r"number='\1'", etree.tostring(root, pretty_print=True))
<END>
<QUE>
Django - Using admin, how can I show the one to many relationship in the admin page?
<ANS>
#admin.py    

class ModelAdmin(admin.ModelAdmin):
  list_display = ['brand', 'model_name']
  fields = ['model_name', 'brand']

class ModelInline(admin.TabularInline):
    model = Model

class BrandAdmin(admin.ModelAdmin):
    model = Brand
    inlines = [
        ModelInline,
    ]


admin.site.register(Brand, BrandAdmin)
admin.site.register(Model, ModelAdmin)
<END>
<QUE>
Retrieving answer in the dictionary form from for loop
<ANS>
answers_dict = {}
for x, y in my_data.iteritems():
    lons, lats = y[0], y[1]
    answers = []
    for e,f in zip(lons,lats):
        answer = Pysolar.GetAltitude(e, f, datetime.datetime.utcnow())
        answers.append(answer)
    answers_dict[x] = answers
<END>
<QUE>
invalid literal for int() with base 10: when trying to save an object
<ANS>
developer = User.objects.get(username=request.POST['developer'])
<END>
<QUE>
pygtk: invert colors of a textview Widget
<ANS>
# Textview with inverted colors
import gtk

tv = gtk.TextView()
tv.modify_base(gtk.STATE_NORMAL, gtk.gdk.color_parse('black'))
tv.modify_text(gtk.STATE_NORMAL, gtk.gdk.color_parse('white'))
<END>
<QUE>
Remove quotes from JSON file
<ANS>
import re
with open("data.json") as inp:
    lines = inp.readlines()

with open("clean.json", "w") as output:
    for line in lines:
        output.write(re.sub(r'"(\d+)"', r"\1", line))
<END>
<QUE>
How do you debug Mako templates?
<ANS>
from mako import exceptions

try:
    template = lookup.get_template(uri)
    print template.render()
except:
    print exceptions.html_error_template().render()
<END>
<QUE>
Python: Convert numbers to words
<ANS>
value = input("Enter a number 1 - 9 separted by commas: ")

def user_input(value):
    if isinstance(value, tuple):
        return list(value)
    else:
        user_list = value.split(',')
        numbers = [(x.strip()) for x in user_list]
        return numbers


unit_number = {0: 'zero', 1: 'one', 2: 'two', 3: 'three', 4: 'four', 
           5: 'five', 6: 'six', 7: 'seven', 8: 'eight', 9: 'nine'}

def convert_n_to_w(numbers):
    for n in numbers:
        print(unit_number[int(n)])

numbers = user_input(value)

convert_n_to_w(numbers)
<END>
